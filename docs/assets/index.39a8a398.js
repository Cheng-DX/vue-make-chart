var ya=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var ba=ya((exports,module)=>{const p$1=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};p$1();function makeMap(r,t){const n=Object.create(null),a=r.split(",");for(let o=0;o<a.length;o++)n[a[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(r){return!!r||r===""}function normalizeStyle$1(r){if(isArray$4(r)){const t={};for(let n=0;n<r.length;n++){const a=r[n],o=isString$1(a)?parseStringStyle(a):normalizeStyle$1(a);if(o)for(const s in o)t[s]=o[s]}return t}else{if(isString$1(r))return r;if(isObject$6(r))return r}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(r){const t={};return r.split(listDelimiterRE).forEach(n=>{if(n){const a=n.split(propertyDelimiterRE);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function normalizeClass(r){let t="";if(isString$1(r))t=r;else if(isArray$4(r))for(let n=0;n<r.length;n++){const a=normalizeClass(r[n]);a&&(t+=a+" ")}else if(isObject$6(r))for(const n in r)r[n]&&(t+=n+" ");return t.trim()}const toDisplayString=r=>isString$1(r)?r:r==null?"":isArray$4(r)||isObject$6(r)&&(r.toString===objectToString$1||!isFunction$2(r.toString))?JSON.stringify(r,replacer,2):String(r),replacer=(r,t)=>t&&t.__v_isRef?replacer(r,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,o])=>(n[`${a} =>`]=o,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$6(t)&&!isArray$4(t)&&!isPlainObject$1(t)?String(t):t,EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=r=>onRE.test(r),isModelListener=r=>r.startsWith("onUpdate:"),extend$1=Object.assign,remove=(r,t)=>{const n=r.indexOf(t);n>-1&&r.splice(n,1)},hasOwnProperty$9=Object.prototype.hasOwnProperty,hasOwn$1=(r,t)=>hasOwnProperty$9.call(r,t),isArray$4=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isFunction$2=r=>typeof r=="function",isString$1=r=>typeof r=="string",isSymbol$1=r=>typeof r=="symbol",isObject$6=r=>r!==null&&typeof r=="object",isPromise=r=>isObject$6(r)&&isFunction$2(r.then)&&isFunction$2(r.catch),objectToString$1=Object.prototype.toString,toTypeString=r=>objectToString$1.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject$1=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString$1(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=r=>{const t=Object.create(null);return n=>t[n]||(t[n]=r(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(r=>r.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,t)=>!Object.is(r,t),invokeArrayFns=(r,t)=>{for(let n=0;n<r.length;n++)r[n](t)},def=(r,t,n)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:n})},toNumber=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function recordEffectScope(r,t=activeEffectScope){t&&t.active&&t.effects.push(r)}const createDep=r=>{const t=new Set(r);return t.w=0,t.n=0,t},wasTracked=r=>(r.w&trackOpBit)>0,newTracked=r=>(r.n&trackOpBit)>0,initDepMarkers=({deps:r})=>{if(r.length)for(let t=0;t<r.length;t++)r[t].w|=trackOpBit},finalizeDepMarkers=r=>{const{deps:t}=r;if(t.length){let n=0;for(let a=0;a<t.length;a++){const o=t[a];wasTracked(o)&&!newTracked(o)?o.delete(r):t[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n=null,a){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(r){const{deps:t}=r;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(r);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function track(r,t,n){if(shouldTrack&&activeEffect){let a=targetMap.get(r);a||targetMap.set(r,a=new Map);let o=a.get(n);o||a.set(n,o=createDep()),trackEffects(o)}}function trackEffects(r,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(r)||(r.n|=trackOpBit,n=!wasTracked(r)):n=!r.has(activeEffect),n&&(r.add(activeEffect),activeEffect.deps.push(r))}function trigger$3(r,t,n,a,o,s){const l=targetMap.get(r);if(!l)return;let u=[];if(t==="clear")u=[...l.values()];else if(n==="length"&&isArray$4(r))l.forEach((f,d)=>{(d==="length"||d>=a)&&u.push(f)});else switch(n!==void 0&&u.push(l.get(n)),t){case"add":isArray$4(r)?isIntegerKey(n)&&u.push(l.get("length")):(u.push(l.get(ITERATE_KEY)),isMap(r)&&u.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$4(r)||(u.push(l.get(ITERATE_KEY)),isMap(r)&&u.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&u.push(l.get(ITERATE_KEY));break}if(u.length===1)u[0]&&triggerEffects(u[0]);else{const f=[];for(const d of u)d&&f.push(...d);triggerEffects(createDep(f))}}function triggerEffects(r,t){for(const n of isArray$4(r)?r:[...r])(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const r={};return["includes","indexOf","lastIndexOf"].forEach(t=>{r[t]=function(...n){const a=toRaw(this);for(let s=0,l=this.length;s<l;s++)track(a,"get",s+"");const o=a[t](...n);return o===-1||o===!1?a[t](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{r[t]=function(...n){pauseTracking();const a=toRaw(this)[t].apply(this,n);return resetTracking(),a}}),r}function createGetter(r=!1,t=!1){return function(a,o,s){if(o==="__v_isReactive")return!r;if(o==="__v_isReadonly")return r;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(r?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(a))return a;const l=isArray$4(a);if(!r&&l&&hasOwn$1(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);const u=Reflect.get(a,o,s);return(isSymbol$1(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(r||track(a,"get",o),t)?u:isRef(u)?!l||!isIntegerKey(o)?u.value:u:isObject$6(u)?r?readonly(u):reactive(u):u}}const set$2=createSetter(),shallowSet=createSetter(!0);function createSetter(r=!1){return function(n,a,o,s){let l=n[a];if(isReadonly(l)&&isRef(l)&&!isRef(o))return!1;if(!r&&!isReadonly(o)&&(isShallow(o)||(o=toRaw(o),l=toRaw(l)),!isArray$4(n)&&isRef(l)&&!isRef(o)))return l.value=o,!0;const u=isArray$4(n)&&isIntegerKey(a)?Number(a)<n.length:hasOwn$1(n,a),f=Reflect.set(n,a,o,s);return n===toRaw(s)&&(u?hasChanged(o,l)&&trigger$3(n,"set",a,o):trigger$3(n,"add",a,o)),f}}function deleteProperty(r,t){const n=hasOwn$1(r,t);r[t];const a=Reflect.deleteProperty(r,t);return a&&n&&trigger$3(r,"delete",t,void 0),a}function has$2(r,t){const n=Reflect.has(r,t);return(!isSymbol$1(t)||!builtInSymbols.has(t))&&track(r,"has",t),n}function ownKeys(r){return track(r,"iterate",isArray$4(r)?"length":ITERATE_KEY),Reflect.ownKeys(r)}const mutableHandlers={get:get$1,set:set$2,deleteProperty,has:has$2,ownKeys},readonlyHandlers={get:readonlyGet,set(r,t){return!0},deleteProperty(r,t){return!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function get$1$1(r,t,n=!1,a=!1){r=r.__v_raw;const o=toRaw(r),s=toRaw(t);t!==s&&!n&&track(o,"get",t),!n&&track(o,"get",s);const{has:l}=getProto(o),u=a?toShallow:n?toReadonly:toReactive;if(l.call(o,t))return u(r.get(t));if(l.call(o,s))return u(r.get(s));r!==o&&r.get(t)}function has$1$1(r,t=!1){const n=this.__v_raw,a=toRaw(n),o=toRaw(r);return r!==o&&!t&&track(a,"has",r),!t&&track(a,"has",o),r===o?n.has(r):n.has(r)||n.has(o)}function size$1(r,t=!1){return r=r.__v_raw,!t&&track(toRaw(r),"iterate",ITERATE_KEY),Reflect.get(r,"size",r)}function add$1(r){r=toRaw(r);const t=toRaw(this);return getProto(t).has.call(t,r)||(t.add(r),trigger$3(t,"add",r,r)),this}function set$1$1(r,t){t=toRaw(t);const n=toRaw(this),{has:a,get:o}=getProto(n);let s=a.call(n,r);s||(r=toRaw(r),s=a.call(n,r));const l=o.call(n,r);return n.set(r,t),s?hasChanged(t,l)&&trigger$3(n,"set",r,t):trigger$3(n,"add",r,t),this}function deleteEntry(r){const t=toRaw(this),{has:n,get:a}=getProto(t);let o=n.call(t,r);o||(r=toRaw(r),o=n.call(t,r)),a&&a.call(t,r);const s=t.delete(r);return o&&trigger$3(t,"delete",r,void 0),s}function clear$2(){const r=toRaw(this),t=r.size!==0,n=r.clear();return t&&trigger$3(r,"clear",void 0,void 0),n}function createForEach(r,t){return function(a,o){const s=this,l=s.__v_raw,u=toRaw(l),f=t?toShallow:r?toReadonly:toReactive;return!r&&track(u,"iterate",ITERATE_KEY),l.forEach((d,v)=>a.call(o,f(d),f(v),s))}}function createIterableMethod(r,t,n){return function(...a){const o=this.__v_raw,s=toRaw(o),l=isMap(s),u=r==="entries"||r===Symbol.iterator&&l,f=r==="keys"&&l,d=o[r](...a),v=n?toShallow:t?toReadonly:toReactive;return!t&&track(s,"iterate",f?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:g,done:S}=d.next();return S?{value:g,done:S}:{value:u?[v(g[0]),v(g[1])]:v(g),done:S}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...t){return r==="delete"?!1:this}}function createInstrumentations(){const r={get(s){return get$1$1(this,s)},get size(){return size$1(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},t={get(s){return get$1$1(this,s,!1,!0)},get size(){return size$1(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},n={get(s){return get$1$1(this,s,!0)},get size(){return size$1(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},a={get(s){return get$1$1(this,s,!0,!0)},get size(){return size$1(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),t[s]=createIterableMethod(s,!1,!0),a[s]=createIterableMethod(s,!0,!0)}),[r,n,t,a]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(r,t){const n=t?r?shallowReadonlyInstrumentations:shallowInstrumentations:r?readonlyInstrumentations:mutableInstrumentations;return(a,o,s)=>o==="__v_isReactive"?!r:o==="__v_isReadonly"?r:o==="__v_raw"?a:Reflect.get(hasOwn$1(n,o)&&o in a?n:a,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(r,t,n,a,o){if(!isObject$6(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const s=o.get(r);if(s)return s;const l=getTargetType(r);if(l===0)return r;const u=new Proxy(r,l===2?a:n);return o.set(r,u),u}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return isReactive(r)||isReadonly(r)}function toRaw(r){const t=r&&r.__v_raw;return t?toRaw(t):r}function markRaw(r){return def(r,"__v_skip",!0),r}const toReactive=r=>isObject$6(r)?reactive(r):r,toReadonly=r=>isObject$6(r)?readonly(r):r;function trackRefValue(r){shouldTrack&&activeEffect&&(r=toRaw(r),trackEffects(r.dep||(r.dep=createDep())))}function triggerRefValue(r,t){r=toRaw(r),r.dep&&triggerEffects(r.dep)}function isRef(r){return!!(r&&r.__v_isRef===!0)}function ref(r){return createRef(r,!1)}function shallowRef(r){return createRef(r,!0)}function createRef(r,t){return isRef(r)?r:new RefImpl(r,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){t=this.__v_isShallow?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:toReactive(t),triggerRefValue(this))}}function unref(r){return isRef(r)?r.value:r}const shallowUnwrapHandlers={get:(r,t,n)=>unref(Reflect.get(r,t,n)),set:(r,t,n,a)=>{const o=r[t];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(r,t,n,a)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}function toRefs(r){const t=isArray$4(r)?new Array(r.length):{};for(const n in r)t[n]=toRef(r,n);return t}class ObjectRefImpl{constructor(t,n,a){this._object=t,this._key=n,this._defaultValue=a,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function toRef(r,t,n){const a=r[t];return isRef(a)?a:new ObjectRefImpl(r,t,n)}class ComputedRefImpl{constructor(t,n,a,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=a}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(r,t,n=!1){let a,o;const s=isFunction$2(r);return s?(a=r,o=NOOP):(a=r.get,o=r.set),new ComputedRefImpl(a,o,s||!o,n)}function callWithErrorHandling(r,t,n,a){let o;try{o=a?r(...a):r()}catch(s){handleError(s,t,n)}return o}function callWithAsyncErrorHandling(r,t,n,a){if(isFunction$2(r)){const s=callWithErrorHandling(r,t,n,a);return s&&isPromise(s)&&s.catch(l=>{handleError(l,t,n)}),s}const o=[];for(let s=0;s<r.length;s++)o.push(callWithAsyncErrorHandling(r[s],t,n,a));return o}function handleError(r,t,n,a=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const l=t.proxy,u=n;for(;s;){const d=s.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](r,l,u)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){callWithErrorHandling(f,null,10,[r,l,u]);return}}logError$1(r,n,o,a)}function logError$1(r,t,n,a=!0){console.error(r)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(r){const t=currentFlushPromise||resolvedPromise;return r?t.then(this?r.bind(this):r):t}function findInsertionIndex(r){let t=flushIndex+1,n=queue.length;for(;t<n;){const a=t+n>>>1;getId$1(queue[a])<r?t=a+1:n=a}return t}function queueJob(r){(!queue.length||!queue.includes(r,isFlushing&&r.allowRecurse?flushIndex+1:flushIndex))&&r!==currentPreFlushParentJob&&(r.id==null?queue.push(r):queue.splice(findInsertionIndex(r.id),0,r),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(r){const t=queue.indexOf(r);t>flushIndex&&queue.splice(t,1)}function queueCb(r,t,n,a){isArray$4(r)?n.push(...r):(!t||!t.includes(r,r.allowRecurse?a+1:a))&&n.push(r),queueFlush()}function queuePreFlushCb(r){queueCb(r,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(r){queueCb(r,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(r,t=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=t,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(r,t)}}function flushPostFlushCbs(r){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,a)=>getId$1(n)-getId$1(a)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=r=>r.id==null?1/0:r.id;function flushJobs(r){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(r),queue.sort((n,a)=>getId$1(n)-getId$1(a));const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(r)}}function emit$1(r,t,...n){if(r.isUnmounted)return;const a=r.vnode.props||EMPTY_OBJ$1;let o=n;const s=t.startsWith("update:"),l=s&&t.slice(7);if(l&&l in a){const v=`${l==="modelValue"?"model":l}Modifiers`,{number:g,trim:S}=a[v]||EMPTY_OBJ$1;S?o=n.map(x=>x.trim()):g&&(o=n.map(toNumber))}let u,f=a[u=toHandlerKey(t)]||a[u=toHandlerKey(camelize(t))];!f&&s&&(f=a[u=toHandlerKey(hyphenate(t))]),f&&callWithAsyncErrorHandling(f,r,6,o);const d=a[u+"Once"];if(d){if(!r.emitted)r.emitted={};else if(r.emitted[u])return;r.emitted[u]=!0,callWithAsyncErrorHandling(d,r,6,o)}}function normalizeEmitsOptions(r,t,n=!1){const a=t.emitsCache,o=a.get(r);if(o!==void 0)return o;const s=r.emits;let l={},u=!1;if(!isFunction$2(r)){const f=d=>{const v=normalizeEmitsOptions(d,t,!0);v&&(u=!0,extend$1(l,v))};!n&&t.mixins.length&&t.mixins.forEach(f),r.extends&&f(r.extends),r.mixins&&r.mixins.forEach(f)}return!s&&!u?(a.set(r,null),null):(isArray$4(s)?s.forEach(f=>l[f]=null):extend$1(l,s),a.set(r,l),l)}function isEmitListener(r,t){return!r||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(r,t[0].toLowerCase()+t.slice(1))||hasOwn$1(r,hyphenate(t))||hasOwn$1(r,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const t=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,t}function pushScopeId(r){currentScopeId=r}function popScopeId(){currentScopeId=null}function withCtx(r,t=currentRenderingInstance,n){if(!t||r._n)return r;const a=(...o)=>{a._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(t),l=r(...o);return setCurrentRenderingInstance(s),a._d&&setBlockTracking(1),l};return a._n=!0,a._c=!0,a._d=!0,a}function markAttrsAccessed(){}function renderComponentRoot(r){const{type:t,vnode:n,proxy:a,withProxy:o,props:s,propsOptions:[l],slots:u,attrs:f,emit:d,render:v,renderCache:g,data:S,setupState:x,ctx:_,inheritAttrs:C}=r;let T,w;const M=setCurrentRenderingInstance(r);try{if(n.shapeFlag&4){const I=o||a;T=normalizeVNode(v.call(I,I,g,s,x,S,_)),w=f}else{const I=t;T=normalizeVNode(I.length>1?I(s,{attrs:f,slots:u,emit:d}):I(s,null)),w=t.props?f:getFunctionalFallthrough(f)}}catch(I){blockStack.length=0,handleError(I,r,1),T=createVNode$1(Comment)}let D=T;if(w&&C!==!1){const I=Object.keys(w),{shapeFlag:R}=D;I.length&&R&7&&(l&&I.some(isModelListener)&&(w=filterModelListeners(w,l)),D=cloneVNode(D,w))}return n.dirs&&(D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),T=D,setCurrentRenderingInstance(M),T}const getFunctionalFallthrough=r=>{let t;for(const n in r)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=r[n]);return t},filterModelListeners=(r,t)=>{const n={};for(const a in r)(!isModelListener(a)||!(a.slice(9)in t))&&(n[a]=r[a]);return n};function shouldUpdateComponent(r,t,n){const{props:a,children:o,component:s}=r,{props:l,children:u,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return a?hasPropsChanged(a,l,d):!!l;if(f&8){const v=t.dynamicProps;for(let g=0;g<v.length;g++){const S=v[g];if(l[S]!==a[S]&&!isEmitListener(d,S))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:a===l?!1:a?l?hasPropsChanged(a,l,d):!0:!!l;return!1}function hasPropsChanged(r,t,n){const a=Object.keys(t);if(a.length!==Object.keys(r).length)return!0;for(let o=0;o<a.length;o++){const s=a[o];if(t[s]!==r[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:r,parent:t},n){for(;t&&t.subTree===r;)(r=t.vnode).el=n,t=t.parent}const isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,t){t&&t.pendingBranch?isArray$4(r)?t.effects.push(...r):t.effects.push(r):queuePostFlushCb(r)}function provide(r,t){if(currentInstance){let n=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===n&&(n=currentInstance.provides=Object.create(a)),n[r]=t}}function inject(r,t,n=!1){const a=currentInstance||currentRenderingInstance;if(a){const o=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(o&&r in o)return o[r];if(arguments.length>1)return n&&isFunction$2(t)?t.call(a.proxy):t}}function watchEffect(r,t){return doWatch(r,null,t)}const INITIAL_WATCHER_VALUE={};function watch(r,t,n){return doWatch(r,t,n)}function doWatch(r,t,{immediate:n,deep:a,flush:o,onTrack:s,onTrigger:l}=EMPTY_OBJ$1){const u=currentInstance;let f,d=!1,v=!1;if(isRef(r)?(f=()=>r.value,d=isShallow(r)):isReactive(r)?(f=()=>r,a=!0):isArray$4(r)?(v=!0,d=r.some(isReactive),f=()=>r.map(w=>{if(isRef(w))return w.value;if(isReactive(w))return traverse(w);if(isFunction$2(w))return callWithErrorHandling(w,u,2)})):isFunction$2(r)?t?f=()=>callWithErrorHandling(r,u,2):f=()=>{if(!(u&&u.isUnmounted))return g&&g(),callWithAsyncErrorHandling(r,u,3,[S])}:f=NOOP,t&&a){const w=f;f=()=>traverse(w())}let g,S=w=>{g=T.onStop=()=>{callWithErrorHandling(w,u,4)}};if(isInSSRComponentSetup)return S=NOOP,t?n&&callWithAsyncErrorHandling(t,u,3,[f(),v?[]:void 0,S]):f(),NOOP;let x=v?[]:INITIAL_WATCHER_VALUE;const _=()=>{if(!!T.active)if(t){const w=T.run();(a||d||(v?w.some((M,D)=>hasChanged(M,x[D])):hasChanged(w,x)))&&(g&&g(),callWithAsyncErrorHandling(t,u,3,[w,x===INITIAL_WATCHER_VALUE?void 0:x,S]),x=w)}else T.run()};_.allowRecurse=!!t;let C;o==="sync"?C=_:o==="post"?C=()=>queuePostRenderEffect(_,u&&u.suspense):C=()=>{!u||u.isMounted?queuePreFlushCb(_):_()};const T=new ReactiveEffect(f,C);return t?n?_():x=T.run():o==="post"?queuePostRenderEffect(T.run.bind(T),u&&u.suspense):T.run(),()=>{T.stop(),u&&u.scope&&remove(u.scope.effects,T)}}function instanceWatch(r,t,n){const a=this.proxy,o=isString$1(r)?r.includes(".")?createPathGetter(a,r):()=>a[r]:r.bind(a,a);let s;isFunction$2(t)?s=t:(s=t.handler,n=t);const l=currentInstance;setCurrentInstance(this);const u=doWatch(o,s.bind(a),n);return l?setCurrentInstance(l):unsetCurrentInstance(),u}function createPathGetter(r,t){const n=t.split(".");return()=>{let a=r;for(let o=0;o<n.length&&a;o++)a=a[n[o]];return a}}function traverse(r,t){if(!isObject$6(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),isRef(r))traverse(r.value,t);else if(isArray$4(r))for(let n=0;n<r.length;n++)traverse(r[n],t);else if(isSet(r)||isMap(r))r.forEach(n=>{traverse(n,t)});else if(isPlainObject$1(r))for(const n in r)traverse(r[n],t);return r}function useTransitionState(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{r.isMounted=!0}),onBeforeUnmount(()=>{r.isUnmounting=!0}),r}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(r,{slots:t}){const n=getCurrentInstance(),a=useTransitionState();let o;return()=>{const s=t.default&&getTransitionRawChildren(t.default(),!0);if(!s||!s.length)return;let l=s[0];if(s.length>1){for(const C of s)if(C.type!==Comment){l=C;break}}const u=toRaw(r),{mode:f}=u;if(a.isLeaving)return emptyPlaceholder(l);const d=getKeepAliveChild(l);if(!d)return emptyPlaceholder(l);const v=resolveTransitionHooks(d,u,a,n);setTransitionHooks(d,v);const g=n.subTree,S=g&&getKeepAliveChild(g);let x=!1;const{getTransitionKey:_}=d.type;if(_){const C=_();o===void 0?o=C:C!==o&&(o=C,x=!0)}if(S&&S.type!==Comment&&(!isSameVNodeType(d,S)||x)){const C=resolveTransitionHooks(S,u,a,n);if(setTransitionHooks(S,C),f==="out-in")return a.isLeaving=!0,C.afterLeave=()=>{a.isLeaving=!1,n.update()},emptyPlaceholder(l);f==="in-out"&&d.type!==Comment&&(C.delayLeave=(T,w,M)=>{const D=getLeavingNodesForType(a,S);D[String(S.key)]=S,T._leaveCb=()=>{w(),T._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=M})}return l}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(r,t){const{leavingVNodes:n}=r;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function resolveTransitionHooks(r,t,n,a){const{appear:o,mode:s,persisted:l=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:d,onEnterCancelled:v,onBeforeLeave:g,onLeave:S,onAfterLeave:x,onLeaveCancelled:_,onBeforeAppear:C,onAppear:T,onAfterAppear:w,onAppearCancelled:M}=t,D=String(r.key),I=getLeavingNodesForType(n,r),R=(N,F)=>{N&&callWithAsyncErrorHandling(N,a,9,F)},$={mode:s,persisted:l,beforeEnter(N){let F=u;if(!n.isMounted)if(o)F=C||u;else return;N._leaveCb&&N._leaveCb(!0);const H=I[D];H&&isSameVNodeType(r,H)&&H.el._leaveCb&&H.el._leaveCb(),R(F,[N])},enter(N){let F=f,H=d,Y=v;if(!n.isMounted)if(o)F=T||f,H=w||d,Y=M||v;else return;let G=!1;const K=N._enterCb=Z=>{G||(G=!0,Z?R(Y,[N]):R(H,[N]),$.delayedLeave&&$.delayedLeave(),N._enterCb=void 0)};F?(F(N,K),F.length<=1&&K()):K()},leave(N,F){const H=String(r.key);if(N._enterCb&&N._enterCb(!0),n.isUnmounting)return F();R(g,[N]);let Y=!1;const G=N._leaveCb=K=>{Y||(Y=!0,F(),K?R(_,[N]):R(x,[N]),N._leaveCb=void 0,I[H]===r&&delete I[H])};I[H]=r,S?(S(N,G),S.length<=1&&G()):G()},clone(N){return resolveTransitionHooks(N,t,n,a)}};return $}function emptyPlaceholder(r){if(isKeepAlive(r))return r=cloneVNode(r),r.children=null,r}function getKeepAliveChild(r){return isKeepAlive(r)?r.children?r.children[0]:void 0:r}function setTransitionHooks(r,t){r.shapeFlag&6&&r.component?setTransitionHooks(r.component.subTree,t):r.shapeFlag&128?(r.ssContent.transition=t.clone(r.ssContent),r.ssFallback.transition=t.clone(r.ssFallback)):r.transition=t}function getTransitionRawChildren(r,t=!1,n){let a=[],o=0;for(let s=0;s<r.length;s++){let l=r[s];const u=n==null?l.key:String(n)+String(l.key!=null?l.key:s);l.type===Fragment?(l.patchFlag&128&&o++,a=a.concat(getTransitionRawChildren(l.children,t,u))):(t||l.type!==Comment)&&a.push(u!=null?cloneVNode(l,{key:u}):l)}if(o>1)for(let s=0;s<a.length;s++)a[s].patchFlag=-2;return a}function defineComponent(r){return isFunction$2(r)?{setup:r,name:r.name}:r}const isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive;function onActivated(r,t){registerKeepAliveHook(r,"a",t)}function onDeactivated(r,t){registerKeepAliveHook(r,"da",t)}function registerKeepAliveHook(r,t,n=currentInstance){const a=r.__wdc||(r.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return r()});if(injectHook(t,a,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(a,t,n,o),o=o.parent}}function injectToKeepAliveRoot(r,t,n,a){const o=injectHook(t,r,a,!0);onUnmounted(()=>{remove(a[t],o)},n)}function injectHook(r,t,n=currentInstance,a=!1){if(n){const o=n[r]||(n[r]=[]),s=t.__weh||(t.__weh=(...l)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const u=callWithAsyncErrorHandling(t,n,r,l);return unsetCurrentInstance(),resetTracking(),u});return a?o.unshift(s):o.push(s),s}}const createHook=r=>(t,n=currentInstance)=>(!isInSSRComponentSetup||r==="sp")&&injectHook(r,t,n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,t=currentInstance){injectHook("ec",r,t)}let shouldCacheAccess=!0;function applyOptions(r){const t=resolveMergedOptions(r),n=r.proxy,a=r.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,r,"bc");const{data:o,computed:s,methods:l,watch:u,provide:f,inject:d,created:v,beforeMount:g,mounted:S,beforeUpdate:x,updated:_,activated:C,deactivated:T,beforeDestroy:w,beforeUnmount:M,destroyed:D,unmounted:I,render:R,renderTracked:$,renderTriggered:N,errorCaptured:F,serverPrefetch:H,expose:Y,inheritAttrs:G,components:K,directives:Z,filters:J}=t;if(d&&resolveInjections(d,a,null,r.appContext.config.unwrapInjectedRef),l)for(const ie in l){const ne=l[ie];isFunction$2(ne)&&(a[ie]=ne.bind(n))}if(o){const ie=o.call(n,n);isObject$6(ie)&&(r.data=reactive(ie))}if(shouldCacheAccess=!0,s)for(const ie in s){const ne=s[ie],de=isFunction$2(ne)?ne.bind(n,n):isFunction$2(ne.get)?ne.get.bind(n,n):NOOP,ve=!isFunction$2(ne)&&isFunction$2(ne.set)?ne.set.bind(n):NOOP,pe=computed({get:de,set:ve});Object.defineProperty(a,ie,{enumerable:!0,configurable:!0,get:()=>pe.value,set:$e=>pe.value=$e})}if(u)for(const ie in u)createWatcher(u[ie],a,n,ie);if(f){const ie=isFunction$2(f)?f.call(n):f;Reflect.ownKeys(ie).forEach(ne=>{provide(ne,ie[ne])})}v&&callHook$1(v,r,"c");function te(ie,ne){isArray$4(ne)?ne.forEach(de=>ie(de.bind(n))):ne&&ie(ne.bind(n))}if(te(onBeforeMount,g),te(onMounted,S),te(onBeforeUpdate,x),te(onUpdated,_),te(onActivated,C),te(onDeactivated,T),te(onErrorCaptured,F),te(onRenderTracked,$),te(onRenderTriggered,N),te(onBeforeUnmount,M),te(onUnmounted,I),te(onServerPrefetch,H),isArray$4(Y))if(Y.length){const ie=r.exposed||(r.exposed={});Y.forEach(ne=>{Object.defineProperty(ie,ne,{get:()=>n[ne],set:de=>n[ne]=de})})}else r.exposed||(r.exposed={});R&&r.render===NOOP&&(r.render=R),G!=null&&(r.inheritAttrs=G),K&&(r.components=K),Z&&(r.directives=Z)}function resolveInjections(r,t,n=NOOP,a=!1){isArray$4(r)&&(r=normalizeInject(r));for(const o in r){const s=r[o];let l;isObject$6(s)?"default"in s?l=inject(s.from||o,s.default,!0):l=inject(s.from||o):l=inject(s),isRef(l)&&a?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[o]=l}}function callHook$1(r,t,n){callWithAsyncErrorHandling(isArray$4(r)?r.map(a=>a.bind(t.proxy)):r.bind(t.proxy),t,n)}function createWatcher(r,t,n,a){const o=a.includes(".")?createPathGetter(n,a):()=>n[a];if(isString$1(r)){const s=t[r];isFunction$2(s)&&watch(o,s)}else if(isFunction$2(r))watch(o,r.bind(n));else if(isObject$6(r))if(isArray$4(r))r.forEach(s=>createWatcher(s,t,n,a));else{const s=isFunction$2(r.handler)?r.handler.bind(n):t[r.handler];isFunction$2(s)&&watch(o,s,r)}}function resolveMergedOptions(r){const t=r.type,{mixins:n,extends:a}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:l}}=r.appContext,u=s.get(t);let f;return u?f=u:!o.length&&!n&&!a?f=t:(f={},o.length&&o.forEach(d=>mergeOptions(f,d,l,!0)),mergeOptions(f,t,l)),s.set(t,f),f}function mergeOptions(r,t,n,a=!1){const{mixins:o,extends:s}=t;s&&mergeOptions(r,s,n,!0),o&&o.forEach(l=>mergeOptions(r,l,n,!0));for(const l in t)if(!(a&&l==="expose")){const u=internalOptionMergeStrats[l]||n&&n[l];r[l]=u?u(r[l],t[l]):t[l]}return r}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,t){return t?r?function(){return extend$1(isFunction$2(r)?r.call(this,this):r,isFunction$2(t)?t.call(this,this):t)}:t:r}function mergeInject(r,t){return mergeObjectOptions(normalizeInject(r),normalizeInject(t))}function normalizeInject(r){if(isArray$4(r)){const t={};for(let n=0;n<r.length;n++)t[r[n]]=r[n];return t}return r}function mergeAsArray(r,t){return r?[...new Set([].concat(r,t))]:t}function mergeObjectOptions(r,t){return r?extend$1(extend$1(Object.create(null),r),t):t}function mergeWatchOptions(r,t){if(!r)return t;if(!t)return r;const n=extend$1(Object.create(null),r);for(const a in t)n[a]=mergeAsArray(r[a],t[a]);return n}function initProps$1(r,t,n,a=!1){const o={},s={};def(s,InternalObjectKey,1),r.propsDefaults=Object.create(null),setFullProps(r,t,o,s);for(const l in r.propsOptions[0])l in o||(o[l]=void 0);n?r.props=a?o:shallowReactive(o):r.type.props?r.props=o:r.props=s,r.attrs=s}function updateProps$2(r,t,n,a){const{props:o,attrs:s,vnode:{patchFlag:l}}=r,u=toRaw(o),[f]=r.propsOptions;let d=!1;if((a||l>0)&&!(l&16)){if(l&8){const v=r.vnode.dynamicProps;for(let g=0;g<v.length;g++){let S=v[g];if(isEmitListener(r.emitsOptions,S))continue;const x=t[S];if(f)if(hasOwn$1(s,S))x!==s[S]&&(s[S]=x,d=!0);else{const _=camelize(S);o[_]=resolvePropValue(f,u,_,x,r,!1)}else x!==s[S]&&(s[S]=x,d=!0)}}}else{setFullProps(r,t,o,s)&&(d=!0);let v;for(const g in u)(!t||!hasOwn$1(t,g)&&((v=hyphenate(g))===g||!hasOwn$1(t,v)))&&(f?n&&(n[g]!==void 0||n[v]!==void 0)&&(o[g]=resolvePropValue(f,u,g,void 0,r,!0)):delete o[g]);if(s!==u)for(const g in s)(!t||!hasOwn$1(t,g)&&!0)&&(delete s[g],d=!0)}d&&trigger$3(r,"set","$attrs")}function setFullProps(r,t,n,a){const[o,s]=r.propsOptions;let l=!1,u;if(t)for(let f in t){if(isReservedProp(f))continue;const d=t[f];let v;o&&hasOwn$1(o,v=camelize(f))?!s||!s.includes(v)?n[v]=d:(u||(u={}))[v]=d:isEmitListener(r.emitsOptions,f)||(!(f in a)||d!==a[f])&&(a[f]=d,l=!0)}if(s){const f=toRaw(n),d=u||EMPTY_OBJ$1;for(let v=0;v<s.length;v++){const g=s[v];n[g]=resolvePropValue(o,f,g,d[g],r,!hasOwn$1(d,g))}}return l}function resolvePropValue(r,t,n,a,o,s){const l=r[n];if(l!=null){const u=hasOwn$1(l,"default");if(u&&a===void 0){const f=l.default;if(l.type!==Function&&isFunction$2(f)){const{propsDefaults:d}=o;n in d?a=d[n]:(setCurrentInstance(o),a=d[n]=f.call(null,t),unsetCurrentInstance())}else a=f}l[0]&&(s&&!u?a=!1:l[1]&&(a===""||a===hyphenate(n))&&(a=!0))}return a}function normalizePropsOptions(r,t,n=!1){const a=t.propsCache,o=a.get(r);if(o)return o;const s=r.props,l={},u=[];let f=!1;if(!isFunction$2(r)){const v=g=>{f=!0;const[S,x]=normalizePropsOptions(g,t,!0);extend$1(l,S),x&&u.push(...x)};!n&&t.mixins.length&&t.mixins.forEach(v),r.extends&&v(r.extends),r.mixins&&r.mixins.forEach(v)}if(!s&&!f)return a.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray$4(s))for(let v=0;v<s.length;v++){const g=camelize(s[v]);validatePropName(g)&&(l[g]=EMPTY_OBJ$1)}else if(s)for(const v in s){const g=camelize(v);if(validatePropName(g)){const S=s[v],x=l[g]=isArray$4(S)||isFunction$2(S)?{type:S}:S;if(x){const _=getTypeIndex(Boolean,x.type),C=getTypeIndex(String,x.type);x[0]=_>-1,x[1]=C<0||_<C,(_>-1||hasOwn$1(x,"default"))&&u.push(g)}}}const d=[l,u];return a.set(r,d),d}function validatePropName(r){return r[0]!=="$"}function getType(r){const t=r&&r.toString().match(/^\s*function (\w+)/);return t?t[1]:r===null?"null":""}function isSameType(r,t){return getType(r)===getType(t)}function getTypeIndex(r,t){return isArray$4(t)?t.findIndex(n=>isSameType(n,r)):isFunction$2(t)&&isSameType(t,r)?0:-1}const isInternalKey=r=>r[0]==="_"||r==="$stable",normalizeSlotValue=r=>isArray$4(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot=(r,t,n)=>{const a=withCtx((...o)=>normalizeSlotValue(t(...o)),n);return a._c=!1,a},normalizeObjectSlots=(r,t,n)=>{const a=r._ctx;for(const o in r){if(isInternalKey(o))continue;const s=r[o];if(isFunction$2(s))t[o]=normalizeSlot(o,s,a);else if(s!=null){const l=normalizeSlotValue(s);t[o]=()=>l}}},normalizeVNodeSlots=(r,t)=>{const n=normalizeSlotValue(t);r.slots.default=()=>n},initSlots=(r,t)=>{if(r.vnode.shapeFlag&32){const n=t._;n?(r.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,r.slots={})}else r.slots={},t&&normalizeVNodeSlots(r,t);def(r.slots,InternalObjectKey,1)},updateSlots=(r,t,n)=>{const{vnode:a,slots:o}=r;let s=!0,l=EMPTY_OBJ$1;if(a.shapeFlag&32){const u=t._;u?n&&u===1?s=!1:(extend$1(o,t),!n&&u===1&&delete o._):(s=!t.$stable,normalizeObjectSlots(t,o)),l=t}else t&&(normalizeVNodeSlots(r,t),l={default:1});if(s)for(const u in o)!isInternalKey(u)&&!(u in l)&&delete o[u]};function withDirectives(r,t){const n=currentRenderingInstance;if(n===null)return r;const a=getExposeProxy(n)||n.proxy,o=r.dirs||(r.dirs=[]);for(let s=0;s<t.length;s++){let[l,u,f,d=EMPTY_OBJ$1]=t[s];isFunction$2(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(u),o.push({dir:l,instance:a,value:u,oldValue:void 0,arg:f,modifiers:d})}return r}function invokeDirectiveHook(r,t,n,a){const o=r.dirs,s=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];s&&(u.oldValue=s[l].value);let f=u.dir[a];f&&(pauseTracking(),callWithAsyncErrorHandling(f,n,8,[r.el,u,r,t]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(r,t){return function(a,o=null){isFunction$2(a)||(a=Object.assign({},a)),o!=null&&!isObject$6(o)&&(o=null);const s=createAppContext(),l=new Set;let u=!1;const f=s.app={_uid:uid++,_component:a,_props:o,_container:null,_context:s,_instance:null,version,get config(){return s.config},set config(d){},use(d,...v){return l.has(d)||(d&&isFunction$2(d.install)?(l.add(d),d.install(f,...v)):isFunction$2(d)&&(l.add(d),d(f,...v))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,v){return v?(s.components[d]=v,f):s.components[d]},directive(d,v){return v?(s.directives[d]=v,f):s.directives[d]},mount(d,v,g){if(!u){const S=createVNode$1(a,o);return S.appContext=s,v&&t?t(S,d):r(S,d,g),u=!0,f._container=d,d.__vue_app__=f,getExposeProxy(S.component)||S.component.proxy}},unmount(){u&&(r(null,f._container),delete f._container.__vue_app__)},provide(d,v){return s.provides[d]=v,f}};return f}}function setRef(r,t,n,a,o=!1){if(isArray$4(r)){r.forEach((S,x)=>setRef(S,t&&(isArray$4(t)?t[x]:t),n,a,o));return}if(isAsyncWrapper(a)&&!o)return;const s=a.shapeFlag&4?getExposeProxy(a.component)||a.component.proxy:a.el,l=o?null:s,{i:u,r:f}=r,d=t&&t.r,v=u.refs===EMPTY_OBJ$1?u.refs={}:u.refs,g=u.setupState;if(d!=null&&d!==f&&(isString$1(d)?(v[d]=null,hasOwn$1(g,d)&&(g[d]=null)):isRef(d)&&(d.value=null)),isFunction$2(f))callWithErrorHandling(f,u,12,[l,v]);else{const S=isString$1(f),x=isRef(f);if(S||x){const _=()=>{if(r.f){const C=S?v[f]:f.value;o?isArray$4(C)&&remove(C,s):isArray$4(C)?C.includes(s)||C.push(s):S?(v[f]=[s],hasOwn$1(g,f)&&(g[f]=v[f])):(f.value=[s],r.k&&(v[r.k]=f.value))}else S?(v[f]=l,hasOwn$1(g,f)&&(g[f]=l)):isRef(f)&&(f.value=l,r.k&&(v[r.k]=l))};l?(_.id=-1,queuePostRenderEffect(_,n)):_()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:a,remove:o,patchProp:s,createElement:l,createText:u,createComment:f,setText:d,setElementText:v,parentNode:g,nextSibling:S,setScopeId:x=NOOP,cloneNode:_,insertStaticContent:C}=r,T=(ae,le,ge,se=null,oe=null,Se=null,xe=!1,_e=null,Te=!!le.dynamicChildren)=>{if(ae===le)return;ae&&!isSameVNodeType(ae,le)&&(se=Oe(ae),Re(ae,oe,Se,!0),ae=null),le.patchFlag===-2&&(Te=!1,le.dynamicChildren=null);const{type:Ce,ref:Ee,shapeFlag:Fe}=le;switch(Ce){case Text:w(ae,le,ge,se);break;case Comment:M(ae,le,ge,se);break;case Static:ae==null&&D(le,ge,se,xe);break;case Fragment:Z(ae,le,ge,se,oe,Se,xe,_e,Te);break;default:Fe&1?$(ae,le,ge,se,oe,Se,xe,_e,Te):Fe&6?J(ae,le,ge,se,oe,Se,xe,_e,Te):(Fe&64||Fe&128)&&Ce.process(ae,le,ge,se,oe,Se,xe,_e,Te,Ye)}Ee!=null&&oe&&setRef(Ee,ae&&ae.ref,Se,le||ae,!le)},w=(ae,le,ge,se)=>{if(ae==null)a(le.el=u(le.children),ge,se);else{const oe=le.el=ae.el;le.children!==ae.children&&d(oe,le.children)}},M=(ae,le,ge,se)=>{ae==null?a(le.el=f(le.children||""),ge,se):le.el=ae.el},D=(ae,le,ge,se)=>{[ae.el,ae.anchor]=C(ae.children,le,ge,se,ae.el,ae.anchor)},I=({el:ae,anchor:le},ge,se)=>{let oe;for(;ae&&ae!==le;)oe=S(ae),a(ae,ge,se),ae=oe;a(le,ge,se)},R=({el:ae,anchor:le})=>{let ge;for(;ae&&ae!==le;)ge=S(ae),o(ae),ae=ge;o(le)},$=(ae,le,ge,se,oe,Se,xe,_e,Te)=>{xe=xe||le.type==="svg",ae==null?N(le,ge,se,oe,Se,xe,_e,Te):Y(ae,le,oe,Se,xe,_e,Te)},N=(ae,le,ge,se,oe,Se,xe,_e)=>{let Te,Ce;const{type:Ee,props:Fe,shapeFlag:Ue,transition:Je,patchFlag:ht,dirs:bt}=ae;if(ae.el&&_!==void 0&&ht===-1)Te=ae.el=_(ae.el);else{if(Te=ae.el=l(ae.type,Se,Fe&&Fe.is,Fe),Ue&8?v(Te,ae.children):Ue&16&&H(ae.children,Te,null,se,oe,Se&&Ee!=="foreignObject",xe,_e),bt&&invokeDirectiveHook(ae,null,se,"created"),Fe){for(const $t in Fe)$t!=="value"&&!isReservedProp($t)&&s(Te,$t,null,Fe[$t],Se,ae.children,se,oe,We);"value"in Fe&&s(Te,"value",null,Fe.value),(Ce=Fe.onVnodeBeforeMount)&&invokeVNodeHook(Ce,se,ae)}F(Te,ae,ae.scopeId,xe,se)}bt&&invokeDirectiveHook(ae,null,se,"beforeMount");const yt=(!oe||oe&&!oe.pendingBranch)&&Je&&!Je.persisted;yt&&Je.beforeEnter(Te),a(Te,le,ge),((Ce=Fe&&Fe.onVnodeMounted)||yt||bt)&&queuePostRenderEffect(()=>{Ce&&invokeVNodeHook(Ce,se,ae),yt&&Je.enter(Te),bt&&invokeDirectiveHook(ae,null,se,"mounted")},oe)},F=(ae,le,ge,se,oe)=>{if(ge&&x(ae,ge),se)for(let Se=0;Se<se.length;Se++)x(ae,se[Se]);if(oe){let Se=oe.subTree;if(le===Se){const xe=oe.vnode;F(ae,xe,xe.scopeId,xe.slotScopeIds,oe.parent)}}},H=(ae,le,ge,se,oe,Se,xe,_e,Te=0)=>{for(let Ce=Te;Ce<ae.length;Ce++){const Ee=ae[Ce]=_e?cloneIfMounted(ae[Ce]):normalizeVNode(ae[Ce]);T(null,Ee,le,ge,se,oe,Se,xe,_e)}},Y=(ae,le,ge,se,oe,Se,xe)=>{const _e=le.el=ae.el;let{patchFlag:Te,dynamicChildren:Ce,dirs:Ee}=le;Te|=ae.patchFlag&16;const Fe=ae.props||EMPTY_OBJ$1,Ue=le.props||EMPTY_OBJ$1;let Je;ge&&toggleRecurse(ge,!1),(Je=Ue.onVnodeBeforeUpdate)&&invokeVNodeHook(Je,ge,le,ae),Ee&&invokeDirectiveHook(le,ae,ge,"beforeUpdate"),ge&&toggleRecurse(ge,!0);const ht=oe&&le.type!=="foreignObject";if(Ce?G(ae.dynamicChildren,Ce,_e,ge,se,ht,Se):xe||de(ae,le,_e,null,ge,se,ht,Se,!1),Te>0){if(Te&16)K(_e,le,Fe,Ue,ge,se,oe);else if(Te&2&&Fe.class!==Ue.class&&s(_e,"class",null,Ue.class,oe),Te&4&&s(_e,"style",Fe.style,Ue.style,oe),Te&8){const bt=le.dynamicProps;for(let yt=0;yt<bt.length;yt++){const $t=bt[yt],Ve=Fe[$t],Ke=Ue[$t];(Ke!==Ve||$t==="value")&&s(_e,$t,Ve,Ke,oe,ae.children,ge,se,We)}}Te&1&&ae.children!==le.children&&v(_e,le.children)}else!xe&&Ce==null&&K(_e,le,Fe,Ue,ge,se,oe);((Je=Ue.onVnodeUpdated)||Ee)&&queuePostRenderEffect(()=>{Je&&invokeVNodeHook(Je,ge,le,ae),Ee&&invokeDirectiveHook(le,ae,ge,"updated")},se)},G=(ae,le,ge,se,oe,Se,xe)=>{for(let _e=0;_e<le.length;_e++){const Te=ae[_e],Ce=le[_e],Ee=Te.el&&(Te.type===Fragment||!isSameVNodeType(Te,Ce)||Te.shapeFlag&70)?g(Te.el):ge;T(Te,Ce,Ee,null,se,oe,Se,xe,!0)}},K=(ae,le,ge,se,oe,Se,xe)=>{if(ge!==se){for(const _e in se){if(isReservedProp(_e))continue;const Te=se[_e],Ce=ge[_e];Te!==Ce&&_e!=="value"&&s(ae,_e,Ce,Te,xe,le.children,oe,Se,We)}if(ge!==EMPTY_OBJ$1)for(const _e in ge)!isReservedProp(_e)&&!(_e in se)&&s(ae,_e,ge[_e],null,xe,le.children,oe,Se,We);"value"in se&&s(ae,"value",ge.value,se.value)}},Z=(ae,le,ge,se,oe,Se,xe,_e,Te)=>{const Ce=le.el=ae?ae.el:u(""),Ee=le.anchor=ae?ae.anchor:u("");let{patchFlag:Fe,dynamicChildren:Ue,slotScopeIds:Je}=le;Je&&(_e=_e?_e.concat(Je):Je),ae==null?(a(Ce,ge,se),a(Ee,ge,se),H(le.children,ge,Ee,oe,Se,xe,_e,Te)):Fe>0&&Fe&64&&Ue&&ae.dynamicChildren?(G(ae.dynamicChildren,Ue,ge,oe,Se,xe,_e),(le.key!=null||oe&&le===oe.subTree)&&traverseStaticChildren(ae,le,!0)):de(ae,le,ge,Ee,oe,Se,xe,_e,Te)},J=(ae,le,ge,se,oe,Se,xe,_e,Te)=>{le.slotScopeIds=_e,ae==null?le.shapeFlag&512?oe.ctx.activate(le,ge,se,xe,Te):Q(le,ge,se,oe,Se,xe,Te):te(ae,le,Te)},Q=(ae,le,ge,se,oe,Se,xe)=>{const _e=ae.component=createComponentInstance(ae,se,oe);if(isKeepAlive(ae)&&(_e.ctx.renderer=Ye),setupComponent(_e),_e.asyncDep){if(oe&&oe.registerDep(_e,ie),!ae.el){const Te=_e.subTree=createVNode$1(Comment);M(null,Te,le,ge)}return}ie(_e,ae,le,ge,oe,Se,xe)},te=(ae,le,ge)=>{const se=le.component=ae.component;if(shouldUpdateComponent(ae,le,ge))if(se.asyncDep&&!se.asyncResolved){ne(se,le,ge);return}else se.next=le,invalidateJob(se.update),se.update();else le.component=ae.component,le.el=ae.el,se.vnode=le},ie=(ae,le,ge,se,oe,Se,xe)=>{const _e=()=>{if(ae.isMounted){let{next:Ee,bu:Fe,u:Ue,parent:Je,vnode:ht}=ae,bt=Ee,yt;toggleRecurse(ae,!1),Ee?(Ee.el=ht.el,ne(ae,Ee,xe)):Ee=ht,Fe&&invokeArrayFns(Fe),(yt=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&invokeVNodeHook(yt,Je,Ee,ht),toggleRecurse(ae,!0);const $t=renderComponentRoot(ae),Ve=ae.subTree;ae.subTree=$t,T(Ve,$t,g(Ve.el),Oe(Ve),ae,oe,Se),Ee.el=$t.el,bt===null&&updateHOCHostEl(ae,$t.el),Ue&&queuePostRenderEffect(Ue,oe),(yt=Ee.props&&Ee.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(yt,Je,Ee,ht),oe)}else{let Ee;const{el:Fe,props:Ue}=le,{bm:Je,m:ht,parent:bt}=ae,yt=isAsyncWrapper(le);if(toggleRecurse(ae,!1),Je&&invokeArrayFns(Je),!yt&&(Ee=Ue&&Ue.onVnodeBeforeMount)&&invokeVNodeHook(Ee,bt,le),toggleRecurse(ae,!0),Fe&&qe){const $t=()=>{ae.subTree=renderComponentRoot(ae),qe(Fe,ae.subTree,ae,oe,null)};yt?le.type.__asyncLoader().then(()=>!ae.isUnmounted&&$t()):$t()}else{const $t=ae.subTree=renderComponentRoot(ae);T(null,$t,ge,se,ae,oe,Se),le.el=$t.el}if(ht&&queuePostRenderEffect(ht,oe),!yt&&(Ee=Ue&&Ue.onVnodeMounted)){const $t=le;queuePostRenderEffect(()=>invokeVNodeHook(Ee,bt,$t),oe)}le.shapeFlag&256&&ae.a&&queuePostRenderEffect(ae.a,oe),ae.isMounted=!0,le=ge=se=null}},Te=ae.effect=new ReactiveEffect(_e,()=>queueJob(ae.update),ae.scope),Ce=ae.update=Te.run.bind(Te);Ce.id=ae.uid,toggleRecurse(ae,!0),Ce()},ne=(ae,le,ge)=>{le.component=ae;const se=ae.vnode.props;ae.vnode=le,ae.next=null,updateProps$2(ae,le.props,se,ge),updateSlots(ae,le.children,ge),pauseTracking(),flushPreFlushCbs(void 0,ae.update),resetTracking()},de=(ae,le,ge,se,oe,Se,xe,_e,Te=!1)=>{const Ce=ae&&ae.children,Ee=ae?ae.shapeFlag:0,Fe=le.children,{patchFlag:Ue,shapeFlag:Je}=le;if(Ue>0){if(Ue&128){pe(Ce,Fe,ge,se,oe,Se,xe,_e,Te);return}else if(Ue&256){ve(Ce,Fe,ge,se,oe,Se,xe,_e,Te);return}}Je&8?(Ee&16&&We(Ce,oe,Se),Fe!==Ce&&v(ge,Fe)):Ee&16?Je&16?pe(Ce,Fe,ge,se,oe,Se,xe,_e,Te):We(Ce,oe,Se,!0):(Ee&8&&v(ge,""),Je&16&&H(Fe,ge,se,oe,Se,xe,_e,Te))},ve=(ae,le,ge,se,oe,Se,xe,_e,Te)=>{ae=ae||EMPTY_ARR,le=le||EMPTY_ARR;const Ce=ae.length,Ee=le.length,Fe=Math.min(Ce,Ee);let Ue;for(Ue=0;Ue<Fe;Ue++){const Je=le[Ue]=Te?cloneIfMounted(le[Ue]):normalizeVNode(le[Ue]);T(ae[Ue],Je,ge,null,oe,Se,xe,_e,Te)}Ce>Ee?We(ae,oe,Se,!0,!1,Fe):H(le,ge,se,oe,Se,xe,_e,Te,Fe)},pe=(ae,le,ge,se,oe,Se,xe,_e,Te)=>{let Ce=0;const Ee=le.length;let Fe=ae.length-1,Ue=Ee-1;for(;Ce<=Fe&&Ce<=Ue;){const Je=ae[Ce],ht=le[Ce]=Te?cloneIfMounted(le[Ce]):normalizeVNode(le[Ce]);if(isSameVNodeType(Je,ht))T(Je,ht,ge,null,oe,Se,xe,_e,Te);else break;Ce++}for(;Ce<=Fe&&Ce<=Ue;){const Je=ae[Fe],ht=le[Ue]=Te?cloneIfMounted(le[Ue]):normalizeVNode(le[Ue]);if(isSameVNodeType(Je,ht))T(Je,ht,ge,null,oe,Se,xe,_e,Te);else break;Fe--,Ue--}if(Ce>Fe){if(Ce<=Ue){const Je=Ue+1,ht=Je<Ee?le[Je].el:se;for(;Ce<=Ue;)T(null,le[Ce]=Te?cloneIfMounted(le[Ce]):normalizeVNode(le[Ce]),ge,ht,oe,Se,xe,_e,Te),Ce++}}else if(Ce>Ue)for(;Ce<=Fe;)Re(ae[Ce],oe,Se,!0),Ce++;else{const Je=Ce,ht=Ce,bt=new Map;for(Ce=ht;Ce<=Ue;Ce++){const vt=le[Ce]=Te?cloneIfMounted(le[Ce]):normalizeVNode(le[Ce]);vt.key!=null&&bt.set(vt.key,Ce)}let yt,$t=0;const Ve=Ue-ht+1;let Ke=!1,et=0;const Ct=new Array(Ve);for(Ce=0;Ce<Ve;Ce++)Ct[Ce]=0;for(Ce=Je;Ce<=Fe;Ce++){const vt=ae[Ce];if($t>=Ve){Re(vt,oe,Se,!0);continue}let St;if(vt.key!=null)St=bt.get(vt.key);else for(yt=ht;yt<=Ue;yt++)if(Ct[yt-ht]===0&&isSameVNodeType(vt,le[yt])){St=yt;break}St===void 0?Re(vt,oe,Se,!0):(Ct[St-ht]=Ce+1,St>=et?et=St:Ke=!0,T(vt,le[St],ge,null,oe,Se,xe,_e,Te),$t++)}const Dt=Ke?getSequence(Ct):EMPTY_ARR;for(yt=Dt.length-1,Ce=Ve-1;Ce>=0;Ce--){const vt=ht+Ce,St=le[vt],_t=vt+1<Ee?le[vt+1].el:se;Ct[Ce]===0?T(null,St,ge,_t,oe,Se,xe,_e,Te):Ke&&(yt<0||Ce!==Dt[yt]?$e(St,ge,_t,2):yt--)}}},$e=(ae,le,ge,se,oe=null)=>{const{el:Se,type:xe,transition:_e,children:Te,shapeFlag:Ce}=ae;if(Ce&6){$e(ae.component.subTree,le,ge,se);return}if(Ce&128){ae.suspense.move(le,ge,se);return}if(Ce&64){xe.move(ae,le,ge,Ye);return}if(xe===Fragment){a(Se,le,ge);for(let Fe=0;Fe<Te.length;Fe++)$e(Te[Fe],le,ge,se);a(ae.anchor,le,ge);return}if(xe===Static){I(ae,le,ge);return}if(se!==2&&Ce&1&&_e)if(se===0)_e.beforeEnter(Se),a(Se,le,ge),queuePostRenderEffect(()=>_e.enter(Se),oe);else{const{leave:Fe,delayLeave:Ue,afterLeave:Je}=_e,ht=()=>a(Se,le,ge),bt=()=>{Fe(Se,()=>{ht(),Je&&Je()})};Ue?Ue(Se,ht,bt):bt()}else a(Se,le,ge)},Re=(ae,le,ge,se=!1,oe=!1)=>{const{type:Se,props:xe,ref:_e,children:Te,dynamicChildren:Ce,shapeFlag:Ee,patchFlag:Fe,dirs:Ue}=ae;if(_e!=null&&setRef(_e,null,ge,ae,!0),Ee&256){le.ctx.deactivate(ae);return}const Je=Ee&1&&Ue,ht=!isAsyncWrapper(ae);let bt;if(ht&&(bt=xe&&xe.onVnodeBeforeUnmount)&&invokeVNodeHook(bt,le,ae),Ee&6)Le(ae.component,ge,se);else{if(Ee&128){ae.suspense.unmount(ge,se);return}Je&&invokeDirectiveHook(ae,null,le,"beforeUnmount"),Ee&64?ae.type.remove(ae,le,ge,oe,Ye,se):Ce&&(Se!==Fragment||Fe>0&&Fe&64)?We(Ce,le,ge,!1,!0):(Se===Fragment&&Fe&384||!oe&&Ee&16)&&We(Te,le,ge),se&&Ge(ae)}(ht&&(bt=xe&&xe.onVnodeUnmounted)||Je)&&queuePostRenderEffect(()=>{bt&&invokeVNodeHook(bt,le,ae),Je&&invokeDirectiveHook(ae,null,le,"unmounted")},ge)},Ge=ae=>{const{type:le,el:ge,anchor:se,transition:oe}=ae;if(le===Fragment){Qe(ge,se);return}if(le===Static){R(ae);return}const Se=()=>{o(ge),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(ae.shapeFlag&1&&oe&&!oe.persisted){const{leave:xe,delayLeave:_e}=oe,Te=()=>xe(ge,Se);_e?_e(ae.el,Se,Te):Te()}else Se()},Qe=(ae,le)=>{let ge;for(;ae!==le;)ge=S(ae),o(ae),ae=ge;o(le)},Le=(ae,le,ge)=>{const{bum:se,scope:oe,update:Se,subTree:xe,um:_e}=ae;se&&invokeArrayFns(se),oe.stop(),Se&&(Se.active=!1,Re(xe,ae,le,ge)),_e&&queuePostRenderEffect(_e,le),queuePostRenderEffect(()=>{ae.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},We=(ae,le,ge,se=!1,oe=!1,Se=0)=>{for(let xe=Se;xe<ae.length;xe++)Re(ae[xe],le,ge,se,oe)},Oe=ae=>ae.shapeFlag&6?Oe(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():S(ae.anchor||ae.el),ke=(ae,le,ge)=>{ae==null?le._vnode&&Re(le._vnode,null,null,!0):T(le._vnode||null,ae,le,null,null,null,ge),flushPostFlushCbs(),le._vnode=ae},Ye={p:T,um:Re,m:$e,r:Ge,mt:Q,mc:H,pc:de,pbc:G,n:Oe,o:r};let ze,qe;return t&&([ze,qe]=t(Ye)),{render:ke,hydrate:ze,createApp:createAppAPI(ke,ze)}}function toggleRecurse({effect:r,update:t},n){r.allowRecurse=t.allowRecurse=n}function traverseStaticChildren(r,t,n=!1){const a=r.children,o=t.children;if(isArray$4(a)&&isArray$4(o))for(let s=0;s<a.length;s++){const l=a[s];let u=o[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[s]=cloneIfMounted(o[s]),u.el=l.el),n||traverseStaticChildren(l,u))}}function getSequence(r){const t=r.slice(),n=[0];let a,o,s,l,u;const f=r.length;for(a=0;a<f;a++){const d=r[a];if(d!==0){if(o=n[n.length-1],r[o]<d){t[a]=o,n.push(a);continue}for(s=0,l=n.length-1;s<l;)u=s+l>>1,r[n[u]]<d?s=u+1:l=u;d<r[n[s]]&&(s>0&&(t[a]=n[s-1]),n[s]=a)}}for(s=n.length,l=n[s-1];s-- >0;)n[s]=l,l=t[l];return n}const isTeleport=r=>r.__isTeleport,isTeleportDisabled=r=>r&&(r.disabled||r.disabled===""),isTargetSVG=r=>typeof SVGElement!="undefined"&&r instanceof SVGElement,resolveTarget=(r,t)=>{const n=r&&r.to;return isString$1(n)?t?t(n):null:n},TeleportImpl={__isTeleport:!0,process(r,t,n,a,o,s,l,u,f,d){const{mc:v,pc:g,pbc:S,o:{insert:x,querySelector:_,createText:C,createComment:T}}=d,w=isTeleportDisabled(t.props);let{shapeFlag:M,children:D,dynamicChildren:I}=t;if(r==null){const R=t.el=C(""),$=t.anchor=C("");x(R,n,a),x($,n,a);const N=t.target=resolveTarget(t.props,_),F=t.targetAnchor=C("");N&&(x(F,N),l=l||isTargetSVG(N));const H=(Y,G)=>{M&16&&v(D,Y,G,o,s,l,u,f)};w?H(n,$):N&&H(N,F)}else{t.el=r.el;const R=t.anchor=r.anchor,$=t.target=r.target,N=t.targetAnchor=r.targetAnchor,F=isTeleportDisabled(r.props),H=F?n:$,Y=F?R:N;if(l=l||isTargetSVG($),I?(S(r.dynamicChildren,I,H,o,s,l,u),traverseStaticChildren(r,t,!0)):f||g(r,t,H,Y,o,s,l,u,!1),w)F||moveTeleport(t,n,R,d,1);else if((t.props&&t.props.to)!==(r.props&&r.props.to)){const G=t.target=resolveTarget(t.props,_);G&&moveTeleport(t,G,null,d,0)}else F&&moveTeleport(t,$,N,d,1)}},remove(r,t,n,a,{um:o,o:{remove:s}},l){const{shapeFlag:u,children:f,anchor:d,targetAnchor:v,target:g,props:S}=r;if(g&&s(v),(l||!isTeleportDisabled(S))&&(s(d),u&16))for(let x=0;x<f.length;x++){const _=f[x];o(_,t,n,!0,!!_.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(r,t,n,{o:{insert:a},m:o},s=2){s===0&&a(r.targetAnchor,t,n);const{el:l,anchor:u,shapeFlag:f,children:d,props:v}=r,g=s===2;if(g&&a(l,t,n),(!g||isTeleportDisabled(v))&&f&16)for(let S=0;S<d.length;S++)o(d[S],t,n,2);g&&a(u,t,n)}function hydrateTeleport(r,t,n,a,o,s,{o:{nextSibling:l,parentNode:u,querySelector:f}},d){const v=t.target=resolveTarget(t.props,f);if(v){const g=v._lpa||v.firstChild;t.shapeFlag&16&&(isTeleportDisabled(t.props)?(t.anchor=d(l(r),t,u(r),n,a,o,s),t.targetAnchor=g):(t.anchor=l(r),t.targetAnchor=d(g,t,v,n,a,o,s)),v._lpa=t.targetAnchor&&l(t.targetAnchor))}return t.anchor&&l(t.anchor)}const Teleport=TeleportImpl,COMPONENTS="components";function resolveComponent(r,t){return resolveAsset(COMPONENTS,r,!0,t)||r}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(r,t,n=!0,a=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(r===COMPONENTS){const u=getComponentName(s);if(u&&(u===t||u===camelize(t)||u===capitalize(camelize(t))))return s}const l=resolve(o[r]||s[r],t)||resolve(o.appContext[r],t);return!l&&a?s:l}}function resolve(r,t){return r&&(r[t]||r[camelize(t)]||r[capitalize(camelize(t))])}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(r){isBlockTreeEnabled+=r}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,t,n,a,o,s){return setupBlock(createBaseVNode(r,t,n,a,o,s,!0))}function createBlock(r,t,n,a,o){return setupBlock(createVNode$1(r,t,n,a,o,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,t){return r.type===t.type&&r.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:r})=>r!=null?r:null,normalizeRef=({ref:r,ref_key:t,ref_for:n})=>r!=null?isString$1(r)||isRef(r)||isFunction$2(r)?{i:currentRenderingInstance,r,k:t,f:!!n}:r:null;function createBaseVNode(r,t=null,n=null,a=0,o=null,s=r===Fragment?0:1,l=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null};return u?(normalizeChildren(f,n),s&128&&r.normalize(f)):n&&(f.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&currentBlock.push(f),f}const createVNode$1=_createVNode;function _createVNode(r,t=null,n=null,a=0,o=null,s=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r=Comment),isVNode(r)){const u=cloneVNode(r,t,!0);return n&&normalizeChildren(u,n),u}if(isClassComponent(r)&&(r=r.__vccOpts),t){t=guardReactiveProps(t);let{class:u,style:f}=t;u&&!isString$1(u)&&(t.class=normalizeClass(u)),isObject$6(f)&&(isProxy(f)&&!isArray$4(f)&&(f=extend$1({},f)),t.style=normalizeStyle$1(f))}const l=isString$1(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject$6(r)?4:isFunction$2(r)?2:0;return createBaseVNode(r,t,n,a,o,l,s,!0)}function guardReactiveProps(r){return r?isProxy(r)||InternalObjectKey in r?extend$1({},r):r:null}function cloneVNode(r,t,n=!1){const{props:a,ref:o,patchFlag:s,children:l}=r,u=t?mergeProps(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:u,key:u&&normalizeKey(u),ref:t&&t.ref?n&&o?isArray$4(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:l,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==Fragment?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),el:r.el,anchor:r.anchor}}function createTextVNode(r=" ",t=0){return createVNode$1(Text,null,r,t)}function createCommentVNode(r="",t=!1){return t?(openBlock(),createBlock(Comment,null,r)):createVNode$1(Comment,null,r)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode$1(Comment):isArray$4(r)?createVNode$1(Fragment,null,r.slice()):typeof r=="object"?cloneIfMounted(r):createVNode$1(Text,null,String(r))}function cloneIfMounted(r){return r.el===null||r.memo?r:cloneVNode(r)}function normalizeChildren(r,t){let n=0;const{shapeFlag:a}=r;if(t==null)t=null;else if(isArray$4(t))n=16;else if(typeof t=="object")if(a&65){const o=t.default;o&&(o._c&&(o._d=!1),normalizeChildren(r,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),a&64?(n=16,t=[createTextVNode(t)]):n=8);r.children=t,r.shapeFlag|=n}function mergeProps(...r){const t={};for(let n=0;n<r.length;n++){const a=r[n];for(const o in a)if(o==="class")t.class!==a.class&&(t.class=normalizeClass([t.class,a.class]));else if(o==="style")t.style=normalizeStyle$1([t.style,a.style]);else if(isOn(o)){const s=t[o],l=a[o];l&&s!==l&&!(isArray$4(s)&&s.includes(l))&&(t[o]=s?[].concat(s,l):l)}else o!==""&&(t[o]=a[o])}return t}function invokeVNodeHook(r,t,n,a=null){callWithAsyncErrorHandling(r,t,7,[n,a])}function renderList(r,t,n,a){let o;const s=n&&n[a];if(isArray$4(r)||isString$1(r)){o=new Array(r.length);for(let l=0,u=r.length;l<u;l++)o[l]=t(r[l],l,void 0,s&&s[l])}else if(typeof r=="number"){o=new Array(r);for(let l=0;l<r;l++)o[l]=t(l+1,l,void 0,s&&s[l])}else if(isObject$6(r))if(r[Symbol.iterator])o=Array.from(r,(l,u)=>t(l,u,void 0,s&&s[u]));else{const l=Object.keys(r);o=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const d=l[u];o[u]=t(r[d],d,u,s&&s[u])}}else o=[];return n&&(n[a]=o),o}function renderSlot(r,t,n={},a,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode$1("slot",t==="default"?null:{name:t},a&&a());let s=r[t];s&&s._c&&(s._d=!1),openBlock();const l=s&&ensureValidVNode$1(s(n)),u=createBlock(Fragment,{key:n.key||`_${t}`},l||(a?a():[]),l&&r._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function ensureValidVNode$1(r){return r.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode$1(t.children)):!0)?r:null}const getPublicInstance=r=>r?isStatefulComponent(r)?getExposeProxy(r)||r.proxy:getPublicInstance(r.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>()=>queueJob(r.update),$nextTick:r=>nextTick.bind(r.proxy),$watch:r=>instanceWatch.bind(r)}),PublicInstanceProxyHandlers={get({_:r},t){const{ctx:n,setupState:a,data:o,props:s,accessCache:l,type:u,appContext:f}=r;let d;if(t[0]!=="$"){const x=l[t];if(x!==void 0)switch(x){case 1:return a[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(a!==EMPTY_OBJ$1&&hasOwn$1(a,t))return l[t]=1,a[t];if(o!==EMPTY_OBJ$1&&hasOwn$1(o,t))return l[t]=2,o[t];if((d=r.propsOptions[0])&&hasOwn$1(d,t))return l[t]=3,s[t];if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return l[t]=4,n[t];shouldCacheAccess&&(l[t]=0)}}const v=publicPropertiesMap[t];let g,S;if(v)return t==="$attrs"&&track(r,"get",t),v(r);if((g=u.__cssModules)&&(g=g[t]))return g;if(n!==EMPTY_OBJ$1&&hasOwn$1(n,t))return l[t]=4,n[t];if(S=f.config.globalProperties,hasOwn$1(S,t))return S[t]},set({_:r},t,n){const{data:a,setupState:o,ctx:s}=r;return o!==EMPTY_OBJ$1&&hasOwn$1(o,t)?(o[t]=n,!0):a!==EMPTY_OBJ$1&&hasOwn$1(a,t)?(a[t]=n,!0):hasOwn$1(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(s[t]=n,!0)},has({_:{data:r,setupState:t,accessCache:n,ctx:a,appContext:o,propsOptions:s}},l){let u;return!!n[l]||r!==EMPTY_OBJ$1&&hasOwn$1(r,l)||t!==EMPTY_OBJ$1&&hasOwn$1(t,l)||(u=s[0])&&hasOwn$1(u,l)||hasOwn$1(a,l)||hasOwn$1(publicPropertiesMap,l)||hasOwn$1(o.config.globalProperties,l)},defineProperty(r,t,n){return n.get!=null?r._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(r,t,n.value,null),Reflect.defineProperty(r,t,n)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(r,t,n){const a=r.type,o=(t?t.appContext:r.appContext)||emptyAppContext,s={uid:uid$1++,vnode:r,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,o),emitsOptions:normalizeEmitsOptions(a,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=emit$1.bind(null,s),r.ce&&r.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=r=>{currentInstance=r,r.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(r){return r.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(r,t=!1){isInSSRComponentSetup=t;const{props:n,children:a}=r.vnode,o=isStatefulComponent(r);initProps$1(r,n,o,t),initSlots(r,a);const s=o?setupStatefulComponent(r,t):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(r,t){const n=r.type;r.accessCache=Object.create(null),r.proxy=markRaw(new Proxy(r.ctx,PublicInstanceProxyHandlers));const{setup:a}=n;if(a){const o=r.setupContext=a.length>1?createSetupContext(r):null;setCurrentInstance(r),pauseTracking();const s=callWithErrorHandling(a,r,0,[r.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(l=>{handleSetupResult(r,l,t)}).catch(l=>{handleError(l,r,0)});r.asyncDep=s}else handleSetupResult(r,s,t)}else finishComponentSetup(r,t)}function handleSetupResult(r,t,n){isFunction$2(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:isObject$6(t)&&(r.setupState=proxyRefs(t)),finishComponentSetup(r,n)}let compile;function finishComponentSetup(r,t,n){const a=r.type;if(!r.render){if(!t&&compile&&!a.render){const o=a.template;if(o){const{isCustomElement:s,compilerOptions:l}=r.appContext.config,{delimiters:u,compilerOptions:f}=a,d=extend$1(extend$1({isCustomElement:s,delimiters:u},l),f);a.render=compile(o,d)}}r.render=a.render||NOOP}setCurrentInstance(r),pauseTracking(),applyOptions(r),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(r){return new Proxy(r.attrs,{get(t,n){return track(r,"get","$attrs"),t[n]}})}function createSetupContext(r){const t=a=>{r.exposed=a||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(r))},slots:r.slots,emit:r.emit,expose:t}}function getExposeProxy(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](r)}}))}function getComponentName(r){return isFunction$2(r)&&r.displayName||r.name}function isClassComponent(r){return isFunction$2(r)&&"__vccOpts"in r}const computed=(r,t)=>computed$1(r,t,isInSSRComponentSetup);function h(r,t,n){const a=arguments.length;return a===2?isObject$6(t)&&!isArray$4(t)?isVNode(t)?createVNode$1(r,null,[t]):createVNode$1(r,t):createVNode$1(r,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&isVNode(n)&&(n=[n]),createVNode$1(r,t,n))}const version="3.2.33",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,t,n)=>{t.insertBefore(r,n||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,n,a)=>{const o=t?doc.createElementNS(svgNS,r):doc.createElement(r,n?{is:n}:void 0);return r==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},cloneNode(r){const t=r.cloneNode(!0);return"_value"in r&&(t._value=r._value),t},insertStaticContent(r,t,n,a,o,s){const l=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=a?`<svg>${r}</svg>`:r;const u=templateContainer.content;if(a){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}t.insertBefore(u,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(r,t,n){const a=r._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?r.removeAttribute("class"):n?r.setAttribute("class",t):r.className=t}function patchStyle(r,t,n){const a=r.style,o=isString$1(n);if(n&&!o){for(const s in n)setStyle(a,s,n[s]);if(t&&!isString$1(t))for(const s in t)n[s]==null&&setStyle(a,s,"")}else{const s=a.display;o?t!==n&&(a.cssText=n):t&&r.removeAttribute("style"),"_vod"in r&&(a.display=s)}}const importantRE=/\s*!important$/;function setStyle(r,t,n){if(isArray$4(n))n.forEach(a=>setStyle(r,t,a));else if(n==null&&(n=""),t.startsWith("--"))r.setProperty(t,n);else{const a=autoPrefix(r,t);importantRE.test(n)?r.setProperty(hyphenate(a),n.replace(importantRE,""),"important"):r[a]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,t){const n=prefixCache[t];if(n)return n;let a=camelize(t);if(a!=="filter"&&a in r)return prefixCache[t]=a;a=capitalize(a);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+a;if(s in r)return prefixCache[t]=s}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,t,n,a,o){if(a&&t.startsWith("xlink:"))n==null?r.removeAttributeNS(xlinkNS,t.slice(6,t.length)):r.setAttributeNS(xlinkNS,t,n);else{const s=isSpecialBooleanAttr(t);n==null||s&&!includeBooleanAttr(n)?r.removeAttribute(t):r.setAttribute(t,s?"":n)}}function patchDOMProp(r,t,n,a,o,s,l){if(t==="innerHTML"||t==="textContent"){a&&l(a,o,s),r[t]=n==null?"":n;return}if(t==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=n;const f=n==null?"":n;(r.value!==f||r.tagName==="OPTION")&&(r.value=f),n==null&&r.removeAttribute(t);return}let u=!1;if(n===""||n==null){const f=typeof r[t];f==="boolean"?n=includeBooleanAttr(n):n==null&&f==="string"?(n="",u=!0):f==="number"&&(n=0,u=!0)}try{r[t]=n}catch{}u&&r.removeAttribute(t)}const[_getNow,skipTimestampCheck]=(()=>{let r=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(r=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[r,t]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener$1(r,t,n,a){r.addEventListener(t,n,a)}function removeEventListener$1(r,t,n,a){r.removeEventListener(t,n,a)}function patchEvent(r,t,n,a,o=null){const s=r._vei||(r._vei={}),l=s[t];if(a&&l)l.value=a;else{const[u,f]=parseName(t);if(a){const d=s[t]=createInvoker(a,o);addEventListener$1(r,u,d,f)}else l&&(removeEventListener$1(r,u,l,f),s[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let t;if(optionsModifierRE.test(r)){t={};let n;for(;n=r.match(optionsModifierRE);)r=r.slice(0,r.length-n[0].length),t[n[0].toLowerCase()]=!0}return[hyphenate(r.slice(2)),t]}function createInvoker(r,t){const n=a=>{const o=a.timeStamp||_getNow();(skipTimestampCheck||o>=n.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(a,n.value),t,5,[a])};return n.value=r,n.attached=getNow(),n}function patchStopImmediatePropagation(r,t){if(isArray$4(t)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},t.map(a=>o=>!o._stopped&&a&&a(o))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(r,t,n,a,o=!1,s,l,u,f)=>{t==="class"?patchClass(r,a,o):t==="style"?patchStyle(r,n,a):isOn(t)?isModelListener(t)||patchEvent(r,t,n,a,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(r,t,a,o))?patchDOMProp(r,t,a,s,l,u,f):(t==="true-value"?r._trueValue=a:t==="false-value"&&(r._falseValue=a),patchAttr(r,t,a,o))};function shouldSetAsProp(r,t,n,a){return a?!!(t==="innerHTML"||t==="textContent"||t in r&&nativeOnRE.test(t)&&isFunction$2(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(n)?!1:t in r}const TRANSITION="transition",ANIMATION="animation",Transition=(r,{slots:t})=>h(BaseTransition,resolveTransitionProps(r),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(r,t=[])=>{isArray$4(r)?r.forEach(n=>n(...t)):r&&r(...t)},hasExplicitCallback=r=>r?isArray$4(r)?r.some(t=>t.length>1):r.length>1:!1;function resolveTransitionProps(r){const t={};for(const K in r)K in DOMTransitionPropsValidators||(t[K]=r[K]);if(r.css===!1)return t;const{name:n="v",type:a,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=l,appearToClass:v=u,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:S=`${n}-leave-active`,leaveToClass:x=`${n}-leave-to`}=r,_=normalizeDuration(o),C=_&&_[0],T=_&&_[1],{onBeforeEnter:w,onEnter:M,onEnterCancelled:D,onLeave:I,onLeaveCancelled:R,onBeforeAppear:$=w,onAppear:N=M,onAppearCancelled:F=D}=t,H=(K,Z,J)=>{removeTransitionClass(K,Z?v:u),removeTransitionClass(K,Z?d:l),J&&J()},Y=(K,Z)=>{removeTransitionClass(K,x),removeTransitionClass(K,S),Z&&Z()},G=K=>(Z,J)=>{const Q=K?N:M,te=()=>H(Z,K,J);callHook(Q,[Z,te]),nextFrame(()=>{removeTransitionClass(Z,K?f:s),addTransitionClass(Z,K?v:u),hasExplicitCallback(Q)||whenTransitionEnds(Z,a,C,te)})};return extend$1(t,{onBeforeEnter(K){callHook(w,[K]),addTransitionClass(K,s),addTransitionClass(K,l)},onBeforeAppear(K){callHook($,[K]),addTransitionClass(K,f),addTransitionClass(K,d)},onEnter:G(!1),onAppear:G(!0),onLeave(K,Z){const J=()=>Y(K,Z);addTransitionClass(K,g),forceReflow(),addTransitionClass(K,S),nextFrame(()=>{removeTransitionClass(K,g),addTransitionClass(K,x),hasExplicitCallback(I)||whenTransitionEnds(K,a,T,J)}),callHook(I,[K,J])},onEnterCancelled(K){H(K,!1),callHook(D,[K])},onAppearCancelled(K){H(K,!0),callHook(F,[K])},onLeaveCancelled(K){Y(K),callHook(R,[K])}})}function normalizeDuration(r){if(r==null)return null;if(isObject$6(r))return[NumberOf(r.enter),NumberOf(r.leave)];{const t=NumberOf(r);return[t,t]}}function NumberOf(r){return toNumber(r)}function addTransitionClass(r,t){t.split(/\s+/).forEach(n=>n&&r.classList.add(n)),(r._vtc||(r._vtc=new Set)).add(t)}function removeTransitionClass(r,t){t.split(/\s+/).forEach(a=>a&&r.classList.remove(a));const{_vtc:n}=r;n&&(n.delete(t),n.size||(r._vtc=void 0))}function nextFrame(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let endId=0;function whenTransitionEnds(r,t,n,a){const o=r._endId=++endId,s=()=>{o===r._endId&&a()};if(n)return setTimeout(s,n);const{type:l,timeout:u,propCount:f}=getTransitionInfo(r,t);if(!l)return a();const d=l+"end";let v=0;const g=()=>{r.removeEventListener(d,S),s()},S=x=>{x.target===r&&++v>=f&&g()};setTimeout(()=>{v<f&&g()},u+1),r.addEventListener(d,S)}function getTransitionInfo(r,t){const n=window.getComputedStyle(r),a=_=>(n[_]||"").split(", "),o=a(TRANSITION+"Delay"),s=a(TRANSITION+"Duration"),l=getTimeout(o,s),u=a(ANIMATION+"Delay"),f=a(ANIMATION+"Duration"),d=getTimeout(u,f);let v=null,g=0,S=0;t===TRANSITION?l>0&&(v=TRANSITION,g=l,S=s.length):t===ANIMATION?d>0&&(v=ANIMATION,g=d,S=f.length):(g=Math.max(l,d),v=g>0?l>d?TRANSITION:ANIMATION:null,S=v?v===TRANSITION?s.length:f.length:0);const x=v===TRANSITION&&/\b(transform|all)(,|$)/.test(n[TRANSITION+"Property"]);return{type:v,timeout:g,propCount:S,hasTransform:x}}function getTimeout(r,t){for(;r.length<t.length;)r=r.concat(r);return Math.max(...t.map((n,a)=>toMs(n)+toMs(r[a])))}function toMs(r){return Number(r.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(r,{slots:t}){const n=getCurrentInstance(),a=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const l=r.moveClass||`${r.name||"v"}-move`;if(!hasCSSTransform(o[0].el,n.vnode.el,l))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const u=o.filter(applyTranslation);forceReflow(),u.forEach(f=>{const d=f.el,v=d.style;addTransitionClass(d,l),v.transform=v.webkitTransform=v.transitionDuration="";const g=d._moveCb=S=>{S&&S.target!==d||(!S||/transform$/.test(S.propertyName))&&(d.removeEventListener("transitionend",g),d._moveCb=null,removeTransitionClass(d,l))};d.addEventListener("transitionend",g)})}),()=>{const l=toRaw(r),u=resolveTransitionProps(l);let f=l.tag||Fragment;o=s,s=t.default?getTransitionRawChildren(t.default()):[];for(let d=0;d<s.length;d++){const v=s[d];v.key!=null&&setTransitionHooks(v,resolveTransitionHooks(v,u,a,n))}if(o)for(let d=0;d<o.length;d++){const v=o[d];setTransitionHooks(v,resolveTransitionHooks(v,u,a,n)),positionMap.set(v,v.el.getBoundingClientRect())}return createVNode$1(f,null,s)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(r){const t=r.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(r){newPositionMap.set(r,r.el.getBoundingClientRect())}function applyTranslation(r){const t=positionMap.get(r),n=newPositionMap.get(r),a=t.left-n.left,o=t.top-n.top;if(a||o){const s=r.el.style;return s.transform=s.webkitTransform=`translate(${a}px,${o}px)`,s.transitionDuration="0s",r}}function hasCSSTransform(r,t,n){const a=r.cloneNode();r._vtc&&r._vtc.forEach(l=>{l.split(/\s+/).forEach(u=>u&&a.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&a.classList.add(l)),a.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(a);const{hasTransform:s}=getTransitionInfo(a);return o.removeChild(a),s}const vShow={beforeMount(r,{value:t},{transition:n}){r._vod=r.style.display==="none"?"":r.style.display,n&&t?n.beforeEnter(r):setDisplay(r,t)},mounted(r,{value:t},{transition:n}){n&&t&&n.enter(r)},updated(r,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(r),setDisplay(r,!0),a.enter(r)):a.leave(r,()=>{setDisplay(r,!1)}):setDisplay(r,t))},beforeUnmount(r,{value:t}){setDisplay(r,t)}};function setDisplay(r,t){r.style.display=t?r._vod:"none"}const rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...r)=>{const t=ensureRenderer().createApp(...r),{mount:n}=t;return t.mount=a=>{const o=normalizeContainer(a);if(!o)return;const s=t._component;!isFunction$2(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const l=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t};function normalizeContainer(r){return isString$1(r)?document.querySelector(r):r}let onceCbs=[];const paramsMap=new WeakMap;function flushOnceCallbacks(){onceCbs.forEach(r=>r(...paramsMap.get(r))),onceCbs=[]}function beforeNextFrameOnce(r,...t){paramsMap.set(r,t),!onceCbs.includes(r)&&onceCbs.push(r)===1&&requestAnimationFrame(flushOnceCallbacks)}function depx(r){return typeof r=="string"?r.endsWith("px")?Number(r.slice(0,r.length-2)):Number(r):r}function pxfy(r){if(r!=null)return typeof r=="number"?`${r}px`:r.endsWith("px")?r:`${r}px`}function getMargin(r,t){const n=r.trim().split(/\s+/g),a={top:n[0]};switch(n.length){case 1:a.right=n[0],a.bottom=n[0],a.left=n[0];break;case 2:a.right=n[1],a.left=n[1],a.bottom=n[0];break;case 3:a.right=n[1],a.bottom=n[2],a.left=n[1];break;case 4:a.right=n[1],a.bottom=n[2],a.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+r+" is not a valid value.")}return t===void 0?a:a[t]}var colors={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"};function hsl2hsv(r,t,n){t/=100,n/=100;const a=t*Math.min(n,1-n)+n;return[r,a?(2-2*n/a)*100:0,a*100]}function hsv2hsl(r,t,n){t/=100,n/=100;const a=n-n*t/2,o=Math.min(a,1-a);return[r,o?(n-a)/o*100:0,a*100]}function hsv2rgb(r,t,n){t/=100,n/=100;let a=(o,s=(o+r/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[a(5)*255,a(3)*255,a(1)*255]}function rgb2hsv(r,t,n){r/=255,t/=255,n/=255;let a=Math.max(r,t,n),o=a-Math.min(r,t,n),s=o&&(a==r?(t-n)/o:a==t?2+(n-r)/o:4+(r-t)/o);return[60*(s<0?s+6:s),a&&o/a*100,a*100]}function rgb2hsl(r,t,n){r/=255,t/=255,n/=255;let a=Math.max(r,t,n),o=a-Math.min(r,t,n),s=1-Math.abs(a+a-o-1),l=o&&(a==r?(t-n)/o:a==t?2+(n-r)/o:4+(r-t)/o);return[60*(l<0?l+6:l),s?o/s*100:0,(a+a-o)*50]}function hsl2rgb(r,t,n){t/=100,n/=100;let a=t*Math.min(n,1-n),o=(s,l=(s+r/30)%12)=>n-a*Math.max(Math.min(l-3,9-l,1),-1);return[o(0)*255,o(8)*255,o(4)*255]}const prefix$1="^\\s*",suffix="\\s*$",percent="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",float="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",hex="([0-9A-Fa-f])",dhex="([0-9A-Fa-f]{2})",hslRegex=new RegExp(`${prefix$1}hsl\\s*\\(${float},${percent},${percent}\\)${suffix}`),hsvRegex=new RegExp(`${prefix$1}hsv\\s*\\(${float},${percent},${percent}\\)${suffix}`),hslaRegex=new RegExp(`${prefix$1}hsla\\s*\\(${float},${percent},${percent},${float}\\)${suffix}`),hsvaRegex=new RegExp(`${prefix$1}hsva\\s*\\(${float},${percent},${percent},${float}\\)${suffix}`),rgbRegex=new RegExp(`${prefix$1}rgb\\s*\\(${float},${float},${float}\\)${suffix}`),rgbaRegex=new RegExp(`${prefix$1}rgba\\s*\\(${float},${float},${float},${float}\\)${suffix}`),sHexRegex=new RegExp(`${prefix$1}#${hex}${hex}${hex}${suffix}`),hexRegex=new RegExp(`${prefix$1}#${dhex}${dhex}${dhex}${suffix}`),sHexaRegex=new RegExp(`${prefix$1}#${hex}${hex}${hex}${hex}${suffix}`),hexaRegex=new RegExp(`${prefix$1}#${dhex}${dhex}${dhex}${dhex}${suffix}`);function parseHex(r){return parseInt(r,16)}function hsla(r){try{let t;if(t=hslaRegex.exec(r))return[roundDeg(t[1]),roundPercent(t[5]),roundPercent(t[9]),roundAlpha(t[13])];if(t=hslRegex.exec(r))return[roundDeg(t[1]),roundPercent(t[5]),roundPercent(t[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${r}.`)}catch(t){throw t}}function hsva(r){try{let t;if(t=hsvaRegex.exec(r))return[roundDeg(t[1]),roundPercent(t[5]),roundPercent(t[9]),roundAlpha(t[13])];if(t=hsvRegex.exec(r))return[roundDeg(t[1]),roundPercent(t[5]),roundPercent(t[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${r}.`)}catch(t){throw t}}function rgba(r){try{let t;if(t=hexRegex.exec(r))return[parseHex(t[1]),parseHex(t[2]),parseHex(t[3]),1];if(t=rgbRegex.exec(r))return[roundChannel(t[1]),roundChannel(t[5]),roundChannel(t[9]),1];if(t=rgbaRegex.exec(r))return[roundChannel(t[1]),roundChannel(t[5]),roundChannel(t[9]),roundAlpha(t[13])];if(t=sHexRegex.exec(r))return[parseHex(t[1]+t[1]),parseHex(t[2]+t[2]),parseHex(t[3]+t[3]),1];if(t=hexaRegex.exec(r))return[parseHex(t[1]),parseHex(t[2]),parseHex(t[3]),roundAlpha(parseHex(t[4])/255)];if(t=sHexaRegex.exec(r))return[parseHex(t[1]+t[1]),parseHex(t[2]+t[2]),parseHex(t[3]+t[3]),roundAlpha(parseHex(t[4]+t[4])/255)];if(r in colors)return rgba(colors[r]);throw new Error(`[seemly/rgba]: Invalid color value ${r}.`)}catch(t){throw t}}function normalizeAlpha$1(r){return r>1?1:r<0?0:r}function stringifyRgb(r,t,n){return`rgb(${roundChannel(r)}, ${roundChannel(t)}, ${roundChannel(n)})`}function stringifyRgba(r,t,n,a){return`rgba(${roundChannel(r)}, ${roundChannel(t)}, ${roundChannel(n)}, ${normalizeAlpha$1(a)})`}function compositeChannel(r,t,n,a,o){return roundChannel((r*t*(1-a)+n*a)/o)}function composite(r,t){Array.isArray(r)||(r=rgba(r)),Array.isArray(t)||(t=rgba(t));const n=r[3],a=t[3],o=roundAlpha(n+a-n*a);return stringifyRgba(compositeChannel(r[0],n,t[0],a,o),compositeChannel(r[1],n,t[1],a,o),compositeChannel(r[2],n,t[2],a,o),o)}function changeColor(r,t){const[n,a,o,s=1]=Array.isArray(r)?r:rgba(r);return t.alpha?stringifyRgba(n,a,o,t.alpha):stringifyRgba(n,a,o,s)}function scaleColor(r,t){const[n,a,o,s=1]=Array.isArray(r)?r:rgba(r),{lightness:l=1,alpha:u=1}=t;return toRgbaString([n*l,a*l,o*l,s*u])}function roundAlpha(r){const t=Math.round(Number(r)*100)/100;return t>1?1:t<0?0:t}function roundDeg(r){const t=Math.round(Number(r));return t>=360||t<0?0:t}function roundChannel(r){const t=Math.round(Number(r));return t>255?255:t<0?0:t}function roundPercent(r){const t=Math.round(Number(r));return t>100?100:t<0?0:t}function toRgbString(r){const[t,n,a]=Array.isArray(r)?r:rgba(r);return stringifyRgb(t,n,a)}function toRgbaString(r){const[t,n,a]=r;return 3 in r?`rgba(${roundChannel(t)}, ${roundChannel(n)}, ${roundChannel(a)}, ${roundAlpha(r[3])})`:`rgba(${roundChannel(t)}, ${roundChannel(n)}, ${roundChannel(a)}, 1)`}function toHsvString(r){return`hsv(${roundDeg(r[0])}, ${roundPercent(r[1])}%, ${roundPercent(r[2])}%)`}function toHsvaString(r){const[t,n,a]=r;return 3 in r?`hsva(${roundDeg(t)}, ${roundPercent(n)}%, ${roundPercent(a)}%, ${roundAlpha(r[3])})`:`hsva(${roundDeg(t)}, ${roundPercent(n)}%, ${roundPercent(a)}%, 1)`}function toHslString(r){return`hsl(${roundDeg(r[0])}, ${roundPercent(r[1])}%, ${roundPercent(r[2])}%)`}function toHslaString(r){const[t,n,a]=r;return 3 in r?`hsla(${roundDeg(t)}, ${roundPercent(n)}%, ${roundPercent(a)}%, ${roundAlpha(r[3])})`:`hsla(${roundDeg(t)}, ${roundPercent(n)}%, ${roundPercent(a)}%, 1)`}function toHexaString(r){if(typeof r=="string"){let a;if(a=hexRegex.exec(r))return`${a[0]}FF`;if(a=hexaRegex.exec(r))return a[0];if(a=sHexRegex.exec(r))return`#${a[1]}${a[1]}${a[2]}${a[2]}${a[3]}${a[3]}FF`;if(a=sHexaRegex.exec(r))return`#${a[1]}${a[1]}${a[2]}${a[2]}${a[3]}${a[3]}${a[4]}${a[4]}`;throw new Error(`[seemly/toHexString]: Invalid hex value ${r}.`)}const t=`#${r.slice(0,3).map(a=>roundChannel(a).toString(16).toUpperCase().padStart(2,"0")).join("")}`,n=r.length===3?"FF":roundChannel(r[3]*255).toString(16).padStart(2,"0").toUpperCase();return t+n}function toHexString(r){if(typeof r=="string"){let t;if(t=hexRegex.exec(r))return t[0];if(t=hexaRegex.exec(r))return t[0].slice(0,7);if(t=sHexRegex.exec(r)||sHexaRegex.exec(r))return`#${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}`;throw new Error(`[seemly/toHexString]: Invalid hex value ${r}.`)}return`#${r.slice(0,3).map(t=>roundChannel(t).toString(16).toUpperCase().padStart(2,"0")).join("")}`}globalThis&&globalThis.__awaiter;function createId(r=8){return Math.random().toString(16).slice(2,2+r)}function indexMap(r,t){const n=[];if(!t){for(let a=0;a<r;++a)n.push(a);return n}for(let a=0;a<r;++a)n.push(t(a));return n}function keep(r,t=[],n){const a={};return t.forEach(o=>{a[o]=r[o]}),Object.assign(a,n)}function omit(r,t=[],n){const a={};return Object.getOwnPropertyNames(r).forEach(s=>{t.includes(s)||(a[s]=r[s])}),Object.assign(a,n)}function flatten$1(r,t=!0,n=[]){return r.forEach(a=>{if(a!==null){if(typeof a!="object"){(typeof a=="string"||typeof a=="number")&&n.push(createTextVNode(String(a)));return}if(Array.isArray(a)){flatten$1(a,t,n);return}if(a.type===Fragment){if(a.children===null)return;Array.isArray(a.children)&&flatten$1(a.children,t,n)}else a.type!==Comment&&n.push(a)}}),n}function call(r,...t){if(Array.isArray(r))r.forEach(n=>call(n,...t));else return r(...t)}function keysOf(r){return Object.keys(r)}const render$2=(r,...t)=>typeof r=="function"?r(...t):typeof r=="string"?createTextVNode(r):typeof r=="number"?createTextVNode(String(r)):null;function warn$3(r,t){console.error(`[naive/${r}]: ${t}`)}function throwError$1(r,t){throw new Error(`[naive/${r}]: ${t}`)}function getFirstSlotVNode(r,t="default",n=void 0){const a=r[t];if(!a)return warn$3("getFirstSlotVNode",`slot[${t}] is empty`),null;const o=flatten$1(a(n));return o.length===1?o[0]:(warn$3("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function createInjectionKey(r){return r}function ensureValidVNode(r){return r.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?r:null}function resolveSlot(r,t){return r&&ensureValidVNode(r())||t()}function resolveSlotWithProps(r,t,n){return r&&ensureValidVNode(r(t))||n(t)}function resolveWrappedSlot(r,t){const n=r&&ensureValidVNode(r());return t(n||null)}function isSlotEmpty(r){return!(r&&ensureValidVNode(r()))}function color2Class(r){return r.replace(/#|\(|\)|,|\s/g,"_")}function ampCount(r){let t=0;for(let n=0;n<r.length;++n)r[n]==="&"&&++t;return t}const separatorRegex=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex=/\s+/g;function resolveSelectorWithAmp(r,t){const n=[];return t.split(separatorRegex).forEach(a=>{let o=ampCount(a);if(o){if(o===1){r.forEach(l=>{n.push(a.replace("&",l))});return}}else{r.forEach(l=>{n.push((l&&l+" ")+a)});return}let s=[a];for(;o--;){const l=[];s.forEach(u=>{r.forEach(f=>{l.push(u.replace("&",f))})}),s=l}s.forEach(l=>n.push(l))}),n}function resolveSelector(r,t){const n=[];return t.split(separatorRegex).forEach(a=>{r.forEach(o=>{n.push((o&&o+" ")+a)})}),n}function parseSelectorPath(r){let t=[""];return r.forEach(n=>{n=n&&n.trim(),n&&(n.includes("&")?t=resolveSelectorWithAmp(t,n):t=resolveSelector(t,n))}),t.join(", ").replace(extraSpaceRegex," ")}function removeElement$1(r){if(!r)return;const t=r.parentElement;t&&t.removeChild(r)}function queryElement(r){return document.querySelector(`style[cssr-id="${r}"]`)}function createElement$2(r){const t=document.createElement("style");return t.setAttribute("cssr-id",r),t}function isMediaOrSupports(r){return r?/^\s*@(s|m)/.test(r):!1}const kebabRegex=/[A-Z]/g;function kebabCase(r){return r.replace(kebabRegex,t=>"-"+t.toLowerCase())}function unwrapProperty(r,t="  "){return typeof r=="object"&&r!==null?` {
`+Object.entries(r).map(n=>t+`  ${kebabCase(n[0])}: ${n[1]};`).join(`
`)+`
`+t+"}":`: ${r};`}function unwrapProperties(r,t,n){return typeof r=="function"?r({context:t.context,props:n}):r}function createStyle(r,t,n,a){if(!t)return"";const o=unwrapProperties(t,n,a);if(!o)return"";if(typeof o=="string")return`${r} {
${o}
}`;const s=Object.keys(o);if(s.length===0)return n.config.keepEmptyBlock?r+` {
}`:"";const l=r?[r+" {"]:[];return s.forEach(u=>{const f=o[u];if(u==="raw"){l.push(`
`+f+`
`);return}u=kebabCase(u),f!=null&&l.push(`  ${u}${unwrapProperty(f)}`)}),r&&l.push("}"),l.join(`
`)}function loopCNodeListWithCallback(r,t,n){!r||r.forEach(a=>{if(Array.isArray(a))loopCNodeListWithCallback(a,t,n);else if(typeof a=="function"){const o=a(t);Array.isArray(o)?loopCNodeListWithCallback(o,t,n):o&&n(o)}else a&&n(a)})}function traverseCNode(r,t,n,a,o,s){const l=r.$;let u="";if(!l||typeof l=="string")isMediaOrSupports(l)?u=l:t.push(l);else if(typeof l=="function"){const v=l({context:a.context,props:o});isMediaOrSupports(v)?u=v:t.push(v)}else if(l.before&&l.before(a.context),!l.$||typeof l.$=="string")isMediaOrSupports(l.$)?u=l.$:t.push(l.$);else if(l.$){const v=l.$({context:a.context,props:o});isMediaOrSupports(v)?u=v:t.push(v)}const f=parseSelectorPath(t),d=createStyle(f,r.props,a,o);u?(n.push(`${u} {`),s&&d&&s.insertRule(`${u} {
${d}
}
`)):(s&&d&&s.insertRule(d),!s&&d.length&&n.push(d)),r.children&&loopCNodeListWithCallback(r.children,{context:a.context,props:o},v=>{if(typeof v=="string"){const g=createStyle(f,{raw:v},a,o);s?s.insertRule(g):n.push(g)}else traverseCNode(v,t,n,a,o,s)}),t.pop(),u&&n.push("}"),l&&l.after&&l.after(a.context)}function render$1(r,t,n,a=!1){const o=[];return traverseCNode(r,[],o,t,n,a?r.instance.__styleSheet:void 0),a?"":o.join(`

`)}function murmur2(r){for(var t=0,n,a=0,o=r.length;o>=4;++a,o-=4)n=r.charCodeAt(a)&255|(r.charCodeAt(++a)&255)<<8|(r.charCodeAt(++a)&255)<<16|(r.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(r.charCodeAt(a+2)&255)<<16;case 2:t^=(r.charCodeAt(a+1)&255)<<8;case 1:t^=r.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}typeof window!="undefined"&&(window.__cssrContext={});function unmount(r,t,n){const{els:a}=t;if(n===void 0)a.forEach(removeElement$1),t.els=[];else{const o=queryElement(n);o&&a.includes(o)&&(removeElement$1(o),t.els=a.filter(s=>s!==o))}}function addElementToList(r,t){r.push(t)}function mount(r,t,n,a,o,s,l,u,f){if(s&&!f){if(n===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const S=window.__cssrContext;S[n]||(S[n]=!0,render$1(t,r,a,s));return}let d;if(n===void 0&&(d=t.render(a),n=murmur2(d)),f){f.adapter(n,d!=null?d:t.render(a));return}const v=queryElement(n);if(v!==null&&!l)return v;const g=v!=null?v:createElement$2(n);if(d===void 0&&(d=t.render(a)),g.textContent=d,v!==null)return v;if(u){const S=document.head.querySelector(`meta[name="${u}"]`);if(S)return document.head.insertBefore(g,S),addElementToList(t.els,g),g}return o?document.head.insertBefore(g,document.head.querySelector("style, link")):document.head.appendChild(g),addElementToList(t.els,g),g}function wrappedRender(r){return render$1(this,this.instance,r)}function wrappedMount(r={}){const{id:t,ssr:n,props:a,head:o=!1,silent:s=!1,force:l=!1,anchorMetaName:u}=r;return mount(this.instance,this,t,a,o,s,l,u,n)}function wrappedUnmount(r={}){const{id:t}=r;unmount(this.instance,this,t)}const createCNode=function(r,t,n,a){return{instance:r,$:t,props:n,children:a,els:[],render:wrappedRender,mount:wrappedMount,unmount:wrappedUnmount}},c$2=function(r,t,n,a){return Array.isArray(t)?createCNode(r,{$:null},null,t):Array.isArray(n)?createCNode(r,t,null,n):Array.isArray(a)?createCNode(r,t,n,a):createCNode(r,t,n,null)};function CssRender(r={}){let t=null;const n={c:(...a)=>c$2(n,...a),use:(a,...o)=>a.install(n,...o),find:queryElement,context:{},config:r,get __styleSheet(){if(!t){const a=document.createElement("style");return document.head.appendChild(a),t=document.styleSheets[document.styleSheets.length-1],t}return t}};return n}function exists(r,t){if(r===void 0)return!1;if(t){const{context:{ids:n}}=t;return n.has(r)}return queryElement(r)!==null}function plugin$1(r){let t=".",n="__",a="--",o;if(r){let _=r.blockPrefix;_&&(t=_),_=r.elementPrefix,_&&(n=_),_=r.modifierPrefix,_&&(a=_)}const s={install(_){o=_.c;const C=_.context;C.bem={},C.bem.b=null,C.bem.els=null}};function l(_){let C,T;return{before(w){C=w.bem.b,T=w.bem.els,w.bem.els=null},after(w){w.bem.b=C,w.bem.els=T},$({context:w,props:M}){return _=typeof _=="string"?_:_({context:w,props:M}),w.bem.b=_,`${(M==null?void 0:M.bPrefix)||t}${w.bem.b}`}}}function u(_){let C;return{before(T){C=T.bem.els},after(T){T.bem.els=C},$({context:T,props:w}){return _=typeof _=="string"?_:_({context:T,props:w}),T.bem.els=_.split(",").map(M=>M.trim()),T.bem.els.map(M=>`${(w==null?void 0:w.bPrefix)||t}${T.bem.b}${n}${M}`).join(", ")}}}function f(_){return{$({context:C,props:T}){_=typeof _=="string"?_:_({context:C,props:T});const w=_.split(",").map(I=>I.trim());function M(I){return w.map(R=>`&${(T==null?void 0:T.bPrefix)||t}${C.bem.b}${I!==void 0?`${n}${I}`:""}${a}${R}`).join(", ")}const D=C.bem.els;return D!==null?M(D[0]):M()}}}function d(_){return{$({context:C,props:T}){_=typeof _=="string"?_:_({context:C,props:T});const w=C.bem.els;return`&:not(${(T==null?void 0:T.bPrefix)||t}${C.bem.b}${w!==null&&w.length>0?`${n}${w[0]}`:""}${a}${_})`}}}return Object.assign(s,{cB:(..._)=>o(l(_[0]),_[1],_[2]),cE:(..._)=>o(u(_[0]),_[1],_[2]),cM:(..._)=>o(f(_[0]),_[1],_[2]),cNotM:(..._)=>o(d(_[0]),_[1],_[2])}),s}function createKey(r,t){return r+(t==="default"?"":t.replace(/^[a-z]/,n=>n.toUpperCase()))}createKey("abc","def");const namespace="n",prefix=`.${namespace}-`,elementPrefix="__",modifierPrefix="--",cssr=CssRender(),plugin=plugin$1({blockPrefix:prefix,elementPrefix,modifierPrefix});cssr.use(plugin);const{c:c$1,find:find$1}=cssr,{cB,cE,cM,cNotM}=plugin;function insideModal(r){return c$1(({props:{bPrefix:t}})=>`${t||prefix}modal, ${t||prefix}drawer`,[r])}function insidePopover(r){return c$1(({props:{bPrefix:t}})=>`${t||prefix}popover:not(${t||prefix}tooltip)`,[r])}function asModal(r){return c$1(({props:{bPrefix:t}})=>`&${t||prefix}modal`,r)}function useFalseUntilTruthy(r){const t=ref(!!r.value);if(t.value)return readonly(t);const n=watch(r,a=>{a&&(t.value=!0,n())});return readonly(t)}function useMemo(r){const t=computed(r),n=ref(t.value);return watch(t,a=>{n.value=a}),typeof r=="function"?n:{__v_isRef:!0,get value(){return n.value},set value(a){r.set(a)}}}function hasInstance(){return getCurrentInstance()!==null}const isBrowser=typeof window!="undefined";let fontsReady,isFontReady;const init$4=()=>{var r,t;fontsReady=isBrowser?(t=(r=document)===null||r===void 0?void 0:r.fonts)===null||t===void 0?void 0:t.ready:void 0,isFontReady=!1,fontsReady!==void 0?fontsReady.then(()=>{isFontReady=!0}):isFontReady=!0};init$4();function onFontsReady(r){if(isFontReady)return;let t=!1;onMounted(()=>{isFontReady||fontsReady==null||fontsReady.then(()=>{t||r()})}),onBeforeUnmount(()=>{t=!0})}const traps={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function createTrapHandler(r,t,n){if(r==="mousemoveoutside"){const a=o=>{t.contains(o.target)||n(o)};return{mousemove:a,touchstart:a}}else if(r==="clickoutside"){let a=!1;const o=l=>{a=!t.contains(l.target)},s=l=>{!a||t.contains(l.target)||n(l)};return{mousedown:o,mouseup:s,touchstart:o,touchend:s}}return console.error(`[evtd/create-trap-handler]: name \`${r}\` is invalid. This could be a bug of evtd.`),{}}function ensureTrapHandlers(r,t,n){const a=traps[r];let o=a.get(t);o===void 0&&a.set(t,o=new WeakMap);let s=o.get(n);return s===void 0&&o.set(n,s=createTrapHandler(r,t,n)),s}function trapOn(r,t,n,a){if(r==="mousemoveoutside"||r==="clickoutside"){const o=ensureTrapHandlers(r,t,n);return Object.keys(o).forEach(s=>{on(s,document,o[s],a)}),!0}return!1}function trapOff(r,t,n,a){if(r==="mousemoveoutside"||r==="clickoutside"){const o=ensureTrapHandlers(r,t,n);return Object.keys(o).forEach(s=>{off(s,document,o[s],a)}),!0}return!1}function createDelegate(){if(typeof window=="undefined")return{on:()=>{},off:()=>{}};const r=new WeakMap,t=new WeakMap;function n(){r.set(this,!0)}function a(){r.set(this,!0),t.set(this,!0)}function o(N,F,H){const Y=N[F];return N[F]=function(){return H.apply(N,arguments),Y.apply(N,arguments)},N}function s(N,F){N[F]=Event.prototype[F]}const l=new WeakMap,u=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function f(){var N;return(N=l.get(this))!==null&&N!==void 0?N:null}function d(N,F){u!==void 0&&Object.defineProperty(N,"currentTarget",{configurable:!0,enumerable:!0,get:F!=null?F:u.get})}const v={bubble:{},capture:{}},g={};function S(){const N=function(F){const{type:H,eventPhase:Y,target:G,bubbles:K}=F;if(Y===2)return;const Z=Y===1?"capture":"bubble";let J=G;const Q=[];for(;J===null&&(J=window),Q.push(J),J!==window;)J=J.parentNode||null;const te=v.capture[H],ie=v.bubble[H];if(o(F,"stopPropagation",n),o(F,"stopImmediatePropagation",a),d(F,f),Z==="capture"){if(te===void 0)return;for(let ne=Q.length-1;ne>=0&&!r.has(F);--ne){const de=Q[ne],ve=te.get(de);if(ve!==void 0){l.set(F,de);for(const pe of ve){if(t.has(F))break;pe(F)}}if(ne===0&&!K&&ie!==void 0){const pe=ie.get(de);if(pe!==void 0)for(const $e of pe){if(t.has(F))break;$e(F)}}}}else if(Z==="bubble"){if(ie===void 0)return;for(let ne=0;ne<Q.length&&!r.has(F);++ne){const de=Q[ne],ve=ie.get(de);if(ve!==void 0){l.set(F,de);for(const pe of ve){if(t.has(F))break;pe(F)}}}}s(F,"stopPropagation"),s(F,"stopImmediatePropagation"),d(F)};return N.displayName="evtdUnifiedHandler",N}function x(){const N=function(F){const{type:H,eventPhase:Y}=F;if(Y!==2)return;const G=g[H];G!==void 0&&G.forEach(K=>K(F))};return N.displayName="evtdUnifiedWindowEventHandler",N}const _=S(),C=x();function T(N,F){const H=v[N];return H[F]===void 0&&(H[F]=new Map,window.addEventListener(F,_,N==="capture")),H[F]}function w(N){return g[N]===void 0&&(g[N]=new Set,window.addEventListener(N,C)),g[N]}function M(N,F){let H=N.get(F);return H===void 0&&N.set(F,H=new Set),H}function D(N,F,H,Y){const G=v[F][H];if(G!==void 0){const K=G.get(N);if(K!==void 0&&K.has(Y))return!0}return!1}function I(N,F){const H=g[N];return!!(H!==void 0&&H.has(F))}function R(N,F,H,Y){let G;if(typeof Y=="object"&&Y.once===!0?G=te=>{$(N,F,G,Y),H(te)}:G=H,trapOn(N,F,G,Y))return;const Z=Y===!0||typeof Y=="object"&&Y.capture===!0?"capture":"bubble",J=T(Z,N),Q=M(J,F);if(Q.has(G)||Q.add(G),F===window){const te=w(N);te.has(G)||te.add(G)}}function $(N,F,H,Y){if(trapOff(N,F,H,Y))return;const K=Y===!0||typeof Y=="object"&&Y.capture===!0,Z=K?"capture":"bubble",J=T(Z,N),Q=M(J,F);if(F===window&&!D(F,K?"bubble":"capture",N,H)&&I(N,H)){const ie=g[N];ie.delete(H),ie.size===0&&(window.removeEventListener(N,C),g[N]=void 0)}Q.has(H)&&Q.delete(H),Q.size===0&&J.delete(F),J.size===0&&(window.removeEventListener(N,_,Z==="capture"),v[Z][N]=void 0)}return{on:R,off:$}}const{on,off}=createDelegate(),mousePositionRef=ref(null);function clickHandler(r){if(r.clientX>0||r.clientY>0)mousePositionRef.value={x:r.clientX,y:r.clientY};else{const{target:t}=r;if(t instanceof Element){const{left:n,top:a,width:o,height:s}=t.getBoundingClientRect();n>0||a>0?mousePositionRef.value={x:n+o/2,y:a+s/2}:mousePositionRef.value={x:0,y:0}}else mousePositionRef.value=null}}let usedCount$1=0,managable$1=!0;function useClickPosition(){if(!isBrowser)return readonly(ref(null));usedCount$1===0&&on("click",document,clickHandler,!0);const r=()=>{usedCount$1+=1};return managable$1&&(managable$1=hasInstance())?(onBeforeMount(r),onBeforeUnmount(()=>{usedCount$1-=1,usedCount$1===0&&off("click",document,clickHandler,!0)})):r(),readonly(mousePositionRef)}const clickedTimeRef=ref(void 0);let usedCount=0;function handleClick(){clickedTimeRef.value=Date.now()}let managable=!0;function useClicked(r){if(!isBrowser)return readonly(ref(!1));const t=ref(!1);let n=null;function a(){n!==null&&window.clearTimeout(n)}function o(){a(),t.value=!0,n=window.setTimeout(()=>{t.value=!1},r)}usedCount===0&&on("click",window,handleClick,!0);const s=()=>{usedCount+=1,on("click",window,o,!0)};return managable&&(managable=hasInstance())?(onBeforeMount(s),onBeforeUnmount(()=>{usedCount-=1,usedCount===0&&off("click",window,handleClick,!0),off("click",window,o,!0),a()})):s(),readonly(t)}function useMergedState(r,t){return watch(r,n=>{n!==void 0&&(t.value=n)}),computed(()=>r.value===void 0?t.value:r.value)}function isMounted(){const r=ref(!1);return onMounted(()=>{r.value=!0}),readonly(r)}const isIos=(typeof window=="undefined"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function useIsIos(){return isIos}const internalSelectionMenuBodyInjectionKey="n-internal-select-menu-body",modalBodyInjectionKey="n-modal-body",modalInjectionKey="n-modal",drawerBodyInjectionKey="n-drawer-body",popoverBodyInjectionKey="n-popover-body",teleportDisabled="__disabled__";function useAdjustedTo(r){const t=inject(modalBodyInjectionKey,null),n=inject(drawerBodyInjectionKey,null),a=inject(popoverBodyInjectionKey,null),o=inject(internalSelectionMenuBodyInjectionKey,null),s=ref();if(typeof document!="undefined"){s.value=document.fullscreenElement;const l=()=>{s.value=document.fullscreenElement};onMounted(()=>{on("fullscreenchange",document,l)}),onBeforeUnmount(()=>{off("fullscreenchange",document,l)})}return useMemo(()=>{var l;const{to:u}=r;return u!==void 0?u===!1?teleportDisabled:u===!0?s.value||"body":u:t!=null&&t.value?(l=t.value.$el)!==null&&l!==void 0?l:t.value:n!=null&&n.value?n.value:a!=null&&a.value?a.value:o!=null&&o.value?o.value:u!=null?u:s.value||"body"})}useAdjustedTo.tdkey=teleportDisabled;useAdjustedTo.propTo={type:[String,Object,Boolean],default:void 0};function getSlot(r,t,n="default"){const a=t[n];if(a===void 0)throw new Error(`[vueuc/${r}]: slot[${n}] is empty.`);return a()}function flatten(r,t=!0,n=[]){return r.forEach(a=>{if(a!==null){if(typeof a!="object"){(typeof a=="string"||typeof a=="number")&&n.push(createTextVNode(String(a)));return}if(Array.isArray(a)){flatten(a,t,n);return}if(a.type===Fragment){if(a.children===null)return;Array.isArray(a.children)&&flatten(a.children,t,n)}else a.type!==Comment&&n.push(a)}}),n}function getFirstVNode(r,t,n="default"){const a=t[n];if(a===void 0)throw new Error(`[vueuc/${r}]: slot[${n}] is empty.`);const o=flatten(a());if(o.length===1)return o[0];throw new Error(`[vueuc/${r}]: slot[${n}] should have exactly one child.`)}let viewMeasurer=null;function ensureViewBoundingRect(){if(viewMeasurer===null&&(viewMeasurer=document.getElementById("v-binder-view-measurer"),viewMeasurer===null)){viewMeasurer=document.createElement("div"),viewMeasurer.id="v-binder-view-measurer";const{style:r}=viewMeasurer;r.position="fixed",r.left="0",r.right="0",r.top="0",r.bottom="0",r.pointerEvents="none",r.visibility="hidden",document.body.appendChild(viewMeasurer)}return viewMeasurer.getBoundingClientRect()}function getPointRect(r,t){const n=ensureViewBoundingRect();return{top:t,left:r,height:0,width:0,right:n.width-r,bottom:n.height-t}}function getRect(r){const t=r.getBoundingClientRect(),n=ensureViewBoundingRect();return{left:t.left-n.left,top:t.top-n.top,bottom:n.height+n.top-t.bottom,right:n.width+n.left-t.right,width:t.width,height:t.height}}function getParentNode(r){return r.nodeType===9?null:r.parentNode}function getScrollParent(r){if(r===null)return null;const t=getParentNode(r);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:n,overflowX:a,overflowY:o}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(n+o+a))return t}return getScrollParent(t)}const Binder=defineComponent({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(r){var t;provide("VBinder",(t=getCurrentInstance())===null||t===void 0?void 0:t.proxy);const n=inject("VBinder",null),a=ref(null),o=w=>{a.value=w,n&&r.syncTargetWithParent&&n.setTargetRef(w)};let s=[];const l=()=>{let w=a.value;for(;w=getScrollParent(w),w!==null;)s.push(w);for(const M of s)on("scroll",M,g,!0)},u=()=>{for(const w of s)off("scroll",w,g,!0);s=[]},f=new Set,d=w=>{f.size===0&&l(),f.has(w)||f.add(w)},v=w=>{f.has(w)&&f.delete(w),f.size===0&&u()},g=()=>{beforeNextFrameOnce(S)},S=()=>{f.forEach(w=>w())},x=new Set,_=w=>{x.size===0&&on("resize",window,T),x.has(w)||x.add(w)},C=w=>{x.has(w)&&x.delete(w),x.size===0&&off("resize",window,T)},T=()=>{x.forEach(w=>w())};return onBeforeUnmount(()=>{off("resize",window,T),u()}),{targetRef:a,setTargetRef:o,addScrollListener:d,removeScrollListener:v,addResizeListener:_,removeResizeListener:C}},render(){return getSlot("binder",this.$slots)}});var VBinder=Binder,VTarget=defineComponent({name:"Target",setup(){const{setTargetRef:r,syncTarget:t}=inject("VBinder");return{syncTarget:t,setTargetDirective:{mounted:r,updated:r}}},render(){const{syncTarget:r,setTargetDirective:t}=this;return r?withDirectives(getFirstVNode("follower",this.$slots),[[t]]):getFirstVNode("follower",this.$slots)}});const ctxKey="@@coContext",clickoutside={mounted(r,{value:t,modifiers:n}){r[ctxKey]={handler:void 0},typeof t=="function"&&(r[ctxKey].handler=t,on("clickoutside",r,t,{capture:n.capture}))},updated(r,{value:t,modifiers:n}){const a=r[ctxKey];typeof t=="function"?a.handler?a.handler!==t&&(off("clickoutside",r,a.handler,{capture:n.capture}),a.handler=t,on("clickoutside",r,t,{capture:n.capture})):(r[ctxKey].handler=t,on("clickoutside",r,t,{capture:n.capture})):a.handler&&(off("clickoutside",r,a.handler,{capture:n.capture}),a.handler=void 0)},unmounted(r,{modifiers:t}){const{handler:n}=r[ctxKey];n&&off("clickoutside",r,n,{capture:t.capture}),r[ctxKey].handler=void 0}};var clickoutside$1=clickoutside;function warn$2(r,t){console.error(`[vdirs/${r}]: ${t}`)}class ZIndexManager{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,n){const{elementZIndex:a}=this;if(n!==void 0){t.style.zIndex=`${n}`,a.delete(t);return}const{nextZIndex:o}=this;a.has(t)&&a.get(t)+1===this.nextZIndex||(t.style.zIndex=`${o}`,a.set(t,o),this.nextZIndex=o+1,this.squashState())}unregister(t,n){const{elementZIndex:a}=this;a.has(t)?a.delete(t):n===void 0&&warn$2("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((n,a)=>n[1]-a[1]),this.nextZIndex=2e3,t.forEach(n=>{const a=n[0],o=this.nextZIndex++;`${o}`!==a.style.zIndex&&(a.style.zIndex=`${o}`)})}}var zIndexManager=new ZIndexManager;const ctx="@@ziContext",zindexable={mounted(r,t){const{value:n={}}=t,{zIndex:a,enabled:o}=n;r[ctx]={enabled:!!o,initialized:!1},o&&(zIndexManager.ensureZIndex(r,a),r[ctx].initialized=!0)},updated(r,t){const{value:n={}}=t,{zIndex:a,enabled:o}=n,s=r[ctx].enabled;o&&!s&&(zIndexManager.ensureZIndex(r,a),r[ctx].initialized=!0),r[ctx].enabled=!!o},unmounted(r,t){if(!r[ctx].initialized)return;const{value:n={}}=t,{zIndex:a}=n;zIndexManager.unregister(r,a)}};var zindexable$1=zindexable;const ssrContextKey=Symbol("@css-render/vue3-ssr");function createStyleString(r,t){return`<style cssr-id="${r}">
${t}
</style>`}function ssrAdapter(r,t){const n=inject(ssrContextKey,null);if(n===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:a,ids:o}=n;o.has(r)||a!==null&&(o.add(r),a.push(createStyleString(r,t)))}function useSsrAdapter(){const r=inject(ssrContextKey,null);if(r!==null)return{adapter:ssrAdapter,context:r}}function warn$1(r,t){console.error(`[vueuc/${r}]: ${t}`)}const{c}=CssRender(),cssrAnchorMetaName$1="vueuc-style";function resolveTo(r){return typeof r=="string"?document.querySelector(r):r()}var LazyTeleport=defineComponent({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(r){return{showTeleport:useFalseUntilTruthy(toRef(r,"show")),mergedTo:computed(()=>{const{to:t}=r;return t!=null?t:"body"})}},render(){return this.showTeleport?this.disabled?getSlot("lazy-teleport",this.$slots):h(Teleport,{disabled:this.disabled,to:this.mergedTo},getSlot("lazy-teleport",this.$slots)):null}});const oppositionPositions={top:"bottom",bottom:"top",left:"right",right:"left"},oppositeAligns={start:"end",center:"center",end:"start"},propToCompare={top:"height",bottom:"height",left:"width",right:"width"},transformOrigins={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},overlapTransformOrigin={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},oppositeAlignCssPositionProps={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},keepOffsetDirection={top:!0,bottom:!1,left:!0,right:!1},cssPositionToOppositeAlign={top:"end",bottom:"start",left:"end",right:"start"};function getPlacementAndOffsetOfFollower(r,t,n,a,o,s){if(!o||s)return{placement:r,top:0,left:0};const[l,u]=r.split("-");let f=u!=null?u:"center",d={top:0,left:0};const v=(x,_,C)=>{let T=0,w=0;const M=n[x]-t[_]-t[x];return M>0&&a&&(C?w=keepOffsetDirection[_]?M:-M:T=keepOffsetDirection[_]?M:-M),{left:T,top:w}},g=l==="left"||l==="right";if(f!=="center"){const x=oppositeAlignCssPositionProps[r],_=oppositionPositions[x],C=propToCompare[x];if(n[C]>t[C]){if(t[x]+t[C]<n[C]){const T=(n[C]-t[C])/2;t[x]<T||t[_]<T?t[x]<t[_]?(f=oppositeAligns[u],d=v(C,_,g)):d=v(C,x,g):f="center"}}else n[C]<t[C]&&t[_]<0&&t[x]>t[_]&&(f=oppositeAligns[u])}else{const x=l==="bottom"||l==="top"?"left":"top",_=oppositionPositions[x],C=propToCompare[x],T=(n[C]-t[C])/2;(t[x]<T||t[_]<T)&&(t[x]>t[_]?(f=cssPositionToOppositeAlign[x],d=v(C,x,g)):(f=cssPositionToOppositeAlign[_],d=v(C,_,g)))}let S=l;return t[l]<n[propToCompare[l]]&&t[l]<t[oppositionPositions[l]]&&(S=oppositionPositions[l]),{placement:f!=="center"?`${S}-${f}`:S,left:d.left,top:d.top}}function getProperTransformOrigin(r,t){return t?overlapTransformOrigin[r]:transformOrigins[r]}function getOffset(r,t,n,a,o,s){if(s)switch(r){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(r){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height+a)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height+a)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top+a)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(n.top-t.top+a)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top+a)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(n.top-t.top+n.height+a)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top+a)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(n.top-t.top+n.height+a)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top+a)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2+a)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2+a)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(n.top-t.top+n.height+a)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateX(-50%)"}}}const style$j=c([c(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),c(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[c("> *",{pointerEvents:"all"})])]);var VFollower=defineComponent({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(r){const t=inject("VBinder"),n=useMemo(()=>r.enabled!==void 0?r.enabled:r.show),a=ref(null),o=ref(null),s=()=>{const{syncTrigger:S}=r;S.includes("scroll")&&t.addScrollListener(f),S.includes("resize")&&t.addResizeListener(f)},l=()=>{t.removeScrollListener(f),t.removeResizeListener(f)};onMounted(()=>{n.value&&(f(),s())});const u=useSsrAdapter();style$j.mount({id:"vueuc/binder",head:!0,anchorMetaName:cssrAnchorMetaName$1,ssr:u}),onBeforeUnmount(()=>{l()}),onFontsReady(()=>{n.value&&f()});const f=()=>{if(!n.value)return;const S=a.value;if(S===null)return;const x=t.targetRef,{x:_,y:C,overlap:T}=r,w=_!==void 0&&C!==void 0?getPointRect(_,C):getRect(x);S.style.setProperty("--v-target-width",`${Math.round(w.width)}px`),S.style.setProperty("--v-target-height",`${Math.round(w.height)}px`);const{width:M,minWidth:D,placement:I,internalShift:R,flip:$}=r;S.setAttribute("v-placement",I),T?S.setAttribute("v-overlap",""):S.removeAttribute("v-overlap");const{style:N}=S;M==="target"?N.width=`${w.width}px`:M!==void 0?N.width=M:N.width="",D==="target"?N.minWidth=`${w.width}px`:D!==void 0?N.minWidth=D:N.minWidth="";const F=getRect(S),H=getRect(o.value),{left:Y,top:G,placement:K}=getPlacementAndOffsetOfFollower(I,w,F,R,$,T),Z=getProperTransformOrigin(K,T),{left:J,top:Q,transform:te}=getOffset(K,H,w,G,Y,T);S.setAttribute("v-placement",K),S.style.setProperty("--v-offset-left",`${Math.round(Y)}px`),S.style.setProperty("--v-offset-top",`${Math.round(G)}px`),S.style.transform=`translateX(${J}) translateY(${Q}) ${te}`,S.style.transformOrigin=Z};watch(n,S=>{S?(s(),d()):l()});const d=()=>{nextTick().then(f).catch(S=>console.error(S))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(S=>{watch(toRef(r,S),f)}),["teleportDisabled"].forEach(S=>{watch(toRef(r,S),d)}),watch(toRef(r,"syncTrigger"),S=>{S.includes("resize")?t.addResizeListener(f):t.removeResizeListener(f),S.includes("scroll")?t.addScrollListener(f):t.removeScrollListener(f)});const v=isMounted(),g=useMemo(()=>{const{to:S}=r;if(S!==void 0)return S;v.value});return{VBinder:t,mergedEnabled:n,offsetContainerRef:o,followerRef:a,mergedTo:g,syncPosition:f}},render(){return h(LazyTeleport,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var r,t;const n=h("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[h("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r))]);return this.zindexable?withDirectives(n,[[zindexable$1,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}}),resizeObservers=[],hasActiveObservations=function(){return resizeObservers.some(function(r){return r.activeTargets.length>0})},hasSkippedObservations=function(){return resizeObservers.some(function(r){return r.skippedTargets.length>0})},msg="ResizeObserver loop completed with undelivered notifications.",deliverResizeLoopError=function(){var r;typeof ErrorEvent=="function"?r=new ErrorEvent("error",{message:msg}):(r=document.createEvent("Event"),r.initEvent("error",!1,!1),r.message=msg),window.dispatchEvent(r)},ResizeObserverBoxOptions;(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=function(r){return Object.freeze(r)},ResizeObserverSize=function(){function r(t,n){this.inlineSize=t,this.blockSize=n,freeze(this)}return r}(),DOMRectReadOnly=function(){function r(t,n,a,o){return this.x=t,this.y=n,this.width=a,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return r.prototype.toJSON=function(){var t=this,n=t.x,a=t.y,o=t.top,s=t.right,l=t.bottom,u=t.left,f=t.width,d=t.height;return{x:n,y:a,top:o,right:s,bottom:l,left:u,width:f,height:d}},r.fromRect=function(t){return new r(t.x,t.y,t.width,t.height)},r}(),isSVG=function(r){return r instanceof SVGElement&&"getBBox"in r},isHidden=function(r){if(isSVG(r)){var t=r.getBBox(),n=t.width,a=t.height;return!n&&!a}var o=r,s=o.offsetWidth,l=o.offsetHeight;return!(s||l||r.getClientRects().length)},isElement=function(r){var t,n;if(r instanceof Element)return!0;var a=(n=(t=r)===null||t===void 0?void 0:t.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(a&&r instanceof a.Element)},isReplacedElement=function(r){switch(r.tagName){case"INPUT":if(r.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},global$1=typeof window!="undefined"?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global$1.navigator&&global$1.navigator.userAgent),parseDimension=function(r){return parseFloat(r||"0")},size=function(r,t,n){return r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=!1),new ResizeObserverSize((n?t:r)||0,(n?r:t)||0)},zeroBoxes=freeze({devicePixelContentBoxSize:size(),borderBoxSize:size(),contentBoxSize:size(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=function(r,t){if(t===void 0&&(t=!1),cache.has(r)&&!t)return cache.get(r);if(isHidden(r))return cache.set(r,zeroBoxes),zeroBoxes;var n=getComputedStyle(r),a=isSVG(r)&&r.ownerSVGElement&&r.getBBox(),o=!IE&&n.boxSizing==="border-box",s=verticalRegexp.test(n.writingMode||""),l=!a&&scrollRegexp.test(n.overflowY||""),u=!a&&scrollRegexp.test(n.overflowX||""),f=a?0:parseDimension(n.paddingTop),d=a?0:parseDimension(n.paddingRight),v=a?0:parseDimension(n.paddingBottom),g=a?0:parseDimension(n.paddingLeft),S=a?0:parseDimension(n.borderTopWidth),x=a?0:parseDimension(n.borderRightWidth),_=a?0:parseDimension(n.borderBottomWidth),C=a?0:parseDimension(n.borderLeftWidth),T=g+d,w=f+v,M=C+x,D=S+_,I=u?r.offsetHeight-D-r.clientHeight:0,R=l?r.offsetWidth-M-r.clientWidth:0,$=o?T+M:0,N=o?w+D:0,F=a?a.width:parseDimension(n.width)-$-R,H=a?a.height:parseDimension(n.height)-N-I,Y=F+T+R+M,G=H+w+I+D,K=freeze({devicePixelContentBoxSize:size(Math.round(F*devicePixelRatio),Math.round(H*devicePixelRatio),s),borderBoxSize:size(Y,G,s),contentBoxSize:size(F,H,s),contentRect:new DOMRectReadOnly(g,f,F,H)});return cache.set(r,K),K},calculateBoxSize=function(r,t,n){var a=calculateBoxSizes(r,n),o=a.borderBoxSize,s=a.contentBoxSize,l=a.devicePixelContentBoxSize;switch(t){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return l;case ResizeObserverBoxOptions.BORDER_BOX:return o;default:return s}},ResizeObserverEntry=function(){function r(t){var n=calculateBoxSizes(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=freeze([n.borderBoxSize]),this.contentBoxSize=freeze([n.contentBoxSize]),this.devicePixelContentBoxSize=freeze([n.devicePixelContentBoxSize])}return r}(),calculateDepthForNode=function(r){if(isHidden(r))return 1/0;for(var t=0,n=r.parentNode;n;)t+=1,n=n.parentNode;return t},broadcastActiveObservations=function(){var r=1/0,t=[];resizeObservers.forEach(function(l){if(l.activeTargets.length!==0){var u=[];l.activeTargets.forEach(function(d){var v=new ResizeObserverEntry(d.target),g=calculateDepthForNode(d.target);u.push(v),d.lastReportedSize=calculateBoxSize(d.target,d.observedBox),g<r&&(r=g)}),t.push(function(){l.callback.call(l.observer,u,l.observer)}),l.activeTargets.splice(0,l.activeTargets.length)}});for(var n=0,a=t;n<a.length;n++){var o=a[n];o()}return r},gatherActiveObservationsAtDepth=function(r){resizeObservers.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(calculateDepthForNode(o.target)>r?n.activeTargets.push(o):n.skippedTargets.push(o))})})},process=function(){var r=0;for(gatherActiveObservationsAtDepth(r);hasActiveObservations();)r=broadcastActiveObservations(),gatherActiveObservationsAtDepth(r);return hasSkippedObservations()&&deliverResizeLoopError(),r>0},trigger$2,callbacks=[],notify=function(){return callbacks.splice(0).forEach(function(r){return r()})},queueMicroTask=function(r){if(!trigger$2){var t=0,n=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return notify()}).observe(n,a),trigger$2=function(){n.textContent=""+(t?t--:t++)}}callbacks.push(r),trigger$2()},queueResizeObserver=function(r){queueMicroTask(function(){requestAnimationFrame(r)})},watching=0,isWatching=function(){return!!watching},CATCH_PERIOD=250,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time=function(r){return r===void 0&&(r=0),Date.now()+r},scheduled=!1,Scheduler$2=function(){function r(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return r.prototype.run=function(t){var n=this;if(t===void 0&&(t=CATCH_PERIOD),!scheduled){scheduled=!0;var a=time(t);queueResizeObserver(function(){var o=!1;try{o=process()}finally{if(scheduled=!1,t=a-time(),!isWatching())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},r.prototype.schedule=function(){this.stop(),this.run()},r.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,observerConfig)};document.body?n():global$1.addEventListener("DOMContentLoaded",n)},r.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events.forEach(function(n){return global$1.addEventListener(n,t.listener,!0)}))},r.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),events.forEach(function(n){return global$1.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},r}(),scheduler=new Scheduler$2,updateCount=function(r){!watching&&r>0&&scheduler.start(),watching+=r,!watching&&scheduler.stop()},skipNotifyOnElement=function(r){return!isSVG(r)&&!isReplacedElement(r)&&getComputedStyle(r).display==="inline"},ResizeObservation=function(){function r(t,n){this.target=t,this.observedBox=n||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return r.prototype.isActive=function(){var t=calculateBoxSize(this.target,this.observedBox,!0);return skipNotifyOnElement(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},r}(),ResizeObserverDetail=function(){function r(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return r}(),observerMap=new WeakMap,getObservationIndex=function(r,t){for(var n=0;n<r.length;n+=1)if(r[n].target===t)return n;return-1},ResizeObserverController=function(){function r(){}return r.connect=function(t,n){var a=new ResizeObserverDetail(t,n);observerMap.set(t,a)},r.observe=function(t,n,a){var o=observerMap.get(t),s=o.observationTargets.length===0;getObservationIndex(o.observationTargets,n)<0&&(s&&resizeObservers.push(o),o.observationTargets.push(new ResizeObservation(n,a&&a.box)),updateCount(1),scheduler.schedule())},r.unobserve=function(t,n){var a=observerMap.get(t),o=getObservationIndex(a.observationTargets,n),s=a.observationTargets.length===1;o>=0&&(s&&resizeObservers.splice(resizeObservers.indexOf(a),1),a.observationTargets.splice(o,1),updateCount(-1))},r.disconnect=function(t){var n=this,a=observerMap.get(t);a.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),a.activeTargets.splice(0,a.activeTargets.length)},r}(),ResizeObserver$1=function(){function r(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,t)}return r.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,t,n)},r.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,t)},r.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},r.toString=function(){return"function ResizeObserver () { [polyfill code] }"},r}();class ResizeObserverDelegate{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new ResizeObserver$1(this.handleResize),this.elHandlersMap=new Map}handleResize(t){for(const n of t){const a=this.elHandlersMap.get(n.target);a!==void 0&&a(n)}}registerHandler(t,n){this.elHandlersMap.set(t,n),this.observer.observe(t)}unregisterHandler(t){!this.elHandlersMap.has(t)||(this.elHandlersMap.delete(t),this.observer.unobserve(t))}}var resizeObserverManager=new ResizeObserverDelegate,VResizeObserver=defineComponent({name:"ResizeObserver",props:{onResize:Function},setup(r){return{registered:!1,handleResize(t){const{onResize:n}=r;n!==void 0&&n(t)}}},mounted(){const r=this.$el;if(r===void 0){warn$1("resize-observer","$el does not exist.");return}if(r.nextElementSibling!==r.nextSibling&&r.nodeType===3&&r.nodeValue!==""){warn$1("resize-observer","$el can not be observed (it may be a text node).");return}r.nextElementSibling!==null&&(resizeObserverManager.registerHandler(r.nextElementSibling,this.handleResize),this.registered=!0)},beforeUnmount(){this.registered&&resizeObserverManager.unregisterHandler(this.$el.nextElementSibling)},render(){return renderSlot(this.$slots,"default")}});function isHTMLElement(r){return r instanceof HTMLElement}function focusFirstDescendant(r){for(let t=0;t<r.childNodes.length;t++){const n=r.childNodes[t];if(isHTMLElement(n)&&(attemptFocus(n)||focusFirstDescendant(n)))return!0}return!1}function focusLastDescendant(r){for(let t=r.childNodes.length-1;t>=0;t--){const n=r.childNodes[t];if(isHTMLElement(n)&&(attemptFocus(n)||focusLastDescendant(n)))return!0}return!1}function attemptFocus(r){if(!isFocusable(r))return!1;try{r.focus({preventScroll:!0})}catch{}return document.activeElement===r}function isFocusable(r){if(r.tabIndex>0||r.tabIndex===0&&r.getAttribute("tabIndex")!==null)return!0;if(r.getAttribute("disabled"))return!1;switch(r.nodeName){case"A":return!!r.href&&r.rel!=="ignore";case"INPUT":return r.type!=="hidden"&&r.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let stack=[];const FocusTrap=defineComponent({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(r){const t=createId(),n=ref(null),a=ref(null);let o=!1,s=!1;const l=document.activeElement;function u(){return stack[stack.length-1]===t}function f(T){var w;T.code==="Escape"&&u()&&((w=r.onEsc)===null||w===void 0||w.call(r))}onMounted(()=>{watch(()=>r.active,T=>{T?(g(),on("keydown",document,f)):(off("keydown",document,f),o&&S())},{immediate:!0})}),onBeforeUnmount(()=>{off("keydown",document,f),o&&S()});function d(T){if(!s&&u()){const w=v();if(w===null||w.contains(T.target))return;x("first")}}function v(){const T=n.value;if(T===null)return null;let w=T;for(;w=w.nextSibling,!(w===null||w instanceof Element&&w.tagName==="DIV"););return w}function g(){var T;if(!r.disabled){if(stack.push(t),r.autoFocus){const{initialFocusTo:w}=r;w===void 0?x("first"):(T=resolveTo(w))===null||T===void 0||T.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",d,!0)}}function S(){var T;if(r.disabled||(document.removeEventListener("focus",d,!0),stack=stack.filter(M=>M!==t),u()))return;const{finalFocusTo:w}=r;w!==void 0?(T=resolveTo(w))===null||T===void 0||T.focus({preventScroll:!0}):r.returnFocusOnDeactivated&&l instanceof HTMLElement&&(s=!0,l.focus({preventScroll:!0}),s=!1)}function x(T){if(!!u()&&r.active){const w=n.value,M=a.value;if(w!==null&&M!==null){const D=v();if(D==null||D===M){s=!0,w.focus({preventScroll:!0}),s=!1;return}s=!0;const I=T==="first"?focusFirstDescendant(D):focusLastDescendant(D);s=!1,I||(s=!0,w.focus({preventScroll:!0}),s=!1)}}}function _(T){if(s)return;const w=v();w!==null&&(T.relatedTarget!==null&&w.contains(T.relatedTarget)?x("last"):x("first"))}function C(T){s||(T.relatedTarget!==null&&T.relatedTarget===n.value?x("last"):x("first"))}return{focusableStartRef:n,focusableEndRef:a,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:_,handleEndFocus:C}},render(){const{default:r}=this.$slots;if(r===void 0)return null;if(this.disabled)return r();const{active:t,focusableStyle:n}=this;return h(Fragment,null,[h("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),r(),h("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}}),formItemInjectionKey="n-form-item";function useFormItem(r,{defaultSize:t="medium",mergedSize:n,mergedDisabled:a}={}){const o=inject(formItemInjectionKey,null);provide(formItemInjectionKey,null);const s=computed(n?()=>n(o):()=>{const{size:f}=r;if(f)return f;if(o){const{mergedSize:d}=o;if(d.value!==void 0)return d.value}return t}),l=computed(a?()=>a(o):()=>{const{disabled:f}=r;return f!==void 0?f:o?o.disabled.value:!1}),u=computed(()=>{const{status:f}=r;return f||(o==null?void 0:o.mergedValidationStatus.value)});return onBeforeUnmount(()=>{o&&o.restoreValidation()}),{mergedSizeRef:s,mergedDisabledRef:l,mergedStatusRef:u,nTriggerFormBlur(){o&&o.handleContentBlur()},nTriggerFormChange(){o&&o.handleContentChange()},nTriggerFormFocus(){o&&o.handleContentFocus()},nTriggerFormInput(){o&&o.handleContentInput()}}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal$1=freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")(),root$1=root,Symbol$2=root$1.Symbol,Symbol$3=Symbol$2,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty,nativeObjectToString$1=objectProto$a.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag(r){var t=hasOwnProperty$8.call(r,symToStringTag$1),n=r[symToStringTag$1];try{r[symToStringTag$1]=void 0;var a=!0}catch{}var o=nativeObjectToString$1.call(r);return a&&(t?r[symToStringTag$1]=n:delete r[symToStringTag$1]),o}var objectProto$9=Object.prototype,nativeObjectToString=objectProto$9.toString;function objectToString(r){return nativeObjectToString.call(r)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag(r){return r==null?r===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(r)?getRawTag(r):objectToString(r)}function isObjectLike(r){return r!=null&&typeof r=="object"}var symbolTag="[object Symbol]";function isSymbol(r){return typeof r=="symbol"||isObjectLike(r)&&baseGetTag(r)==symbolTag}function arrayMap(r,t){for(var n=-1,a=r==null?0:r.length,o=Array(a);++n<a;)o[n]=t(r[n],n,r);return o}var isArray$2=Array.isArray,isArray$3=isArray$2,INFINITY=1/0,symbolProto=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(r){if(typeof r=="string")return r;if(isArray$3(r))return arrayMap(r,baseToString)+"";if(isSymbol(r))return symbolToString?symbolToString.call(r):"";var t=r+"";return t=="0"&&1/r==-INFINITY?"-0":t}function isObject$5(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function identity$1(r){return r}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(r){if(!isObject$5(r))return!1;var t=baseGetTag(r);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var coreJsData=root$1["__core-js_shared__"],coreJsData$1=coreJsData,maskSrcKey=function(){var r=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function isMasked(r){return!!maskSrcKey&&maskSrcKey in r}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(r){if(r!=null){try{return funcToString$2.call(r)}catch{}try{return r+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$8=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$7=objectProto$8.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(r){if(!isObject$5(r)||isMasked(r))return!1;var t=isFunction$1(r)?reIsNative:reIsHostCtor;return t.test(toSource(r))}function getValue(r,t){return r==null?void 0:r[t]}function getNative(r,t){var n=getValue(r,t);return baseIsNative(n)?n:void 0}var objectCreate=Object.create,baseCreate=function(){function r(){}return function(t){if(!isObject$5(t))return{};if(objectCreate)return objectCreate(t);r.prototype=t;var n=new r;return r.prototype=void 0,n}}(),baseCreate$1=baseCreate;function apply(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)}function copyArray(r,t){var n=-1,a=r.length;for(t||(t=Array(a));++n<a;)t[n]=r[n];return t}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(r){var t=0,n=0;return function(){var a=nativeNow(),o=HOT_SPAN-(a-n);if(n=a,o>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function constant(r){return function(){return r}}var defineProperty=function(){try{var r=getNative(Object,"defineProperty");return r({},"",{}),r}catch{}}(),defineProperty$1=defineProperty,baseSetToString=defineProperty$1?function(r,t){return defineProperty$1(r,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity$1,baseSetToString$1=baseSetToString,setToString=shortOut(baseSetToString$1),setToString$1=setToString,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(r,t){var n=typeof r;return t=t==null?MAX_SAFE_INTEGER$2:t,!!t&&(n=="number"||n!="symbol"&&reIsUint.test(r))&&r>-1&&r%1==0&&r<t}function baseAssignValue(r,t,n){t=="__proto__"&&defineProperty$1?defineProperty$1(r,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[t]=n}function eq(r,t){return r===t||r!==r&&t!==t}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function assignValue(r,t,n){var a=r[t];(!(hasOwnProperty$6.call(r,t)&&eq(a,n))||n===void 0&&!(t in r))&&baseAssignValue(r,t,n)}function copyObject(r,t,n,a){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],f=a?a(n[u],r[u],u,n,r):void 0;f===void 0&&(f=r[u]),o?baseAssignValue(n,u,f):assignValue(n,u,f)}return n}var nativeMax=Math.max;function overRest(r,t,n){return t=nativeMax(t===void 0?r.length-1:t,0),function(){for(var a=arguments,o=-1,s=nativeMax(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=n(l),apply(r,this,u)}}function baseRest(r,t){return setToString$1(overRest(r,t,identity$1),r+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER$1}function isArrayLike$1(r){return r!=null&&isLength(r.length)&&!isFunction$1(r)}function isIterateeCall(r,t,n){if(!isObject$5(n))return!1;var a=typeof t;return(a=="number"?isArrayLike$1(n)&&isIndex(t,n.length):a=="string"&&t in n)?eq(n[t],r):!1}function createAssigner(r){return baseRest(function(t,n){var a=-1,o=n.length,s=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(s=r.length>3&&typeof s=="function"?(o--,s):void 0,l&&isIterateeCall(n[0],n[1],l)&&(s=o<3?void 0:s,o=1),t=Object(t);++a<o;){var u=n[a];u&&r(t,u,a,s)}return t})}var objectProto$6=Object.prototype;function isPrototype(r){var t=r&&r.constructor,n=typeof t=="function"&&t.prototype||objectProto$6;return r===n}function baseTimes(r,t){for(var n=-1,a=Array(r);++n<r;)a[n]=t(n);return a}var argsTag$1="[object Arguments]";function baseIsArguments(r){return isObjectLike(r)&&baseGetTag(r)==argsTag$1}var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(r){return isObjectLike(r)&&hasOwnProperty$5.call(r,"callee")&&!propertyIsEnumerable.call(r,"callee")},isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,isBuffer$1=isBuffer,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!typedArrayTags[baseGetTag(r)]}function baseUnary(r){return function(t){return r(t)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var r=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return r||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeUtil$1=nodeUtil,nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray$2=isTypedArray$1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function arrayLikeKeys(r,t){var n=isArray$3(r),a=!n&&isArguments$1(r),o=!n&&!a&&isBuffer$1(r),s=!n&&!a&&!o&&isTypedArray$2(r),l=n||a||o||s,u=l?baseTimes(r.length,String):[],f=u.length;for(var d in r)(t||hasOwnProperty$4.call(r,d))&&!(l&&(d=="length"||o&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||isIndex(d,f)))&&u.push(d);return u}function overArg(r,t){return function(n){return r(t(n))}}function nativeKeysIn(r){var t=[];if(r!=null)for(var n in Object(r))t.push(n);return t}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeysIn(r){if(!isObject$5(r))return nativeKeysIn(r);var t=isPrototype(r),n=[];for(var a in r)a=="constructor"&&(t||!hasOwnProperty$3.call(r,a))||n.push(a);return n}function keysIn(r){return isArrayLike$1(r)?arrayLikeKeys(r,!0):baseKeysIn(r)}var nativeCreate=getNative(Object,"create"),nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function hashGet(r){var t=this.__data__;if(nativeCreate$1){var n=t[r];return n===HASH_UNDEFINED$1?void 0:n}return hasOwnProperty$2.call(t,r)?t[r]:void 0}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashHas(r){var t=this.__data__;return nativeCreate$1?t[r]!==void 0:hasOwnProperty$1.call(t,r)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(r,t){var n=this.__data__;return this.size+=this.has(r)?0:1,n[r]=nativeCreate$1&&t===void 0?HASH_UNDEFINED:t,this}function Hash(r){var t=-1,n=r==null?0:r.length;for(this.clear();++t<n;){var a=r[t];this.set(a[0],a[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(r,t){for(var n=r.length;n--;)if(eq(r[n][0],t))return n;return-1}var arrayProto$1=Array.prototype,splice=arrayProto$1.splice;function listCacheDelete(r){var t=this.__data__,n=assocIndexOf(t,r);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():splice.call(t,n,1),--this.size,!0}function listCacheGet$1(r){var t=this.__data__,n=assocIndexOf(t,r);return n<0?void 0:t[n][1]}function listCacheHas(r){return assocIndexOf(this.__data__,r)>-1}function listCacheSet$1(r,t){var n=this.__data__,a=assocIndexOf(n,r);return a<0?(++this.size,n.push([r,t])):n[a][1]=t,this}function ListCache(r){var t=-1,n=r==null?0:r.length;for(this.clear();++t<n;){var a=r[t];this.set(a[0],a[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet$1;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet$1;var Map$1=getNative(root$1,"Map"),Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function getMapData(r,t){var n=r.__data__;return isKeyable(t)?n[typeof t=="string"?"string":"hash"]:n.map}function mapCacheDelete(r){var t=getMapData(this,r).delete(r);return this.size-=t?1:0,t}function mapCacheGet(r){return getMapData(this,r).get(r)}function mapCacheHas(r){return getMapData(this,r).has(r)}function mapCacheSet(r,t){var n=getMapData(this,r),a=n.size;return n.set(r,t),this.size+=n.size==a?0:1,this}function MapCache(r){var t=-1,n=r==null?0:r.length;for(this.clear();++t<n;){var a=r[t];this.set(a[0],a[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function toString(r){return r==null?"":baseToString(r)}var getPrototype=overArg(Object.getPrototypeOf,Object),getPrototype$1=getPrototype,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(r){if(!isObjectLike(r)||baseGetTag(r)!=objectTag)return!1;var t=getPrototype$1(r);if(t===null)return!0;var n=hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&funcToString.call(n)==objectCtorString}function baseSlice(r,t,n){var a=-1,o=r.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++a<o;)s[a]=r[a+t];return s}function castSlice(r,t,n){var a=r.length;return n=n===void 0?a:n,!t&&n>=a?r:baseSlice(r,t,n)}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode(r){return reHasUnicode.test(r)}function asciiToArray(r){return r.split("")}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(r){return r.match(reUnicode)||[]}function stringToArray(r){return hasUnicode(r)?unicodeToArray(r):asciiToArray(r)}function createCaseFirst(r){return function(t){t=toString(t);var n=hasUnicode(t)?stringToArray(t):void 0,a=n?n[0]:t.charAt(0),o=n?castSlice(n,1).join(""):t.slice(1);return a[r]()+o}}var upperFirst=createCaseFirst("toUpperCase"),upperFirst$1=upperFirst;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(r){var t=this.__data__,n=t.delete(r);return this.size=t.size,n}function stackGet(r){return this.__data__.get(r)}function stackHas(r){return this.__data__.has(r)}var LARGE_ARRAY_SIZE=200;function stackSet(r,t){var n=this.__data__;if(n instanceof ListCache){var a=n.__data__;if(!Map$2||a.length<LARGE_ARRAY_SIZE-1)return a.push([r,t]),this.size=++n.size,this;n=this.__data__=new MapCache(a)}return n.set(r,t),this.size=n.size,this}function Stack(r){var t=this.__data__=new ListCache(r);this.size=t.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(r,t){if(t)return r.slice();var n=r.length,a=allocUnsafe?allocUnsafe(n):new r.constructor(n);return r.copy(a),a}var Uint8Array$1=root$1.Uint8Array,Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(r){var t=new r.constructor(r.byteLength);return new Uint8Array$2(t).set(new Uint8Array$2(r)),t}function cloneTypedArray(r,t){var n=t?cloneArrayBuffer(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}function initCloneObject(r){return typeof r.constructor=="function"&&!isPrototype(r)?baseCreate$1(getPrototype$1(r)):{}}function createBaseFor(r){return function(t,n,a){for(var o=-1,s=Object(t),l=a(t),u=l.length;u--;){var f=l[r?u:++o];if(n(s[f],f,s)===!1)break}return t}}var baseFor=createBaseFor(),baseFor$1=baseFor;function assignMergeValue(r,t,n){(n!==void 0&&!eq(r[t],n)||n===void 0&&!(t in r))&&baseAssignValue(r,t,n)}function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike$1(r)}function safeGet(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function toPlainObject(r){return copyObject(r,keysIn(r))}function baseMergeDeep(r,t,n,a,o,s,l){var u=safeGet(r,n),f=safeGet(t,n),d=l.get(f);if(d){assignMergeValue(r,n,d);return}var v=s?s(u,f,n+"",r,t,l):void 0,g=v===void 0;if(g){var S=isArray$3(f),x=!S&&isBuffer$1(f),_=!S&&!x&&isTypedArray$2(f);v=f,S||x||_?isArray$3(u)?v=u:isArrayLikeObject(u)?v=copyArray(u):x?(g=!1,v=cloneBuffer(f,!0)):_?(g=!1,v=cloneTypedArray(f,!0)):v=[]:isPlainObject(f)||isArguments$1(f)?(v=u,isArguments$1(u)?v=toPlainObject(u):(!isObject$5(u)||isFunction$1(u))&&(v=initCloneObject(f))):g=!1}g&&(l.set(f,v),o(v,f,a,s,l),l.delete(f)),assignMergeValue(r,n,v)}function baseMerge(r,t,n,a,o){r!==t&&baseFor$1(t,function(s,l){if(o||(o=new Stack),isObject$5(s))baseMergeDeep(r,t,l,n,baseMerge,a,o);else{var u=a?a(safeGet(r,l),s,l+"",r,t,o):void 0;u===void 0&&(u=s),assignMergeValue(r,l,u)}},keysIn)}var merge$1=createAssigner(function(r,t,n){baseMerge(r,t,n)}),merge$2=merge$1,commonVariables$l={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"};const{fontSize,fontFamily,lineHeight}=commonVariables$l;var globalStyle=c$1("body",`
 margin: 0;
 font-size: ${fontSize};
 font-family: ${fontFamily};
 line-height: ${lineHeight};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[c$1("input",`
 font-family: inherit;
 font-size: inherit;
 `)]);const configProviderInjectionKey="n-config-provider",cssrAnchorMetaName="naive-ui-style";function createTheme(r){return r}function useTheme(r,t,n,a,o,s){const l=useSsrAdapter();if(n){const d=()=>{const v=s==null?void 0:s.value;n.mount({id:v===void 0?t:v+t,head:!0,props:{bPrefix:v?`.${v}-`:void 0},anchorMetaName:cssrAnchorMetaName,ssr:l}),globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:l})};l?d():onBeforeMount(d)}const u=inject(configProviderInjectionKey,null);return computed(()=>{var d;const{theme:{common:v,self:g,peers:S={}}={},themeOverrides:x={},builtinThemeOverrides:_={}}=o,{common:C,peers:T}=x,{common:w=void 0,[r]:{common:M=void 0,self:D=void 0,peers:I={}}={}}=(u==null?void 0:u.mergedThemeRef.value)||{},{common:R=void 0,[r]:$={}}=(u==null?void 0:u.mergedThemeOverridesRef.value)||{},{common:N,peers:F={}}=$,H=merge$2({},v||M||w||a.common,R,N,C),Y=merge$2((d=g||D||a.self)===null||d===void 0?void 0:d(H),_,$,x);return{common:H,self:Y,peers:merge$2({},a.peers,I,S),peerOverrides:merge$2({},F,T)}})}useTheme.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const defaultClsPrefix="n";function useConfig(r={},t={defaultBordered:!0}){const n=inject(configProviderInjectionKey,null);return{inlineThemeDisabled:n==null?void 0:n.inlineThemeDisabled,mergedRtlRef:n==null?void 0:n.mergedRtlRef,mergedComponentPropsRef:n==null?void 0:n.mergedComponentPropsRef,mergedBreakpointsRef:n==null?void 0:n.mergedBreakpointsRef,mergedBorderedRef:computed(()=>{var a,o;const{bordered:s}=r;return s!==void 0?s:(o=(a=n==null?void 0:n.mergedBorderedRef.value)!==null&&a!==void 0?a:t.defaultBordered)!==null&&o!==void 0?o:!0}),mergedClsPrefixRef:computed(()=>(n==null?void 0:n.mergedClsPrefixRef.value)||defaultClsPrefix),namespaceRef:computed(()=>n==null?void 0:n.mergedNamespaceRef.value)}}const enUS={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:r=>`Please load all ${r}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},Transfer:{sourceTitle:"Source",targetTitle:"Target"},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (\u2190)",tipNext:"Next picture (\u2192)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)"}};var enUS$1=enUS;function buildFormatLongFn(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):r.defaultWidth,a=r.formats[n]||r.formats[r.defaultWidth];return a}}function buildLocalizeFn(r){return function(t,n){var a=n||{},o=a.context?String(a.context):"standalone",s;if(o==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,u=a.width?String(a.width):l;s=r.formattingValues[u]||r.formattingValues[l]}else{var f=r.defaultWidth,d=a.width?String(a.width):r.defaultWidth;s=r.values[d]||r.values[f]}var v=r.argumentCallback?r.argumentCallback(t):t;return s[v]}}function buildMatchPatternFn(r){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(r.matchPattern);if(!a)return null;var o=a[0],s=t.match(r.parsePattern);if(!s)return null;var l=r.valueCallback?r.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;var u=t.slice(o.length);return{value:l,rest:u}}}function buildMatchFn(r){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],s=t.match(o);if(!s)return null;var l=s[0],u=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],f=Array.isArray(u)?findIndex(u,function(g){return g.test(l)}):findKey(u,function(g){return g.test(l)}),d;d=r.valueCallback?r.valueCallback(f):f,d=n.valueCallback?n.valueCallback(d):d;var v=t.slice(l.length);return{value:d,rest:v}}}function findKey(r,t){for(var n in r)if(r.hasOwnProperty(n)&&t(r[n]))return n}function findIndex(r,t){for(var n=0;n<r.length;n++)if(t(r[n]))return n}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(r,t,n){var a,o=formatDistanceLocale[r];return typeof o=="string"?a=o:t===1?a=o.one:a=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatDistance$1=formatDistance,dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(r,t,n,a){return formatRelativeLocale[r]},formatRelative$1=formatRelative,eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(r,t){var n=Number(r),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize,matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(r){return parseInt(r,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;const dateEnUs={name:"en-US",locale:defaultLocale};var dateEnUS=dateEnUs;function useLocale(r){const{mergedLocaleRef:t,mergedDateLocaleRef:n}=inject(configProviderInjectionKey,null)||{},a=computed(()=>{var s,l;return(l=(s=t==null?void 0:t.value)===null||s===void 0?void 0:s[r])!==null&&l!==void 0?l:enUS$1[r]});return{dateLocaleRef:computed(()=>{var s;return(s=n==null?void 0:n.value)!==null&&s!==void 0?s:dateEnUS}),localeRef:a}}function useStyle(r,t,n){if(!t)return;const a=useSsrAdapter(),o=()=>{const s=n==null?void 0:n.value;t.mount({id:s===void 0?r:s+r,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:s?`.${s}-`:void 0},ssr:a}),globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:a})};a?o():onBeforeMount(o)}function useThemeClass(r,t,n,a){var o;n||throwError$1("useThemeClass","cssVarsRef is not passed");const s=(o=inject(configProviderInjectionKey,null))===null||o===void 0?void 0:o.mergedThemeHashRef,l=ref(""),u=useSsrAdapter();let f;const d=`__${r}`,v=()=>{let g=d;const S=t?t.value:void 0,x=s==null?void 0:s.value;x&&(g+="-"+x),S&&(g+="-"+S);const{themeOverrides:_,builtinThemeOverrides:C}=a;_&&(g+="-"+murmur2(JSON.stringify(_))),C&&(g+="-"+murmur2(JSON.stringify(C))),l.value=g,f=()=>{const T=n.value;let w="";for(const M in T)w+=`${M}: ${T[M]};`;c$1(`.${g}`,w).mount({id:g,ssr:u}),f=void 0}};return watchEffect(()=>{v()}),{themeClass:l,onRender:()=>{f==null||f()}}}var AddIcon=defineComponent({name:"Add",render(){return h("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}});function replaceable(r,t){return defineComponent({name:upperFirst$1(r),setup(){var n;const a=(n=inject(configProviderInjectionKey,null))===null||n===void 0?void 0:n.mergedIconsRef;return()=>{var o;const s=(o=a==null?void 0:a.value)===null||o===void 0?void 0:o[r];return s?s():t}}})}var ErrorIcon$1=replaceable("close",h("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),EyeIcon=defineComponent({name:"Eye",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),h("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),EyeOffIcon=defineComponent({name:"EyeOff",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),h("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),h("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),h("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),h("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),ErrorIcon=replaceable("error",h("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),InfoIcon=replaceable("info",h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),RemoveIcon=defineComponent({name:"Remove",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),SuccessIcon=replaceable("success",h("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),WarningIcon=replaceable("warning",h("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),ChevronDownIcon=defineComponent({name:"ChevronDown",render(){return h("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),ClearIcon=replaceable("clear",h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),NIconSwitchTransition=defineComponent({name:"BaseIconSwitchTransition",setup(r,{slots:t}){const n=isMounted();return()=>h(Transition,{name:"icon-switch-transition",appear:n.value},t)}}),NFadeInExpandTransition=defineComponent({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(r,{slots:t}){function n(u){r.width?u.style.maxWidth=`${u.offsetWidth}px`:u.style.maxHeight=`${u.offsetHeight}px`,u.offsetWidth}function a(u){r.width?u.style.maxWidth="0":u.style.maxHeight="0",u.offsetWidth;const{onLeave:f}=r;f&&f()}function o(u){r.width?u.style.maxWidth="":u.style.maxHeight="";const{onAfterLeave:f}=r;f&&f()}function s(u){if(u.style.transition="none",r.width){const f=u.offsetWidth;u.style.maxWidth="0",u.offsetWidth,u.style.transition="",u.style.maxWidth=`${f}px`}else if(r.reverse)u.style.maxHeight=`${u.offsetHeight}px`,u.offsetHeight,u.style.transition="",u.style.maxHeight="0";else{const f=u.offsetHeight;u.style.maxHeight="0",u.offsetWidth,u.style.transition="",u.style.maxHeight=`${f}px`}u.offsetWidth}function l(u){var f;r.width?u.style.maxWidth="":r.reverse||(u.style.maxHeight=""),(f=r.onAfterEnter)===null||f===void 0||f.call(r)}return()=>{const u=r.group?TransitionGroup:Transition;return h(u,{name:r.width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",mode:r.mode,appear:r.appear,onEnter:s,onAfterEnter:l,onBeforeLeave:n,onLeave:a,onAfterLeave:o},t)}}}),style$i=cB("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[c$1("svg",{height:"1em",width:"1em"})]),NBaseIcon=defineComponent({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(r){useStyle("-base-icon",style$i,toRef(r,"clsPrefix"))},render(){return h("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),style$h=cB("base-close",`
 cursor: pointer;
 color: var(--n-close-color);
`,[c$1("&:hover",{color:"var(--n-close-color-hover)"}),c$1("&:active",{color:"var(--n-close-color-pressed)"}),cM("disabled",{cursor:"not-allowed!important",color:"var(--n-close-color-disabled)"})]),NBaseClose=defineComponent({name:"BaseClose",props:{clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},onClick:Function},setup(r){return useStyle("-base-close",style$h,toRef(r,"clsPrefix")),()=>{const{clsPrefix:t,disabled:n}=r;return h(NBaseIcon,{role:"button",ariaDisabled:n,ariaLabel:"close",clsPrefix:t,class:[`${t}-base-close`,n&&`${t}-base-close--disabled`],onClick:n?void 0:r.onClick},{default:()=>h(ErrorIcon$1,null)})}}});const{cubicBezierEaseInOut:cubicBezierEaseInOut$3}=commonVariables$l;function createIconSwitchTransition({originalTransform:r="",left:t=0,top:n=0,transition:a=`all .3s ${cubicBezierEaseInOut$3} !important`}={}){return[c$1("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:r+" scale(0.75)",left:t,top:n,opacity:0}),c$1("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${r}`,left:t,top:n,opacity:1}),c$1("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:t,top:n,transition:a})]}var style$g=c$1([c$1("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),c$1("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),c$1("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),c$1("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),cB("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[cE("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[createIconSwitchTransition()]),cE("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[cE("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),cE("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[cE("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),cE("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),cE("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),cE("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[createIconSwitchTransition({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),NBaseLoading=defineComponent({name:"BaseLoading",props:{clsPrefix:{type:String,required:!0},scale:{type:Number,default:1},radius:{type:Number,default:100},strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0},show:{type:Boolean,default:!0}},setup(r){useStyle("-base-loading",style$g,toRef(r,"clsPrefix"))},render(){const{clsPrefix:r,radius:t,strokeWidth:n,stroke:a,scale:o}=this,s=t/o;return h("div",{class:`${r}-base-loading`,role:"img","aria-label":"loading"},h(NIconSwitchTransition,null,{default:()=>this.show?h("div",{key:"icon",class:`${r}-base-loading__transition-wrapper`},h("div",{class:`${r}-base-loading__container`},h("div",{class:`${r}-base-loading__container-layer`},h("div",{class:`${r}-base-loading__container-layer-left`},h("svg",{class:`${r}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:a}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:s,cy:s,r:t-n/2,"stroke-dasharray":4.91*t,"stroke-dashoffset":2.46*t}))),h("div",{class:`${r}-base-loading__container-layer-patch`},h("svg",{class:`${r}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:a}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:s,cy:s,r:t-n/2,"stroke-dasharray":4.91*t,"stroke-dashoffset":2.46*t}))),h("div",{class:`${r}-base-loading__container-layer-right`},h("svg",{class:`${r}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:a}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:s,cy:s,r:t-n/2,"stroke-dasharray":4.91*t,"stroke-dashoffset":2.46*t})))))):h("div",{key:"placeholder",class:`${r}-base-loading__placeholder`},this.$slots)}))}});const base$2={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},baseBackgroundRgb$1=rgba(base$2.neutralBase),baseInvertBackgroundRgb$1=rgba(base$2.neutralInvertBase),overlayPrefix$1="rgba("+baseInvertBackgroundRgb$1.slice(0,3).join(", ")+", ";function overlay$1(r){return overlayPrefix$1+String(r)+")"}function neutral$1(r){const t=Array.from(baseInvertBackgroundRgb$1);return t[3]=Number(r),composite(baseBackgroundRgb$1,t)}const derived$1=Object.assign(Object.assign({name:"common"},commonVariables$l),{baseColor:base$2.neutralBase,primaryColor:base$2.primaryDefault,primaryColorHover:base$2.primaryHover,primaryColorPressed:base$2.primaryActive,primaryColorSuppl:base$2.primarySuppl,infoColor:base$2.infoDefault,infoColorHover:base$2.infoHover,infoColorPressed:base$2.infoActive,infoColorSuppl:base$2.infoSuppl,successColor:base$2.successDefault,successColorHover:base$2.successHover,successColorPressed:base$2.successActive,successColorSuppl:base$2.successSuppl,warningColor:base$2.warningDefault,warningColorHover:base$2.warningHover,warningColorPressed:base$2.warningActive,warningColorSuppl:base$2.warningSuppl,errorColor:base$2.errorDefault,errorColorHover:base$2.errorHover,errorColorPressed:base$2.errorActive,errorColorSuppl:base$2.errorSuppl,textColorBase:base$2.neutralTextBase,textColor1:overlay$1(base$2.alpha1),textColor2:overlay$1(base$2.alpha2),textColor3:overlay$1(base$2.alpha3),textColorDisabled:overlay$1(base$2.alpha4),placeholderColor:overlay$1(base$2.alpha4),placeholderColorDisabled:overlay$1(base$2.alpha5),iconColor:overlay$1(base$2.alpha4),iconColorDisabled:overlay$1(base$2.alpha5),iconColorHover:overlay$1(Number(base$2.alpha4)*1.25),iconColorPressed:overlay$1(Number(base$2.alpha4)*.8),opacity1:base$2.alpha1,opacity2:base$2.alpha2,opacity3:base$2.alpha3,opacity4:base$2.alpha4,opacity5:base$2.alpha5,dividerColor:overlay$1(base$2.alphaDivider),borderColor:overlay$1(base$2.alphaBorder),closeColorHover:overlay$1(Number(base$2.alphaClose)*1.25),closeColor:overlay$1(Number(base$2.alphaClose)),closeColorPressed:overlay$1(Number(base$2.alphaClose)*.8),closeColorDisabled:overlay$1(base$2.alpha4),clearColor:overlay$1(base$2.alpha4),clearColorHover:scaleColor(overlay$1(base$2.alpha4),{alpha:1.25}),clearColorPressed:scaleColor(overlay$1(base$2.alpha4),{alpha:.8}),scrollbarColor:overlay$1(base$2.alphaScrollbar),scrollbarColorHover:overlay$1(base$2.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:overlay$1(base$2.alphaProgressRail),railColor:overlay$1(base$2.alphaRail),popoverColor:base$2.neutralPopover,tableColor:base$2.neutralCard,cardColor:base$2.neutralCard,modalColor:base$2.neutralModal,bodyColor:base$2.neutralBody,tagColor:neutral$1(base$2.alphaTag),avatarColor:overlay$1(base$2.alphaAvatar),invertedColor:base$2.neutralBase,inputColor:overlay$1(base$2.alphaInput),codeColor:overlay$1(base$2.alphaCode),tabColor:overlay$1(base$2.alphaTab),actionColor:overlay$1(base$2.alphaAction),tableHeaderColor:overlay$1(base$2.alphaAction),hoverColor:overlay$1(base$2.alphaPending),tableColorHover:overlay$1(base$2.alphaTablePending),tableColorStriped:overlay$1(base$2.alphaTableStriped),pressedColor:overlay$1(base$2.alphaPressed),opacityDisabled:base$2.alphaDisabled,inputColorDisabled:overlay$1(base$2.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .06)",buttonColor2Hover:"rgba(255, 255, 255, .09)",buttonColor2Pressed:"rgba(255, 255, 255, .05)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"});var commonDark=derived$1;const base$1={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.52",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},baseBackgroundRgb=rgba(base$1.neutralBase),baseInvertBackgroundRgb=rgba(base$1.neutralInvertBase),overlayPrefix="rgba("+baseInvertBackgroundRgb.slice(0,3).join(", ")+", ";function overlay(r){return overlayPrefix+String(r)+")"}function neutral(r){const t=Array.from(baseInvertBackgroundRgb);return t[3]=Number(r),composite(baseBackgroundRgb,t)}const derived=Object.assign(Object.assign({name:"common"},commonVariables$l),{baseColor:base$1.neutralBase,primaryColor:base$1.primaryDefault,primaryColorHover:base$1.primaryHover,primaryColorPressed:base$1.primaryActive,primaryColorSuppl:base$1.primarySuppl,infoColor:base$1.infoDefault,infoColorHover:base$1.infoHover,infoColorPressed:base$1.infoActive,infoColorSuppl:base$1.infoSuppl,successColor:base$1.successDefault,successColorHover:base$1.successHover,successColorPressed:base$1.successActive,successColorSuppl:base$1.successSuppl,warningColor:base$1.warningDefault,warningColorHover:base$1.warningHover,warningColorPressed:base$1.warningActive,warningColorSuppl:base$1.warningSuppl,errorColor:base$1.errorDefault,errorColorHover:base$1.errorHover,errorColorPressed:base$1.errorActive,errorColorSuppl:base$1.errorSuppl,textColorBase:base$1.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:neutral(base$1.alpha4),placeholderColor:neutral(base$1.alpha4),placeholderColorDisabled:neutral(base$1.alpha5),iconColor:neutral(base$1.alpha4),iconColorHover:scaleColor(neutral(base$1.alpha4),{lightness:.75}),iconColorPressed:scaleColor(neutral(base$1.alpha4),{lightness:.9}),iconColorDisabled:neutral(base$1.alpha5),opacity1:base$1.alpha1,opacity2:base$1.alpha2,opacity3:base$1.alpha3,opacity4:base$1.alpha4,opacity5:base$1.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeColor:neutral(Number(base$1.alphaClose)),closeColorHover:neutral(Number(base$1.alphaClose)*1.25),closeColorPressed:neutral(Number(base$1.alphaClose)*.8),closeColorDisabled:neutral(base$1.alpha4),clearColor:neutral(base$1.alpha4),clearColorHover:scaleColor(neutral(base$1.alpha4),{lightness:.75}),clearColorPressed:scaleColor(neutral(base$1.alpha4),{lightness:.9}),scrollbarColor:overlay(base$1.alphaScrollbar),scrollbarColorHover:overlay(base$1.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:neutral(base$1.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:base$1.neutralPopover,tableColor:base$1.neutralCard,cardColor:base$1.neutralCard,modalColor:base$1.neutralModal,bodyColor:base$1.neutralBody,tagColor:"rgb(250, 250, 252)",avatarColor:neutral(base$1.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:neutral(base$1.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:base$1.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"});var commonLight=derived,commonVars$c={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};const self$P=r=>{const{textColorDisabled:t,iconColor:n,textColor2:a,fontSizeSmall:o,fontSizeMedium:s,fontSizeLarge:l,fontSizeHuge:u}=r;return Object.assign(Object.assign({},commonVars$c),{fontSizeSmall:o,fontSizeMedium:s,fontSizeLarge:l,fontSizeHuge:u,textColor:t,iconColor:n,extraTextColor:a})},emptyLight={name:"Empty",common:commonLight,self:self$P};var emptyLight$1=emptyLight;const emptyDark={name:"Empty",common:commonDark,self:self$P};var emptyDark$1=emptyDark;const self$O=r=>{const{scrollbarColor:t,scrollbarColorHover:n}=r;return{color:t,colorHover:n}},scrollbarLight={name:"Scrollbar",common:commonLight,self:self$O},scrollbarDark={name:"Scrollbar",common:commonDark,self:self$O};var scrollbarDark$1=scrollbarDark;const{cubicBezierEaseInOut:cubicBezierEaseInOut$2}=commonVariables$l;function fadeInTransition({name:r="fade-in",enterDuration:t="0.2s",leaveDuration:n="0.2s",enterCubicBezier:a=cubicBezierEaseInOut$2,leaveCubicBezier:o=cubicBezierEaseInOut$2}={}){return[c$1(`&.${r}-transition-enter-active`,{transition:`all ${t} ${a}!important`}),c$1(`&.${r}-transition-leave-active`,{transition:`all ${n} ${o}!important`}),c$1(`&.${r}-transition-enter-from, &.${r}-transition-leave-to`,{opacity:0}),c$1(`&.${r}-transition-leave-from, &.${r}-transition-enter-to`,{opacity:1})]}var style$f=cB("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[c$1(">",[cB("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[c$1("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c$1(">",[cB("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])]),cB("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 `,[cM("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[c$1(">",[cE("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),cM("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[c$1(">",[cE("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),cM("disabled",[c$1(">",[cE("scrollbar",{pointerEvents:"none"})])]),c$1(">",[cE("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[fadeInTransition(),c$1("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]);const scrollbarProps=Object.assign(Object.assign({},useTheme.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function}),Scrollbar=defineComponent({name:"Scrollbar",props:scrollbarProps,inheritAttrs:!1,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=useConfig(r),a=ref(null),o=ref(null),s=ref(null),l=ref(null),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),S=ref(null),x=ref(null),_=ref(0),C=ref(0),T=ref(!1),w=ref(!1);let M=!1,D=!1,I,R,$=0,N=0,F=0,H=0;const Y=useIsIos(),G=computed(()=>{const{value:Ve}=v,{value:Ke}=f,{value:et}=S;return Ve===null||Ke===null||et===null?0:Math.min(Ve,et*Ve/Ke+r.size*1.5)}),K=computed(()=>`${G.value}px`),Z=computed(()=>{const{value:Ve}=g,{value:Ke}=d,{value:et}=x;return Ve===null||Ke===null||et===null?0:et*Ve/Ke+r.size*1.5}),J=computed(()=>`${Z.value}px`),Q=computed(()=>{const{value:Ve}=v,{value:Ke}=_,{value:et}=f,{value:Ct}=S;if(Ve===null||et===null||Ct===null)return 0;{const Dt=et-Ve;return Dt?Ke/Dt*(Ct-G.value):0}}),te=computed(()=>`${Q.value}px`),ie=computed(()=>{const{value:Ve}=g,{value:Ke}=C,{value:et}=d,{value:Ct}=x;if(Ve===null||et===null||Ct===null)return 0;{const Dt=et-Ve;return Dt?Ke/Dt*(Ct-Z.value):0}}),ne=computed(()=>`${ie.value}px`),de=computed(()=>{const{value:Ve}=v,{value:Ke}=f;return Ve!==null&&Ke!==null&&Ke>Ve}),ve=computed(()=>{const{value:Ve}=g,{value:Ke}=d;return Ve!==null&&Ke!==null&&Ke>Ve}),pe=computed(()=>{const{container:Ve}=r;return Ve?Ve():o.value}),$e=computed(()=>{const{content:Ve}=r;return Ve?Ve():s.value}),Re=xe,Ge=Ve=>{const{onResize:Ke}=r;Ke&&Ke(Ve),xe()},Qe=(Ve,Ke)=>{if(!r.scrollable)return;if(typeof Ve=="number"){We(Ve,Ke!=null?Ke:0,0,!1,"auto");return}const{left:et,top:Ct,index:Dt,elSize:vt,position:St,behavior:_t,el:Me,debounce:Ze=!0}=Ve;(et!==void 0||Ct!==void 0)&&We(et!=null?et:0,Ct!=null?Ct:0,0,!1,_t),Me!==void 0?We(0,Me.offsetTop,Me.offsetHeight,Ze,_t):Dt!==void 0&&vt!==void 0?We(0,Dt*vt,vt,Ze,_t):St==="bottom"?We(0,Number.MAX_SAFE_INTEGER,0,!1,_t):St==="top"&&We(0,0,0,!1,_t)},Le=(Ve,Ke)=>{if(!r.scrollable)return;const{value:et}=pe;!et||(typeof Ve=="object"?et.scrollBy(Ve):et.scrollBy(Ve,Ke||0))};function We(Ve,Ke,et,Ct,Dt){const{value:vt}=pe;if(!!vt){if(Ct){const{scrollTop:St,offsetHeight:_t}=vt;if(Ke>St){Ke+et<=St+_t||vt.scrollTo({left:Ve,top:Ke+et-_t,behavior:Dt});return}}vt.scrollTo({left:Ve,top:Ke,behavior:Dt})}}function Oe(){ae(),le(),xe()}function ke(){Ye()}function Ye(){ze(),qe()}function ze(){R!==void 0&&window.clearTimeout(R),R=window.setTimeout(()=>{w.value=!1},r.duration)}function qe(){I!==void 0&&window.clearTimeout(I),I=window.setTimeout(()=>{T.value=!1},r.duration)}function ae(){I!==void 0&&window.clearTimeout(I),T.value=!0}function le(){R!==void 0&&window.clearTimeout(R),w.value=!0}function ge(Ve){const{onScroll:Ke}=r;Ke&&Ke(Ve),se()}function se(){const{value:Ve}=pe;Ve&&(_.value=Ve.scrollTop,C.value=Ve.scrollLeft)}function oe(){const{value:Ve}=$e;Ve&&(f.value=Ve.offsetHeight,d.value=Ve.offsetWidth);const{value:Ke}=pe;Ke&&(v.value=Ke.offsetHeight,g.value=Ke.offsetWidth);const{value:et}=u,{value:Ct}=l;et&&(x.value=et.offsetWidth),Ct&&(S.value=Ct.offsetHeight)}function Se(){const{value:Ve}=pe;Ve&&(_.value=Ve.scrollTop,C.value=Ve.scrollLeft,v.value=Ve.offsetHeight,g.value=Ve.offsetWidth,f.value=Ve.scrollHeight,d.value=Ve.scrollWidth);const{value:Ke}=u,{value:et}=l;Ke&&(x.value=Ke.offsetWidth),et&&(S.value=et.offsetHeight)}function xe(){!r.scrollable||(r.useUnifiedContainer?Se():(oe(),se()))}function _e(Ve){var Ke;return!(!((Ke=a.value)===null||Ke===void 0)&&Ke.contains(Ve.target))}function Te(Ve){Ve.preventDefault(),Ve.stopPropagation(),D=!0,on("mousemove",window,Ce,!0),on("mouseup",window,Ee,!0),N=C.value,F=Ve.clientX}function Ce(Ve){if(!D)return;I!==void 0&&window.clearTimeout(I),R!==void 0&&window.clearTimeout(R);const{value:Ke}=g,{value:et}=d,{value:Ct}=Z;if(Ke===null||et===null)return;const vt=(Ve.clientX-F)*(et-Ke)/(Ke-Ct),St=et-Ke;let _t=N+vt;_t=Math.min(St,_t),_t=Math.max(_t,0);const{value:Me}=pe;if(Me){Me.scrollLeft=_t;const{internalOnUpdateScrollLeft:Ze}=r;Ze&&Ze(_t)}}function Ee(Ve){Ve.preventDefault(),Ve.stopPropagation(),off("mousemove",window,Ce,!0),off("mouseup",window,Ee,!0),D=!1,xe(),_e(Ve)&&Ye()}function Fe(Ve){Ve.preventDefault(),Ve.stopPropagation(),M=!0,on("mousemove",window,Ue,!0),on("mouseup",window,Je,!0),$=_.value,H=Ve.clientY}function Ue(Ve){if(!M)return;I!==void 0&&window.clearTimeout(I),R!==void 0&&window.clearTimeout(R);const{value:Ke}=v,{value:et}=f,{value:Ct}=G;if(Ke===null||et===null)return;const vt=(Ve.clientY-H)*(et-Ke)/(Ke-Ct),St=et-Ke;let _t=$+vt;_t=Math.min(St,_t),_t=Math.max(_t,0);const{value:Me}=pe;Me&&(Me.scrollTop=_t)}function Je(Ve){Ve.preventDefault(),Ve.stopPropagation(),off("mousemove",window,Ue,!0),off("mouseup",window,Je,!0),M=!1,xe(),_e(Ve)&&Ye()}watchEffect(()=>{const{value:Ve}=ve,{value:Ke}=de,{value:et}=t,{value:Ct}=u,{value:Dt}=l;Ct&&(Ve?Ct.classList.remove(`${et}-scrollbar-rail--disabled`):Ct.classList.add(`${et}-scrollbar-rail--disabled`)),Dt&&(Ke?Dt.classList.remove(`${et}-scrollbar-rail--disabled`):Dt.classList.add(`${et}-scrollbar-rail--disabled`))}),onMounted(()=>{r.container||xe()}),onBeforeUnmount(()=>{I!==void 0&&window.clearTimeout(I),R!==void 0&&window.clearTimeout(R),off("mousemove",window,Ue,!0),off("mouseup",window,Je,!0)});const ht=useTheme("Scrollbar","-scrollbar",style$f,scrollbarLight,r,t),bt=computed(()=>{const{common:{cubicBezierEaseInOut:Ve,scrollbarBorderRadius:Ke,scrollbarHeight:et,scrollbarWidth:Ct},self:{color:Dt,colorHover:vt}}=ht.value;return{"--n-scrollbar-bezier":Ve,"--n-scrollbar-color":Dt,"--n-scrollbar-color-hover":vt,"--n-scrollbar-border-radius":Ke,"--n-scrollbar-width":Ct,"--n-scrollbar-height":et}}),yt=n?useThemeClass("scrollbar",void 0,bt,r):void 0;return Object.assign(Object.assign({},{scrollTo:Qe,scrollBy:Le,sync:xe,syncUnifiedContainer:Se,handleMouseEnterWrapper:Oe,handleMouseLeaveWrapper:ke}),{mergedClsPrefix:t,containerScrollTop:_,wrapperRef:a,containerRef:o,contentRef:s,yRailRef:l,xRailRef:u,needYBar:de,needXBar:ve,yBarSizePx:K,xBarSizePx:J,yBarTopPx:te,xBarLeftPx:ne,isShowXBar:T,isShowYBar:w,isIos:Y,handleScroll:ge,handleContentResize:Re,handleContainerResize:Ge,handleYScrollMouseDown:Fe,handleXScrollMouseDown:Te,cssVars:n?void 0:bt,themeClass:yt==null?void 0:yt.themeClass,onRender:yt==null?void 0:yt.onRender})},render(){var r;const{$slots:t,mergedClsPrefix:n,triggerDisplayManually:a}=this;if(!this.scrollable)return(r=t.default)===null||r===void 0?void 0:r.call(t);const o=()=>{var s,l;return(s=this.onRender)===null||s===void 0||s.call(this),h("div",mergeProps(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${n}-scrollbar`,this.themeClass],style:this.cssVars,onMouseenter:a?void 0:this.handleMouseEnterWrapper,onMouseleave:a?void 0:this.handleMouseLeaveWrapper}),[this.container?(l=t.default)===null||l===void 0?void 0:l.call(t):h("div",{role:"none",ref:"containerRef",class:[`${n}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},h(VResizeObserver,{onResize:this.handleContentResize},{default:()=>h("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${n}-scrollbar-content`,this.contentClass]},t)})),h("div",{ref:"yRailRef",class:`${n}-scrollbar-rail ${n}-scrollbar-rail--vertical`,style:this.horizontalRailStyle,"aria-hidden":!0},h(Transition,{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?h("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),h("div",{ref:"xRailRef",class:`${n}-scrollbar-rail ${n}-scrollbar-rail--horizontal`,style:this.verticalRailStyle,"aria-hidden":!0},h(Transition,{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?h("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,left:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])};return this.container?o():h(VResizeObserver,{onResize:this.handleContainerResize},{default:o})}});var NScrollbar=Scrollbar,commonVariables$k={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};const self$N=r=>{const{borderRadius:t,popoverColor:n,textColor3:a,dividerColor:o,textColor2:s,primaryColorPressed:l,textColorDisabled:u,primaryColor:f,opacityDisabled:d,hoverColor:v,fontSizeSmall:g,fontSizeMedium:S,fontSizeLarge:x,fontSizeHuge:_,heightSmall:C,heightMedium:T,heightLarge:w,heightHuge:M}=r;return Object.assign(Object.assign({},commonVariables$k),{optionFontSizeSmall:g,optionFontSizeMedium:S,optionFontSizeLarge:x,optionFontSizeHuge:_,optionHeightSmall:C,optionHeightMedium:T,optionHeightLarge:w,optionHeightHuge:M,borderRadius:t,color:n,groupHeaderTextColor:a,actionDividerColor:o,optionTextColor:s,optionTextColorPressed:l,optionTextColorDisabled:u,optionTextColorActive:f,optionOpacityDisabled:d,optionCheckColor:f,optionColorPending:v,optionColorActive:v,actionTextColor:s,loadingColor:f})},internalSelectMenuDark={name:"InternalSelectMenu",common:commonDark,peers:{Scrollbar:scrollbarDark$1,Empty:emptyDark$1},self:self$N};var internalSelectMenuDark$1=internalSelectMenuDark;const{cubicBezierEaseIn:cubicBezierEaseIn$1,cubicBezierEaseOut:cubicBezierEaseOut$1}=commonVariables$l;function fadeInScaleUpTransition({transformOrigin:r="inherit",duration:t=".2s",enterScale:n=".9",originalTransform:a="",originalTransition:o=""}={}){return[c$1("&.fade-in-scale-up-transition-leave-active",{transformOrigin:r,transition:`opacity ${t} ${cubicBezierEaseIn$1}, transform ${t} ${cubicBezierEaseIn$1} ${o&&","+o}`}),c$1("&.fade-in-scale-up-transition-enter-active",{transformOrigin:r,transition:`opacity ${t} ${cubicBezierEaseOut$1}, transform ${t} ${cubicBezierEaseOut$1} ${o&&","+o}`}),c$1("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${a} scale(${n})`}),c$1("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${a} scale(1)`})]}var style$e=cB("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),NBaseWave=defineComponent({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(r){useStyle("-base-wave",style$e,toRef(r,"clsPrefix"));const t=ref(null),n=ref(!1);let a=null;return onBeforeUnmount(()=>{a!==null&&window.clearTimeout(a)}),{active:n,selfRef:t,play(){a!==null&&(window.clearTimeout(a),n.value=!1,a=null),nextTick(()=>{var o;(o=t.value)===null||o===void 0||o.offsetHeight,n.value=!0,a=window.setTimeout(()=>{n.value=!1,a=null},1e3)})}}},render(){const{clsPrefix:r}=this;return h("div",{ref:"selfRef","aria-hidden":!0,class:[`${r}-base-wave`,this.active&&`${r}-base-wave--active`]})}}),commonVariables$j={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};const self$M=r=>{const{boxShadow2:t,popoverColor:n,textColor2:a,borderRadius:o,fontSize:s,dividerColor:l}=r;return Object.assign(Object.assign({},commonVariables$j),{fontSize:s,borderRadius:o,color:n,dividerColor:l,textColor:a,boxShadow:t})},popoverDark={name:"Popover",common:commonDark,self:self$M};var popoverDark$1=popoverDark,commonVariables$i={closeSizeSmall:"14px",closeSizeMedium:"14px",closeSizeLarge:"14px",padding:"0 7px",closeMargin:"0 0 0 3px",closeMarginRtl:"0 3px 0 0"};const tagDark={name:"Tag",common:commonDark,self(r){const{textColor2:t,primaryColorHover:n,primaryColorPressed:a,primaryColor:o,infoColor:s,successColor:l,warningColor:u,errorColor:f,baseColor:d,borderColor:v,opacityDisabled:g,closeColor:S,closeColorHover:x,closeColorPressed:_,borderRadiusSmall:C,fontSizeTiny:T,fontSizeSmall:w,fontSizeMedium:M,heightTiny:D,heightSmall:I,heightMedium:R}=r;return Object.assign(Object.assign({},commonVariables$i),{heightSmall:D,heightMedium:I,heightLarge:R,borderRadius:C,opacityDisabled:g,fontSizeSmall:T,fontSizeMedium:w,fontSizeLarge:M,textColorCheckable:t,textColorHoverCheckable:n,textColorPressedCheckable:a,textColorChecked:d,colorCheckable:"#0000",colorHoverCheckable:"#0000",colorPressedCheckable:"#0000",colorChecked:o,colorCheckedHover:n,colorCheckedPressed:a,border:`1px solid ${v}`,textColor:t,color:"#0000",closeColor:S,closeColorHover:x,closeColorPressed:_,borderPrimary:`1px solid ${changeColor(o,{alpha:.3})}`,textColorPrimary:o,colorPrimary:"#0000",closeColorPrimary:changeColor(o,{alpha:.7}),closeColorHoverPrimary:changeColor(o,{alpha:.85}),closeColorPressedPrimary:changeColor(o,{alpha:.57}),borderInfo:`1px solid ${changeColor(s,{alpha:.3})}`,textColorInfo:s,colorInfo:"#0000",closeColorInfo:changeColor(s,{alpha:.7}),closeColorHoverInfo:changeColor(s,{alpha:.85}),closeColorPressedInfo:changeColor(s,{alpha:.57}),borderSuccess:`1px solid ${changeColor(l,{alpha:.3})}`,textColorSuccess:l,colorSuccess:"#0000",closeColorSuccess:changeColor(l,{alpha:.7}),closeColorHoverSuccess:changeColor(l,{alpha:.85}),closeColorPressedSuccess:changeColor(l,{alpha:.57}),borderWarning:`1px solid ${changeColor(u,{alpha:.3})}`,textColorWarning:u,colorWarning:"#0000",closeColorWarning:changeColor(u,{alpha:.7}),closeColorHoverWarning:changeColor(u,{alpha:.85}),closeColorPressedWarning:changeColor(u,{alpha:.57}),borderError:`1px solid ${changeColor(f,{alpha:.3})}`,textColorError:f,colorError:"#0000",closeColorError:changeColor(f,{alpha:.7}),closeColorHoverError:changeColor(f,{alpha:.85}),closeColorPressedError:changeColor(f,{alpha:.57})})}};var tagDark$1=tagDark;function useRtl(r,t,n){if(!t)return;const a=useSsrAdapter(),o=computed(()=>{const{value:l}=t;if(!l)return;const u=l[r];if(!!u)return u}),s=()=>{watchEffect(()=>{const{value:l}=n,u=`${l}${r}Rtl`;if(exists(u,a))return;const{value:f}=o;!f||f.style.mount({id:u,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:l?`.${l}-`:void 0},ssr:a})})};return a?s():onBeforeMount(s),o}var style$d=cB("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[c$1(">",[cE("clear",`
 font-size: var(--n-clear-size);
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 `,[c$1("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),c$1("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),cE("placeholder",`
 display: flex;
 `),cE("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[createIconSwitchTransition({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),NBaseClear=defineComponent({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(r){return useStyle("-base-clear",style$d,toRef(r,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:r}=this;return h("div",{class:`${r}-base-clear`},h(NIconSwitchTransition,null,{default:()=>{var t,n;return this.show?h(NBaseIcon,{clsPrefix:r,key:"dismiss",class:`${r}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},{default:()=>h(ClearIcon,null)}):h("div",{key:"icon",class:`${r}-base-clear__placeholder`},(n=(t=this.$slots).default)===null||n===void 0?void 0:n.call(t))}}))}}),NBaseSuffix=defineComponent({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(r,{slots:t}){return()=>{const{clsPrefix:n}=r;return h(NBaseLoading,{clsPrefix:n,class:`${n}-base-suffix`,strokeWidth:24,scale:.85,show:r.loading},{default:()=>r.showArrow?h(NBaseClear,{clsPrefix:n,show:r.showClear,onClear:r.onClear},{default:()=>h(NBaseIcon,{clsPrefix:n,class:`${n}-base-suffix__arrow`},{default:()=>resolveSlot(t.default,()=>[h(ChevronDownIcon,null)])})}):null})}}}),commonVars$b={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};const internalSelectionDark={name:"InternalSelection",common:commonDark,peers:{Popover:popoverDark$1},self(r){const{borderRadius:t,textColor2:n,textColorDisabled:a,inputColor:o,inputColorDisabled:s,primaryColor:l,primaryColorHover:u,warningColor:f,warningColorHover:d,errorColor:v,errorColorHover:g,iconColor:S,iconColorDisabled:x,clearColor:_,clearColorHover:C,clearColorPressed:T,placeholderColor:w,placeholderColorDisabled:M,fontSizeTiny:D,fontSizeSmall:I,fontSizeMedium:R,fontSizeLarge:$,heightTiny:N,heightSmall:F,heightMedium:H,heightLarge:Y}=r;return Object.assign(Object.assign({},commonVars$b),{fontSizeTiny:D,fontSizeSmall:I,fontSizeMedium:R,fontSizeLarge:$,heightTiny:N,heightSmall:F,heightMedium:H,heightLarge:Y,borderRadius:t,textColor:n,textColorDisabled:a,placeholderColor:w,placeholderColorDisabled:M,color:o,colorDisabled:s,colorActive:changeColor(l,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${u}`,borderActive:`1px solid ${l}`,borderFocus:`1px solid ${u}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${changeColor(l,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${changeColor(l,{alpha:.4})}`,caretColor:l,arrowColor:S,arrowColorDisabled:x,loadingColor:l,borderWarning:`1px solid ${f}`,borderHoverWarning:`1px solid ${d}`,borderActiveWarning:`1px solid ${f}`,borderFocusWarning:`1px solid ${d}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${changeColor(f,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${changeColor(f,{alpha:.4})}`,colorActiveWarning:changeColor(f,{alpha:.1}),caretColorWarning:f,borderError:`1px solid ${v}`,borderHoverError:`1px solid ${g}`,borderActiveError:`1px solid ${v}`,borderFocusError:`1px solid ${g}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${changeColor(v,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${changeColor(v,{alpha:.4})}`,colorActiveError:changeColor(v,{alpha:.1}),caretColorError:v,clearColor:_,clearColorHover:C,clearColorPressed:T})}};var internalSelectionDark$1=internalSelectionDark;const{cubicBezierEaseInOut:cubicBezierEaseInOut$1}=commonVariables$l;function fadeInWidthExpandTransition({duration:r=".2s",delay:t=".1s"}={}){return[c$1("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),c$1("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),c$1("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${r} ${cubicBezierEaseInOut$1},
 max-width ${r} ${cubicBezierEaseInOut$1} ${t},
 margin-left ${r} ${cubicBezierEaseInOut$1} ${t},
 margin-right ${r} ${cubicBezierEaseInOut$1} ${t};
 `),c$1("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${r} ${cubicBezierEaseInOut$1} ${t},
 max-width ${r} ${cubicBezierEaseInOut$1},
 margin-left ${r} ${cubicBezierEaseInOut$1},
 margin-right ${r} ${cubicBezierEaseInOut$1};
 `)]}var commonVars$a={iconMargin:"12px 8px 0 12px",iconMarginRtl:"12px 12px 0 8px",iconSize:"26px",closeSize:"16px",closeMargin:"14px 16px 0 0",closeMarginRtl:"14px 0 0 16px",padding:"15px"};const alertDark={name:"Alert",common:commonDark,self(r){const{lineHeight:t,borderRadius:n,fontWeightStrong:a,dividerColor:o,inputColor:s,textColor1:l,textColor2:u,closeColor:f,closeColorHover:d,closeColorPressed:v,infoColorSuppl:g,successColorSuppl:S,warningColorSuppl:x,errorColorSuppl:_,fontSize:C}=r;return Object.assign(Object.assign({},commonVars$a),{fontSize:C,lineHeight:t,titleFontWeight:a,borderRadius:n,border:`1px solid ${o}`,color:s,titleTextColor:l,iconColor:u,contentTextColor:u,closeColor:f,closeColorHover:d,closeColorPressed:v,borderInfo:`1px solid ${changeColor(g,{alpha:.35})}`,colorInfo:changeColor(g,{alpha:.25}),titleTextColorInfo:l,iconColorInfo:g,contentTextColorInfo:u,closeColorInfo:f,closeColorHoverInfo:d,closeColorPressedInfo:v,borderSuccess:`1px solid ${changeColor(S,{alpha:.35})}`,colorSuccess:changeColor(S,{alpha:.25}),titleTextColorSuccess:l,iconColorSuccess:S,contentTextColorSuccess:u,closeColorSuccess:f,closeColorHoverSuccess:d,closeColorPressedSuccess:v,borderWarning:`1px solid ${changeColor(x,{alpha:.35})}`,colorWarning:changeColor(x,{alpha:.25}),titleTextColorWarning:l,iconColorWarning:x,contentTextColorWarning:u,closeColorWarning:f,closeColorHoverWarning:d,closeColorPressedWarning:v,borderError:`1px solid ${changeColor(_,{alpha:.35})}`,colorError:changeColor(_,{alpha:.25}),titleTextColorError:l,iconColorError:_,contentTextColorError:u,closeColorError:f,closeColorHoverError:d,closeColorPressedError:v})}};var alertDark$1=alertDark;const{cubicBezierEaseInOut,cubicBezierEaseOut,cubicBezierEaseIn}=commonVariables$l;function fadeInHeightExpand({overflow:r="hidden",duration:t=".3s",originalTransition:n="",leavingDelay:a="0s",foldPadding:o=!1,enterToProps:s=void 0,leaveToProps:l=void 0,reverse:u=!1}={}){const f=u?"leave":"enter",d=u?"enter":"leave";return[c$1(`&.fade-in-height-expand-transition-${d}-from,
 &.fade-in-height-expand-transition-${f}-to`,Object.assign(Object.assign({},s),{opacity:1})),c$1(`&.fade-in-height-expand-transition-${d}-to,
 &.fade-in-height-expand-transition-${f}-from`,Object.assign(Object.assign({},l),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:o?"0 !important":void 0,paddingBottom:o?"0 !important":void 0})),c$1(`&.fade-in-height-expand-transition-${d}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${cubicBezierEaseInOut} ${a},
 opacity ${t} ${cubicBezierEaseOut} ${a},
 margin-top ${t} ${cubicBezierEaseInOut} ${a},
 margin-bottom ${t} ${cubicBezierEaseInOut} ${a},
 padding-top ${t} ${cubicBezierEaseInOut} ${a},
 padding-bottom ${t} ${cubicBezierEaseInOut} ${a}
 ${n?","+n:""}
 `),c$1(`&.fade-in-height-expand-transition-${f}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${cubicBezierEaseInOut},
 opacity ${t} ${cubicBezierEaseIn},
 margin-top ${t} ${cubicBezierEaseInOut},
 margin-bottom ${t} ${cubicBezierEaseInOut},
 padding-top ${t} ${cubicBezierEaseInOut},
 padding-bottom ${t} ${cubicBezierEaseInOut}
 ${n?","+n:""}
 `)]}var commonVars$9={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"};const self$L=r=>{const{borderRadius:t,railColor:n,primaryColor:a,primaryColorHover:o,primaryColorPressed:s,textColor2:l}=r;return Object.assign(Object.assign({},commonVars$9),{borderRadius:t,railColor:n,railColorActive:a,linkColor:changeColor(a,{alpha:.15}),linkTextColor:l,linkTextColorHover:o,linkTextColorPressed:s,linkTextColorActive:a})},anchorDark={name:"Anchor",common:commonDark,self:self$L};var anchorDark$1=anchorDark,commonVariables$h={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"};const inputDark={name:"Input",common:commonDark,self(r){const{textColor2:t,textColor3:n,textColorDisabled:a,primaryColor:o,primaryColorHover:s,inputColor:l,inputColorDisabled:u,warningColor:f,warningColorHover:d,errorColor:v,errorColorHover:g,borderRadius:S,lineHeight:x,fontSizeTiny:_,fontSizeSmall:C,fontSizeMedium:T,fontSizeLarge:w,heightTiny:M,heightSmall:D,heightMedium:I,heightLarge:R,clearColor:$,clearColorHover:N,clearColorPressed:F,placeholderColor:H,placeholderColorDisabled:Y,iconColor:G,iconColorDisabled:K,iconColorHover:Z,iconColorPressed:J}=r;return Object.assign(Object.assign({},commonVariables$h),{countTextColor:n,heightTiny:M,heightSmall:D,heightMedium:I,heightLarge:R,fontSizeTiny:_,fontSizeSmall:C,fontSizeMedium:T,fontSizeLarge:w,lineHeight:x,lineHeightTextarea:x,borderRadius:S,iconSize:"16px",groupLabelColor:l,textColor:t,textColorDisabled:a,textDecorationColor:t,groupLabelTextColor:t,caretColor:o,placeholderColor:H,placeholderColorDisabled:Y,color:l,colorDisabled:u,colorFocus:changeColor(o,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${s}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${s}`,boxShadowFocus:`0 0 8px 0 ${changeColor(o,{alpha:.3})}`,loadingColor:o,loadingColorWarning:f,borderWarning:`1px solid ${f}`,borderHoverWarning:`1px solid ${d}`,colorFocusWarning:changeColor(f,{alpha:.1}),borderFocusWarning:`1px solid ${d}`,boxShadowFocusWarning:`0 0 8px 0 ${changeColor(f,{alpha:.3})}`,caretColorWarning:f,loadingColorError:v,borderError:`1px solid ${v}`,borderHoverError:`1px solid ${g}`,colorFocusError:changeColor(v,{alpha:.1}),borderFocusError:`1px solid ${g}`,boxShadowFocusError:`0 0 8px 0 ${changeColor(v,{alpha:.3})}`,caretColorError:v,clearColor:$,clearColorHover:N,clearColorPressed:F,iconColor:G,iconColorDisabled:K,iconColorHover:Z,iconColorPressed:J,suffixTextColor:t})}};var inputDark$1=inputDark;const self$K=r=>{const{textColor2:t,textColor3:n,textColorDisabled:a,primaryColor:o,primaryColorHover:s,inputColor:l,inputColorDisabled:u,borderColor:f,warningColor:d,warningColorHover:v,errorColor:g,errorColorHover:S,borderRadius:x,lineHeight:_,fontSizeTiny:C,fontSizeSmall:T,fontSizeMedium:w,fontSizeLarge:M,heightTiny:D,heightSmall:I,heightMedium:R,heightLarge:$,actionColor:N,clearColor:F,clearColorHover:H,clearColorPressed:Y,placeholderColor:G,placeholderColorDisabled:K,iconColor:Z,iconColorDisabled:J,iconColorHover:Q,iconColorPressed:te}=r;return Object.assign(Object.assign({},commonVariables$h),{countTextColor:n,heightTiny:D,heightSmall:I,heightMedium:R,heightLarge:$,fontSizeTiny:C,fontSizeSmall:T,fontSizeMedium:w,fontSizeLarge:M,lineHeight:_,lineHeightTextarea:_,borderRadius:x,iconSize:"16px",groupLabelColor:N,groupLabelTextColor:t,textColor:t,textColorDisabled:a,textDecorationColor:t,caretColor:o,placeholderColor:G,placeholderColorDisabled:K,color:l,colorDisabled:u,colorFocus:l,groupLabelBorder:`1px solid ${f}`,border:`1px solid ${f}`,borderHover:`1px solid ${s}`,borderDisabled:`1px solid ${f}`,borderFocus:`1px solid ${s}`,boxShadowFocus:`0 0 0 2px ${changeColor(o,{alpha:.2})}`,loadingColor:o,loadingColorWarning:d,borderWarning:`1px solid ${d}`,borderHoverWarning:`1px solid ${v}`,colorFocusWarning:l,borderFocusWarning:`1px solid ${v}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(d,{alpha:.2})}`,caretColorWarning:d,loadingColorError:g,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${S}`,colorFocusError:l,borderFocusError:`1px solid ${S}`,boxShadowFocusError:`0 0 0 2px ${changeColor(g,{alpha:.2})}`,caretColorError:g,clearColor:F,clearColorHover:H,clearColorPressed:Y,iconColor:Z,iconColorDisabled:J,iconColorHover:Q,iconColorPressed:te,suffixTextColor:t})},inputLight={name:"Input",common:commonLight,self:self$K};var inputLight$1=inputLight;const inputInjectionKey="n-input";function len$1(r){let t=0;for(const n of r)t++;return t}function isEmptyValue$1(r){return["",void 0,null].includes(r)}var WordCount=defineComponent({name:"InputWordCount",setup(r,{slots:t}){const{mergedValueRef:n,maxlengthRef:a,mergedClsPrefixRef:o}=inject(inputInjectionKey),s=computed(()=>{const{value:l}=n;return l===null||Array.isArray(l)?0:len$1(l)});return()=>{const{value:l}=a,{value:u}=n;return h("span",{class:`${o.value}-input-word-count`},resolveSlotWithProps(t.default,{value:u===null||Array.isArray(u)?"":u},()=>[l===void 0?s.value:`${s.value} / ${l}`]))}}}),style$c=cB("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[cE("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),cE("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),cE("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[c$1("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c$1("&::placeholder","color: #0000;"),c$1("&:-webkit-autofill ~",[cE("placeholder","display: none;")])]),cM("round",[cNotM("textarea","border-radius: calc(var(--n-height) / 2);")]),cE("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[c$1("span",`
 width: 100%;
 display: inline-block;
 `)]),cM("textarea",[cE("placeholder","overflow: visible;")]),cNotM("autosize","width: 100%;"),cM("autosize",[cE("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),cB("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),cE("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),cE("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[c$1("+",[cE("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),cNotM("textarea",[cE("placeholder","white-space: nowrap;")]),cE("eye",`
 transition: color .3s var(--n-bezier);
 `),cM("textarea","width: 100%;",[cB("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),cM("resizable",[cB("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),cE("textarea",`
 position: static;
 `),cE("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 left: var(--n-padding-left);
 right: var(--n-padding-right);
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),cE("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),cM("pair",[cE("input-el, placeholder","text-align: center;"),cE("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `,[cB("icon",`
 color: var(--n-icon-color);
 `),cB("base-icon",`
 color: var(--n-icon-color);
 `)])]),cM("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cE("border","border: var(--n-border-disabled);"),cE("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),cE("placeholder","color: var(--n-placeholder-color-disabled);"),cE("separator","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),cE("suffix, prefix","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),cNotM("disabled",[cE("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[c$1("&:hover",`
 color: var(--n-icon-color-hover);
 `),c$1("&:active",`
 color: var(--n-icon-color-pressed);
 `),cB("icon",[c$1("&:hover",`
 color: var(--n-icon-color-hover);
 `),c$1("&:active",`
 color: var(--n-icon-color-pressed);
 `)])]),c$1("&:hover",[cE("state-border","border: var(--n-border-hover);")]),cM("focus","background-color: var(--n-color-focus);",[cE("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cE("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 border-color: #0000;
 z-index: 1;
 `),cE("prefix","margin-right: 4px;"),cE("suffix",`
 margin-left: 4px;
 `),cE("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[cB("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),cB("base-clear",`
 font-size: var(--n-icon-size);
 `,[cE("placeholder",[cB("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),c$1(">",[cB("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),cB("base-icon",`
 font-size: var(--n-icon-size);
 `)]),cB("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(r=>cM(`${r}-status`,[cNotM("disabled",[cB("base-loading",`
 color: var(--n-loading-color-${r})
 `),cE("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${r});
 `),cE("state-border",`
 border: var(--n-border-${r});
 `),c$1("&:hover",[cE("state-border",`
 border: var(--n-border-hover-${r});
 `)]),c$1("&:focus",`
 background-color: var(--n-color-focus-${r});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)]),cM("focus",`
 background-color: var(--n-color-focus-${r});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)])])]))]);const inputProps=Object.assign(Object.assign({},useTheme.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean});var NInput=defineComponent({name:"Input",props:inputProps,setup(r){const{mergedClsPrefixRef:t,mergedBorderedRef:n,inlineThemeDisabled:a,mergedRtlRef:o}=useConfig(r),s=useTheme("Input","-input",style$c,inputLight$1,r,t),l=ref(null),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),S=ref(null),{localeRef:x}=useLocale("Input"),_=ref(r.defaultValue),C=toRef(r,"value"),T=useMergedState(C,_),w=useFormItem(r),{mergedSizeRef:M,mergedDisabledRef:D,mergedStatusRef:I}=w,R=ref(!1),$=ref(!1),N=ref(!1),F=ref(!1);let H=null;const Y=computed(()=>{const{placeholder:ye,pair:He}=r;return He?Array.isArray(ye)?ye:ye===void 0?["",""]:[ye,ye]:ye===void 0?[x.value.placeholder]:[ye]}),G=computed(()=>{const{value:ye}=N,{value:He}=T,{value:ft}=Y;return!ye&&(isEmptyValue$1(He)||Array.isArray(He)&&isEmptyValue$1(He[0]))&&ft[0]}),K=computed(()=>{const{value:ye}=N,{value:He}=T,{value:ft}=Y;return!ye&&ft[1]&&(isEmptyValue$1(He)||Array.isArray(He)&&isEmptyValue$1(He[1]))}),Z=useMemo(()=>r.internalForceFocus||R.value),J=useMemo(()=>{if(D.value||r.readonly||!r.clearable||!Z.value&&!$.value)return!1;const{value:ye}=T,{value:He}=Z;return r.pair?!!(Array.isArray(ye)&&(ye[0]||ye[1]))&&($.value||He):!!ye&&($.value||He)}),Q=computed(()=>{const{showPasswordOn:ye}=r;if(ye)return ye;if(r.showPasswordToggle)return"click"}),te=ref(!1),ie=computed(()=>{const{textDecoration:ye}=r;return ye?Array.isArray(ye)?ye.map(He=>({textDecoration:He})):[{textDecoration:ye}]:["",""]}),ne=ref(void 0),de=()=>{var ye,He;if(r.type==="textarea"){const{autosize:ft}=r;if(ft&&(ne.value=(He=(ye=S.value)===null||ye===void 0?void 0:ye.$el)===null||He===void 0?void 0:He.offsetWidth),!u.value||typeof ft=="boolean")return;const{paddingTop:kt,paddingBottom:Nt,lineHeight:Ft}=window.getComputedStyle(u.value),tr=Number(kt.slice(0,-2)),rr=Number(Nt.slice(0,-2)),Wt=Number(Ft.slice(0,-2)),{value:lr}=f;if(!lr)return;if(ft.minRows){const nr=Math.max(ft.minRows,1),ur=`${tr+rr+Wt*nr}px`;lr.style.minHeight=ur}if(ft.maxRows){const nr=`${tr+rr+Wt*ft.maxRows}px`;lr.style.maxHeight=nr}}},ve=computed(()=>{const{maxlength:ye}=r;return ye===void 0?void 0:Number(ye)});onMounted(()=>{const{value:ye}=T;Array.isArray(ye)||_t(ye)});const pe=getCurrentInstance().proxy;function $e(ye){const{onUpdateValue:He,"onUpdate:value":ft,onInput:kt}=r,{nTriggerFormInput:Nt}=w;He&&call(He,ye),ft&&call(ft,ye),kt&&call(kt,ye),_.value=ye,Nt()}function Re(ye){const{onChange:He}=r,{nTriggerFormChange:ft}=w;He&&call(He,ye),_.value=ye,ft()}function Ge(ye){const{onBlur:He}=r,{nTriggerFormBlur:ft}=w;He&&call(He,ye),ft()}function Qe(ye){const{onFocus:He}=r,{nTriggerFormFocus:ft}=w;He&&call(He,ye),ft()}function Le(ye){const{onClear:He}=r;He&&call(He,ye)}function We(ye){const{onInputBlur:He}=r;He&&call(He,ye)}function Oe(ye){const{onInputFocus:He}=r;He&&call(He,ye)}function ke(){const{onDeactivate:ye}=r;ye&&call(ye)}function Ye(){const{onActivate:ye}=r;ye&&call(ye)}function ze(ye){const{onClick:He}=r;He&&call(He,ye)}function qe(ye){const{onWrapperFocus:He}=r;He&&call(He,ye)}function ae(ye){const{onWrapperBlur:He}=r;He&&call(He,ye)}function le(){N.value=!0}function ge(ye){N.value=!1,ye.target===g.value?se(ye,1):se(ye,0)}function se(ye,He=0,ft="input"){const kt=ye.target.value;if(_t(kt),r.type==="textarea"){const{value:Ft}=S;Ft&&Ft.syncUnifiedContainer()}if(H=kt,N.value)return;const Nt=kt;if(!r.pair)ft==="input"?$e(Nt):Re(Nt);else{let{value:Ft}=T;Array.isArray(Ft)?Ft=[...Ft]:Ft=["",""],Ft[He]=Nt,ft==="input"?$e(Ft):Re(Ft)}pe.$forceUpdate()}function oe(ye){We(ye),ye.relatedTarget===l.value&&ke(),ye.relatedTarget!==null&&(ye.relatedTarget===v.value||ye.relatedTarget===g.value||ye.relatedTarget===u.value)||(F.value=!1),Te(ye,"blur")}function Se(ye){Oe(ye),R.value=!0,F.value=!0,Ye(),Te(ye,"focus")}function xe(ye){r.passivelyActivated&&(ae(ye),Te(ye,"blur"))}function _e(ye){r.passivelyActivated&&(R.value=!0,qe(ye),Te(ye,"focus"))}function Te(ye,He){ye.relatedTarget!==null&&(ye.relatedTarget===v.value||ye.relatedTarget===g.value||ye.relatedTarget===u.value||ye.relatedTarget===l.value)||(He==="focus"?(Qe(ye),R.value=!0):He==="blur"&&(Ge(ye),R.value=!1))}function Ce(ye,He){se(ye,He,"change")}function Ee(ye){ze(ye)}function Fe(ye){Le(ye),r.pair?($e(["",""]),Re(["",""])):($e(""),Re(""))}function Ue(ye){const{onMousedown:He}=r;He&&He(ye);const{tagName:ft}=ye.target;if(ft!=="INPUT"&&ft!=="TEXTAREA"){if(r.resizable){const{value:kt}=l;if(kt){const{left:Nt,top:Ft,width:tr,height:rr}=kt.getBoundingClientRect(),Wt=14;if(Nt+tr-Wt<ye.clientX&&ye.clientY<Nt+tr&&Ft+rr-Wt<ye.clientY&&ye.clientY<Ft+rr)return}}ye.preventDefault(),R.value||et()}}function Je(){var ye;$.value=!0,r.type==="textarea"&&((ye=S.value)===null||ye===void 0||ye.handleMouseEnterWrapper())}function ht(){var ye;$.value=!1,r.type==="textarea"&&((ye=S.value)===null||ye===void 0||ye.handleMouseLeaveWrapper())}function bt(){D.value||Q.value==="click"&&(te.value=!te.value)}function yt(ye){if(D.value)return;ye.preventDefault();const He=kt=>{kt.preventDefault(),off("mouseup",document,He)};if(on("mouseup",document,He),Q.value!=="mousedown")return;te.value=!0;const ft=()=>{te.value=!1,off("mouseup",document,ft)};on("mouseup",document,ft)}function $t(ye){var He;switch((He=r.onKeydown)===null||He===void 0||He.call(r,ye),ye.code){case"Escape":Ke();break;case"Enter":case"NumpadEnter":Ve(ye);break}}function Ve(ye){var He,ft;if(r.passivelyActivated){const{value:kt}=F;if(kt){r.internalDeactivateOnEnter&&Ke();return}ye.preventDefault(),r.type==="textarea"?(He=u.value)===null||He===void 0||He.focus():(ft=v.value)===null||ft===void 0||ft.focus()}}function Ke(){r.passivelyActivated&&(F.value=!1,nextTick(()=>{var ye;(ye=l.value)===null||ye===void 0||ye.focus()}))}function et(){var ye,He,ft;D.value||(r.passivelyActivated?(ye=l.value)===null||ye===void 0||ye.focus():((He=u.value)===null||He===void 0||He.focus(),(ft=v.value)===null||ft===void 0||ft.focus()))}function Ct(){var ye;!((ye=l.value)===null||ye===void 0)&&ye.contains(document.activeElement)&&document.activeElement.blur()}function Dt(){var ye,He;(ye=u.value)===null||ye===void 0||ye.select(),(He=v.value)===null||He===void 0||He.select()}function vt(){D.value||(u.value?u.value.focus():v.value&&v.value.focus())}function St(){const{value:ye}=l;(ye==null?void 0:ye.contains(document.activeElement))&&ye!==document.activeElement&&Ke()}function _t(ye){const{type:He,pair:ft,autosize:kt}=r;if(!ft&&kt)if(He==="textarea"){const{value:Nt}=f;Nt&&(Nt.textContent=(ye!=null?ye:"")+`\r
`)}else{const{value:Nt}=d;Nt&&(ye?Nt.textContent=ye:Nt.innerHTML="&nbsp;")}}function Me(){de()}const Ze=ref({top:"0"});function at(ye){var He;const{scrollTop:ft}=ye.target;Ze.value.top=`${-ft}px`,(He=S.value)===null||He===void 0||He.syncUnifiedContainer()}let dt=null;watchEffect(()=>{const{autosize:ye,type:He}=r;ye&&He==="textarea"?dt=watch(T,ft=>{!Array.isArray(ft)&&ft!==H&&_t(ft)}):dt==null||dt()});let ct=null;watchEffect(()=>{r.type==="textarea"?ct=watch(T,ye=>{var He;!Array.isArray(ye)&&ye!==H&&((He=S.value)===null||He===void 0||He.syncUnifiedContainer())}):ct==null||ct()}),provide(inputInjectionKey,{mergedValueRef:T,maxlengthRef:ve,mergedClsPrefixRef:t});const pt={wrapperElRef:l,inputElRef:v,textareaElRef:u,isCompositing:N,focus:et,blur:Ct,select:Dt,deactivate:St,activate:vt},wt=useRtl("Input",o,t),Pt=computed(()=>{const{value:ye}=M,{common:{cubicBezierEaseInOut:He},self:{color:ft,borderRadius:kt,textColor:Nt,caretColor:Ft,caretColorError:tr,caretColorWarning:rr,textDecorationColor:Wt,border:lr,borderDisabled:nr,borderHover:ur,borderFocus:Ir,placeholderColor:Jr,placeholderColorDisabled:hr,lineHeightTextarea:Lr,colorDisabled:Rr,colorFocus:Or,textColorDisabled:kr,boxShadowFocus:Qr,iconSize:_r,colorFocusWarning:en,boxShadowFocusWarning:Nr,borderWarning:tn,borderFocusWarning:Br,borderHoverWarning:Fr,colorFocusError:Cr,boxShadowFocusError:zr,borderError:Ht,borderFocusError:cr,borderHoverError:Sr,clearSize:rn,clearColor:nn,clearColorHover:Tr,clearColorPressed:Vr,iconColor:xr,iconColorDisabled:Hr,suffixTextColor:an,countTextColor:sn,iconColorHover:jt,iconColorPressed:Gr,loadingColor:pr,loadingColorError:ln,loadingColorWarning:un,[createKey("padding",ye)]:ar,[createKey("fontSize",ye)]:ir,[createKey("height",ye)]:wr}}=s.value,{left:cn,right:Wr}=getMargin(ar);return{"--n-bezier":He,"--n-count-text-color":sn,"--n-color":ft,"--n-font-size":ir,"--n-border-radius":kt,"--n-height":wr,"--n-padding-left":cn,"--n-padding-right":Wr,"--n-text-color":Nt,"--n-caret-color":Ft,"--n-text-decoration-color":Wt,"--n-border":lr,"--n-border-disabled":nr,"--n-border-hover":ur,"--n-border-focus":Ir,"--n-placeholder-color":Jr,"--n-placeholder-color-disabled":hr,"--n-icon-size":_r,"--n-line-height-textarea":Lr,"--n-color-disabled":Rr,"--n-color-focus":Or,"--n-text-color-disabled":kr,"--n-box-shadow-focus":Qr,"--n-loading-color":pr,"--n-caret-color-warning":rr,"--n-color-focus-warning":en,"--n-box-shadow-focus-warning":Nr,"--n-border-warning":tn,"--n-border-focus-warning":Br,"--n-border-hover-warning":Fr,"--n-loading-color-warning":un,"--n-caret-color-error":tr,"--n-color-focus-error":Cr,"--n-box-shadow-focus-error":zr,"--n-border-error":Ht,"--n-border-focus-error":cr,"--n-border-hover-error":Sr,"--n-loading-color-error":ln,"--n-clear-color":nn,"--n-clear-size":rn,"--n-clear-color-hover":Tr,"--n-clear-color-pressed":Vr,"--n-icon-color":xr,"--n-icon-color-hover":jt,"--n-icon-color-pressed":Gr,"--n-icon-color-disabled":Hr,"--n-suffix-text-color":an}}),xt=a?useThemeClass("input",computed(()=>{const{value:ye}=M;return ye[0]}),Pt,r):void 0;return Object.assign(Object.assign({},pt),{wrapperElRef:l,inputElRef:v,inputMirrorElRef:d,inputEl2Ref:g,textareaElRef:u,textareaMirrorElRef:f,textareaScrollbarInstRef:S,rtlEnabled:wt,uncontrolledValue:_,mergedValue:T,passwordVisible:te,mergedPlaceholder:Y,showPlaceholder1:G,showPlaceholder2:K,mergedFocus:Z,isComposing:N,activated:F,showClearButton:J,mergedSize:M,mergedDisabled:D,textDecorationStyle:ie,mergedClsPrefix:t,mergedBordered:n,mergedShowPasswordOn:Q,placeholderStyle:Ze,mergedStatus:I,textAreaScrollContainerWidth:ne,handleTextAreaScroll:at,handleCompositionStart:le,handleCompositionEnd:ge,handleInput:se,handleInputBlur:oe,handleInputFocus:Se,handleWrapperBlur:xe,handleWrapperFocus:_e,handleMouseEnter:Je,handleMouseLeave:ht,handleMouseDown:Ue,handleChange:Ce,handleClick:Ee,handleClear:Fe,handlePasswordToggleClick:bt,handlePasswordToggleMousedown:yt,handleWrapperKeyDown:$t,handleTextAreaMirrorResize:Me,getTextareaScrollContainer:()=>u.value,mergedTheme:s,cssVars:a?void 0:Pt,themeClass:xt==null?void 0:xt.themeClass,onRender:xt==null?void 0:xt.onRender})},render(){const{mergedClsPrefix:r,mergedStatus:t,themeClass:n,onRender:a,$slots:o}=this;return a==null||a(),h("div",{ref:"wrapperElRef",class:[`${r}-input`,n,t&&`${r}-input--${t}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:this.type==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&this.type!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeyDown},h("div",{class:`${r}-input-wrapper`},resolveWrappedSlot(o.prefix,s=>s&&h("div",{class:`${r}-input__prefix`},s)),this.type==="textarea"?h(NScrollbar,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0},{default:()=>{const{textAreaScrollContainerWidth:s}=this,l={width:this.autosize&&s&&`${s}px`};return h(Fragment,null,h("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:`${r}-input__textarea-el`,autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],l],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?h("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,l],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?h(VResizeObserver,{onResize:this.handleTextAreaMirrorResize},{default:()=>h("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):h("div",{class:`${r}-input__input`},h("input",Object.assign({type:this.type==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":this.type},this.inputProps,{ref:"inputElRef",class:`${r}-input__input-el`,style:this.textDecorationStyle[0],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:s=>this.handleInput(s,0),onChange:s=>this.handleChange(s,0)})),this.showPlaceholder1?h("div",{class:`${r}-input__placeholder`},h("span",null,this.mergedPlaceholder[0])):null,this.autosize?h("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&resolveWrappedSlot(o.suffix,s=>s||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?h("div",{class:`${r}-input__suffix`},[resolveWrappedSlot(o.clear,l=>(this.clearable||l)&&h(NBaseClear,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{default:()=>l})),this.internalLoadingBeforeSuffix?null:s,this.loading!==void 0?h(NBaseSuffix,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?s:null,this.showCount&&this.type!=="textarea"?h(WordCount,null,{default:l=>{var u;return(u=o.count)===null||u===void 0?void 0:u.call(o,l)}}):null,this.mergedShowPasswordOn&&this.type==="password"?h(NBaseIcon,{clsPrefix:r,class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},{default:()=>this.passwordVisible?resolveSlot(o["password-visible-icon"],()=>[h(EyeIcon,null)]):resolveSlot(o["password-invisible-icon"],()=>[h(EyeOffIcon,null)])}):null]):null)),this.pair?h("span",{class:`${r}-input__separator`},resolveSlot(o.separator,()=>[this.separator])):null,this.pair?h("div",{class:`${r}-input-wrapper`},h("div",{class:`${r}-input__input`},h("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:s=>this.handleInput(s,1),onChange:s=>this.handleChange(s,1)}),this.showPlaceholder2?h("div",{class:`${r}-input__placeholder`},h("span",null,this.mergedPlaceholder[1])):null),resolveWrappedSlot(o.suffix,s=>(this.clearable||s)&&h("div",{class:`${r}-input__suffix`},[this.clearable&&h(NBaseClear,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{default:()=>{var l;return(l=o.clear)===null||l===void 0?void 0:l.call(o)}}),s]))):null,this.mergedBordered?h("div",{class:`${r}-input__border`}):null,this.mergedBordered?h("div",{class:`${r}-input__state-border`}):null,this.showCount&&this.type==="textarea"?h(WordCount,null,{default:s=>{var l;return(l=o.count)===null||l===void 0?void 0:l.call(o,s)}}):null)}}),style$b=cB("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[c$1(">",[cB("input",[c$1("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),c$1("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),cB("button",[c$1("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[cE("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),c$1("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[cE("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),c$1("*",[c$1("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[c$1(">",[cB("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),cB("base-selection",[cB("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),cB("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),cE("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),c$1("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[c$1(">",[cB("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),cB("base-selection",[cB("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),cB("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),cE("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]);const inputGroupProps={};var NInputGroup=defineComponent({name:"InputGroup",props:inputGroupProps,setup(r){const{mergedClsPrefixRef:t}=useConfig(r);return useStyle("-input-group",style$b,t),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:r}=this;return h("div",{class:`${r}-input-group`},this.$slots)}});function self$J(r){const{boxShadow2:t}=r;return{menuBoxShadow:t}}const autoCompleteDark={name:"AutoComplete",common:commonDark,peers:{InternalSelectMenu:internalSelectMenuDark$1,Input:inputDark$1},self:self$J};var autoCompleteDark$1=autoCompleteDark;const self$I=r=>{const{borderRadius:t,avatarColor:n,cardColor:a,fontSize:o,heightTiny:s,heightSmall:l,heightMedium:u,heightLarge:f,heightHuge:d,modalColor:v,popoverColor:g}=r;return{borderRadius:t,fontSize:o,border:`2px solid ${a}`,heightTiny:s,heightSmall:l,heightMedium:u,heightLarge:f,heightHuge:d,color:composite(a,n),colorModal:composite(v,n),colorPopover:composite(g,n)}},avatarDark={name:"Avatar",common:commonDark,self:self$I};var avatarDark$1=avatarDark;const avatarGroupDark={name:"AvatarGroup",common:commonDark,peers:{Avatar:avatarDark$1}};var avatarGroupDark$1=avatarGroupDark,commonVariables$g={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"};const backTopDark={name:"BackTop",common:commonDark,self(r){const{popoverColor:t,textColor2:n,primaryColorHover:a,primaryColorPressed:o}=r;return Object.assign(Object.assign({},commonVariables$g),{color:t,textColor:n,iconColor:n,iconColorHover:a,iconColorPressed:o,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}};var backTopDark$1=backTopDark;const badgeDark={name:"Badge",common:commonDark,self(r){const{errorColorSuppl:t,infoColorSuppl:n,successColorSuppl:a,warningColorSuppl:o,fontFamily:s}=r;return{color:t,colorInfo:n,colorSuccess:a,colorError:t,colorWarning:o,fontSize:"12px",fontFamily:s}}};var badgeDark$1=badgeDark,commonVariables$f={fontWeightActive:"400"};const self$H=r=>{const{fontSize:t,textColor3:n,primaryColorHover:a,primaryColorPressed:o,textColor2:s}=r;return Object.assign(Object.assign({},commonVariables$f),{fontSize:t,itemTextColor:n,itemTextColorHover:a,itemTextColorPressed:o,itemTextColorActive:s,separatorColor:n})},breadcrumbDark={name:"Breadcrumb",common:commonDark,self:self$H};var breadcrumbDark$1=breadcrumbDark;function createHoverColor(r){return composite(r,[255,255,255,.16])}function createPressedColor(r){return composite(r,[0,0,0,.12])}var commonVariables$e={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"};const self$G=r=>{const{heightTiny:t,heightSmall:n,heightMedium:a,heightLarge:o,borderRadius:s,fontSizeTiny:l,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:d,opacityDisabled:v,textColor2:g,textColor3:S,primaryColorHover:x,primaryColorPressed:_,borderColor:C,primaryColor:T,baseColor:w,infoColor:M,infoColorHover:D,infoColorPressed:I,successColor:R,successColorHover:$,successColorPressed:N,warningColor:F,warningColorHover:H,warningColorPressed:Y,errorColor:G,errorColorHover:K,errorColorPressed:Z,fontWeight:J,buttonColor2:Q,buttonColor2Hover:te,buttonColor2Pressed:ie,fontWeightStrong:ne}=r;return Object.assign(Object.assign({},commonVariables$e),{heightTiny:t,heightSmall:n,heightMedium:a,heightLarge:o,borderRadiusTiny:s,borderRadiusSmall:s,borderRadiusMedium:s,borderRadiusLarge:s,fontSizeTiny:l,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:d,opacityDisabled:v,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:Q,colorSecondaryHover:te,colorSecondaryPressed:ie,colorTertiary:Q,colorTertiaryHover:te,colorTertiaryPressed:ie,colorQuaternary:"#0000",colorQuaternaryHover:te,colorQuaternaryPressed:ie,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:g,textColorTertiary:S,textColorHover:x,textColorPressed:_,textColorFocus:x,textColorDisabled:g,textColorText:g,textColorTextHover:x,textColorTextPressed:_,textColorTextFocus:x,textColorTextDisabled:g,textColorGhost:g,textColorGhostHover:x,textColorGhostPressed:_,textColorGhostFocus:x,textColorGhostDisabled:g,border:`1px solid ${C}`,borderHover:`1px solid ${x}`,borderPressed:`1px solid ${_}`,borderFocus:`1px solid ${x}`,borderDisabled:`1px solid ${C}`,rippleColor:T,colorPrimary:T,colorHoverPrimary:x,colorPressedPrimary:_,colorFocusPrimary:x,colorDisabledPrimary:T,textColorPrimary:w,textColorHoverPrimary:w,textColorPressedPrimary:w,textColorFocusPrimary:w,textColorDisabledPrimary:w,textColorTextPrimary:T,textColorTextHoverPrimary:x,textColorTextPressedPrimary:_,textColorTextFocusPrimary:x,textColorTextDisabledPrimary:g,textColorGhostPrimary:T,textColorGhostHoverPrimary:x,textColorGhostPressedPrimary:_,textColorGhostFocusPrimary:x,textColorGhostDisabledPrimary:T,borderPrimary:`1px solid ${T}`,borderHoverPrimary:`1px solid ${x}`,borderPressedPrimary:`1px solid ${_}`,borderFocusPrimary:`1px solid ${x}`,borderDisabledPrimary:`1px solid ${T}`,rippleColorPrimary:T,colorInfo:M,colorHoverInfo:D,colorPressedInfo:I,colorFocusInfo:D,colorDisabledInfo:M,textColorInfo:w,textColorHoverInfo:w,textColorPressedInfo:w,textColorFocusInfo:w,textColorDisabledInfo:w,textColorTextInfo:M,textColorTextHoverInfo:D,textColorTextPressedInfo:I,textColorTextFocusInfo:D,textColorTextDisabledInfo:g,textColorGhostInfo:M,textColorGhostHoverInfo:D,textColorGhostPressedInfo:I,textColorGhostFocusInfo:D,textColorGhostDisabledInfo:M,borderInfo:`1px solid ${M}`,borderHoverInfo:`1px solid ${D}`,borderPressedInfo:`1px solid ${I}`,borderFocusInfo:`1px solid ${D}`,borderDisabledInfo:`1px solid ${M}`,rippleColorInfo:M,colorSuccess:R,colorHoverSuccess:$,colorPressedSuccess:N,colorFocusSuccess:$,colorDisabledSuccess:R,textColorSuccess:w,textColorHoverSuccess:w,textColorPressedSuccess:w,textColorFocusSuccess:w,textColorDisabledSuccess:w,textColorTextSuccess:R,textColorTextHoverSuccess:$,textColorTextPressedSuccess:N,textColorTextFocusSuccess:$,textColorTextDisabledSuccess:g,textColorGhostSuccess:R,textColorGhostHoverSuccess:$,textColorGhostPressedSuccess:N,textColorGhostFocusSuccess:$,textColorGhostDisabledSuccess:R,borderSuccess:`1px solid ${R}`,borderHoverSuccess:`1px solid ${$}`,borderPressedSuccess:`1px solid ${N}`,borderFocusSuccess:`1px solid ${$}`,borderDisabledSuccess:`1px solid ${R}`,rippleColorSuccess:R,colorWarning:F,colorHoverWarning:H,colorPressedWarning:Y,colorFocusWarning:H,colorDisabledWarning:F,textColorWarning:w,textColorHoverWarning:w,textColorPressedWarning:w,textColorFocusWarning:w,textColorDisabledWarning:w,textColorTextWarning:F,textColorTextHoverWarning:H,textColorTextPressedWarning:Y,textColorTextFocusWarning:H,textColorTextDisabledWarning:g,textColorGhostWarning:F,textColorGhostHoverWarning:H,textColorGhostPressedWarning:Y,textColorGhostFocusWarning:H,textColorGhostDisabledWarning:F,borderWarning:`1px solid ${F}`,borderHoverWarning:`1px solid ${H}`,borderPressedWarning:`1px solid ${Y}`,borderFocusWarning:`1px solid ${H}`,borderDisabledWarning:`1px solid ${F}`,rippleColorWarning:F,colorError:G,colorHoverError:K,colorPressedError:Z,colorFocusError:K,colorDisabledError:G,textColorError:w,textColorHoverError:w,textColorPressedError:w,textColorFocusError:w,textColorDisabledError:w,textColorTextError:G,textColorTextHoverError:K,textColorTextPressedError:Z,textColorTextFocusError:K,textColorTextDisabledError:g,textColorGhostError:G,textColorGhostHoverError:K,textColorGhostPressedError:Z,textColorGhostFocusError:K,textColorGhostDisabledError:G,borderError:`1px solid ${G}`,borderHoverError:`1px solid ${K}`,borderPressedError:`1px solid ${Z}`,borderFocusError:`1px solid ${K}`,borderDisabledError:`1px solid ${G}`,rippleColorError:G,waveOpacity:"0.6",fontWeight:J,fontWeightStrong:ne})},buttonLight={name:"Button",common:commonLight,self:self$G},buttonDark={name:"Button",common:commonDark,self(r){const t=self$G(r);return t.waveOpacity="0.8",t.colorOpacitySecondary="0.16",t.colorOpacitySecondaryHover="0.2",t.colorOpacitySecondaryPressed="0.12",t}};var buttonDark$1=buttonDark;const buttonGroupInjectionKey="n-button-group";var style$a=c$1([cB("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("color",[cE("border",{borderColor:"var(--n-border-color)"}),cM("disabled",[cE("border",{borderColor:"var(--n-border-color-disabled)"})]),cNotM("disabled",[c$1("&:focus",[cE("state-border",{borderColor:"var(--n-border-color-focus)"})]),c$1("&:hover",[cE("state-border",{borderColor:"var(--n-border-color-hover)"})]),c$1("&:active",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})]),cM("pressed",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),cM("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[cE("border",{border:"var(--n-border-disabled)"})]),cNotM("disabled",[c$1("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[cE("state-border",{border:"var(--n-border-focus)"})]),c$1("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[cE("state-border",{border:"var(--n-border-hover)"})]),c$1("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})]),cM("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})])]),cM("loading",{"pointer-events":"none"}),cB("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[cM("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),typeof window!="undefined"&&"MozBoxSizing"in document.createElement("div").style?c$1("&::moz-focus-inner",{border:0}):null,cE("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),cE("border",{border:"var(--n-border)"}),cE("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),cE("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[cB("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 `,[createIconSwitchTransition({top:"50%",originalTransform:"translateY(-50%)"})]),fadeInWidthExpandTransition()]),cE("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[c$1("~",[cE("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),cM("block",`
 display: flex;
 width: 100%;
 `),cM("dashed",[cE("border, state-border",{borderStyle:"dashed !important"})]),cM("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),c$1("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),c$1("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]);const buttonProps=Object.assign(Object.assign({},useTheme.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],internalAutoFocus:Boolean}),Button=defineComponent({name:"Button",props:buttonProps,setup(r){const t=ref(null),n=ref(null),a=ref(!1);onMounted(()=>{const{value:I}=t;I&&!r.disabled&&r.focusable&&r.internalAutoFocus&&I.focus({preventScroll:!0})});const o=useMemo(()=>!r.quaternary&&!r.tertiary&&!r.secondary&&!r.text&&(!r.color||r.ghost||r.dashed)&&r.bordered),s=inject(buttonGroupInjectionKey,{}),{mergedSizeRef:l}=useFormItem({},{defaultSize:"medium",mergedSize:I=>{const{size:R}=r;if(R)return R;const{size:$}=s;if($)return $;const{mergedSize:N}=I||{};return N?N.value:"medium"}}),u=computed(()=>r.focusable&&!r.disabled),f=I=>{var R;I.preventDefault(),!r.disabled&&u.value&&((R=t.value)===null||R===void 0||R.focus({preventScroll:!0}))},d=I=>{var R;if(!r.disabled&&!r.loading){const{onClick:$}=r;$&&call($,I),r.text||(R=n.value)===null||R===void 0||R.play()}},v=I=>{switch(I.code){case"Enter":case"NumpadEnter":if(!r.keyboard)return;a.value=!1}},g=I=>{switch(I.code){case"Enter":case"NumpadEnter":if(!r.keyboard||r.loading){I.preventDefault();return}a.value=!0}},S=()=>{a.value=!1},{inlineThemeDisabled:x,mergedClsPrefixRef:_,mergedRtlRef:C}=useConfig(r),T=useTheme("Button","-button",style$a,buttonLight,r,_),w=useRtl("Button",C,_),M=computed(()=>{const I=T.value,{common:{cubicBezierEaseInOut:R,cubicBezierEaseOut:$},self:N}=I,{rippleDuration:F,opacityDisabled:H,fontWeight:Y,fontWeightStrong:G}=N,K=l.value,{dashed:Z,type:J,ghost:Q,text:te,color:ie,round:ne,circle:de,textColor:ve,secondary:pe,tertiary:$e,quaternary:Re,strong:Ge}=r,Qe={"font-weight":Ge?G:Y};let Le={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const We=J==="tertiary",Oe=J==="default",ke=We?"default":J;if(te){const _e=ve||ie,Te=_e||N[createKey("textColorText",ke)];Le={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":Te,"--n-text-color-hover":_e?createHoverColor(_e):N[createKey("textColorTextHover",ke)],"--n-text-color-pressed":_e?createPressedColor(_e):N[createKey("textColorTextPressed",ke)],"--n-text-color-focus":_e?createHoverColor(_e):N[createKey("textColorTextHover",ke)],"--n-text-color-disabled":_e||N[createKey("textColorTextDisabled",ke)]}}else if(Q||Z){const _e=ve||ie;Le={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":ie||N[createKey("rippleColor",ke)],"--n-text-color":_e||N[createKey("textColorGhost",ke)],"--n-text-color-hover":_e?createHoverColor(_e):N[createKey("textColorGhostHover",ke)],"--n-text-color-pressed":_e?createPressedColor(_e):N[createKey("textColorGhostPressed",ke)],"--n-text-color-focus":_e?createHoverColor(_e):N[createKey("textColorGhostHover",ke)],"--n-text-color-disabled":_e||N[createKey("textColorGhostDisabled",ke)]}}else if(pe){const _e=Oe?N.textColor:We?N.textColorTertiary:N[createKey("color",ke)],Te=ie||_e,Ce=J!=="default"&&J!=="tertiary";Le={"--n-color":Ce?changeColor(Te,{alpha:Number(N.colorOpacitySecondary)}):N.colorSecondary,"--n-color-hover":Ce?changeColor(Te,{alpha:Number(N.colorOpacitySecondaryHover)}):N.colorSecondaryHover,"--n-color-pressed":Ce?changeColor(Te,{alpha:Number(N.colorOpacitySecondaryPressed)}):N.colorSecondaryPressed,"--n-color-focus":Ce?changeColor(Te,{alpha:Number(N.colorOpacitySecondaryHover)}):N.colorSecondaryHover,"--n-color-disabled":N.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":Te,"--n-text-color-hover":Te,"--n-text-color-pressed":Te,"--n-text-color-focus":Te,"--n-text-color-disabled":Te}}else if($e||Re){const _e=Oe?N.textColor:We?N.textColorTertiary:N[createKey("color",ke)],Te=ie||_e;$e?(Le["--n-color"]=N.colorTertiary,Le["--n-color-hover"]=N.colorTertiaryHover,Le["--n-color-pressed"]=N.colorTertiaryPressed,Le["--n-color-focus"]=N.colorSecondaryHover,Le["--n-color-disabled"]=N.colorTertiary):(Le["--n-color"]=N.colorQuaternary,Le["--n-color-hover"]=N.colorQuaternaryHover,Le["--n-color-pressed"]=N.colorQuaternaryPressed,Le["--n-color-focus"]=N.colorQuaternaryHover,Le["--n-color-disabled"]=N.colorQuaternary),Le["--n-ripple-color"]="#0000",Le["--n-text-color"]=Te,Le["--n-text-color-hover"]=Te,Le["--n-text-color-pressed"]=Te,Le["--n-text-color-focus"]=Te,Le["--n-text-color-disabled"]=Te}else Le={"--n-color":ie||N[createKey("color",ke)],"--n-color-hover":ie?createHoverColor(ie):N[createKey("colorHover",ke)],"--n-color-pressed":ie?createPressedColor(ie):N[createKey("colorPressed",ke)],"--n-color-focus":ie?createHoverColor(ie):N[createKey("colorFocus",ke)],"--n-color-disabled":ie||N[createKey("colorDisabled",ke)],"--n-ripple-color":ie||N[createKey("rippleColor",ke)],"--n-text-color":ve||(ie?N.textColorPrimary:We?N.textColorTertiary:N[createKey("textColor",ke)]),"--n-text-color-hover":ve||(ie?N.textColorHoverPrimary:N[createKey("textColorHover",ke)]),"--n-text-color-pressed":ve||(ie?N.textColorPressedPrimary:N[createKey("textColorPressed",ke)]),"--n-text-color-focus":ve||(ie?N.textColorFocusPrimary:N[createKey("textColorFocus",ke)]),"--n-text-color-disabled":ve||(ie?N.textColorDisabledPrimary:N[createKey("textColorDisabled",ke)])};let Ye={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};te?Ye={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:Ye={"--n-border":N[createKey("border",ke)],"--n-border-hover":N[createKey("borderHover",ke)],"--n-border-pressed":N[createKey("borderPressed",ke)],"--n-border-focus":N[createKey("borderFocus",ke)],"--n-border-disabled":N[createKey("borderDisabled",ke)]};const{[createKey("height",K)]:ze,[createKey("fontSize",K)]:qe,[createKey("padding",K)]:ae,[createKey("paddingRound",K)]:le,[createKey("iconSize",K)]:ge,[createKey("borderRadius",K)]:se,[createKey("iconMargin",K)]:oe,waveOpacity:Se}=N,xe={"--n-width":de&&!te?ze:"initial","--n-height":te?"initial":ze,"--n-font-size":qe,"--n-padding":de||te?"initial":ne?le:ae,"--n-icon-size":ge,"--n-icon-margin":oe,"--n-border-radius":te?"initial":de||ne?ze:se};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":R,"--n-bezier-ease-out":$,"--n-ripple-duration":F,"--n-opacity-disabled":H,"--n-wave-opacity":Se},Qe),Le),Ye),xe)}),D=x?useThemeClass("button",computed(()=>{let I="";const{dashed:R,type:$,ghost:N,text:F,color:H,round:Y,circle:G,textColor:K,secondary:Z,tertiary:J,quaternary:Q,strong:te}=r;R&&(I+="a"),N&&(I+="b"),F&&(I+="c"),Y&&(I+="d"),G&&(I+="e"),Z&&(I+="f"),J&&(I+="g"),Q&&(I+="h"),te&&(I+="i"),H&&(I+="j"+color2Class(H)),K&&(I+="k"+color2Class(K));const{value:ie}=l;return I+="l"+ie[0],I+="m"+$[0],I}),M,r):void 0;return{selfElRef:t,waveElRef:n,mergedClsPrefix:_,mergedFocusable:u,mergedSize:l,showBorder:o,enterPressed:a,rtlEnabled:w,handleMousedown:f,handleKeydown:g,handleBlur:S,handleKeyup:v,handleClick:d,customColorCssVars:computed(()=>{const{color:I}=r;if(!I)return null;const R=createHoverColor(I);return{"--n-border-color":I,"--n-border-color-hover":R,"--n-border-color-pressed":createPressedColor(I),"--n-border-color-focus":R,"--n-border-color-disabled":I}}),cssVars:x?void 0:M,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender}},render(){const{mergedClsPrefix:r,tag:t,onRender:n}=this;n==null||n();const a=resolveWrappedSlot(this.$slots.default,o=>o&&h("span",{class:`${r}-button__content`},o));return h(t,{ref:"selfElRef",class:[this.themeClass,`${r}-button`,`${r}-button--${this.type}-type`,`${r}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${r}-button--rtl`,this.disabled&&`${r}-button--disabled`,this.block&&`${r}-button--block`,this.enterPressed&&`${r}-button--pressed`,!this.text&&this.dashed&&`${r}-button--dashed`,this.color&&`${r}-button--color`,this.secondary&&`${r}-button--secondary`,this.loading&&`${r}-button--loading`,this.ghost&&`${r}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&a,h(NFadeInExpandTransition,{width:!0},{default:()=>resolveWrappedSlot(this.$slots.icon,o=>(this.loading||o)&&h("span",{class:`${r}-button__icon`,style:{margin:isSlotEmpty(this.$slots.default)?"0":""}},h(NIconSwitchTransition,null,{default:()=>this.loading?h(NBaseLoading,{clsPrefix:r,key:"loading",class:`${r}-icon-slot`,strokeWidth:20}):h("div",{key:"icon",class:`${r}-icon-slot`,role:"none"},o)})))}),this.iconPlacement==="left"&&a,this.text?null:h(NBaseWave,{ref:"waveElRef",clsPrefix:r}),this.showBorder?h("div",{"aria-hidden":!0,class:`${r}-button__border`,style:this.customColorCssVars}):null,this.showBorder?h("div",{"aria-hidden":!0,class:`${r}-button__state-border`,style:this.customColorCssVars}):null)}});var NButton=Button;const XButton=Button;var commonVariables$d={titleFontSize:"22px"};const self$F=r=>{const{borderRadius:t,fontSize:n,lineHeight:a,textColor2:o,textColor1:s,textColorDisabled:l,dividerColor:u,fontWeightStrong:f,primaryColor:d,baseColor:v,hoverColor:g,cardColor:S,modalColor:x,popoverColor:_}=r;return Object.assign(Object.assign({},commonVariables$d),{borderRadius:t,borderColor:composite(S,u),borderColorModal:composite(x,u),borderColorPopover:composite(_,u),textColor:o,titleFontWeight:f,titleTextColor:s,dayTextColor:l,fontSize:n,lineHeight:a,dateColorCurrent:d,dateTextColorCurrent:v,cellColorHover:composite(S,g),cellColorHoverModal:composite(x,g),cellColorHoverPopover:composite(_,g),cellColor:S,cellColorModal:x,cellColorPopover:_,barColor:d})},calendarDark={name:"Calendar",common:commonDark,peers:{Button:buttonDark$1},self:self$F};var calendarDark$1=calendarDark;const self$E=r=>{const{fontSize:t,boxShadow2:n,popoverColor:a,textColor2:o,borderRadius:s,borderColor:l,heightSmall:u,heightMedium:f,heightLarge:d,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:S,dividerColor:x}=r;return{panelFontSize:t,boxShadow:n,color:a,textColor:o,borderRadius:s,border:`1px solid ${l}`,heightSmall:u,heightMedium:f,heightLarge:d,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:S,dividerColor:x}},colorPickerLight={name:"ColorPicker",common:commonLight,peers:{Input:inputLight$1,Button:buttonLight},self:self$E},colorPickerDark={name:"ColorPicker",common:commonDark,peers:{Input:inputDark$1,Button:buttonDark$1},self:self$E};var colorPickerDark$1=colorPickerDark;function deriveDefaultValue(r,t){switch(r[0]){case"hex":return t?"#000000FF":"#000000";case"rgb":return t?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hsl":return t?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"hsv":return t?"hsva(0, 0%, 0%, 1)":"hsv(0, 0%, 0%)"}return"#000000"}function getModeFromValue(r){return r===null?null:/^ *#/.test(r)?"hex":r.includes("rgb")?"rgb":r.includes("hsl")?"hsl":r.includes("hsv")?"hsv":null}function normalizeHue(r){return r=Math.round(r),r>=360?359:r<0?0:r}function normalizeAlpha(r){return r=Math.round(r*100)/100,r>1?1:r<0?0:r}const convert={rgb:{hex(r){return toHexaString(rgba(r))},hsl(r){const[t,n,a,o]=rgba(r);return toHslaString([...rgb2hsl(t,n,a),o])},hsv(r){const[t,n,a,o]=rgba(r);return toHsvaString([...rgb2hsv(t,n,a),o])}},hex:{rgb(r){return toRgbaString(rgba(r))},hsl(r){const[t,n,a,o]=rgba(r);return toHslaString([...rgb2hsl(t,n,a),o])},hsv(r){const[t,n,a,o]=rgba(r);return toHsvaString([...rgb2hsv(t,n,a),o])}},hsl:{hex(r){const[t,n,a,o]=hsla(r);return toHexaString([...hsl2rgb(t,n,a),o])},rgb(r){const[t,n,a,o]=hsla(r);return toRgbaString([...hsl2rgb(t,n,a),o])},hsv(r){const[t,n,a,o]=hsla(r);return toHsvaString([...hsl2hsv(t,n,a),o])}},hsv:{hex(r){const[t,n,a,o]=hsva(r);return toHexaString([...hsv2rgb(t,n,a),o])},rgb(r){const[t,n,a,o]=hsva(r);return toRgbaString([...hsv2rgb(t,n,a),o])},hsl(r){const[t,n,a,o]=hsva(r);return toHslaString([...hsv2hsl(t,n,a),o])}}};function convertColor(r,t,n){return n=n||getModeFromValue(r),n?n===t?r:convert[n][t](r):null}const HANDLE_SIZE$2="12px",HANDLE_SIZE_NUM$1=12,RADIUS$2="6px",RADIUS_NUM=6,GRADIENT="linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)";var HueSlider=defineComponent({name:"HueSlider",props:{clsPrefix:{type:String,required:!0},hue:{type:Number,required:!0},onUpdateHue:{type:Function,required:!0},onComplete:Function},setup(r){const t=ref(null);function n(s){!t.value||(on("mousemove",document,a),on("mouseup",document,o),a(s))}function a(s){const{value:l}=t;if(!l)return;const{width:u,left:f}=l.getBoundingClientRect(),d=normalizeHue((s.clientX-f-RADIUS_NUM)/(u-HANDLE_SIZE_NUM$1)*360);r.onUpdateHue(d)}function o(){var s;off("mousemove",document,a),off("mouseup",document,o),(s=r.onComplete)===null||s===void 0||s.call(r)}return{railRef:t,handleMouseDown:n}},render(){const{clsPrefix:r}=this;return h("div",{class:`${r}-color-picker-slider`,style:{height:HANDLE_SIZE$2,borderRadius:RADIUS$2}},h("div",{ref:"railRef",style:{boxShadow:"inset 0 0 2px 0 rgba(0, 0, 0, .24)",boxSizing:"border-box",backgroundImage:GRADIENT,height:HANDLE_SIZE$2,borderRadius:RADIUS$2,position:"relative"},onMousedown:this.handleMouseDown},h("div",{style:{position:"absolute",left:RADIUS$2,right:RADIUS$2,top:0,bottom:0}},h("div",{class:`${r}-color-picker-handle`,style:{left:`calc((${this.hue}%) / 359 * 100 - ${RADIUS$2})`,borderRadius:RADIUS$2,width:HANDLE_SIZE$2,height:HANDLE_SIZE$2}},h("div",{class:`${r}-color-picker-handle__fill`,style:{backgroundColor:`hsl(${this.hue}, 100%, 50%)`,borderRadius:RADIUS$2,width:HANDLE_SIZE$2,height:HANDLE_SIZE$2}})))))}});const HANDLE_SIZE$1="12px",HANDLE_SIZE_NUM=12,RADIUS$1="6px";var AlphaSlider=defineComponent({name:"AlphaSlider",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},alpha:{type:Number,default:0},onUpdateAlpha:{type:Function,required:!0},onComplete:Function},setup(r){const t=ref(null);function n(s){!t.value||!r.rgba||(on("mousemove",document,a),on("mouseup",document,o),a(s))}function a(s){const{value:l}=t;if(!l)return;const{width:u,left:f}=l.getBoundingClientRect(),d=(s.clientX-f)/(u-HANDLE_SIZE_NUM);r.onUpdateAlpha(normalizeAlpha(d))}function o(){var s;off("mousemove",document,a),off("mouseup",document,o),(s=r.onComplete)===null||s===void 0||s.call(r)}return{railRef:t,railBackgroundImage:computed(()=>{const{rgba:s}=r;return s?`linear-gradient(to right, rgba(${s[0]}, ${s[1]}, ${s[2]}, 0) 0%, rgba(${s[0]}, ${s[1]}, ${s[2]}, 1) 100%)`:""}),handleMouseDown:n}},render(){const{clsPrefix:r}=this;return h("div",{class:`${r}-color-picker-slider`,ref:"railRef",style:{height:HANDLE_SIZE$1,borderRadius:RADIUS$1},onMousedown:this.handleMouseDown},h("div",{style:{borderRadius:RADIUS$1,position:"absolute",left:0,right:0,top:0,bottom:0,overflow:"hidden"}},h("div",{class:`${r}-color-picker-checkboard`}),h("div",{class:`${r}-color-picker-slider__image`,style:{backgroundImage:this.railBackgroundImage}})),this.rgba&&h("div",{style:{position:"absolute",left:RADIUS$1,right:RADIUS$1,top:0,bottom:0}},h("div",{class:`${r}-color-picker-handle`,style:{left:`calc(${this.alpha*100}% - ${RADIUS$1})`,borderRadius:RADIUS$1,width:HANDLE_SIZE$1,height:HANDLE_SIZE$1}},h("div",{class:`${r}-color-picker-handle__fill`,style:{backgroundColor:toRgbaString(this.rgba),borderRadius:RADIUS$1,width:HANDLE_SIZE$1,height:HANDLE_SIZE$1}}))))}});const HANDLE_SIZE="12px",RADIUS="6px";var Pallete=defineComponent({name:"Pallete",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},displayedHue:{type:Number,required:!0},displayedSv:{type:Array,required:!0},onUpdateSV:{type:Function,required:!0},onComplete:Function},setup(r){const t=ref(null);function n(s){!t.value||(on("mousemove",document,a),on("mouseup",document,o),a(s))}function a(s){const{value:l}=t;if(!l)return;const{width:u,height:f,left:d,bottom:v}=l.getBoundingClientRect(),g=(v-s.clientY)/f,S=(s.clientX-d)/u,x=100*(S>1?1:S<0?0:S),_=100*(g>1?1:g<0?0:g);r.onUpdateSV(x,_)}function o(){var s;off("mousemove",document,a),off("mouseup",document,o),(s=r.onComplete)===null||s===void 0||s.call(r)}return{palleteRef:t,handleColor:computed(()=>{const{rgba:s}=r;return s?`rgb(${s[0]}, ${s[1]}, ${s[2]})`:""}),handleMouseDown:n}},render(){const{clsPrefix:r}=this;return h("div",{class:`${r}-color-picker-pallete`,onMousedown:this.handleMouseDown,ref:"palleteRef"},h("div",{class:`${r}-color-picker-pallete__layer`,style:{backgroundImage:`linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`}}),h("div",{class:`${r}-color-picker-pallete__layer ${r}-color-picker-pallete__layer--shadowed`,style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))"}}),this.rgba&&h("div",{class:`${r}-color-picker-handle`,style:{width:HANDLE_SIZE,height:HANDLE_SIZE,borderRadius:RADIUS,left:`calc(${this.displayedSv[0]}% - ${RADIUS})`,bottom:`calc(${this.displayedSv[1]}% - ${RADIUS})`}},h("div",{class:`${r}-color-picker-handle__fill`,style:{backgroundColor:this.handleColor,borderRadius:RADIUS,width:HANDLE_SIZE,height:HANDLE_SIZE}})))}});const colorPickerInjectionKey="n-color-picker";function normalizeRgbUnit(r){return/^\d{1,3}\.?\d*$/.test(r.trim())?Math.max(0,Math.min(parseInt(r),255)):!1}function normalizeHueUnit(r){return/^\d{1,3}\.?\d*$/.test(r.trim())?Math.max(0,Math.min(parseInt(r),360)):!1}function normalizeSlvUnit(r){return/^\d{1,3}\.?\d*$/.test(r.trim())?Math.max(0,Math.min(parseInt(r),100)):!1}function normalizeHexaUnit(r){const t=r.trim();return/^#[0-9a-fA-F]+$/.test(t)?[4,5,7,9].includes(t.length):!1}function normalizeAlphaUnit(r){return/^\d{1,3}\.?\d*%$/.test(r.trim())?Math.max(0,Math.min(parseInt(r),100)):!1}const inputThemeOverrides={paddingSmall:"0 4px"};var ColorInputUnit=defineComponent({name:"ColorInputUnit",props:{label:{type:String,required:!0},value:{type:[Number,String],default:null},showAlpha:Boolean,onUpdateValue:{type:Function,required:!0}},setup(r){const t=ref(""),{themeRef:n}=inject(colorPickerInjectionKey,null);watchEffect(()=>{t.value=a()});function a(){const{value:l}=r;if(l===null)return"";const{label:u}=r;return u==="HEX"?l:u==="A"?`${Math.floor(l*100)}%`:String(Math.floor(l))}function o(l){t.value=l}function s(l){let u,f;switch(r.label){case"HEX":f=normalizeHexaUnit(l),f&&r.onUpdateValue(l),t.value=a();break;case"H":u=normalizeHueUnit(l),u===!1?t.value=a():r.onUpdateValue(u);break;case"S":case"L":case"V":u=normalizeSlvUnit(l),u===!1?t.value=a():r.onUpdateValue(u);break;case"A":u=normalizeAlphaUnit(l),u===!1?t.value=a():r.onUpdateValue(u);break;case"R":case"G":case"B":u=normalizeRgbUnit(l),u===!1?t.value=a():r.onUpdateValue(u);break}}return{mergedTheme:n,inputValue:t,handleInputChange:s,handleInputUpdateValue:o}},render(){const{mergedTheme:r}=this;return h(NInput,{size:"small",placeholder:this.label,theme:r.peers.Input,themeOverrides:r.peerOverrides.Input,builtinThemeOverrides:inputThemeOverrides,value:this.inputValue,onUpdateValue:this.handleInputUpdateValue,onChange:this.handleInputChange,style:this.label==="A"?"flex-grow: 1.25;":""})}}),ColorInput=defineComponent({name:"ColorInput",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},modes:{type:Array,required:!0},showAlpha:{type:Boolean,required:!0},value:{type:String,default:null},valueArr:{type:Array,default:null},onUpdateValue:{type:Function,required:!0},onUpdateMode:{type:Function,required:!0}},setup(r){return{handleUnitUpdateValue(t,n){const{showAlpha:a}=r;if(r.mode==="hex"){r.onUpdateValue((a?toHexaString:toHexString)(n));return}let o;switch(r.valueArr===null?o=[0,0,0,0]:o=Array.from(r.valueArr),r.mode){case"hsv":o[t]=n,r.onUpdateValue((a?toHsvaString:toHsvString)(o));break;case"rgb":o[t]=n,r.onUpdateValue((a?toRgbaString:toRgbString)(o));break;case"hsl":o[t]=n,r.onUpdateValue((a?toHslaString:toHslString)(o));break}}}},render(){const{clsPrefix:r,modes:t}=this;return h("div",{class:`${r}-color-picker-input`},h("div",{class:`${r}-color-picker-input__mode`,onClick:this.onUpdateMode,style:{cursor:t.length===1?"":"pointer"}},this.mode.toUpperCase()+(this.showAlpha?"A":"")),h(NInputGroup,null,{default:()=>{const{mode:n,valueArr:a,showAlpha:o}=this;if(n==="hex"){let s=null;try{s=a===null?null:(o?toHexaString:toHexString)(a)}catch{}return h(ColorInputUnit,{label:"HEX",showAlpha:o,value:s,onUpdateValue:l=>{this.handleUnitUpdateValue(0,l)}})}return(n+(o?"a":"")).split("").map((s,l)=>h(ColorInputUnit,{label:s.toUpperCase(),value:a===null?null:a[l],onUpdateValue:u=>{this.handleUnitUpdateValue(l,u)}}))}}))}}),ColorPickerTrigger=defineComponent({name:"ColorPickerTrigger",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:null},hsla:{type:Array,default:null},disabled:Boolean,onClick:Function},setup(r){const{colorPickerSlots:t,renderLabelRef:n}=inject(colorPickerInjectionKey,null);return()=>{const{hsla:a,value:o,clsPrefix:s,onClick:l,disabled:u}=r,f=t.label||n.value;return h("div",{class:[`${s}-color-picker-trigger`,u&&`${s}-color-picker-trigger--disabled`],onClick:u?void 0:l},h("div",{class:`${s}-color-picker-trigger__fill`},h("div",{class:`${s}-color-picker-checkboard`}),h("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:a?toHslaString(a):""}}),o&&a?h("div",{class:`${s}-color-picker-trigger__value`,style:{color:a[2]>50||a[3]<.5?"black":"white"}},f?f(o):o):null))}}});function normalizeColor$1(r,t){if(t==="hsv"){const[n,a,o,s]=hsva(r);return toRgbaString([...hsv2rgb(n,a,o),s])}return r}function getHexFromName(r){const t=document.createElement("canvas").getContext("2d");return t.fillStyle=r,t.fillStyle}var ColorPickerSwatches=defineComponent({name:"ColorPickerSwatches",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},swatches:{type:Array,required:!0},onUpdateColor:{type:Function,required:!0}},setup(r){const t=computed(()=>r.swatches.map(s=>{const l=getModeFromValue(s);return{value:s,mode:l,legalValue:normalizeColor$1(s,l)}}));function n(s){const{mode:l}=r;let{value:u,mode:f}=s;return f||(f="hex",/^[a-zA-Z]+$/.test(u)?u=getHexFromName(u):(warn$3("color-picker",`color ${u} in swatches is invalid.`),u="#000000")),f===l?u:convertColor(u,l,f)}function a(s){r.onUpdateColor(n(s))}function o(s,l){s.key==="Enter"&&a(l)}return{parsedSwatchesRef:t,handleSwatchSelect:a,handleSwatchKeyDown:o}},render(){const{clsPrefix:r}=this;return h("div",{class:`${r}-color-picker-swatches`},this.parsedSwatchesRef.map(t=>h("div",{class:`${r}-color-picker-swatch`,tabindex:0,onClick:()=>this.handleSwatchSelect(t),onKeydown:n=>this.handleSwatchKeyDown(n,t)},h("div",{class:`${r}-color-picker-swatch__fill`,style:{background:t.legalValue}}))))}}),ColorPreview=defineComponent({name:"ColorPreview",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},color:{type:String,default:null,validator:r=>{const t=getModeFromValue(r);return Boolean(!r||t&&t!=="hsv")}},onUpdateColor:{type:Function,required:!0}},setup(r){function t(n){var a;const o=n.target.value;(a=r.onUpdateColor)===null||a===void 0||a.call(r,convertColor(o.toUpperCase(),r.mode,"hex")),n.stopPropagation()}return{handleChange:t}},render(){const{clsPrefix:r}=this;return h("div",{class:`${r}-color-picker-preview__preview`},h("span",{class:`${r}-color-picker-preview__fill`,style:{background:this.color||"#000000"}}),h("input",{class:`${r}-color-picker-preview__input`,type:"color",value:this.color,onChange:this.handleChange}))}}),style$9=c$1([cB("color-picker",`
 display: inline-block;
 box-sizing: border-box;
 height: var(--n-height);
 font-size: var(--n-font-size);
 width: 100%;
 position: relative;
 `),cB("color-picker-panel",`
 margin: 4px 0;
 width: 240px;
 font-size: var(--n-panel-font-size);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 `,[fadeInScaleUpTransition(),cB("input",`
 text-align: center;
 `)]),cB("color-picker-checkboard",`
 background: white; 
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[c$1("&::after",`
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 12px 12px;
 background-position: 0 0, 0 6px, 6px -6px, -6px 0px;
 background-repeat: repeat;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),cB("color-picker-slider",`
 margin-bottom: 8px;
 position: relative;
 box-sizing: border-box;
 `,[cE("image",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),c$1("&::after",`
 content: "";
 position: absolute;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 pointer-events: none;
 `)]),cB("color-picker-handle",`
 z-index: 1;
 box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);
 position: absolute;
 background-color: white;
 overflow: hidden;
 `,[cE("fill",`
 box-sizing: border-box;
 border: 2px solid white;
 `)]),cB("color-picker-pallete",`
 height: 180px;
 position: relative;
 margin-bottom: 8px;
 cursor: crosshair;
 `,[cE("layer",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[cM("shadowed",`
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 `)])]),cB("color-picker-preview",`
 display: flex;
 `,[cE("sliders",`
 flex: 1 0 auto;
 `),cE("preview",`
 position: relative;
 height: 30px;
 width: 30px;
 margin: 0 0 8px 6px;
 border-radius: 50%;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 overflow: hidden;
 `),cE("fill",`
 display: block;
 width: 30px;
 height: 30px;
 `),cE("input",`
 position: absolute;
 top: 0;
 left: 0;
 width: 30px;
 height: 30px;
 opacity: 0;
 z-index: 1;
 `)]),cB("color-picker-input",`
 display: flex;
 align-items: center;
 `,[cB("input",`
 flex-grow: 1;
 flex-basis: 0;
 `),cE("mode",`
 width: 72px;
 text-align: center;
 `)]),cB("color-picker-control",`
 padding: 12px;
 `),cB("color-picker-action",`
 display: flex;
 margin-top: -4px;
 border-top: 1px solid var(--n-divider-color);
 padding: 8px 12px;
 justify-content: flex-end;
 `,[cB("button","margin-left: 8px;")]),cB("color-picker-trigger",`
 border: var(--n-border);
 height: 100%;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 cursor: pointer;
 `,[cE("value",`
 white-space: nowrap;
 position: relative;
 `),cE("fill",`
 border-radius: var(--n-border-radius);
 position: absolute;
 display: flex;
 align-items: center;
 justify-content: center;
 left: 4px;
 right: 4px;
 top: 4px;
 bottom: 4px;
 `),cM("disabled","cursor: not-allowed"),cB("color-picker-checkboard",`
 border-radius: var(--n-border-radius);
 `,[c$1("&::after",`
 --n-block-size: calc((var(--n-height) - 8px) / 3);
 background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);
 background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; 
 `)])]),cB("color-picker-swatches",`
 display: grid;
 grid-gap: 8px;
 flex-wrap: wrap;
 position: relative;
 grid-template-columns: repeat(auto-fill, 18px);
 margin-top: 10px;
 `,[cB("color-picker-swatch",`
 width: 18px;
 height: 18px;
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 8px 8px;
 background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;
 background-repeat: repeat;
 `,[cE("fill",`
 position: relative;
 width: 100%;
 height: 100%;
 border-radius: 3px;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 cursor: pointer;
 `),c$1("&:focus",`
 outline: none;
 `,[cE("fill",[c$1("&::after",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 background: inherit;
 filter: blur(2px);
 content: "";
 `)])])])])]);const colorPickerPanelProps=Object.assign(Object.assign({},useTheme.props),{value:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,defaultValue:String,modes:{type:Array,default:()=>["rgb","hex","hsl"]},placement:{type:String,default:"bottom-start"},to:useAdjustedTo.propTo,showAlpha:{type:Boolean,default:!0},showPreview:Boolean,swatches:Array,disabled:{type:Boolean,default:void 0},actions:{type:Array,default:null},internalActions:Array,size:String,renderLabel:Function,onComplete:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]});var NColorPicker=defineComponent({name:"ColorPicker",props:colorPickerPanelProps,setup(r,{slots:t}){const n=ref(null);let a=null;const o=useFormItem(r),{mergedSizeRef:s,mergedDisabledRef:l}=o,{localeRef:u}=useLocale("global"),{mergedClsPrefixRef:f,namespaceRef:d,inlineThemeDisabled:v}=useConfig(r),g=useTheme("ColorPicker","-color-picker",style$9,colorPickerLight,r,f);provide(colorPickerInjectionKey,{themeRef:g,renderLabelRef:toRef(r,"renderLabel"),colorPickerSlots:t});const S=ref(r.defaultShow),x=useMergedState(toRef(r,"show"),S);function _(oe){const{onUpdateShow:Se,"onUpdate:show":xe}=r;Se&&call(Se,oe),xe&&call(xe,oe),S.value=oe}const{defaultValue:C}=r,T=ref(C===void 0?deriveDefaultValue(r.modes,r.showAlpha):C),w=useMergedState(toRef(r,"value"),T),M=ref([w.value]),D=ref(0),I=computed(()=>getModeFromValue(w.value)),{modes:R}=r,$=ref(getModeFromValue(w.value)||R[0]||"rgb");function N(){const{modes:oe}=r,{value:Se}=$,xe=oe.findIndex(_e=>_e===Se);~xe?$.value=oe[(xe+1)%oe.length]:$.value="rgb"}let F,H,Y,G,K,Z,J,Q;const te=computed(()=>{const{value:oe}=w;if(!oe)return null;switch(I.value){case"hsv":return hsva(oe);case"hsl":return[F,H,Y,Q]=hsla(oe),[...hsl2hsv(F,H,Y),Q];case"rgb":case"hex":return[K,Z,J,Q]=rgba(oe),[...rgb2hsv(K,Z,J),Q]}}),ie=computed(()=>{const{value:oe}=w;if(!oe)return null;switch(I.value){case"rgb":case"hex":return rgba(oe);case"hsv":return[F,H,G,Q]=hsva(oe),[...hsv2rgb(F,H,G),Q];case"hsl":return[F,H,Y,Q]=hsla(oe),[...hsl2rgb(F,H,Y),Q]}}),ne=computed(()=>{const{value:oe}=w;if(!oe)return null;switch(I.value){case"hsl":return hsla(oe);case"hsv":return[F,H,G,Q]=hsva(oe),[...hsv2hsl(F,H,G),Q];case"rgb":case"hex":return[K,Z,J,Q]=rgba(oe),[...rgb2hsl(K,Z,J),Q]}}),de=computed(()=>{switch($.value){case"rgb":case"hex":return ie.value;case"hsv":return te.value;case"hsl":return ne.value}}),ve=ref(0),pe=ref(1),$e=ref([0,0]);function Re(oe,Se){const{value:xe}=te,_e=ve.value,Te=xe?xe[3]:1;$e.value=[oe,Se];const{showAlpha:Ce}=r;switch($.value){case"hsv":Le((Ce?toHsvaString:toHsvString)([_e,oe,Se,Te]),"cursor");break;case"hsl":Le((Ce?toHslaString:toHslString)([...hsv2hsl(_e,oe,Se),Te]),"cursor");break;case"rgb":Le((Ce?toRgbaString:toRgbString)([...hsv2rgb(_e,oe,Se),Te]),"cursor");break;case"hex":Le((Ce?toHexaString:toHexString)([...hsv2rgb(_e,oe,Se),Te]),"cursor");break}}function Ge(oe){ve.value=oe;const{value:Se}=te;if(!Se)return;const[,xe,_e,Te]=Se,{showAlpha:Ce}=r;switch($.value){case"hsv":Le((Ce?toHsvaString:toHsvString)([oe,xe,_e,Te]),"cursor");break;case"rgb":Le((Ce?toRgbaString:toRgbString)([...hsv2rgb(oe,xe,_e),Te]),"cursor");break;case"hex":Le((Ce?toHexaString:toHexString)([...hsv2rgb(oe,xe,_e),Te]),"cursor");break;case"hsl":Le((Ce?toHslaString:toHslString)([...hsv2hsl(oe,xe,_e),Te]),"cursor");break}}function Qe(oe){switch($.value){case"hsv":[F,H,G]=te.value,Le(toHsvaString([F,H,G,oe]),"cursor");break;case"rgb":[K,Z,J]=ie.value,Le(toRgbaString([K,Z,J,oe]),"cursor");break;case"hex":[K,Z,J]=ie.value,Le(toHexaString([K,Z,J,oe]),"cursor");break;case"hsl":[F,H,Y]=ne.value,Le(toHslaString([F,H,Y,oe]),"cursor");break}pe.value=oe}function Le(oe,Se){Se==="cursor"?a=oe:a=null;const{nTriggerFormChange:xe,nTriggerFormInput:_e}=o,{onUpdateValue:Te,"onUpdate:value":Ce}=r;Te&&call(Te,oe),Ce&&call(Ce,oe),xe(),_e(),T.value=oe}function We(oe){Le(oe,"input"),nextTick(Oe)}function Oe(oe=!0){const{value:Se}=w;if(Se){const{nTriggerFormChange:xe,nTriggerFormInput:_e}=o,{onComplete:Te}=r;Te&&Te(Se);const{value:Ce}=M,{value:Ee}=D;oe&&(Ce.splice(Ee+1,Ce.length,Se),D.value=Ee+1),xe(),_e()}}function ke(){const{value:oe}=D;oe-1<0||(Le(M.value[oe-1],"input"),Oe(!1),D.value=oe-1)}function Ye(){const{value:oe}=D;oe<0||oe+1>=M.value.length||(Le(M.value[oe+1],"input"),Oe(!1),D.value=oe+1)}function ze(){_(!1)}const qe=computed(()=>D.value>=1),ae=computed(()=>{const{value:oe}=M;return oe.length>1&&D.value<oe.length-1});watch(x,oe=>{oe||(M.value=[w.value],D.value=0)}),watchEffect(()=>{if(!(a&&a===w.value)){const{value:oe}=te;oe&&(ve.value=oe[0],pe.value=oe[3],$e.value=[oe[1],oe[2]])}a=null});const le=computed(()=>{const{value:oe}=s,{common:{cubicBezierEaseInOut:Se},self:{textColor:xe,color:_e,panelFontSize:Te,boxShadow:Ce,border:Ee,borderRadius:Fe,dividerColor:Ue,[createKey("height",oe)]:Je,[createKey("fontSize",oe)]:ht}}=g.value;return{"--n-bezier":Se,"--n-text-color":xe,"--n-color":_e,"--n-panel-font-size":Te,"--n-font-size":ht,"--n-box-shadow":Ce,"--n-border":Ee,"--n-border-radius":Fe,"--n-height":Je,"--n-divider-color":Ue}}),ge=v?useThemeClass("color-picker",computed(()=>s.value[0]),le,r):void 0;function se(){var oe;const{value:Se}=ie,{value:xe}=ve,{internalActions:_e,modes:Te,actions:Ce}=r,{value:Ee}=g,{value:Fe}=f;return h("div",{class:[`${Fe}-color-picker-panel`,ge==null?void 0:ge.themeClass.value],onDragstart:Ue=>{Ue.preventDefault()},style:v?void 0:le.value},h("div",{class:`${Fe}-color-picker-control`},h(Pallete,{clsPrefix:Fe,rgba:Se,displayedHue:xe,displayedSv:$e.value,onUpdateSV:Re,onComplete:Oe}),h("div",{class:`${Fe}-color-picker-preview`},h("div",{class:`${Fe}-color-picker-preview__sliders`},h(HueSlider,{clsPrefix:Fe,hue:xe,onUpdateHue:Ge,onComplete:Oe}),r.showAlpha?h(AlphaSlider,{clsPrefix:Fe,rgba:Se,alpha:pe.value,onUpdateAlpha:Qe,onComplete:Oe}):null),r.showPreview?h(ColorPreview,{clsPrefix:Fe,mode:$.value,color:ie.value&&toHexString(ie.value),onUpdateColor:Ue=>Le(Ue,"input")}):null),h(ColorInput,{clsPrefix:Fe,showAlpha:r.showAlpha,mode:$.value,modes:Te,onUpdateMode:N,value:w.value,valueArr:de.value,onUpdateValue:We}),((oe=r.swatches)===null||oe===void 0?void 0:oe.length)&&h(ColorPickerSwatches,{clsPrefix:Fe,mode:$.value,swatches:r.swatches,onUpdateColor:Ue=>Le(Ue,"input")})),Ce!=null&&Ce.length?h("div",{class:`${Fe}-color-picker-action`},Ce.includes("confirm")&&h(NButton,{size:"small",onClick:ze,theme:Ee.peers.Button,themeOverrides:Ee.peerOverrides.Button},{default:()=>u.value.confirm})):null,t.action?h("div",{class:`${Fe}-color-picker-action`},{default:t.action}):_e?h("div",{class:`${Fe}-color-picker-action`},_e.includes("undo")&&h(NButton,{size:"small",onClick:ke,disabled:!qe.value,theme:Ee.peers.Button,themeOverrides:Ee.peerOverrides.Button},{default:()=>u.value.undo}),_e.includes("redo")&&h(NButton,{size:"small",onClick:Ye,disabled:!ae.value,theme:Ee.peers.Button,themeOverrides:Ee.peerOverrides.Button},{default:()=>u.value.redo})):null)}return{mergedClsPrefix:f,namespace:d,selfRef:n,hsla:ne,rgba:ie,mergedShow:x,mergedDisabled:l,isMounted:isMounted(),adjustedTo:useAdjustedTo(r),mergedValue:w,handleTriggerClick(){_(!0)},handleClickOutside(oe){var Se;!((Se=n.value)===null||Se===void 0)&&Se.contains(oe.target)||_(!1)},renderPanel:se,cssVars:v?void 0:le,themeClass:ge==null?void 0:ge.themeClass,onRender:ge==null?void 0:ge.onRender}},render(){const{$slots:r,mergedClsPrefix:t,onRender:n}=this;return n==null||n(),h("div",{class:[this.themeClass,`${t}-color-picker`],ref:"selfRef",style:this.cssVars},h(VBinder,null,{default:()=>[h(VTarget,null,{default:()=>h(ColorPickerTrigger,{clsPrefix:t,value:this.mergedValue,hsla:this.hsla,disabled:this.mergedDisabled,onClick:this.handleTriggerClick},{label:r.label})}),h(VFollower,{placement:this.placement,show:this.mergedShow,containerClass:this.namespace,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey,to:this.adjustedTo},{default:()=>h(Transition,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?withDirectives(this.renderPanel(),[[clickoutside$1,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),commonVariables$c={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeSize:"18px"};const self$D=r=>{const{primaryColor:t,borderRadius:n,lineHeight:a,fontSize:o,cardColor:s,textColor2:l,textColor1:u,dividerColor:f,fontWeightStrong:d,closeColor:v,closeColorHover:g,closeColorPressed:S,modalColor:x,boxShadow1:_,popoverColor:C,actionColor:T}=r;return Object.assign(Object.assign({},commonVariables$c),{lineHeight:a,color:s,colorModal:x,colorPopover:C,colorTarget:t,colorEmbedded:T,textColor:l,titleTextColor:u,borderColor:f,actionColor:T,titleFontWeight:d,closeColor:v,closeColorHover:g,closeColorPressed:S,fontSizeSmall:o,fontSizeMedium:o,fontSizeLarge:o,fontSizeHuge:o,boxShadow:_,borderRadius:n})},cardLight={name:"Card",common:commonLight,self:self$D},cardDark={name:"Card",common:commonDark,self(r){const t=self$D(r),{cardColor:n}=r;return t.colorEmbedded=n,t}};var cardDark$1=cardDark,style$8=c$1([cB("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("hoverable",[c$1("&:hover","box-shadow: var(--n-box-shadow);")]),cM("content-segmented",[c$1(">",[cE("content",{paddingTop:"var(--n-padding-bottom)"})])]),cM("content-soft-segmented",[c$1(">",[cE("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),cM("footer-segmented",[c$1(">",[cE("footer",{paddingTop:"var(--n-padding-bottom)"})])]),cM("footer-soft-segmented",[c$1(">",[cE("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),c$1(">",[cB("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[cE("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),cE("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),cE("close",`
 font-size: var(--n-close-size);
 transition: color .3s var(--n-bezier);
 `)]),cE("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),cE("content","flex: 1;"),cE("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[c$1("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),cE("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),cB("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[c$1("img",`
 display: block;
 width: 100%;
 `)]),cM("bordered",`
 border: 1px solid var(--n-border-color);
 `,[c$1("&:target","border-color: var(--n-color-target);")]),cM("action-segmented",[c$1(">",[cE("action",[c$1("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("content-segmented, content-soft-segmented",[c$1(">",[cE("content",{transition:"border-color 0.3s var(--n-bezier)"},[c$1("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("footer-segmented, footer-soft-segmented",[c$1(">",[cE("footer",{transition:"border-color 0.3s var(--n-bezier)"},[c$1("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])])]),insideModal(cB("card",{background:"var(--n-color-modal)"})),insidePopover(cB("card",{background:"var(--n-color-popover)"})),cB("card",[asModal({background:"var(--n-color-modal)"})])]);const cardBaseProps={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},cardBasePropKeys=keysOf(cardBaseProps),cardProps=Object.assign(Object.assign({},useTheme.props),cardBaseProps);var NCard=defineComponent({name:"Card",props:cardProps,setup(r){const t=()=>{const{onClose:d}=r;d&&call(d)},{inlineThemeDisabled:n,mergedClsPrefixRef:a,mergedRtlRef:o}=useConfig(r),s=useTheme("Card","-card",style$8,cardLight,r,a),l=useRtl("Card",o,a),u=computed(()=>{const{size:d}=r,{self:{color:v,colorModal:g,colorTarget:S,textColor:x,titleTextColor:_,titleFontWeight:C,borderColor:T,actionColor:w,borderRadius:M,closeColor:D,closeColorHover:I,closeColorPressed:R,lineHeight:$,closeSize:N,boxShadow:F,colorPopover:H,colorEmbedded:Y,[createKey("padding",d)]:G,[createKey("fontSize",d)]:K,[createKey("titleFontSize",d)]:Z},common:{cubicBezierEaseInOut:J}}=s.value,{top:Q,left:te,bottom:ie}=getMargin(G);return{"--n-bezier":J,"--n-border-radius":M,"--n-color":r.embedded?Y:v,"--n-color-modal":g,"--n-color-popover":H,"--n-color-target":S,"--n-text-color":x,"--n-line-height":$,"--n-action-color":w,"--n-title-text-color":_,"--n-title-font-weight":C,"--n-close-color":D,"--n-close-color-hover":I,"--n-close-color-pressed":R,"--n-border-color":T,"--n-box-shadow":F,"--n-padding-top":Q,"--n-padding-bottom":ie,"--n-padding-left":te,"--n-font-size":K,"--n-title-font-size":Z,"--n-close-size":N}}),f=n?useThemeClass("card",computed(()=>r.size[0]),u,r):void 0;return{rtlEnabled:l,mergedClsPrefix:a,mergedTheme:s,handleCloseClick:t,cssVars:n?void 0:u,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){const{segmented:r,bordered:t,hoverable:n,mergedClsPrefix:a,rtlEnabled:o,onRender:s,$slots:l}=this;return s==null||s(),h("div",{class:[`${a}-card`,this.themeClass,{[`${a}-card--rtl`]:o,[`${a}-card--content${typeof r!="boolean"&&r.content==="soft"?"-soft":""}-segmented`]:r===!0||r!==!1&&r.content,[`${a}-card--footer${typeof r!="boolean"&&r.footer==="soft"?"-soft":""}-segmented`]:r===!0||r!==!1&&r.footer,[`${a}-card--action-segmented`]:r===!0||r!==!1&&r.action,[`${a}-card--bordered`]:t,[`${a}-card--hoverable`]:n}],style:this.cssVars,role:this.role},resolveWrappedSlot(l.cover,u=>u&&h("div",{class:`${a}-card-cover`,role:"none"},u)),resolveWrappedSlot(l.header,u=>u||this.title||this.closable?h("div",{class:`${a}-card-header`,style:this.headerStyle},h("div",{class:`${a}-card-header__main`,role:"heading"},u||[this.title]),resolveWrappedSlot(l["header-extra"],f=>f&&h("div",{class:`${a}-card-header__extra`,style:this.headerExtraStyle},f)),this.closable?h(NBaseClose,{clsPrefix:a,class:`${a}-card-header__close`,onClick:this.handleCloseClick}):null):null),resolveWrappedSlot(l.default,u=>u&&h("div",{class:`${a}-card__content`,style:this.contentStyle,role:"none"},u)),resolveWrappedSlot(l.footer,u=>u&&[h("div",{class:`${a}-card__footer`,style:this.footerStyle,role:"none"},u)]),resolveWrappedSlot(l.action,u=>u&&h("div",{class:`${a}-card__action`,role:"none"},u)))}});const self$C=r=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),carouselLight={name:"Carousel",common:commonLight,self:self$C};var carouselLight$1=carouselLight;const carouselDark={name:"Carousel",common:commonDark,self:self$C};var carouselDark$1=carouselDark;function isTouchEvent(r){return window.TouchEvent&&r instanceof window.TouchEvent}function calculateSize(r,t){let n=r.clientWidth,a=r.clientHeight;if(t){const o=getComputedStyle(r);return n=n-parseFloat(o.getPropertyValue("padding-left"))-parseFloat(o.getPropertyValue("padding-right")),a=a-parseFloat(o.getPropertyValue("padding-top"))-parseFloat(o.getPropertyValue("padding-bottom")),{width:n,height:a}}return{width:n,height:a}}function clampValue(r,t,n){return r<t?t:r>n?n:r}function resolveSpeed(r){if(r===void 0)return 0;if(typeof r=="number")return r;const t=/^((\d+)?\.?\d+?)(ms|s)?$/,n=r.match(t);if(n){const[,a,,o="ms"]=n;return Number(a)*(o==="ms"?1:1e3)}return 0}function getDisplayIndex(r,t,n){return n?r===0?t-3:r===t-1?0:r-1:r}function getRealIndex(r,t){return t?r+1:r}function getPrevIndex(r,t,n){return r<0?null:r===0?n?t-1:null:r-1}function getNextIndex(r,t,n){return r>t-1?null:r===t-1?n?0:null:r+1}const tuple=(...r)=>r,carouselMethodsInjectionKey="n-carousel-methods",carouselDotsProps={total:{type:Number,default:0},currentIndex:{type:Number,default:0},dotType:{type:String,default:"dot"},trigger:{type:String,default:"click"},keyboard:Boolean};var NCarouselDots=defineComponent({name:"CarouselDots",props:carouselDotsProps,setup(r){const{mergedClsPrefixRef:t}=useConfig(r),n=ref([]),a=inject(carouselMethodsInjectionKey,null);function o(d,v){switch(d.code){case"Enter":case"NumpadEnter":case"Space":a.to(v);return}r.keyboard&&u(d)}function s(d){r.trigger==="hover"&&a.to(d)}function l(d){r.trigger==="click"&&a.to(d)}function u(d){var v;const{code:g}=d,S=a.isVertical(),x=g==="PageUp"||g==="ArrowUp",_=g==="PageDown"||g==="ArrowDown",C=g==="PageUp"||g==="ArrowRight",T=g==="PageDown"||g==="ArrowLeft";if(S&&(x&&a.isNextDisabled()||_&&a.isPrevDisabled())||!S&&(C&&a.isNextDisabled()||T&&a.isPrevDisabled())||d.shiftKey||d.altKey||d.ctrlKey||d.metaKey)return;const w=(v=document.activeElement)===null||v===void 0?void 0:v.nodeName.toLowerCase();w==="input"||w==="textarea"||((S?x:C)?(d.preventDefault(),a.next(),f(a.getCurrentIndex())):(S?_:T)&&(d.preventDefault(),a.prev(),f(a.getCurrentIndex())))}function f(d=r.currentIndex){const{value:v}=n;d>=0&&d<v.length&&v[d].focus()}return onBeforeUpdate(()=>n.value.length=0),{mergedClsPrefix:t,dotEls:n,handleKeydown:o,handleMouseenter:s,handleClick:l}},render(){const{mergedClsPrefix:r,dotEls:t}=this;return h("div",{class:[`${r}-carousel__dots`,`${r}-carousel__dots--${this.dotType}`],role:"tablist"},indexMap(this.total,n=>{const a=n===this.currentIndex;return h("div",{"aria-selected":a,ref:o=>t.push(o),role:"button",tabindex:"0",class:[`${r}-carousel__dot`,a&&`${r}-carousel__dot--active`],key:n,onClick:()=>this.handleClick(n),onMouseenter:()=>this.handleMouseenter(n),onKeydown:o=>this.handleKeydown(o,n)})}))}});const backwardIcon=h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04z",fill:"currentColor"}))),forwardIcon=h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04z",fill:"currentColor"})));var NCarouselArrow=defineComponent({name:"CarouselArrow",setup(r){const{mergedClsPrefixRef:t}=useConfig(r),{isVertical:n,isPrevDisabled:a,isNextDisabled:o,prev:s,next:l}=inject(carouselMethodsInjectionKey,null);return{mergedClsPrefix:t,isVertical:n,isPrevDisabled:a,isNextDisabled:o,prev:s,next:l}},render(){const{mergedClsPrefix:r}=this;return h("div",{class:`${r}-carousel__arrow-group`},h("div",{class:[`${r}-carousel__arrow`,this.isPrevDisabled()&&`${r}-carousel__arrow--disabled`],role:"button",onClick:this.prev},backwardIcon),h("div",{class:[`${r}-carousel__arrow`,this.isNextDisabled()&&`${r}-carousel__arrow--disabled`],role:"button",onClick:this.next},forwardIcon))}}),NCarouselItem=defineComponent({name:"CarouselItem",setup(r){const{mergedClsPrefixRef:t}=useConfig(r),n=inject(carouselMethodsInjectionKey,null);n||throwError$1("carousel-item","`n-carousel-item` must be placed inside `n-carousel`.");const a=ref(),o=computed(()=>{const{value:v}=a;return Boolean(v&&n.isPrev(v))}),s=computed(()=>{const{value:v}=a;return Boolean(v&&n.isNext(v))}),l=computed(()=>{const{value:v}=a;return Boolean(v&&n.isActive(v))}),u=computed(()=>{const{value:v}=a;return v&&n.getSlideStyle(v)}),f=computed(()=>{const{value:v}=a;return v&&n.getSlideIndex(v)});function d(v){const{value:g}=f;g!==void 0&&(n==null||n.onCarouselItemClick(g,v))}return onMounted(()=>n.addSlide(a.value)),onBeforeUnmount(()=>{n.removeSlide(a.value)}),{mergedClsPrefix:t,selfElRef:a,isPrev:o,isNext:s,isActive:l,index:f,style:u,prevSlideStyle:n.prevSlideStyleRef,nextSlideStyle:n.nextSlideStyleRef,handleClick:d}},render(){var r;const{$slots:t,mergedClsPrefix:n,isPrev:a,isNext:o,isActive:s,index:l,style:u}=this,f=[`${n}-carousel__slide`,{[`${n}-carousel__slide--current`]:s,[`${n}-carousel__slide--prev`]:a,[`${n}-carousel__slide--next`]:o}];return h("div",{ref:"selfElRef",class:f,role:"option",tabindex:"-1","data-index":l,"aria-hidden":!s,style:[u,a?this.prevSlideStyle:"",o?this.nextSlideStyle:""],onClickCapture:this.handleClick},(r=t.default)===null||r===void 0?void 0:r.call(t,{isPrev:a,isNext:o,isActive:s,index:l}))}}),style$7=cB("carousel",`
 position: relative;
 width: 100%;
 height: 100%;
 overflow: hidden;
`,[cE("slides",`
 display: flex;
 width: 100%;
 height: 100%;
 transition-timing-function: var(--n-bezier);
 transition-property: transform;
 touch-action: pan-y;
 `,[cE("slide",`
 flex-shrink: 0;
 position: relative;
 width: 100%;
 height: 100%;
 outline: none;
 overflow: hidden;
 `,[c$1("> img",`
 display: block;
 `)])]),cE("dots",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `,[cM("dot",[cE("dot",`
 height: var(--n-dot-size);
 width: var(--n-dot-size);
 background-color: var(--n-dot-color);
 border-radius: 50%;
 cursor: pointer;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[c$1("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),cM("active",`
 background-color: var(--n-dot-color-active);
 `)])]),cM("line",[cE("dot",`
 border-radius: 9999px;
 width: var(--n-dot-line-width);
 height: 4px;
 background-color: var(--n-dot-color);
 cursor: pointer;
 transition:
 width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[c$1("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),cM("active",`
 width: var(--n-dot-line-width-active);
 background-color: var(--n-dot-color-active);
 `)])])]),cE("arrow",`
 transition: background-color .3s var(--n-bezier);
 cursor: pointer;
 height: 28px;
 width: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 background-color: rgba(255, 255, 255, .2);
 color: var(--n-arrow-color);
 border-radius: 8px;
 user-select: none;
 font-size: 18px;
 `,[c$1("svg",`
 height: 1em;
 width: 1em;
 `),c$1("&:hover",`
 background-color: rgba(255, 255, 255, .3);
 `)]),cM("vertical",[cE("slides",`
 flex-direction: column;
 touch-action: pan-x;
 `),cM("fade",[cE("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%);
 `)]),cM("card",[cE("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%) translateZ(-400px);
 `,[cM("current",`
 transform: translateY(-50%) translateZ(0);
 `),cM("prev",`
 transform: translateY(-100%) translateZ(-200px);
 `),cM("next",`
 transform: translateY(0%) translateZ(-200px);
 `)])])]),cM("usercontrol",[cE("slides",[c$1(">",[c$1("div",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translate(-50%, -50%);
 `)])])]),cM("left",[cE("dots",`
 transform: translateY(-50%);
 top: 50%;
 left: 12px;
 flex-direction: column;
 `,[cM("line",[cE("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[cM("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),cE("dot",`
 margin: 4px 0;
 `)]),cE("arrow-group",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `),cM("vertical",[cE("arrow",`
 transform: rotate(90deg);
 `)]),cM("show-arrow",[cM("bottom",[cE("dots",`
 transform: translateX(0);
 bottom: 18px;
 left: 18px;
 `)]),cM("top",[cE("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),cM("left",[cE("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),cM("right",[cE("dots",`
 transform: translateX(0);
 top: 18px;
 right: 18px;
 `)])]),cM("left",[cE("arrow-group",`
 bottom: 12px;
 left: 12px;
 flex-direction: column;
 `,[c$1("> *:first-child",`
 margin-bottom: 12px;
 `)])]),cM("right",[cE("dots",`
 transform: translateY(-50%);
 top: 50%;
 right: 12px;
 flex-direction: column;
 `,[cM("line",[cE("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[cM("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),cE("dot",`
 margin: 4px 0;
 `),cE("arrow-group",`
 bottom: 12px;
 right: 12px;
 flex-direction: column;
 `,[c$1("> *:first-child",`
 margin-bottom: 12px;
 `)])]),cM("top",[cE("dots",`
 transform: translateX(-50%);
 top: 12px;
 left: 50%;
 `,[cM("line",[cE("dot",`
 margin: 0 4px;
 `)])]),cE("dot",`
 margin: 0 4px;
 `),cE("arrow-group",`
 top: 12px;
 right: 12px;
 `,[c$1("> *:first-child",`
 margin-right: 12px;
 `)])]),cM("bottom",[cE("dots",`
 transform: translateX(-50%);
 bottom: 12px;
 left: 50%;
 `,[cM("line",[cE("dot",`
 margin: 0 4px;
 `)])]),cE("dot",`
 margin: 0 4px;
 `),cE("arrow-group",`
 bottom: 12px;
 right: 12px;
 `,[c$1("> *:first-child",`
 margin-right: 12px;
 `)])]),cM("fade",[cE("slide",`
 position: absolute;
 opacity: 0;
 transition-property: opacity;
 `,[cM("current",`
 opacity: 1;
 `)])]),cM("card",[cE("slides",`
 perspective: 1000px;
 `),cE("slide",`
 position: absolute;
 left: 50%;
 opacity: 0;
 transform: translateX(-50%) translateZ(-400px);
 transition-property: opacity, transform;
 `,[cM("current",`
 opacity: 1;
 transform: translateX(-50%) translateZ(0);
 z-index: 1;
 `),cM("prev",`
 opacity: 0.4;
 transform: translateX(-100%) translateZ(-200px);
 `),cM("next",`
 opacity: 0.4;
 transform: translateX(0%) translateZ(-200px);
 `)])])]);const transitionProperties=tuple("transitionDuration","transitionTimingFunction"),carouselProps=Object.assign(Object.assign({},useTheme.props),{defaultIndex:{type:Number,default:0},currentIndex:Number,showArrow:Boolean,dotType:{type:String,default:"dot"},dotPlacement:{type:String,default:"bottom"},slidesPerView:{type:[Number,String],default:1},spaceBetween:{type:Number,default:0},centeredSlides:Boolean,direction:{type:String,default:"horizontal"},autoplay:Boolean,interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},effect:{type:String,default:"slide"},showDots:{type:Boolean,default:!0},trigger:{type:String,default:"click"},transitionStyle:{type:Object,default:()=>({transitionDuration:"300ms"})},transitionProps:Object,draggable:Boolean,prevSlideStyle:[Object,String],nextSlideStyle:[Object,String],touchable:{type:Boolean,default:!0},mousewheel:Boolean,keyboard:Boolean,"onUpdate:currentIndex":Function,onUpdateCurrentIndex:Function});let globalDragging=!1;var NCarousel=defineComponent({name:"Carousel",props:carouselProps,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=useConfig(r),a=ref(null),o=ref([]),s={value:[]},l=computed(()=>r.effect==="custom"),u=computed(()=>!l.value&&r.effect==="slide"),f=computed(()=>r.loop&&r.slidesPerView===1),d=computed(()=>u.value&&f.value),v=computed(()=>l.value||r.centeredSlides||r.effect!=="slide"?1:r.slidesPerView),g=computed(()=>l.value?1:r.slidesPerView),S=computed(()=>v.value==="auto"||r.slidesPerView==="auto"&&r.centeredSlides),x=computed(()=>r.transitionStyle?keep(r.transitionStyle,transitionProperties):{}),_=computed(()=>l.value?0:resolveSpeed(x.value.transitionDuration)),C=computed(()=>r.direction==="vertical"),T=computed(()=>C.value?"height":"width"),w=ref({width:0,height:0}),M=computed(()=>{const{value:Me}=o,{length:Ze}=Me;if(!Ze)return[];if(S.value)return Me.map(wt=>calculateSize(wt));const{value:at}=g,{value:dt}=w,{value:ct}=T;let pt=dt[ct];if(at!=="auto"){const{spaceBetween:wt}=r,Pt=pt-(at-1)*wt,xt=1/Math.max(1,at);pt=Pt*xt}return Me.map(()=>Object.assign(Object.assign({},dt),{[ct]:pt}))}),D=computed(()=>{const{value:Me}=M,{length:Ze}=Me;if(!Ze)return[];const{centeredSlides:at,spaceBetween:dt}=r,{value:ct}=T,{[ct]:pt}=w.value;let wt=0;return Me.map(({[ct]:Pt})=>{let xt=wt;return at&&(xt+=(Pt-pt)/2),wt+=Pt+dt,xt})});let I=!1;const R=computed(()=>{const{value:Me}=M,{length:Ze}=Me;if(!Ze)return[];const{value:at}=T;if(l.value)return Me.map(xt=>({[at]:`${xt[at]}px`}));const{effect:dt,spaceBetween:ct}=r,{value:pt}=C,wt=pt?"bottom":"right",Pt=[];for(let xt=0;xt<Ze;xt++){const ye=Me[xt][at],He={[at]:`${ye}px`,[`margin-${wt}`]:`${ct}px`};I&&(dt==="fade"||dt==="card")&&Object.assign(He,x.value),Pt.push(He)}return Pt}),$=computed(()=>{const{value:Me}=v,{length:Ze}=o.value;if(Me!=="auto")return Ze-Me+1;{const{value:at}=M,{length:dt}=at;if(!dt)return Ze;const{value:ct}=D,{value:pt}=T,wt=w.value[pt];let Pt=at[at.length-1][pt],xt=dt;for(;xt>1&&Pt<wt;)xt--,Pt+=ct[xt]-ct[xt-1];return xt!==dt&&xt++,xt<1&&(xt=1),xt}}),N=computed(()=>{const{value:Me}=$;return d.value&&Me>3?Me-2:Me}),F=r.defaultIndex+(d.value?1:0),H=ref(getDisplayIndex(F,$.value,d.value)),Y=ref(F),G=ref(F);let K=0;function Z(Me,Ze=_.value){var at,dt;const{value:ct}=$;if((Me=clampValue(Me,0,ct-1))!==G.value){const{value:pt}=H;d.value&&N.value>2&&(pt===0&&Me===N.value?Me=0:pt===N.value-1&&Me===1&&(Me=ct-1));const wt=H.value=getDisplayIndex(Me,$.value,d.value);Y.value=Me,G.value=getRealIndex(wt,d.value),u.value?ke(Me,Ze):(!l.value&&Ze>0&&(Le=!0),Oe()),wt!==pt&&((at=r["onUpdate:currentIndex"])===null||at===void 0||at.call(r,wt,pt),(dt=r.onUpdateCurrentIndex)===null||dt===void 0||dt.call(r,wt,pt))}}function J(Me=G.value){return getPrevIndex(Me,$.value,r.loop)}function Q(Me=G.value){return getNextIndex(Me,$.value,r.loop)}function te(Me){const Ze=le(Me);return Ze!==null&&J()===Ze}function ie(Me){const Ze=le(Me);return Ze!==null&&Q()===Ze}function ne(Me){return G.value===le(Me)}function de(Me){return H.value===Me}function ve(){return J()===null}function pe(){return Q()===null}function $e(Me){const Ze=getRealIndex(Me,d.value);(Me!==H.value||Ze!==G.value)&&Z(Ze)}function Re(){const Me=J();Me!==null&&Z(Me)}function Ge(){const Me=Q();Me!==null&&Z(Me)}const Qe=ref({});let Le=!1;function We(Me,Ze=0){const at=r.direction==="vertical";Qe.value=Object.assign({},x.value,{transform:at?`translateY(${-Me}px)`:`translateX(${-Me}px)`,transitionDuration:`${Ze}ms`})}function Oe(Me=0){u.value?ke(G.value,Me):K!==0&&We(K=0,Me)}function ke(Me,Ze=_.value){const at=Ye(Me);at!==K&&Ze>0&&(Le=!0),We(at,Ze),K=Ye(G.value)}function Ye(Me){let Ze;return Me>=$.value-1?Ze=ze():Ze=D.value[Me]||0,Ze}function ze(){if(v.value==="auto"){const{value:Me}=T,{[Me]:Ze}=w.value,{value:at}=D,dt=at[at.length-1];let ct;if(dt===void 0)ct=Ze;else{const{value:pt}=M;ct=dt+pt[pt.length-1][Me]}return ct-Ze}else{const{value:Me}=D;return Me[$.value-1]||0}}function qe(Me){!Me||o.value.push(Me)}function ae(Me){if(!Me)return;const Ze=le(Me);Ze!==-1&&o.value.splice(Ze,1)}function le(Me){return typeof Me=="number"?Me:o.value.indexOf(Me)}function ge(Me){const Ze=le(Me);if(Ze!==-1)return R.value[Ze]}function se(Me,Ze){let dt=!Le&&!(Ue&28);r.effect==="card"&&!l.value&&!(Ue&8)&&!ne(Me)&&($e(Me),dt=!1),dt||(Ze.preventDefault(),Ze.stopPropagation())}const oe={to:$e,prev:()=>{(!Le||!d.value)&&Re()},next:()=>{(!Le||!d.value)&&Ge()},isVertical:()=>C.value,isHorizontal:()=>!C.value,isPrev:te,isNext:ie,isActive:ne,isPrevDisabled:ve,isNextDisabled:pe,getCurrentIndex:()=>H.value,getSlideIndex:le,getSlideStyle:ge,addSlide:qe,removeSlide:ae,onCarouselItemClick:se,prevSlideStyleRef:toRef(r,"prevSlideStyle"),nextSlideStyleRef:toRef(r,"nextSlideStyle")};provide(carouselMethodsInjectionKey,oe);let Se=null;function xe(Me){Se&&(clearInterval(Se),Se=null);const{autoplay:Ze,interval:at}=r;Ze&&at&&!Me&&(Se=setInterval(Ge,at))}function _e(){const{autoplay:Me}=r;Me?xe():N.value<2&&xe(!0)}let Te=0,Ce=0,Ee=0,Fe=0,Ue=1;function Je(Me){if(globalDragging)return;Fe=Date.now(),Ue=2,globalDragging=!0,xe(!0),Me.type!=="touchstart"&&!Me.target.isContentEditable&&Me.preventDefault();const Ze=isTouchEvent(Me)?Me.touches[0]:Me;C.value?Ce=Ze.clientY:Te=Ze.clientX,r.touchable&&(on("touchmove",document,ht),on("touchend",document,bt),on("touchcancel",document,bt)),r.draggable&&(on("mousemove",document,ht),on("mouseup",document,bt))}function ht(Me){const{value:Ze}=C,at=Ze?"height":"width",dt=w.value[at],ct=isTouchEvent(Me)?Me.touches[0]:Me,pt=Ze?ct.clientY-Ce:ct.clientX-Te;Ee=clampValue(pt,-dt,dt),Ue=4,u.value&&We(K-Ee,0)}function bt(){const Me=Date.now()-Fe,{value:Ze}=T,{value:at}=G,{value:dt}=u;let ct=at;if(!Le&&dt&&Ee!==0){const pt=K-Ee,wt=[...D.value.slice(0,$.value-1),ze()];let Pt=null;for(let xt=0;xt<wt.length;xt++){const ye=Math.abs(wt[xt]-pt);if(Pt!==null&&Pt<ye)break;Pt=ye,ct=xt}}if(ct===at){const pt=w.value[Ze];Ee>pt/2||Ee/Me>.4?ct=J(at):(Ee<-pt/2||Ee/Me<-.4)&&(ct=Q(at))}ct!==null&&ct!==at?(Ue=8,Z(ct)):(Ue&4?Ue=16:Ue=32,Oe(_.value)),_e(),yt()}function yt(){Ue&1||(globalDragging=!1,Ue&6&&(Ue=1)),Te=0,Ce=0,Ee=0,Fe=0,off("touchmove",document,ht),off("touchend",document,bt),off("touchcancel",document,bt),off("mousemove",document,ht),off("mouseup",document,bt)}function $t(){const{value:Me}=Y,{value:Ze}=G;Le&&Me!==Ze?ke(Ze,0):xe(),u.value&&(Qe.value.transitionDuration="0ms"),Le=!1}function Ve(Me){if(Me.preventDefault(),Le)return;const{value:Ze}=C;let{deltaX:at,deltaY:dt}=Me;Me.shiftKey&&!at&&(at=dt);const ct=-1,pt=1,wt=(at||dt)>0?pt:ct;let Pt=0,xt=0;Ze?xt=wt:Pt=wt;const ye=10;(xt*dt>=ye||Pt*at>=ye)&&(wt===pt&&!pe()?Ge():wt===ct&&!ve()&&Re())}function Ke(){w.value=calculateSize(a.value,!0),xe()}function et(){var Me,Ze;S.value&&((Ze=(Me=M.effect).scheduler)===null||Ze===void 0||Ze.call(Me),M.effect.run())}onMounted(()=>{watchEffect(_e),nextTick(()=>I=!0)}),onBeforeUnmount(()=>{yt(),xe(!0)}),onUpdated(()=>{const{value:Me}=o,{value:Ze}=s,at=new Map,dt=pt=>at.has(pt)?at.get(pt):-1;let ct=!1;for(let pt=0;pt<Me.length;pt++){const wt=Ze.findIndex(Pt=>Pt.el===Me[pt]);wt!==pt&&(ct=!0),at.set(Me[pt],wt)}ct&&Me.sort((pt,wt)=>dt(pt)-dt(wt))}),watch(toRef(r,"currentIndex"),Me=>Me!==void 0&&$e(Me)),watch(d,()=>void nextTick(()=>$e(H.value))),watch(D,()=>u.value&&Oe(),{deep:!0}),watch(u,Me=>{Me?Oe():(Le=!1,We(K=0))});const Ct={arrowSlotProps:computed(()=>Object.assign({total:N.value,currentIndex:H.value},keep(oe,["to","prev","next","isPrevDisabled","isNextDisabled"]))),dotSlotProps:computed(()=>({total:N.value,currentIndex:H.value,to:$e}))},Dt={getCurrentIndex:()=>H.value,to:$e,prev:Re,next:Ge},vt=useTheme("Carousel","-carousel",style$7,carouselLight$1,r,t),St=computed(()=>{const{common:{cubicBezierEaseInOut:Me},self:{dotSize:Ze,dotColor:at,dotColorActive:dt,dotColorFocus:ct,dotLineWidth:pt,dotLineWidthActive:wt,arrowColor:Pt}}=vt.value;return{"--n-bezier":Me,"--n-dot-color":at,"--n-dot-color-focus":ct,"--n-dot-color-active":dt,"--n-dot-size":Ze,"--n-dot-line-width":pt,"--n-dot-line-width-active":wt,"--n-arrow-color":Pt}}),_t=n?useThemeClass("carousel",void 0,St,r):void 0;return Object.assign(Object.assign(Object.assign({mergedClsPrefix:t,selfElRef:a,slideVNodes:s,duplicatedable:d,userWantsControl:l,autoSlideSize:S,displayIndex:H,realIndex:G,slideStyles:R,translateStyle:Qe,handleTouchstart:Je,handleTransitionEnd:$t,handleMousewheel:Ve,handleResize:Ke,handleSlideResize:et,isActive:de},Ct),Dt),{cssVars:n?void 0:St,themeClass:_t==null?void 0:_t.themeClass,onRender:_t==null?void 0:_t.onRender})},render(){var r;const{mergedClsPrefix:t,showArrow:n,userWantsControl:a,draggable:o,touchable:s,slideStyles:l,dotType:u,dotPlacement:f,transitionProps:d={},arrowSlotProps:v,dotSlotProps:g,$slots:{default:S,dots:x,arrow:_}}=this,C=S&&flatten$1(S())||[];let T=filterCarouselItem(C);T.length||(T=C.map(M=>h(NCarouselItem,null,{default:()=>cloneVNode(M)})));const{length:w}=T;return w>1&&this.duplicatedable&&(T.push(duplicateSlide(T[0],0,"append")),T.unshift(duplicateSlide(T[w-1],w-1,"prepend"))),this.slideVNodes.value=T,this.autoSlideSize&&(T=T.map(M=>h(VResizeObserver,{onResize:this.handleSlideResize},{default:()=>M}))),(r=this.onRender)===null||r===void 0||r.call(this),h("div",{ref:"selfElRef",class:[this.themeClass,`${t}-carousel`,this.direction==="vertical"&&`${t}-carousel--vertical`,this.showArrow&&`${t}-carousel--show-arrow`,`${t}-carousel--${f}`,`${t}-carousel--${this.direction}`,`${t}-carousel--${this.effect}`,a&&`${t}-carousel--usercontrol`],style:this.cssVars},h(VResizeObserver,{onResize:this.handleResize},{default:()=>h("div",{class:`${t}-carousel__slides`,role:"listbox",style:this.translateStyle,onMousedown:o?this.handleTouchstart:void 0,onTouchstart:s?this.handleTouchstart:void 0,onWheel:this.mousewheel?this.handleMousewheel:void 0,onTransitionend:this.handleTransitionEnd},a?T.map((M,D)=>h("div",{style:l[D],key:D},withDirectives(h(Transition,Object.assign({},d),{default:()=>M}),[[vShow,this.isActive(D)]]))):T)}),this.showDots&&resolveSlotWithProps(x,g,()=>[g.total>1&&h(NCarouselDots,{key:u+f,total:g.total,currentIndex:g.currentIndex,dotType:u,trigger:this.trigger,keyboard:this.keyboard})]),n&&resolveSlotWithProps(_,v,()=>[h(NCarouselArrow,null)]))}});function filterCarouselItem(r,t=[]){return Array.isArray(r)&&r.forEach(n=>{n.type&&n.type.name==="CarouselItem"&&t.push(n)}),t}function duplicateSlide(r,t,n){return cloneVNode(r,{key:`carousel-item-duplicate-${t}-${n}`})}var commonVariables$b={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"};const self$B=r=>{const{baseColor:t,inputColorDisabled:n,cardColor:a,modalColor:o,popoverColor:s,textColorDisabled:l,borderColor:u,primaryColor:f,textColor2:d,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:S,borderRadiusSmall:x,lineHeight:_}=r;return Object.assign(Object.assign({},commonVariables$b),{labelLineHeight:_,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:S,borderRadius:x,color:t,colorChecked:f,colorDisabled:n,colorDisabledChecked:n,colorTableHeader:a,colorTableHeaderModal:o,colorTableHeaderPopover:s,checkMarkColor:t,checkMarkColorDisabled:l,checkMarkColorDisabledChecked:l,border:`1px solid ${u}`,borderDisabled:`1px solid ${u}`,borderDisabledChecked:`1px solid ${u}`,borderChecked:`1px solid ${f}`,borderFocus:`1px solid ${f}`,boxShadowFocus:`0 0 0 2px ${changeColor(f,{alpha:.3})}`,textColor:d,textColorDisabled:l})},checkboxDark={name:"Checkbox",common:commonDark,self(r){const{cardColor:t}=r,n=self$B(r);return n.color="#0000",n.checkMarkColor=t,n}};var checkboxDark$1=checkboxDark;const self$A=r=>{const{borderRadius:t,boxShadow2:n,popoverColor:a,textColor2:o,textColor3:s,primaryColor:l,textColorDisabled:u,dividerColor:f,hoverColor:d,fontSizeMedium:v,heightMedium:g}=r;return{menuBorderRadius:t,menuColor:a,menuBoxShadow:n,menuDividerColor:f,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:s,optionHeight:g,optionFontSize:v,optionColorHover:d,optionTextColor:o,optionTextColorActive:l,optionTextColorDisabled:u,optionCheckMarkColor:l,loadingColor:l,columnWidth:"180px"}},cascaderDark={name:"Cascader",common:commonDark,peers:{InternalSelectMenu:internalSelectMenuDark$1,InternalSelection:internalSelectionDark$1,Scrollbar:scrollbarDark$1,Checkbox:checkboxDark$1,Empty:emptyLight$1},self:self$A};var cascaderDark$1=cascaderDark;const codeDark={name:"Code",common:commonDark,self(r){const{textColor2:t,fontSize:n,fontWeightStrong:a}=r;return{textColor:t,fontSize:n,fontWeightStrong:a,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b"}}};var codeDark$1=codeDark;const self$z=r=>{const{fontWeight:t,textColor1:n,textColor2:a,dividerColor:o,fontSize:s}=r;return{titleFontSize:s,titleFontWeight:t,dividerColor:o,titleTextColor:n,fontSize:s,textColor:a,arrowColor:a}},collapseDark={name:"Collapse",common:commonDark,self:self$z};var collapseDark$1=collapseDark;const self$y=r=>{const{cubicBezierEaseInOut:t}=r;return{bezier:t}},collapseTransitionDark={name:"CollapseTransition",common:commonDark,self:self$y};var collapseTransitionDark$1=collapseTransitionDark;const configProviderProps={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(warn$3("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}};var NConfigProvider=defineComponent({name:"ConfigProvider",alias:["App"],props:configProviderProps,setup(r){const t=inject(configProviderInjectionKey,null),n=computed(()=>{const{theme:x}=r;if(x===null)return;const _=t==null?void 0:t.mergedThemeRef.value;return x===void 0?_:_===void 0?x:Object.assign({},_,x)}),a=computed(()=>{const{themeOverrides:x}=r;if(x!==null){if(x===void 0)return t==null?void 0:t.mergedThemeOverridesRef.value;{const _=t==null?void 0:t.mergedThemeOverridesRef.value;return _===void 0?x:merge$2({},_,x)}}}),o=useMemo(()=>{const{namespace:x}=r;return x===void 0?t==null?void 0:t.mergedNamespaceRef.value:x}),s=useMemo(()=>{const{bordered:x}=r;return x===void 0?t==null?void 0:t.mergedBorderedRef.value:x}),l=computed(()=>{const{icons:x}=r;return x===void 0?t==null?void 0:t.mergedIconsRef.value:x}),u=computed(()=>{const{componentOptions:x}=r;return x!==void 0?x:t==null?void 0:t.mergedComponentPropsRef.value}),f=computed(()=>{const{clsPrefix:x}=r;return x!==void 0?x:t==null?void 0:t.mergedClsPrefixRef.value}),d=computed(()=>{var x;const{rtl:_}=r;if(_===void 0)return t==null?void 0:t.mergedRtlRef.value;const C={};for(const T of _)C[T.name]=markRaw(T),(x=T.peers)===null||x===void 0||x.forEach(w=>{w.name in C||(C[w.name]=markRaw(w))});return C}),v=computed(()=>r.breakpoints||(t==null?void 0:t.mergedBreakpointsRef.value)),g=r.inlineThemeDisabled||(t==null?void 0:t.inlineThemeDisabled),S=computed(()=>{const{value:x}=n,{value:_}=a,C=_&&Object.keys(_).length!==0,T=x==null?void 0:x.name;return T?C?`${T}-${murmur2(JSON.stringify(a.value))}`:T:C?murmur2(JSON.stringify(a.value)):""});return provide(configProviderInjectionKey,{mergedThemeHashRef:S,mergedBreakpointsRef:v,mergedRtlRef:d,mergedIconsRef:l,mergedComponentPropsRef:u,mergedBorderedRef:s,mergedNamespaceRef:o,mergedClsPrefixRef:f,mergedLocaleRef:computed(()=>{const{locale:x}=r;if(x!==null)return x===void 0?t==null?void 0:t.mergedLocaleRef.value:x}),mergedDateLocaleRef:computed(()=>{const{dateLocale:x}=r;if(x!==null)return x===void 0?t==null?void 0:t.mergedDateLocaleRef.value:x}),mergedHljsRef:computed(()=>{const{hljs:x}=r;return x===void 0?t==null?void 0:t.mergedHljsRef.value:x}),mergedThemeRef:n,mergedThemeOverridesRef:a,inlineThemeDisabled:g||!1}),{mergedClsPrefix:f,mergedBordered:s,mergedNamespace:o,mergedTheme:n,mergedThemeOverrides:a}},render(){var r,t,n,a;return this.abstract?(a=(n=this.$slots).default)===null||a===void 0?void 0:a.call(n):h(this.as||this.tag,{class:`${this.mergedClsPrefix||defaultClsPrefix}-config-provider`},(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r))}});function self$x(r){const{boxShadow2:t}=r;return{menuBoxShadow:t}}const selectDark={name:"Select",common:commonDark,peers:{InternalSelection:internalSelectionDark$1,InternalSelectMenu:internalSelectMenuDark$1},self:self$x};var selectDark$1=selectDark,commonVariables$a={itemSize:"28px",itemPadding:"0 4px",itemMargin:"0 0 0 8px",itemMarginRtl:"0 8px 0 0",buttonIconSize:"16px",inputWidth:"60px",selectWidth:"unset",inputMargin:"0 0 0 8px",inputMarginRtl:"0 8px 0 0",selectMargin:"0 0 0 8px",prefixMargin:"0 8px 0 0",suffixMargin:"0 0 0 8px",jumperFontSize:"14px"};const self$w=r=>{const{textColor2:t,primaryColor:n,primaryColorHover:a,primaryColorPressed:o,inputColorDisabled:s,textColorDisabled:l,borderColor:u,borderRadius:f,fontSize:d}=r;return Object.assign(Object.assign({},commonVariables$a),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${u}`,buttonBorderHover:`1px solid ${u}`,buttonBorderPressed:`1px solid ${u}`,buttonIconColor:t,buttonIconColorHover:t,buttonIconColorPressed:t,itemTextColor:t,itemTextColorHover:a,itemTextColorPressed:o,itemTextColorActive:n,itemTextColorDisabled:l,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:s,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${n}`,itemBorderDisabled:`1px solid ${u}`,itemBorderRadius:f,itemFontSize:d,jumperTextColor:t,jumperTextColorDisabled:l})},paginationDark={name:"Pagination",common:commonDark,peers:{Select:selectDark$1,Input:inputDark$1},self(r){const{primaryColor:t,opacity3:n}=r,a=changeColor(t,{alpha:Number(n)}),o=self$w(r);return o.itemBorderActive=`1px solid ${a}`,o.itemBorderDisabled="1px solid #0000",o}};var paginationDark$1=paginationDark,commonVars$8={padding:"8px 14px"};const tooltipDark={name:"Tooltip",common:commonDark,peers:{Popover:popoverDark$1},self(r){const{borderRadius:t,boxShadow2:n,popoverColor:a,textColor2:o}=r;return Object.assign(Object.assign({},commonVars$8),{borderRadius:t,boxShadow:n,color:a,textColor:o})}};var tooltipDark$1=tooltipDark;const ellipsisDark={name:"Ellipsis",common:commonDark,peers:{Tooltip:tooltipDark$1}};var ellipsisDark$1=ellipsisDark,commonVariables$9={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px"};const radioDark={name:"Radio",common:commonDark,self(r){const{borderColor:t,primaryColor:n,baseColor:a,textColorDisabled:o,inputColorDisabled:s,textColor2:l,opacityDisabled:u,borderRadius:f,fontSizeSmall:d,fontSizeMedium:v,fontSizeLarge:g,heightSmall:S,heightMedium:x,heightLarge:_,lineHeight:C}=r;return Object.assign(Object.assign({},commonVariables$9),{labelLineHeight:C,buttonHeightSmall:S,buttonHeightMedium:x,buttonHeightLarge:_,fontSizeSmall:d,fontSizeMedium:v,fontSizeLarge:g,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${changeColor(n,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:"#0000",colorDisabled:s,textColor:l,textColorDisabled:o,dotColorActive:n,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:n,buttonBorderColorHover:n,buttonColor:"#0000",buttonColorActive:n,buttonTextColor:l,buttonTextColorActive:a,buttonTextColorHover:n,opacityDisabled:u,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${changeColor(n,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${n}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:f})}};var radioDark$1=radioDark,commonVariables$8={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"};const self$v=r=>{const{cardColor:t,modalColor:n,popoverColor:a,textColor2:o,textColor1:s,tableHeaderColor:l,tableColorHover:u,iconColor:f,primaryColor:d,fontWeightStrong:v,borderRadius:g,lineHeight:S,fontSizeSmall:x,fontSizeMedium:_,fontSizeLarge:C,dividerColor:T,heightSmall:w,opacityDisabled:M,tableColorStriped:D}=r;return Object.assign(Object.assign({},commonVariables$8),{actionDividerColor:T,lineHeight:S,borderRadius:g,fontSizeSmall:x,fontSizeMedium:_,fontSizeLarge:C,borderColor:composite(t,T),tdColorHover:composite(t,u),tdColorStriped:composite(t,D),thColor:composite(t,l),thColorHover:composite(composite(t,l),u),tdColor:t,tdTextColor:o,thTextColor:s,thFontWeight:v,thButtonColorHover:u,thIconColor:f,thIconColorActive:d,borderColorModal:composite(n,T),tdColorHoverModal:composite(n,u),tdColorStripedModal:composite(n,D),thColorModal:composite(n,l),thColorHoverModal:composite(composite(n,l),u),tdColorModal:n,borderColorPopover:composite(a,T),tdColorHoverPopover:composite(a,u),tdColorStripedPopover:composite(a,D),thColorPopover:composite(a,l),thColorHoverPopover:composite(composite(a,l),u),tdColorPopover:a,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:d,loadingSize:w,opacityLoading:M})},dataTableDark={name:"DataTable",common:commonDark,peers:{Button:buttonDark$1,Checkbox:checkboxDark$1,Radio:radioDark$1,Pagination:paginationDark$1,Scrollbar:scrollbarDark$1,Empty:emptyDark$1,Popover:popoverDark$1,Ellipsis:ellipsisDark$1},self(r){const t=self$v(r);return t.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",t.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",t}};var dataTableDark$1=dataTableDark,commonVariables$7={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"};const self$u=r=>{const{primaryColor:t,textColor2:n,dividerColor:a,hoverColor:o,popoverColor:s,invertedColor:l,borderRadius:u,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:v,fontSizeHuge:g,heightSmall:S,heightMedium:x,heightLarge:_,heightHuge:C,textColor3:T,opacityDisabled:w}=r;return Object.assign(Object.assign({},commonVariables$7),{optionHeightSmall:S,optionHeightMedium:x,optionHeightLarge:_,optionHeightHuge:C,borderRadius:u,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:v,fontSizeHuge:g,optionTextColor:n,optionTextColorHover:n,optionTextColorActive:t,optionTextColorChildActive:t,color:s,dividerColor:a,suffixColor:n,prefixColor:n,optionColorHover:o,optionColorActive:changeColor(t,{alpha:.1}),groupHeaderTextColor:T,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:l,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:t,optionColorActiveInverted:t,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:w})},dropdownDark={name:"Dropdown",common:commonDark,peers:{Popover:popoverDark$1},self(r){const{primaryColorSuppl:t,primaryColor:n,popoverColor:a}=r,o=self$u(r);return o.colorInverted=a,o.optionColorActive=changeColor(n,{alpha:.15}),o.optionColorActiveInverted=t,o.optionColorHoverInverted=t,o}};var dropdownDark$1=dropdownDark;const self$t=r=>{const{textColorBase:t,opacity1:n,opacity2:a,opacity3:o,opacity4:s,opacity5:l}=r;return{color:t,opacity1Depth:n,opacity2Depth:a,opacity3Depth:o,opacity4Depth:s,opacity5Depth:l}},iconDark$1={name:"Icon",common:commonDark,self:self$t};var iconDark$2=iconDark$1,commonVars$7={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"};const self$s=r=>{const{popoverColor:t,textColor2:n,primaryColor:a,hoverColor:o,dividerColor:s,opacityDisabled:l,boxShadow2:u,borderRadius:f,iconColor:d,iconColorDisabled:v}=r;return Object.assign(Object.assign({},commonVars$7),{panelColor:t,panelBoxShadow:u,panelDividerColor:s,itemTextColor:n,itemTextColorActive:a,itemColorHover:o,itemOpacityDisabled:l,itemBorderRadius:f,borderRadius:f,iconColor:d,iconColorDisabled:v})},timePickerDark={name:"TimePicker",common:commonDark,peers:{Scrollbar:scrollbarDark$1,Button:buttonDark$1,Input:inputDark$1},self:self$s};var timePickerDark$1=timePickerDark,commonVars$6={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0"};const self$r=r=>{const{hoverColor:t,fontSize:n,textColor2:a,textColorDisabled:o,popoverColor:s,primaryColor:l,borderRadiusSmall:u,iconColor:f,iconColorDisabled:d,textColor1:v,dividerColor:g,boxShadow2:S,borderRadius:x,fontWeightStrong:_}=r;return Object.assign(Object.assign({},commonVars$6),{itemFontSize:n,calendarDaysFontSize:n,calendarTitleFontSize:n,itemTextColor:a,itemTextColorDisabled:o,itemTextColorActive:s,itemTextColorCurrent:l,itemColorIncluded:changeColor(l,{alpha:.1}),itemColorHover:t,itemColorDisabled:t,itemColorActive:l,itemBorderRadius:u,panelColor:s,panelTextColor:a,arrowColor:f,calendarTitleTextColor:v,calendarTitleColorHover:t,calendarDaysTextColor:a,panelHeaderDividerColor:g,calendarDaysDividerColor:g,calendarDividerColor:g,panelActionDividerColor:g,panelBoxShadow:S,panelBorderRadius:x,calendarTitleFontWeight:_,scrollItemBorderRadius:x,iconColor:f,iconColorDisabled:d})},datePickerDark={name:"DatePicker",common:commonDark,peers:{Input:inputDark$1,Button:buttonDark$1,TimePicker:timePickerDark$1,Scrollbar:scrollbarDark$1},self(r){const{popoverColor:t,hoverColor:n,primaryColor:a}=r,o=self$r(r);return o.itemColorDisabled=composite(t,n),o.itemColorIncluded=changeColor(a,{alpha:.15}),o.itemColorHover=composite(t,n),o}};var datePickerDark$1=datePickerDark,commonVariables$6={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"};const self$q=r=>{const{tableHeaderColor:t,textColor2:n,textColor1:a,cardColor:o,modalColor:s,popoverColor:l,dividerColor:u,borderRadius:f,fontWeightStrong:d,lineHeight:v,fontSizeSmall:g,fontSizeMedium:S,fontSizeLarge:x}=r;return Object.assign(Object.assign({},commonVariables$6),{lineHeight:v,fontSizeSmall:g,fontSizeMedium:S,fontSizeLarge:x,titleTextColor:a,thColor:composite(o,t),thColorModal:composite(s,t),thColorPopover:composite(l,t),thTextColor:a,thFontWeight:d,tdTextColor:n,tdColor:o,tdColorModal:s,tdColorPopover:l,borderColor:composite(o,u),borderColorModal:composite(s,u),borderColorPopover:composite(l,u),borderRadius:f})},descriptionsDark={name:"Descriptions",common:commonDark,self:self$q};var descriptionsDark$1=descriptionsDark,commonVars$5={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"18px",closeMargin:"22px 28px 0 0",closeMarginIconTop:"12px 18px 0 0"};const self$p=r=>{const{textColor1:t,textColor2:n,modalColor:a,closeColor:o,closeColorHover:s,closeColorPressed:l,infoColor:u,successColor:f,warningColor:d,errorColor:v,primaryColor:g,dividerColor:S,borderRadius:x,fontWeightStrong:_,lineHeight:C,fontSize:T}=r;return Object.assign(Object.assign({},commonVars$5),{fontSize:T,lineHeight:C,border:`1px solid ${S}`,titleTextColor:t,textColor:n,color:a,closeColor:o,closeColorHover:s,closeColorPressed:l,iconColor:g,iconColorInfo:u,iconColorSuccess:f,iconColorWarning:d,iconColorError:v,borderRadius:x,titleFontWeight:_})},dialogLight={name:"Dialog",common:commonLight,peers:{Button:buttonLight},self:self$p},dialogDark={name:"Dialog",common:commonDark,peers:{Button:buttonDark$1},self:self$p};var dialogDark$1=dialogDark;const dialogProps={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},dialogPropKeys=keysOf(dialogProps);var style$6=c$1([cB("dialog",`
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[cE("icon",{color:"var(--n-icon-color)"}),cM("bordered",{border:"var(--n-border)"}),cM("icon-top",[cE("close",{margin:"var(--n-close-margin)"}),cE("icon",{margin:"var(--n-icon-margin)"}),cE("content",{textAlign:"center"}),cE("title",{justifyContent:"center"}),cE("action",{justifyContent:"center"})]),cM("icon-left",[cE("icon",{margin:"var(--n-icon-margin)"})]),cE("close",`
 font-size: var(--n-close-size);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition: .3s color var(--n-bezier);
 z-index: 1;
 `),cE("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[cM("last","margin-bottom: 0;")]),cE("action",`
 display: flex;
 justify-content: flex-end;
 `,[c$1("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),cE("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),cE("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),cB("dialog-icon-container",{display:"flex",justifyContent:"center"})]),insideModal(cB("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),cB("dialog",[asModal(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]);const iconRenderMap$1={default:()=>h(InfoIcon,null),info:()=>h(InfoIcon,null),success:()=>h(SuccessIcon,null),warning:()=>h(WarningIcon,null),error:()=>h(ErrorIcon,null)},NDialog=defineComponent({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},useTheme.props),dialogProps),setup(r){const{mergedComponentPropsRef:t,mergedClsPrefixRef:n,inlineThemeDisabled:a}=useConfig(r),o=computed(()=>{var g,S;const{iconPlacement:x}=r;return x||((S=(g=t==null?void 0:t.value)===null||g===void 0?void 0:g.Dialog)===null||S===void 0?void 0:S.iconPlacement)||"left"});function s(g){const{onPositiveClick:S}=r;S&&S(g)}function l(g){const{onNegativeClick:S}=r;S&&S(g)}function u(){const{onClose:g}=r;g&&g()}const f=useTheme("Dialog","-dialog",style$6,dialogLight,r,n),d=computed(()=>{const{type:g}=r,S=o.value,{common:{cubicBezierEaseInOut:x},self:{fontSize:_,lineHeight:C,border:T,titleTextColor:w,textColor:M,color:D,closeColor:I,closeColorHover:R,closeColorPressed:$,borderRadius:N,titleFontWeight:F,titleFontSize:H,padding:Y,iconSize:G,actionSpace:K,contentMargin:Z,closeSize:J,[S==="top"?"iconMarginIconTop":"iconMargin"]:Q,[S==="top"?"closeMarginIconTop":"closeMargin"]:te,[createKey("iconColor",g)]:ie}}=f.value;return{"--n-font-size":_,"--n-icon-color":ie,"--n-bezier":x,"--n-close-margin":te,"--n-icon-margin":Q,"--n-icon-size":G,"--n-close-size":J,"--n-close-color":I,"--n-close-color-hover":R,"--n-close-color-pressed":$,"--n-color":D,"--n-text-color":M,"--n-border-radius":N,"--n-padding":Y,"--n-line-height":C,"--n-border":T,"--n-content-margin":Z,"--n-title-font-size":H,"--n-title-font-weight":F,"--n-title-text-color":w,"--n-action-space":K}}),v=a?useThemeClass("dialog",computed(()=>`${r.type[0]}${o.value[0]}`),d,r):void 0;return{mergedClsPrefix:n,mergedIconPlacement:o,mergedTheme:f,handlePositiveClick:s,handleNegativeClick:l,handleCloseClick:u,cssVars:a?void 0:d,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){var r;const{bordered:t,mergedIconPlacement:n,cssVars:a,closable:o,showIcon:s,title:l,content:u,action:f,negativeText:d,positiveText:v,positiveButtonProps:g,negativeButtonProps:S,handlePositiveClick:x,handleNegativeClick:_,mergedTheme:C,loading:T,type:w,mergedClsPrefix:M}=this;(r=this.onRender)===null||r===void 0||r.call(this);const D=s?h(NBaseIcon,{clsPrefix:M,class:`${M}-dialog__icon`},{default:()=>resolveWrappedSlot(this.$slots.icon,R=>R||(this.icon?render$2(this.icon):iconRenderMap$1[this.type]()))}):null,I=resolveWrappedSlot(this.$slots.action,R=>R||v||d||f?h("div",{class:`${M}-dialog__action`},R||(f?[render$2(f)]:[this.negativeText&&h(NButton,Object.assign({theme:C.peers.Button,themeOverrides:C.peerOverrides.Button,ghost:!0,size:"small",onClick:_},S),{default:()=>render$2(this.negativeText)}),this.positiveText&&h(NButton,Object.assign({theme:C.peers.Button,themeOverrides:C.peerOverrides.Button,size:"small",type:w==="default"?"primary":w,disabled:T,loading:T,onClick:x},g),{default:()=>render$2(this.positiveText)})])):null);return h("div",{class:[`${M}-dialog`,this.themeClass,`${M}-dialog--icon-${n}`,t&&`${M}-dialog--bordered`],style:a,role:"dialog"},o?h(NBaseClose,{clsPrefix:M,class:`${M}-dialog__close`,onClick:this.handleCloseClick}):null,s&&n==="top"?h("div",{class:`${M}-dialog-icon-container`},D):null,h("div",{class:`${M}-dialog__title`},s&&n==="left"?D:null,resolveSlot(this.$slots.header,()=>[render$2(l)])),h("div",{class:[`${M}-dialog__content`,I?"":`${M}-dialog__content--last`]},resolveSlot(this.$slots.default,()=>[render$2(u)])),I)}}),dialogProviderInjectionKey="n-dialog-provider",dialogApiInjectionKey="n-dialog-api",self$o=r=>{const{modalColor:t,textColor2:n,boxShadow3:a}=r;return{color:t,textColor:n,boxShadow:a}},modalLight={name:"Modal",common:commonLight,peers:{Scrollbar:scrollbarLight,Dialog:dialogLight,Card:cardLight},self:self$o},modalDark={name:"Modal",common:commonDark,peers:{Scrollbar:scrollbarDark$1,Dialog:dialogDark$1,Card:cardDark$1},self:self$o};var modalDark$1=modalDark;const presetProps=Object.assign(Object.assign({},cardBaseProps),dialogProps),presetPropsKeys=keysOf(presetProps);var NModalBodyWrapper=defineComponent({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0}},presetProps),{onClickoutside:{type:Function,required:!0},onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(r){const t=ref(null),n=ref(null),a=ref(r.show),o=ref(null),s=ref(null);watch(toRef(r,"show"),w=>{w&&(a.value=!0)});const l=inject(modalInjectionKey);function u(){if(l.transformOriginRef.value==="center")return"";const{value:w}=o,{value:M}=s;if(w===null||M===null)return"";if(n.value){const D=n.value.containerScrollTop;return`${w}px ${M+D}px`}return""}function f(w){if(l.transformOriginRef.value==="center")return;const M=l.getMousePosition();if(!M||!n.value)return;const D=n.value.containerScrollTop,{offsetLeft:I,offsetTop:R}=w;if(M){const $=M.y,N=M.x;o.value=-(I-N),s.value=-(R-$-D)}w.style.transformOrigin=u()}function d(w){nextTick(()=>{f(w)})}function v(w){w.style.transformOrigin=u(),r.onBeforeLeave()}function g(){a.value=!1,o.value=null,s.value=null,r.onAfterLeave()}function S(){const{onClose:w}=r;w&&w()}function x(){r.onNegativeClick()}function _(){r.onPositiveClick()}function C(w){r.onClickoutside(w)}const T=ref(null);return watch(T,w=>{w&&nextTick(()=>{const M=w.el;M&&t.value!==M&&(t.value=M)})}),provide(modalBodyInjectionKey,t),provide(drawerBodyInjectionKey,null),provide(popoverBodyInjectionKey,null),{mergedTheme:l.mergedThemeRef,appear:l.appearRef,isMounted:l.isMountedRef,mergedClsPrefix:l.mergedClsPrefixRef,bodyRef:t,scrollbarRef:n,displayed:a,childNodeRef:T,handleClickOutside:C,handlePositiveClick:_,handleNegativeClick:x,handleCloseClick:S,handleAfterLeave:g,handleBeforeLeave:v,handleEnter:d}},render(){const{$slots:r,$attrs:t,handleEnter:n,handleAfterLeave:a,handleBeforeLeave:o,handleClickOutside:s,preset:l,mergedClsPrefix:u}=this;let f=null;if(!l){if(f=getFirstSlotVNode(r),!f){warn$3("modal","default slot is empty");return}f=cloneVNode(f),f.props=mergeProps({class:`${u}-modal`},t,f.props||{})}return this.displayDirective==="show"||this.displayed||this.show?withDirectives(h("div",{role:"none",class:`${u}-modal-body-wrapper`},h(NScrollbar,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${u}-modal-scroll-content`},{default:()=>h(FocusTrap,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var d;return h(Transition,{name:"fade-in-scale-up-transition",appear:(d=this.appear)!==null&&d!==void 0?d:this.isMounted,onEnter:n,onAfterEnter:this.onAfterEnter,onAfterLeave:a,onBeforeLeave:o},{default:()=>withDirectives(this.preset==="confirm"||this.preset==="dialog"?h(NDialog,Object.assign({},this.$attrs,{class:[`${u}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},keep(this.$props,dialogPropKeys),{"aria-modal":"true"}),r):this.preset==="card"?h(NCard,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${u}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},keep(this.$props,cardBasePropKeys),{"aria-modal":"true",role:"dialog"}),r):this.childNodeRef=f,[[vShow,this.show],[clickoutside$1,s,void 0,{capture:!0}]])})}})})),[[vShow,this.displayDirective==="if"||this.displayed||this.show]]):null}}),style$5=c$1([cB("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),cB("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[fadeInTransition({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),cB("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[cB("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),cB("modal",`
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[fadeInScaleUpTransition({duration:".25s",enterScale:".5"})])]);const modalProps=Object.assign(Object.assign(Object.assign(Object.assign({},useTheme.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0}}),presetProps),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function});var NModal=defineComponent({name:"Modal",inheritAttrs:!1,props:modalProps,setup(r){const t=ref(null),{mergedClsPrefixRef:n,namespaceRef:a,inlineThemeDisabled:o}=useConfig(r),s=useTheme("Modal","-modal",style$5,modalLight,r,n),l=useClicked(64),u=useClickPosition(),f=isMounted(),d=r.internalDialog?inject(dialogProviderInjectionKey,null):null;function v(I){const{onUpdateShow:R,"onUpdate:show":$,onHide:N}=r;R&&call(R,I),$&&call($,I),N&&!I&&N(I)}function g(){const{onClose:I}=r;I?Promise.resolve(I()).then(R=>{R!==!1&&v(!1)}):v(!1)}function S(){const{onPositiveClick:I}=r;I?Promise.resolve(I()).then(R=>{R!==!1&&v(!1)}):v(!1)}function x(){const{onNegativeClick:I}=r;I?Promise.resolve(I()).then(R=>{R!==!1&&v(!1)}):v(!1)}function _(){const{onBeforeLeave:I,onBeforeHide:R}=r;I&&call(I),R&&R()}function C(){const{onAfterLeave:I,onAfterHide:R}=r;I&&call(I),R&&R()}function T(I){var R;const{onMaskClick:$}=r;$&&$(I),r.maskClosable&&!((R=t.value)===null||R===void 0)&&R.contains(I.target)&&v(!1)}function w(I){var R;(R=r.onEsc)===null||R===void 0||R.call(r),r.closeOnEsc&&v(!1)}provide(modalInjectionKey,{getMousePosition:()=>{if(d){const{clickedRef:I,clickPositionRef:R}=d;if(I.value&&R.value)return R.value}return l.value?u.value:null},mergedClsPrefixRef:n,mergedThemeRef:s,isMountedRef:f,appearRef:toRef(r,"internalAppear"),transformOriginRef:toRef(r,"transformOrigin")});const M=computed(()=>{const{common:{cubicBezierEaseOut:I},self:{boxShadow:R,color:$,textColor:N}}=s.value;return{"--n-bezier-ease-out":I,"--n-box-shadow":R,"--n-color":$,"--n-text-color":N}}),D=o?useThemeClass("theme-class",void 0,M,r):void 0;return{mergedClsPrefix:n,namespace:a,isMounted:f,containerRef:t,presetProps:computed(()=>keep(r,presetPropsKeys)),handleEsc:w,handleAfterLeave:C,handleClickoutside:T,handleBeforeLeave:_,doUpdateShow:v,handleNegativeClick:x,handlePositiveClick:S,handleCloseClick:g,cssVars:o?void 0:M,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender}},render(){const{mergedClsPrefix:r}=this;return h(LazyTeleport,{to:this.to,show:this.show},{default:()=>{var t,n;return(t=this.onRender)===null||t===void 0||t.call(this),withDirectives(h("div",{role:"none",ref:"containerRef",class:[`${r}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},this.unstableShowMask?h(Transition,{name:"fade-in-transition",key:"mask",appear:(n=this.internalAppear)!==null&&n!==void 0?n:this.isMounted},{default:()=>this.show?h("div",{"aria-hidden":!0,ref:"containerRef",class:`${r}-modal-mask`}):null}):null,h(NModalBodyWrapper,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:this.handleClickoutside}),this.$slots)),[[zindexable$1,{zIndex:this.zIndex,enabled:this.show}]])}})}});const exposedDialogEnvProps=Object.assign(Object.assign({},dialogProps),{closeOnEsc:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function}),NDialogEnvironment=defineComponent({name:"DialogEnvironment",props:Object.assign(Object.assign({},exposedDialogEnvProps),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(r){const t=ref(!0);function n(){r.onInternalAfterLeave(r.internalKey)}function a(d){const{onPositiveClick:v}=r;v?Promise.resolve(v(d)).then(g=>{g!==!1&&u()}):u()}function o(d){const{onNegativeClick:v}=r;v?Promise.resolve(v(d)).then(g=>{g!==!1&&u()}):u()}function s(){const{onClose:d}=r;d?Promise.resolve(d()).then(v=>{v!==!1&&u()}):u()}function l(d){const{onMaskClick:v,maskClosable:g}=r;v&&(v(d),g&&u())}function u(){t.value=!1}function f(d){t.value=d}return{show:t,hide:u,handleUpdateShow:f,handleAfterLeave:n,handleCloseClick:s,handleNegativeClick:o,handlePositiveClick:a,handleMaskClick:l}},render(){const{handlePositiveClick:r,handleUpdateShow:t,handleNegativeClick:n,handleCloseClick:a,handleAfterLeave:o,handleMaskClick:s,to:l,maskClosable:u,show:f}=this;return h(NModal,{show:f,onUpdateShow:t,onMaskClick:s,to:l,maskClosable:u,onAfterLeave:o,closeOnEsc:this.closeOnEsc,internalAppear:!0,internalDialog:!0},{default:()=>h(NDialog,Object.assign({},keep(this.$props,dialogPropKeys),{style:this.internalStyle,onClose:a,onNegativeClick:n,onPositiveClick:r}))})}}),dialogProviderProps={injectionKey:String,to:[String,Object]},NDialogProvider=defineComponent({name:"DialogProvider",props:dialogProviderProps,setup(){const r=ref([]),t={};function n(u={}){const f=createId(),d=reactive(Object.assign(Object.assign({},u),{key:f,destroy:()=>{t[`n-dialog-${f}`].hide()}}));return r.value.push(d),d}const a=["info","success","warning","error"].map(u=>f=>n(Object.assign(Object.assign({},f),{type:u})));function o(u){const{value:f}=r;f.splice(f.findIndex(d=>d.key===u),1)}function s(){Object.values(t).forEach(u=>u.hide())}const l={create:n,destroyAll:s,info:a[0],success:a[1],warning:a[2],error:a[3]};return provide(dialogApiInjectionKey,l),provide(dialogProviderInjectionKey,{clickedRef:useClicked(64),clickPositionRef:useClickPosition()}),Object.assign(Object.assign({},l),{dialogList:r,dialogInstRefs:t,handleAfterLeave:o})},render(){var r,t;return h(Fragment,null,[this.dialogList.map(n=>h(NDialogEnvironment,omit(n,["destroy","style"],{internalStyle:n.style,to:this.to,ref:a=>{a===null?delete this.dialogInstRefs[`n-dialog-${n.key}`]:this.dialogInstRefs[`n-dialog-${n.key}`]=a},internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave}))),(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r)])}});function useDialog(){const r=inject(dialogApiInjectionKey,null);return r===null&&throwError$1("use-dialog","No outer <n-dialog-provider /> founded."),r}const self$n=r=>{const{textColor1:t,dividerColor:n,fontWeightStrong:a}=r;return{textColor:t,color:n,fontWeight:a}},dividerLight={name:"Divider",common:commonLight,self:self$n},dividerDark={name:"Divider",common:commonDark,self:self$n};var dividerDark$1=dividerDark,style$4=cB("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[cNotM("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[cNotM("no-title",`
 display: flex;
 align-items: center;
 `)]),cE("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),cM("title-position-left",[cE("line",[cM("left",{width:"28px"})])]),cM("title-position-right",[cE("line",[cM("right",{width:"28px"})])]),cM("dashed",[cE("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),cM("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),cE("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),cNotM("dashed",[cE("line",{backgroundColor:"var(--n-color)"})]),cM("dashed",[cE("line",{borderColor:"var(--n-color)"})]),cM("vertical",{backgroundColor:"var(--n-color)"})]);const dividerProps=Object.assign(Object.assign({},useTheme.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean});var NDivider=defineComponent({name:"Divider",props:dividerProps,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=useConfig(r),a=useTheme("Divider","-divider",style$4,dividerLight,r,t),o=computed(()=>{const{common:{cubicBezierEaseInOut:l},self:{color:u,textColor:f,fontWeight:d}}=a.value;return{"--n-bezier":l,"--n-color":u,"--n-text-color":f,"--n-font-weight":d}}),s=n?useThemeClass("divider",void 0,o,r):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var r;const{$slots:t,titlePlacement:n,vertical:a,dashed:o,cssVars:s,mergedClsPrefix:l}=this;return(r=this.onRender)===null||r===void 0||r.call(this),h("div",{role:"separator",class:[`${l}-divider`,this.themeClass,{[`${l}-divider--vertical`]:a,[`${l}-divider--no-title`]:!t.default,[`${l}-divider--dashed`]:o,[`${l}-divider--title-position-${n}`]:t.default&&n}],style:s},a?null:h("div",{class:`${l}-divider__line ${l}-divider__line--left`}),!a&&t.default?h(Fragment,null,h("div",{class:`${l}-divider__title`},this.$slots),h("div",{class:`${l}-divider__line ${l}-divider__line--right`})):null)}});const self$m=r=>{const{modalColor:t,textColor1:n,textColor2:a,boxShadow3:o,lineHeight:s,fontWeightStrong:l,dividerColor:u,closeColor:f,closeColorHover:d,closeColorPressed:v}=r;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:t,textColor:a,titleTextColor:n,titleFontSize:"18px",titleFontWeight:l,boxShadow:o,lineHeight:s,headerBorderBottom:`1px solid ${u}`,footerBorderTop:`1px solid ${u}`,closeColor:f,closeColorHover:d,closeColorPressed:v,closeSize:"18px"}},drawerDark={name:"Drawer",common:commonDark,peers:{Scrollbar:scrollbarDark$1},self:self$m};var drawerDark$1=drawerDark,commonVariables$5={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"};const dynamicInputDark={name:"DynamicInput",common:commonDark,peers:{Input:inputDark$1,Button:buttonDark$1},self(){return commonVariables$5}};var dynamicInputDark$1=dynamicInputDark,commonVars$4={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};const spaceDark={name:"Space",self(){return commonVars$4}};var spaceDark$1=spaceDark;const dynamicTagsDark={name:"DynamicTags",common:commonDark,peers:{Input:inputDark$1,Button:buttonDark$1,Tag:tagDark$1,Space:spaceDark$1},self(){return{inputWidth:"64px"}}};var dynamicTagsDark$1=dynamicTagsDark;const elementDark={name:"Element",common:commonDark};var elementDark$1=elementDark,commonVariables$4={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 8px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right"};const self$l=r=>{const{heightSmall:t,heightMedium:n,heightLarge:a,textColor1:o,errorColor:s,warningColor:l,lineHeight:u,textColor3:f}=r;return Object.assign(Object.assign({},commonVariables$4),{blankHeightSmall:t,blankHeightMedium:n,blankHeightLarge:a,lineHeight:u,labelTextColor:o,asteriskColor:s,feedbackTextColorError:s,feedbackTextColorWarning:l,feedbackTextColor:f})},formItemDark={name:"Form",common:commonDark,self:self$l};var formDark=formItemDark;const gradientTextDark={name:"GradientText",common:commonDark,self(r){const{primaryColor:t,successColor:n,warningColor:a,errorColor:o,infoColor:s,primaryColorSuppl:l,successColorSuppl:u,warningColorSuppl:f,errorColorSuppl:d,infoColorSuppl:v,fontWeightStrong:g}=r;return{fontWeight:g,rotate:"252deg",colorStartPrimary:t,colorEndPrimary:l,colorStartInfo:s,colorEndInfo:v,colorStartWarning:a,colorEndWarning:f,colorStartError:o,colorEndError:d,colorStartSuccess:n,colorEndSuccess:u}}};var gradientTextDark$1=gradientTextDark;const self$k=r=>{const{primaryColor:t,baseColor:n}=r;return{color:t,iconColor:n}},iconDark={name:"IconWrapper",common:commonDark,self:self$k};var iconWrapperDark=iconDark;const buttonGroupDark={name:"ButtonGroup",common:commonDark};var buttonGroupDark$1=buttonGroupDark;const inputNumberDark={name:"InputNumber",common:commonDark,peers:{Button:buttonDark$1,Input:inputDark$1},self(r){const{textColorDisabled:t}=r;return{iconColorDisabled:t}}};var inputNumberDark$1=inputNumberDark;const self$j=r=>{const{textColorDisabled:t}=r;return{iconColorDisabled:t}},inputNumberLight={name:"InputNumber",common:commonLight,peers:{Button:buttonLight,Input:inputLight$1},self:self$j};var inputNumberLight$1=inputNumberLight;const layoutDark={name:"Layout",common:commonDark,peers:{Scrollbar:scrollbarDark$1},self(r){const{textColor2:t,bodyColor:n,popoverColor:a,cardColor:o,dividerColor:s,scrollbarColor:l,scrollbarColorHover:u}=r;return{textColor:t,textColorInverted:t,color:n,colorEmbedded:n,headerColor:o,headerColorInverted:o,footerColor:o,footerColorInverted:o,headerBorderColor:s,headerBorderColorInverted:s,footerBorderColor:s,footerBorderColorInverted:s,siderBorderColor:s,siderBorderColorInverted:s,siderColor:o,siderColorInverted:o,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:a,siderToggleButtonIconColor:t,siderToggleButtonIconColorInverted:t,siderToggleBarColor:composite(n,l),siderToggleBarColorHover:composite(n,u),__invertScrollbar:"false"}}};var layoutDark$1=layoutDark;const self$i=r=>{const{textColor2:t,cardColor:n,modalColor:a,popoverColor:o,dividerColor:s,borderRadius:l,fontSize:u}=r;return{textColor:t,color:n,colorModal:a,colorPopover:o,borderColor:s,borderColorModal:composite(a,s),borderColorPopover:composite(o,s),borderRadius:l,fontSize:u}},listDark$1={name:"List",common:commonDark,self:self$i};var listDark$2=listDark$1;const loadingBarDark={name:"LoadingBar",common:commonDark,self(r){const{primaryColor:t}=r;return{colorError:"red",colorLoading:t,height:"2px"}}};var loadingBarDark$1=loadingBarDark;const logDark={name:"Log",common:commonDark,peers:{Scrollbar:scrollbarDark$1,Code:codeDark$1},self(r){const{textColor2:t,inputColor:n,fontSize:a,primaryColor:o}=r;return{loaderFontSize:a,loaderTextColor:t,loaderColor:n,loaderBorder:"1px solid #0000",loadingColor:o}}};var logDark$1=logDark;const listDark={name:"Mention",common:commonDark,peers:{InternalSelectMenu:internalSelectMenuDark$1,Input:inputDark$1},self(r){const{boxShadow2:t}=r;return{menuBoxShadow:t}}};var mentionDark=listDark;function createPartialInvertedVars(r,t,n,a){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:t,itemColorActiveHoverInverted:t,itemColorActiveCollapsedInverted:t,itemTextColorInverted:r,itemTextColorHoverInverted:n,itemTextColorChildActiveInverted:n,itemTextColorActiveInverted:n,itemTextColorActiveHoverInverted:n,itemTextColorHorizontalInverted:r,itemTextColorHoverHorizontalInverted:n,itemTextColorChildActiveHorizontalInverted:n,itemTextColorActiveHorizontalInverted:n,itemTextColorActiveHoverHorizontalInverted:n,itemIconColorInverted:r,itemIconColorHoverInverted:n,itemIconColorActiveInverted:n,itemIconColorActiveHoverInverted:n,itemIconColorChildActiveInverted:n,itemIconColorCollapsedInverted:r,itemIconColorHorizontalInverted:r,itemIconColorHoverHorizontalInverted:n,itemIconColorActiveHorizontalInverted:n,itemIconColorActiveHoverHorizontalInverted:n,itemIconColorChildActiveHorizontalInverted:n,arrowColorInverted:r,arrowColorHoverInverted:n,arrowColorActiveInverted:n,arrowColorActiveHoverInverted:n,arrowColorChildActiveInverted:n,groupTextColorInverted:a}}const self$h=r=>{const{borderRadius:t,textColor3:n,primaryColor:a,textColor2:o,textColor1:s,fontSize:l,dividerColor:u,hoverColor:f,primaryColorHover:d}=r;return Object.assign({borderRadius:t,color:"#0000",groupTextColor:n,itemColorHover:f,itemColorActive:changeColor(a,{alpha:.1}),itemColorActiveHover:changeColor(a,{alpha:.1}),itemColorActiveCollapsed:changeColor(a,{alpha:.1}),itemTextColor:o,itemTextColorHover:o,itemTextColorActive:a,itemTextColorActiveHover:a,itemTextColorChildActive:a,itemTextColorHorizontal:o,itemTextColorHoverHorizontal:d,itemTextColorActiveHorizontal:a,itemTextColorActiveHoverHorizontal:a,itemTextColorChildActiveHorizontal:a,itemIconColor:s,itemIconColorHover:s,itemIconColorActive:a,itemIconColorActiveHover:a,itemIconColorChildActive:a,itemIconColorCollapsed:s,itemIconColorHorizontal:s,itemIconColorHoverHorizontal:d,itemIconColorActiveHorizontal:a,itemIconColorActiveHoverHorizontal:a,itemIconColorChildActiveHorizontal:a,itemHeight:"42px",arrowColor:o,arrowColorHover:o,arrowColorActive:a,arrowColorActiveHover:a,arrowColorChildActive:a,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:l,dividerColor:u},createPartialInvertedVars("#BBB",a,"#FFF","#AAA"))},menuDark={name:"Menu",common:commonDark,peers:{Tooltip:tooltipDark$1,Dropdown:dropdownDark$1},self(r){const{primaryColor:t,primaryColorSuppl:n}=r,a=self$h(r);return a.itemColorActive=changeColor(t,{alpha:.15}),a.itemColorActiveHover=changeColor(t,{alpha:.15}),a.itemColorActiveCollapsed=changeColor(t,{alpha:.15}),a.itemColorActiveInverted=n,a.itemColorActiveHoverInverted=n,a.itemColorActiveCollapsedInverted=n,a}};var menuDark$1=menuDark,commonVariables$3={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 12px",closeSize:"16px",iconSize:"20px",fontSize:"14px"};const self$g=r=>{const{textColor2:t,closeColor:n,closeColorHover:a,closeColorPressed:o,infoColor:s,successColor:l,errorColor:u,warningColor:f,popoverColor:d,boxShadow2:v,primaryColor:g,lineHeight:S,borderRadius:x}=r;return Object.assign(Object.assign({},commonVariables$3),{textColor:t,textColorInfo:t,textColorSuccess:t,textColorError:t,textColorWarning:t,textColorLoading:t,color:d,colorInfo:d,colorSuccess:d,colorError:d,colorWarning:d,colorLoading:d,boxShadow:v,boxShadowInfo:v,boxShadowSuccess:v,boxShadowError:v,boxShadowWarning:v,boxShadowLoading:v,iconColor:t,iconColorInfo:s,iconColorSuccess:l,iconColorWarning:f,iconColorError:u,iconColorLoading:g,closeColor:n,closeColorHover:a,closeColorPressed:o,closeColorInfo:n,closeColorHoverInfo:a,closeColorPressedInfo:o,closeColorSuccess:n,closeColorHoverSuccess:a,closeColorPressedSuccess:o,closeColorError:n,closeColorHoverError:a,closeColorPressedError:o,closeColorWarning:n,closeColorHoverWarning:a,closeColorPressedWarning:o,closeColorLoading:n,closeColorHoverLoading:a,closeColorPressedLoading:o,loadingColor:g,lineHeight:S,borderRadius:x})},messageLight={name:"Message",common:commonLight,self:self$g};var messageLight$1=messageLight;const messageDark={name:"Message",common:commonDark,self:self$g};var messageDark$1=messageDark,commonVars$3={closeMargin:"18px 14px",closeSize:"16px",width:"365px",padding:"16px"};const self$f=r=>{const{textColor2:t,successColor:n,infoColor:a,warningColor:o,errorColor:s,popoverColor:l,closeColor:u,closeColorHover:f,textColor1:d,textColor3:v,borderRadius:g,fontWeightStrong:S,boxShadow2:x,lineHeight:_,fontSize:C}=r;return Object.assign(Object.assign({},commonVars$3),{borderRadius:g,lineHeight:_,fontSize:C,headerFontWeight:S,iconColor:t,iconColorSuccess:n,iconColorInfo:a,iconColorWarning:o,iconColorError:s,color:l,textColor:t,closeColor:u,closeColorHover:f,closeColorPressed:u,headerTextColor:d,descriptionTextColor:v,actionTextColor:t,boxShadow:x})},notificationDark={name:"Notification",common:commonDark,peers:{Scrollbar:scrollbarDark$1},self:self$f};var notificationDark$1=notificationDark,common={titleFontSize:"18px",backSize:"22px"};function self$e(r){const{textColor1:t,textColor2:n,textColor3:a,fontSize:o,fontWeightStrong:s,primaryColorHover:l,primaryColorPressed:u}=r;return Object.assign(Object.assign({},common),{titleFontWeight:s,fontSize:o,titleTextColor:t,backColor:n,backColorHover:l,backColorPressed:u,subtitleTextColor:a})}const pageHeaderDark={name:"PageHeader",common:commonDark,self:self$e};var commonVars$2={iconSize:"22px"};const self$d=r=>{const{fontSize:t,warningColor:n}=r;return Object.assign(Object.assign({},commonVars$2),{fontSize:t,iconColor:n})},popconfirmDark={name:"Popconfirm",common:commonDark,peers:{Button:buttonDark$1,Popover:popoverDark$1},self:self$d};var popconfirmDark$1=popconfirmDark;const popselect={name:"Popselect",common:commonDark,peers:{Popover:popoverDark$1,InternalSelectMenu:internalSelectMenuDark$1}};var popselectDark=popselect;const self$c=r=>{const{infoColor:t,successColor:n,warningColor:a,errorColor:o,textColor2:s,progressRailColor:l,fontSize:u,fontWeight:f}=r;return{fontSize:u,fontSizeCircle:"28px",fontWeightCircle:f,railColor:l,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:t,iconColorInfo:t,iconColorSuccess:n,iconColorWarning:a,iconColorError:o,textColorCircle:s,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:s,fillColor:t,fillColorInfo:t,fillColorSuccess:n,fillColorWarning:a,fillColorError:o,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},progressDark={name:"Progress",common:commonDark,self(r){const t=self$c(r);return t.textColorLineInner="rgb(0, 0, 0)",t.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",t}};var progressDark$1=progressDark;const rateDark={name:"Rate",common:commonDark,self(r){const{railColor:t}=r;return{itemColor:t,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}};var rateDark$1=rateDark,commonVariables$2={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0};const self$b=r=>{const{textColor2:t,textColor1:n,errorColor:a,successColor:o,infoColor:s,warningColor:l,lineHeight:u,fontWeightStrong:f}=r;return Object.assign(Object.assign({},commonVariables$2),{lineHeight:u,titleFontWeight:f,titleTextColor:n,textColor:t,iconColorError:a,iconColorSuccess:o,iconColorInfo:s,iconColorWarning:l})},resultDark={name:"Result",common:commonDark,self:self$b};var resultDark$1=resultDark,sizeVariables$3={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"};const sliderDark={name:"Slider",common:commonDark,self(r){const t="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:n,modalColor:a,primaryColorSuppl:o,popoverColor:s,textColor2:l,cardColor:u,borderRadius:f,fontSize:d,opacityDisabled:v}=r;return Object.assign(Object.assign({},sizeVariables$3),{fontSize:d,railColor:n,railColorHover:n,fillColor:o,fillColorHover:o,opacityDisabled:v,handleColor:"#FFF",dotColor:u,dotColorModal:a,dotColorPopover:s,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:s,indicatorBoxShadow:t,indicatorTextColor:l,indicatorBorderRadius:f,dotBorder:`2px solid ${n}`,dotBorderActive:`2px solid ${o}`,dotBoxShadow:""})}};var sliderDark$1=sliderDark;const self$a=r=>{const{opacityDisabled:t,heightTiny:n,heightSmall:a,heightMedium:o,heightLarge:s,heightHuge:l,primaryColor:u,fontSize:f}=r;return{fontSize:f,textColor:u,sizeTiny:n,sizeSmall:a,sizeMedium:o,sizeLarge:s,sizeHuge:l,color:u,opacitySpinning:t}},spinDark={name:"Spin",common:commonDark,self:self$a};var spinDark$1=spinDark;const self$9=r=>{const{textColor2:t,textColor3:n,fontSize:a,fontWeight:o}=r;return{labelFontSize:a,labelFontWeight:o,valueFontWeight:o,labelTextColor:n,valuePrefixTextColor:t,valueSuffixTextColor:t,valueTextColor:t}},statisticDark={name:"Statistic",common:commonDark,self:self$9};var statisticDark$1=statisticDark,commonVariables$1={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"};const self$8=r=>{const{fontWeightStrong:t,baseColor:n,textColorDisabled:a,primaryColor:o,errorColor:s,textColor1:l,textColor2:u}=r;return Object.assign(Object.assign({},commonVariables$1),{stepHeaderFontWeight:t,indicatorTextColorProcess:n,indicatorTextColorWait:a,indicatorTextColorFinish:o,indicatorTextColorError:s,indicatorBorderColorProcess:o,indicatorBorderColorWait:a,indicatorBorderColorFinish:o,indicatorBorderColorError:s,indicatorColorProcess:o,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:a,splitorColorWait:a,splitorColorFinish:o,splitorColorError:a,headerTextColorProcess:l,headerTextColorWait:a,headerTextColorFinish:a,headerTextColorError:s,descriptionTextColorProcess:u,descriptionTextColorWait:a,descriptionTextColorFinish:a,descriptionTextColorError:s})},stepsDark={name:"Steps",common:commonDark,self:self$8};var stepsDark$1=stepsDark,commonVars$1={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"};const switchDark={name:"Switch",common:commonDark,self(r){const{primaryColorSuppl:t,opacityDisabled:n,borderRadius:a,primaryColor:o,textColor2:s,baseColor:l}=r,u="rgba(255, 255, 255, .20)";return Object.assign(Object.assign({},commonVars$1),{iconColor:l,textColor:s,loadingColor:t,opacityDisabled:n,railColor:u,railColorActive:t,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:a,railBorderRadiusMedium:a,railBorderRadiusLarge:a,buttonBorderRadiusSmall:a,buttonBorderRadiusMedium:a,buttonBorderRadiusLarge:a,boxShadowFocus:`0 0 8px 0 ${changeColor(o,{alpha:.3})}`})}};var switchDark$1=switchDark;const self$7=r=>{const{primaryColor:t,opacityDisabled:n,borderRadius:a,textColor3:o}=r,s="rgba(0, 0, 0, .14)";return Object.assign(Object.assign({},commonVars$1),{iconColor:o,textColor:"white",loadingColor:t,opacityDisabled:n,railColor:s,railColorActive:t,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:a,railBorderRadiusMedium:a,railBorderRadiusLarge:a,buttonBorderRadiusSmall:a,buttonBorderRadiusMedium:a,buttonBorderRadiusLarge:a,boxShadowFocus:`0 0 0 2px ${changeColor(t,{alpha:.2})}`})},switchLight={name:"Switch",common:commonLight,self:self$7};var switchLight$1=switchLight,sizeVariables$2={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"};const self$6=r=>{const{dividerColor:t,cardColor:n,modalColor:a,popoverColor:o,tableHeaderColor:s,tableColorStriped:l,textColor1:u,textColor2:f,borderRadius:d,fontWeightStrong:v,lineHeight:g,fontSizeSmall:S,fontSizeMedium:x,fontSizeLarge:_}=r;return Object.assign(Object.assign({},sizeVariables$2),{fontSizeSmall:S,fontSizeMedium:x,fontSizeLarge:_,lineHeight:g,borderRadius:d,borderColor:composite(n,t),borderColorModal:composite(a,t),borderColorPopover:composite(o,t),tdColor:n,tdColorModal:a,tdColorPopover:o,tdColorStriped:composite(n,l),tdColorStripedModal:composite(a,l),tdColorStripedPopover:composite(o,l),thColor:composite(n,s),thColorModal:composite(a,s),thColorPopover:composite(o,s),thTextColor:u,tdTextColor:f,thFontWeight:v})},tableDark={name:"Table",common:commonDark,self:self$6};var tableDark$1=tableDark,sizeVariables$1={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabPaddingSmallCard:"6px 10px",tabPaddingMediumCard:"8px 12px",tabPaddingLargeCard:"8px 16px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0"};const self$5=r=>{const{textColor2:t,primaryColor:n,textColorDisabled:a,closeColor:o,closeColorHover:s,closeColorPressed:l,tabColor:u,baseColor:f,dividerColor:d,fontWeight:v,textColor1:g,borderRadius:S,fontSize:x,fontWeightStrong:_}=r;return Object.assign(Object.assign({},sizeVariables$1),{colorSegment:u,tabFontSizeCard:x,tabTextColorLine:g,tabTextColorActiveLine:n,tabTextColorHoverLine:n,tabTextColorDisabledLine:a,tabTextColorSegment:g,tabTextColorActiveSegment:t,tabTextColorHoverSegment:t,tabTextColorDisabledSegment:a,tabTextColorBar:g,tabTextColorActiveBar:n,tabTextColorHoverBar:n,tabTextColorDisabledBar:a,tabTextColorCard:g,tabTextColorHoverCard:g,tabTextColorActiveCard:n,tabTextColorDisabledCard:a,barColor:n,closeColor:o,closeColorHover:s,closeColorPressed:l,tabColor:u,tabColorSegment:f,tabBorderColor:d,tabFontWeightActive:v,tabFontWeight:v,tabBorderRadius:S,paneTextColor:t,fontWeightStrong:_})},tabsDark={name:"Tabs",common:commonDark,self(r){const t=self$5(r),{inputColor:n}=r;return t.colorSegment=n,t.tabColorSegment=n,t}};var tabsDark$1=tabsDark;const self$4=r=>{const{textColor1:t,textColor2:n,fontWeightStrong:a,fontSize:o}=r;return{fontSize:o,titleTextColor:t,textColor:n,titleFontWeight:a}},thingDark={name:"Thing",common:commonDark,self:self$4};var thingDark$1=thingDark,sizeVariables={titleMarginMedium:"0",titleMarginLarge:"-2px 0 0 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"};const timelineDark={name:"Timeline",common:commonDark,self(r){const{textColor3:t,infoColorSuppl:n,errorColorSuppl:a,successColorSuppl:o,warningColorSuppl:s,textColor1:l,textColor2:u,railColor:f,fontWeightStrong:d,fontSize:v}=r;return Object.assign(Object.assign({},sizeVariables),{contentFontSize:v,titleFontWeight:d,circleBorder:`2px solid ${t}`,circleBorderInfo:`2px solid ${n}`,circleBorderError:`2px solid ${a}`,circleBorderSuccess:`2px solid ${o}`,circleBorderWarning:`2px solid ${s}`,iconColor:t,iconColorInfo:n,iconColorError:a,iconColorSuccess:o,iconColorWarning:s,titleTextColor:l,contentTextColor:u,metaTextColor:t,lineColor:f})}};var timelineDark$1=timelineDark,commonVariables={extraFontSize:"12px",width:"440px"};const transferDark={name:"Transfer",common:commonDark,peers:{Checkbox:checkboxDark$1,Scrollbar:scrollbarDark$1,Input:inputDark$1,Empty:emptyDark$1,Button:buttonDark$1},self(r){const{iconColorDisabled:t,iconColor:n,fontWeight:a,fontSizeLarge:o,fontSizeMedium:s,fontSizeSmall:l,heightLarge:u,heightMedium:f,heightSmall:d,borderRadius:v,inputColor:g,tableHeaderColor:S,textColor1:x,textColorDisabled:_,textColor2:C,hoverColor:T}=r;return Object.assign(Object.assign({},commonVariables),{itemHeightSmall:d,itemHeightMedium:f,itemHeightLarge:u,fontSizeSmall:l,fontSizeMedium:s,fontSizeLarge:o,borderRadius:v,borderColor:"#0000",listColor:g,headerColor:S,titleTextColor:x,titleTextColorDisabled:_,extraTextColor:C,filterDividerColor:"#0000",itemTextColor:C,itemTextColorDisabled:_,itemColorPending:T,titleFontWeight:a,iconColor:n,iconColorDisabled:t})}};var transferDark$1=transferDark;const self$3=r=>{const{borderRadiusSmall:t,hoverColor:n,pressedColor:a,primaryColor:o,textColor3:s,textColor2:l,textColorDisabled:u,fontSize:f}=r;return{fontSize:f,nodeBorderRadius:t,nodeColorHover:n,nodeColorPressed:a,nodeColorActive:changeColor(o,{alpha:.1}),arrowColor:s,nodeTextColor:l,nodeTextColorDisabled:u,loadingColor:o,dropMarkColor:o}},treeDark={name:"Tree",common:commonDark,peers:{Checkbox:checkboxDark$1,Scrollbar:scrollbarDark$1,Empty:emptyDark$1},self(r){const{primaryColor:t}=r,n=self$3(r);return n.nodeColorActive=changeColor(t,{alpha:.15}),n}};var treeDark$1=treeDark;const treeSelectDark={name:"TreeSelect",common:commonDark,peers:{Tree:treeDark$1,Empty:emptyDark$1,InternalSelection:internalSelectionDark$1}};var treeSelectDark$1=treeSelectDark,commonVars={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"};const self$2=r=>{const{primaryColor:t,textColor2:n,borderColor:a,lineHeight:o,fontSize:s,borderRadiusSmall:l,dividerColor:u,fontWeightStrong:f,textColor1:d,textColor3:v,infoColor:g,warningColor:S,errorColor:x,successColor:_,codeColor:C}=r;return Object.assign(Object.assign({},commonVars),{aTextColor:t,blockquoteTextColor:n,blockquotePrefixColor:a,blockquoteLineHeight:o,blockquoteFontSize:s,codeBorderRadius:l,liTextColor:n,liLineHeight:o,liFontSize:s,hrColor:u,headerFontWeight:f,headerTextColor:d,pTextColor:n,pTextColor1Depth:d,pTextColor2Depth:n,pTextColor3Depth:v,pLineHeight:o,pFontSize:s,headerBarColor:t,headerBarColorPrimary:t,headerBarColorInfo:g,headerBarColorError:x,headerBarColorWarning:S,headerBarColorSuccess:_,textColor:n,textColor1Depth:d,textColor2Depth:n,textColor3Depth:v,textColorPrimary:t,textColorInfo:g,textColorSuccess:_,textColorWarning:S,textColorError:x,codeTextColor:n,codeColor:C,codeBorder:"1px solid #0000"})},typographyDark={name:"Typography",common:commonDark,self:self$2};var typographyDark$1=typographyDark;const self$1=r=>{const{iconColor:t,primaryColor:n,errorColor:a,textColor2:o,successColor:s,opacityDisabled:l,actionColor:u,borderColor:f,hoverColor:d,lineHeight:v,borderRadius:g,fontSize:S}=r;return{fontSize:S,lineHeight:v,borderRadius:g,draggerColor:u,draggerBorder:`1px dashed ${f}`,draggerBorderHover:`1px dashed ${n}`,itemColorHover:d,itemColorHoverError:changeColor(a,{alpha:.06}),itemTextColor:o,itemTextColorError:a,itemTextColorSuccess:s,itemIconColor:t,itemDisabledOpacity:l,itemBorderImageCardError:`1px solid ${a}`,itemBorderImageCard:`1px solid ${f}`}},uploadDark={name:"Upload",common:commonDark,peers:{Button:buttonDark$1,Progress:progressDark$1},self(r){const{errorColor:t}=r,n=self$1(r);return n.itemColorHoverError=changeColor(t,{alpha:.09}),n}};var uploadDark$1=uploadDark;const watermarkDark={name:"Watermark",common:commonDark,self(r){const{fontFamily:t}=r;return{fontFamily:t}}};var watermarkDark$1=watermarkDark;const imageDark={name:"Image",common:commonDark,peers:{Tooltip:tooltipDark$1},self:r=>{const{textColor2:t}=r;return{toolbarIconColor:t,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}};function parse$1(r){return r==null||typeof r=="string"&&r.trim()===""?null:Number(r)}function isWipValue(r){return r.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(r)||/^\.\d+$/.test(r))}function validator(r){return r==null?!0:!Number.isNaN(r)}function format$1(r){return r==null?"":String(r)}function parseNumber(r){if(r===null)return null;if(typeof r=="number")return r;{const t=Number(r);return Number.isNaN(t)?null:t}}var style$3=c$1([cB("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `)]);const HOLDING_CHANGE_THRESHOLD=800,HOLDING_CHANGE_INTERVAL=100,inputNumberProps=Object.assign(Object.assign({},useTheme.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]});var NInputNumber=defineComponent({name:"InputNumber",props:inputNumberProps,setup(r){const{mergedBorderedRef:t,mergedClsPrefixRef:n,mergedRtlRef:a}=useConfig(r),o=useTheme("InputNumber","-input-number",style$3,inputNumberLight$1,r,n),{localeRef:s}=useLocale("InputNumber"),l=useFormItem(r),{mergedSizeRef:u,mergedDisabledRef:f,mergedStatusRef:d}=l,v=ref(null),g=ref(null),S=ref(null),x=ref(r.defaultValue),_=toRef(r,"value"),C=useMergedState(_,x),T=ref(""),w=se=>{const oe=[r.min,r.max,r.step,se].map(Se=>{const xe=String(Se).split(".")[1];return xe?xe.length:0});return Math.max(...oe)},M=useMemo(()=>{const{placeholder:se}=r;return se!==void 0?se:s.value.placeholder}),D=useMemo(()=>{const se=parseNumber(r.step);return se!==null?se===0?1:Math.abs(se):1}),I=useMemo(()=>{const se=parseNumber(r.min);return se!==null?se:null}),R=useMemo(()=>{const se=parseNumber(r.max);return se!==null?se:null}),$=se=>{const{value:oe}=C;if(se===oe){F();return}const{"onUpdate:value":Se,onUpdateValue:xe,onChange:_e}=r,{nTriggerFormInput:Te,nTriggerFormChange:Ce}=l;_e&&call(_e,se),xe&&call(xe,se),Se&&call(Se,se),x.value=se,Te(),Ce()},N=(se=0,oe=!0,Se=!1)=>{const{value:xe}=T;if(Se&&isWipValue(xe))return!1;const _e=parse$1(xe);if(_e===null)return oe&&$(null),null;if(validator(_e)){const Te=w(_e);let Ce=parseFloat((_e+se).toFixed(Te));if(validator(Ce)){const{value:Ee}=R,{value:Fe}=I;if(Ee!==null&&Ce>Ee){if(!oe||Se)return!1;Ce=Ee}if(Fe!==null&&Ce<Fe){if(!oe||Se)return!1;Ce=Fe}return r.validator&&!r.validator(Ce)?!1:(oe&&$(Ce),Ce)}}return!1},F=()=>{const{value:se}=C;validator(se)?T.value=format$1(se):T.value=String(se)};F();const H=useMemo(()=>N(0,!1)===!1),Y=useMemo(()=>{const{value:se}=C;if(r.validator&&se===null)return!1;const{value:oe}=D;return N(-oe,!1)!==!1}),G=useMemo(()=>{const{value:se}=C;if(r.validator&&se===null)return!1;const{value:oe}=D;return N(+oe,!1)!==!1});function K(se){const{onFocus:oe}=r,{nTriggerFormFocus:Se}=l;oe&&call(oe,se),Se()}function Z(se){var oe,Se;if(se.target===((oe=v.value)===null||oe===void 0?void 0:oe.wrapperElRef))return;const xe=N();if(xe!==!1){const Ce=(Se=v.value)===null||Se===void 0?void 0:Se.inputElRef;Ce&&(Ce.value=String(xe||"")),C.value===xe&&F()}else F();const{onBlur:_e}=r,{nTriggerFormBlur:Te}=l;_e&&call(_e,se),Te()}function J(se){const{onClear:oe}=r;oe&&call(oe,se)}function Q(){const{value:se}=G;if(!se){Le();return}const{value:oe}=C;if(oe===null)r.validator||$(de());else{const{value:Se}=D;N(Se)}}function te(){const{value:se}=Y;if(!se){Qe();return}const{value:oe}=C;if(oe===null)r.validator||$(de());else{const{value:Se}=D;N(-Se)}}const ie=K,ne=Z;function de(){if(r.validator)return null;const{value:se}=I,{value:oe}=R;return se!==null?Math.max(0,se):oe!==null?Math.min(0,oe):0}function ve(se){J(se),$(null)}function pe(se){var oe,Se,xe;!((oe=S.value)===null||oe===void 0)&&oe.$el.contains(se.target)&&se.preventDefault(),!((Se=g.value)===null||Se===void 0)&&Se.$el.contains(se.target)&&se.preventDefault(),(xe=v.value)===null||xe===void 0||xe.activate()}let $e=null,Re=null,Ge=null;function Qe(){Ge&&(window.clearTimeout(Ge),Ge=null),$e&&(window.clearInterval($e),$e=null)}function Le(){Oe&&(window.clearTimeout(Oe),Oe=null),Re&&(window.clearInterval(Re),Re=null)}function We(){Ge=window.setTimeout(()=>{$e=window.setInterval(()=>{te()},HOLDING_CHANGE_INTERVAL)},HOLDING_CHANGE_THRESHOLD),on("mouseup",document,()=>{window.setTimeout(Qe,0)})}let Oe=null;function ke(){Oe=window.setTimeout(()=>{Re=window.setInterval(()=>{Q()},HOLDING_CHANGE_INTERVAL)},HOLDING_CHANGE_THRESHOLD),on("mouseup",document,()=>{window.setTimeout(Le,0)})}const Ye=()=>{Re||Q()},ze=()=>{$e||te()};function qe(se){var oe,Se;if(se.code==="Enter"||se.code==="NumpadEnter"){if(se.target===((oe=v.value)===null||oe===void 0?void 0:oe.wrapperElRef))return;N()!==!1&&((Se=v.value)===null||Se===void 0||Se.deactivate())}else if(se.code==="ArrowUp"){if(r.keyboard.ArrowUp===!1)return;se.preventDefault(),N()!==!1&&Q()}else if(se.code==="ArrowDown"){if(r.keyboard.ArrowDown===!1)return;se.preventDefault(),N()!==!1&&te()}}function ae(se){T.value=se,r.updateValueOnInput&&N(0,!0,!0)}watch(C,()=>{F()});const le={focus:()=>{var se;return(se=v.value)===null||se===void 0?void 0:se.focus()},blur:()=>{var se;return(se=v.value)===null||se===void 0?void 0:se.blur()}},ge=useRtl("InputNumber",a,n);return Object.assign(Object.assign({},le),{rtlEnabled:ge,inputInstRef:v,minusButtonInstRef:g,addButtonInstRef:S,mergedClsPrefix:n,mergedBordered:t,uncontrolledValue:x,mergedValue:C,mergedPlaceholder:M,displayedValueInvalid:H,mergedSize:u,mergedDisabled:f,displayedValue:T,addable:G,minusable:Y,mergedStatus:d,handleFocus:ie,handleBlur:ne,handleClear:ve,handleMouseDown:pe,handleAddClick:Ye,handleMinusClick:ze,handleAddMousedown:ke,handleMinusMousedown:We,handleKeyDown:qe,handleUpdateDisplayedValue:ae,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:computed(()=>{const{self:{iconColorDisabled:se}}=o.value,[oe,Se,xe,_e]=rgba(se);return{textColorTextDisabled:`rgb(${oe}, ${Se}, ${xe})`,opacityDisabled:`${_e}`}})})},render(){const{mergedClsPrefix:r,$slots:t}=this;return h("div",{class:[`${r}-input-number`,this.rtlEnabled&&`${r}-input-number--rtl`]},h(NInput,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var n;return(n=t.prefix)===null||n===void 0?void 0:n.call(t)},suffix:()=>{var n;return this.showButton?[t.suffix&&h("span",{class:`${r}-input-number-suffix`},{default:t.suffix}),h(XButton,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>resolveSlot(t["minus-icon"],()=>[h(NBaseIcon,{clsPrefix:r},{default:()=>h(RemoveIcon,null)})])}),h(XButton,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>resolveSlot(t["add-icon"],()=>[h(NBaseIcon,{clsPrefix:r},{default:()=>h(AddIcon,null)})])})]:(n=t.suffix)===null||n===void 0?void 0:n.call(t)}}))}});const messageProps={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},messageApiInjectionKey="n-message-api",messageProviderInjectionKey="n-message-provider";var style$2=c$1([cB("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[fadeInHeightExpand({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),cB("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[cE("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),cE("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(r=>cM(`${r}-type`,[c$1("> *",`
 color: var(--n-icon-color-${r});
 transition: color .3s var(--n-bezier);
 `)])),c$1("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[createIconSwitchTransition()])]),cE("close",`
 font-size: var(--n-close-size);
 margin: var(--n-close-margin);
 transition: color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[c$1("&:hover",`
 color: var(--n-close-color-hover);
 `),c$1("&:active",`
 color: var(--n-close-color-pressed);
 `)])]),cB("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[cM("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),cM("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),cM("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),cM("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),cM("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),cM("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]);const iconRenderMap={info:()=>h(InfoIcon,null),success:()=>h(SuccessIcon,null),warning:()=>h(WarningIcon,null),error:()=>h(ErrorIcon,null),default:()=>null};var NMessage=defineComponent({name:"Message",props:Object.assign(Object.assign({},messageProps),{render:Function}),setup(r){const{inlineThemeDisabled:t}=useConfig(),{props:n,mergedClsPrefixRef:a}=inject(messageProviderInjectionKey),o=useTheme("Message","-message",style$2,messageLight$1,n,a),s=computed(()=>{const{type:u}=r,{common:{cubicBezierEaseInOut:f},self:{padding:d,margin:v,maxWidth:g,iconMargin:S,closeMargin:x,closeSize:_,iconSize:C,fontSize:T,lineHeight:w,borderRadius:M,iconColorInfo:D,iconColorSuccess:I,iconColorWarning:R,iconColorError:$,iconColorLoading:N,[createKey("textColor",u)]:F,[createKey("boxShadow",u)]:H,[createKey("color",u)]:Y,[createKey("closeColor",u)]:G,[createKey("closeColorPressed",u)]:K,[createKey("closeColorHover",u)]:Z}}=o.value;return{"--n-bezier":f,"--n-margin":v,"--n-padding":d,"--n-max-width":g,"--n-font-size":T,"--n-icon-margin":S,"--n-icon-size":C,"--n-close-size":_,"--n-close-margin":x,"--n-text-color":F,"--n-color":Y,"--n-box-shadow":H,"--n-icon-color-info":D,"--n-icon-color-success":I,"--n-icon-color-warning":R,"--n-icon-color-error":$,"--n-icon-color-loading":N,"--n-close-color":G,"--n-close-color-pressed":K,"--n-close-color-hover":Z,"--n-line-height":w,"--n-border-radius":M}}),l=t?useThemeClass("message",computed(()=>r.type[0]),s,{}):void 0;return{mergedClsPrefix:a,messageProviderProps:n,handleClose(){var u;(u=r.onClose)===null||u===void 0||u.call(r)},cssVars:t?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender,placement:n.placement}},render(){const{render:r,type:t,closable:n,content:a,mergedClsPrefix:o,cssVars:s,themeClass:l,onRender:u,icon:f,handleClose:d,showIcon:v}=this;u==null||u();let g;return h("div",{class:[`${o}-message-wrapper`,l],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},s]},r?r(this.$props):h("div",{class:`${o}-message ${o}-message--${t}-type`},(g=createIconVNode(f,t,o))&&v?h("div",{class:`${o}-message__icon ${o}-message__icon--${t}-type`},h(NIconSwitchTransition,null,{default:()=>g})):null,h("div",{class:`${o}-message__content`},render$2(a)),n?h(NBaseClose,{clsPrefix:o,class:`${o}-message__close`,onClick:d}):null))}});function createIconVNode(r,t,n){if(typeof r=="function")return r();{const a=t==="loading"?h(NBaseLoading,{clsPrefix:n,strokeWidth:24,scale:.85}):iconRenderMap[t]();return a?h(NBaseIcon,{clsPrefix:n,key:t},{default:()=>a}):null}}var MessageEnvironment=defineComponent({name:"MessageEnvironment",props:Object.assign(Object.assign({},messageProps),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(r){let t=null;const n=ref(!0);onMounted(()=>{a()});function a(){const{duration:v}=r;v&&(t=window.setTimeout(l,v))}function o(v){v.currentTarget===v.target&&t!==null&&(window.clearTimeout(t),t=null)}function s(v){v.currentTarget===v.target&&a()}function l(){const{onHide:v}=r;n.value=!1,t&&(window.clearTimeout(t),t=null),v&&v()}function u(){const{onClose:v}=r;v&&v(),l()}function f(){const{onAfterLeave:v,onInternalAfterLeave:g,onAfterHide:S,internalKey:x}=r;v&&v(),g&&g(x),S&&S()}function d(){l()}return{show:n,hide:l,handleClose:u,handleAfterLeave:f,handleMouseleave:s,handleMouseenter:o,deactivate:d}},render(){return h(NFadeInExpandTransition,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?h(NMessage,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}});const messageProviderProps=Object.assign(Object.assign({},useTheme.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]});var NMessageProvider=defineComponent({name:"MessageProvider",props:messageProviderProps,setup(r){const{mergedClsPrefixRef:t}=useConfig(r),n=ref([]),a=ref({}),o={create(f,d){return s(f,Object.assign({type:"default"},d))},info(f,d){return s(f,Object.assign(Object.assign({},d),{type:"info"}))},success(f,d){return s(f,Object.assign(Object.assign({},d),{type:"success"}))},warning(f,d){return s(f,Object.assign(Object.assign({},d),{type:"warning"}))},error(f,d){return s(f,Object.assign(Object.assign({},d),{type:"error"}))},loading(f,d){return s(f,Object.assign(Object.assign({},d),{type:"loading"}))},destroyAll:u};provide(messageProviderInjectionKey,{props:r,mergedClsPrefixRef:t}),provide(messageApiInjectionKey,o);function s(f,d){const v=createId(),g=reactive(Object.assign(Object.assign({},d),{content:f,key:v,destroy:()=>{a.value[v].hide()}})),{max:S}=r;return S&&n.value.length>=S&&n.value.shift(),n.value.push(g),g}function l(f){n.value.splice(n.value.findIndex(d=>d.key===f),1),delete a.value[f]}function u(){Object.values(a.value).forEach(f=>{f.hide()})}return Object.assign({mergedClsPrefix:t,messageRefs:a,messageList:n,handleAfterLeave:l},o)},render(){var r,t,n;return h(Fragment,null,(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r),this.messageList.length?h(Teleport,{to:(n=this.to)!==null&&n!==void 0?n:"body"},h("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map(a=>h(MessageEnvironment,Object.assign({ref:o=>{o&&(this.messageRefs[a.key]=o)},internalKey:a.key,onInternalAfterLeave:this.handleAfterLeave},omit(a,["destroy"],void 0),{duration:a.duration===void 0?this.duration:a.duration,keepAliveOnHover:a.keepAliveOnHover===void 0?this.keepAliveOnHover:a.keepAliveOnHover,closable:a.closable===void 0?this.closable:a.closable}))))):null)}});function useMessage(){const r=inject(messageApiInjectionKey,null);return r===null&&throwError$1("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),r}const skeletonDark={name:"Skeleton",common:commonDark,self(r){const{heightSmall:t,heightMedium:n,heightLarge:a,borderRadius:o}=r;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:o,heightSmall:t,heightMedium:n,heightLarge:a}}};var style$1=cB("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[cE("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),cE("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),cE("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),cB("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[createIconSwitchTransition({originalTransform:"translateX(-50%) translateY(-50%)"})]),cE("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),cE("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),cE("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),c$1("&:focus",[cE("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),cM("round",[cE("rail",{borderRadius:"calc(var(--n-rail-height) / 2)"},[cE("button",{borderRadius:"calc(var(--n-button-height) / 2)"})])]),cNotM("disabled",[cNotM("icon",[cM("pressed",[cE("rail",[cE("button",{maxWidth:"var(--n-button-width-pressed)"})])]),cE("rail",[c$1("&:active",[cE("button",{maxWidth:"var(--n-button-width-pressed)"})])]),cM("active",[cM("pressed",[cE("rail",[cE("button",{left:"calc(100% - var(--n-offset) - var(--n-button-width-pressed))"})])]),cE("rail",[c$1("&:active",[cE("button",{left:"calc(100% - var(--n-offset) - var(--n-button-width-pressed))"})])])])])]),cM("active",[cE("rail",[cE("button",{left:"calc(100% - (var(--n-rail-height) + var(--n-button-width)) / 2)"})])]),cE("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[cE("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[createIconSwitchTransition()]),cE("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-width);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),cM("active",[cE("rail","background-color: var(--n-rail-color-active);")]),cM("disabled",[cE("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)]),cM("loading",[cE("rail",`
 pointer-events: none;
 `)])]);const switchProps=Object.assign(Object.assign({},useTheme.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,onChange:[Function,Array]});var NSwitch=defineComponent({name:"Switch",props:switchProps,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=useConfig(r),a=useTheme("Switch","-switch",style$1,switchLight$1,r,t),o=useFormItem(r),{mergedSizeRef:s,mergedDisabledRef:l}=o,u=ref(r.defaultValue),f=toRef(r,"value"),d=useMergedState(f,u),v=computed(()=>d.value===r.checkedValue),g=ref(!1),S=ref(!1),x=computed(()=>{const{railStyle:F}=r;if(!!F)return F({focused:S.value,checked:v.value})});function _(F){const{"onUpdate:value":H,onChange:Y,onUpdateValue:G}=r,{nTriggerFormInput:K,nTriggerFormChange:Z}=o;H&&call(H,F),G&&call(G,F),Y&&call(Y,F),u.value=F,K(),Z()}function C(){const{nTriggerFormFocus:F}=o;F()}function T(){const{nTriggerFormBlur:F}=o;F()}function w(){r.loading||l.value||(d.value!==r.checkedValue?_(r.checkedValue):_(r.uncheckedValue))}function M(){S.value=!0,C()}function D(){S.value=!1,T(),g.value=!1}function I(F){r.loading||l.value||F.code==="Space"&&(d.value!==r.checkedValue?_(r.checkedValue):_(r.uncheckedValue),g.value=!1)}function R(F){r.loading||l.value||F.code==="Space"&&(F.preventDefault(),g.value=!0)}const $=computed(()=>{const{value:F}=s,{self:{opacityDisabled:H,railColor:Y,railColorActive:G,buttonBoxShadow:K,buttonColor:Z,boxShadowFocus:J,loadingColor:Q,textColor:te,iconColor:ie,[createKey("buttonHeight",F)]:ne,[createKey("buttonWidth",F)]:de,[createKey("buttonWidthPressed",F)]:ve,[createKey("railHeight",F)]:pe,[createKey("railWidth",F)]:$e,[createKey("railBorderRadius",F)]:Re,[createKey("buttonBorderRadius",F)]:Ge},common:{cubicBezierEaseInOut:Qe}}=a.value,Le=pxfy((depx(pe)-depx(ne))/2),We=pxfy(Math.max(depx(pe),depx(ne))),Oe=depx(pe)>depx(ne)?$e:pxfy(depx($e)+depx(ne)-depx(pe));return{"--n-bezier":Qe,"--n-button-border-radius":Ge,"--n-button-box-shadow":K,"--n-button-color":Z,"--n-button-width":de,"--n-button-width-pressed":ve,"--n-button-height":ne,"--n-height":We,"--n-offset":Le,"--n-opacity-disabled":H,"--n-rail-border-radius":Re,"--n-rail-color":Y,"--n-rail-color-active":G,"--n-rail-height":pe,"--n-rail-width":$e,"--n-width":Oe,"--n-box-shadow-focus":J,"--n-loading-color":Q,"--n-text-color":te,"--n-icon-color":ie}}),N=n?useThemeClass("switch",computed(()=>s.value[0]),$,r):void 0;return{handleClick:w,handleBlur:D,handleFocus:M,handleKeyup:I,handleKeydown:R,mergedRailStyle:x,pressed:g,mergedClsPrefix:t,mergedValue:d,checked:v,mergedDisabled:l,cssVars:n?void 0:$,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender}},render(){const{mergedClsPrefix:r,mergedDisabled:t,checked:n,mergedRailStyle:a,onRender:o,$slots:s}=this;o==null||o();const{checked:l,unchecked:u,icon:f,"checked-icon":d,"unchecked-icon":v}=s,g=!(isSlotEmpty(f)&&isSlotEmpty(d)&&isSlotEmpty(v));return h("div",{role:"switch","aria-checked":n,class:[`${r}-switch`,this.themeClass,g&&`${r}-switch--icon`,n&&`${r}-switch--active`,t&&`${r}-switch--disabled`,this.round&&`${r}-switch--round`,this.loading&&`${r}-switch--loading`,this.pressed&&`${r}-switch--pressed`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},h("div",{class:`${r}-switch__rail`,"aria-hidden":"true",style:a},resolveWrappedSlot(l,S=>resolveWrappedSlot(u,x=>S||x?h("div",{"aria-hidden":!0,class:`${r}-switch__children-placeholder`},h("div",{class:`${r}-switch__rail-placeholder`},h("div",{class:`${r}-switch__button-placeholder`}),S),h("div",{class:`${r}-switch__rail-placeholder`},h("div",{class:`${r}-switch__button-placeholder`}),x)):null)),h("div",{class:`${r}-switch__button`},resolveWrappedSlot(f,S=>resolveWrappedSlot(d,x=>resolveWrappedSlot(v,_=>h(NIconSwitchTransition,null,{default:()=>this.loading?h(NBaseLoading,{key:"loading",clsPrefix:r,strokeWidth:20}):this.checked&&(x||S)?h("div",{class:`${r}-switch__button-icon`,key:x?"checked-icon":"icon"},x||S):!this.checked&&(_||S)?h("div",{class:`${r}-switch__button-icon`,key:_?"unchecked-icon":"icon"},_||S):null})))),resolveWrappedSlot(l,S=>S&&h("div",{key:"checked",class:`${r}-switch__checked`},S)),resolveWrappedSlot(u,S=>S&&h("div",{key:"unchecked",class:`${r}-switch__unchecked`},S)))))}}),commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const darkTheme$1={name:"dark",common:commonDark,Alert:alertDark$1,Anchor:anchorDark$1,AutoComplete:autoCompleteDark$1,Avatar:avatarDark$1,AvatarGroup:avatarGroupDark$1,BackTop:backTopDark$1,Badge:badgeDark$1,Breadcrumb:breadcrumbDark$1,Button:buttonDark$1,ButtonGroup:buttonGroupDark$1,Calendar:calendarDark$1,Card:cardDark$1,Carousel:carouselDark$1,Cascader:cascaderDark$1,Checkbox:checkboxDark$1,Code:codeDark$1,Collapse:collapseDark$1,CollapseTransition:collapseTransitionDark$1,ColorPicker:colorPickerDark$1,DataTable:dataTableDark$1,DatePicker:datePickerDark$1,Descriptions:descriptionsDark$1,Dialog:dialogDark$1,Divider:dividerDark$1,Drawer:drawerDark$1,Dropdown:dropdownDark$1,DynamicInput:dynamicInputDark$1,DynamicTags:dynamicTagsDark$1,Element:elementDark$1,Empty:emptyDark$1,Ellipsis:ellipsisDark$1,Form:formDark,GradientText:gradientTextDark$1,Icon:iconDark$2,IconWrapper:iconWrapperDark,Image:imageDark,Input:inputDark$1,InputNumber:inputNumberDark$1,Layout:layoutDark$1,List:listDark$2,LoadingBar:loadingBarDark$1,Log:logDark$1,Menu:menuDark$1,Mention:mentionDark,Message:messageDark$1,Modal:modalDark$1,Notification:notificationDark$1,PageHeader:pageHeaderDark,Pagination:paginationDark$1,Popconfirm:popconfirmDark$1,Popover:popoverDark$1,Popselect:popselectDark,Progress:progressDark$1,Radio:radioDark$1,Rate:rateDark$1,Result:resultDark$1,Scrollbar:scrollbarDark$1,Select:selectDark$1,Skeleton:skeletonDark,Slider:sliderDark$1,Space:spaceDark$1,Spin:spinDark$1,Statistic:statisticDark$1,Steps:stepsDark$1,Switch:switchDark$1,Table:tableDark$1,Tabs:tabsDark$1,Tag:tagDark$1,Thing:thingDark$1,TimePicker:timePickerDark$1,Timeline:timelineDark$1,Tooltip:tooltipDark$1,Transfer:transferDark$1,Tree:treeDark$1,TreeSelect:treeSelectDark$1,Typography:typographyDark$1,Upload:uploadDark$1,Watermark:watermarkDark$1},LOCAL_STORAGE_DARKMODE_KEY="darkMode";function init$3(){return localStorage.getItem(LOCAL_STORAGE_DARKMODE_KEY)?ref(localStorage.getItem(LOCAL_STORAGE_DARKMODE_KEY)==="true"):(localStorage.setItem(LOCAL_STORAGE_DARKMODE_KEY,"false"),ref(!1))}const darkMode=init$3();function toggleDarkMode(){darkMode.value=!darkMode.value,localStorage.setItem(LOCAL_STORAGE_DARKMODE_KEY,darkMode.value.toString())}const color=computed(()=>darkMode.value?"#E5E7EB":"#000"),backgroundColor$1=computed(()=>darkMode.value?"#222":"#fff");watch(darkMode,()=>{document.documentElement.style.colorScheme=darkMode.value?"dark":"light"},{immediate:!0});function useDarkMode(){return{darkMode,toggleDarkMode,color,backgroundColor:backgroundColor$1}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(r,t){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},extendStatics$1(r,t)};function __extends$1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics$1(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Browser=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),Env=function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?env.worker=!0:typeof navigator=="undefined"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,t){var n=t.browser,a=r.match(/Firefox\/([\d.]+)/),o=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),s=r.match(/Edge?\/([\d.]+)/),l=/micromessenger/i.test(r);a&&(n.firefox=!0,n.version=a[1]),o&&(n.ie=!0,n.version=o[1]),s&&(n.edge=!0,n.version=s[1],n.newEdge=+s[1].split(".")[0]>18),l&&(n.weChat=!0),t.svgSupported=typeof SVGRect!="undefined",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document!="undefined";var u=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in u||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in u)&&!("OTransition"in u),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var env$1=env,DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var t={};if(typeof JSON=="undefined")return t;for(var n=0;n<r.length;n++){var a=String.fromCharCode(n+32),o=(r.charCodeAt(n)-OFFSET)/SCALE;t[a]=o}return t}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var r,t;return function(n,a){if(!r){var o=platformApi.createCanvas();r=o&&o.getContext("2d")}if(r)return t!==a&&(t=r.font=a||DEFAULT_FONT),r.measureText(n);n=n||"",a=a||DEFAULT_FONT;var s=/^([0-9]*?)px$/.exec(a),l=+(s&&s[1])||DEFAULT_FONT_SIZE,u=0;if(a.indexOf("mono")>=0)u=l*n.length;else for(var f=0;f<n.length;f++){var d=DEFAULT_TEXT_WIDTH_MAP[n[f]];u+=d==null?l:d*l}return{width:u}}}(),loadImage:function(r,t,n){var a=new Image;return a.onload=t,a.onerror=n,a.src=r,a}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console!="undefined"&&console.error.apply(console,r)}function clone$4(r){if(r==null||typeof r!="object")return r;var t=r,n=objToString.call(r);if(n==="[object Array]"){if(!isPrimitive(r)){t=[];for(var a=0,o=r.length;a<o;a++)t[a]=clone$4(r[a])}}else if(TYPED_ARRAY[n]){if(!isPrimitive(r)){var s=r.constructor;if(s.from)t=s.from(r);else{t=new s(r.length);for(var a=0,o=r.length;a<o;a++)t[a]=r[a]}}}else if(!BUILTIN_OBJECT[n]&&!isPrimitive(r)&&!isDom(r)){t={};for(var l in r)r.hasOwnProperty(l)&&l!==protoKey&&(t[l]=clone$4(r[l]))}return t}function merge(r,t,n){if(!isObject$4(t)||!isObject$4(r))return n?clone$4(t):r;for(var a in t)if(t.hasOwnProperty(a)&&a!==protoKey){var o=r[a],s=t[a];isObject$4(s)&&isObject$4(o)&&!isArray$1(s)&&!isArray$1(o)&&!isDom(s)&&!isDom(o)&&!isBuiltInObject(s)&&!isBuiltInObject(o)&&!isPrimitive(s)&&!isPrimitive(o)?merge(o,s,n):(n||!(a in r))&&(r[a]=clone$4(t[a]))}return r}function mergeAll(r,t){for(var n=r[0],a=1,o=r.length;a<o;a++)n=merge(n,r[a],t);return n}function extend(r,t){if(Object.assign)Object.assign(r,t);else for(var n in t)t.hasOwnProperty(n)&&n!==protoKey&&(r[n]=t[n]);return r}function defaults(r,t,n){for(var a=keys(t),o=0;o<a.length;o++){var s=a[o];(n?t[s]!=null:r[s]==null)&&(r[s]=t[s])}return r}platformApi.createCanvas;function indexOf(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var n=0,a=r.length;n<a;n++)if(r[n]===t)return n}return-1}function inherits(r,t){var n=r.prototype;function a(){}a.prototype=t.prototype,r.prototype=new a;for(var o in n)n.hasOwnProperty(o)&&(r.prototype[o]=n[o]);r.prototype.constructor=r,r.superClass=t}function mixin(r,t,n){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var a=Object.getOwnPropertyNames(t),o=0;o<a.length;o++){var s=a[o];s!=="constructor"&&(n?t[s]!=null:r[s]==null)&&(r[s]=t[s])}else defaults(r,t,n)}function isArrayLike(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each$f(r,t,n){if(!!(r&&t))if(r.forEach&&r.forEach===nativeForEach)r.forEach(t,n);else if(r.length===+r.length)for(var a=0,o=r.length;a<o;a++)t.call(n,r[a],a,r);else for(var s in r)r.hasOwnProperty(s)&&t.call(n,r[s],s,r)}function map$1(r,t,n){if(!r)return[];if(!t)return slice(r);if(r.map&&r.map===nativeMap)return r.map(t,n);for(var a=[],o=0,s=r.length;o<s;o++)a.push(t.call(n,r[o],o,r));return a}function reduce(r,t,n,a){if(!!(r&&t)){for(var o=0,s=r.length;o<s;o++)n=t.call(a,n,r[o],o,r);return n}}function filter(r,t,n){if(!r)return[];if(!t)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(t,n);for(var a=[],o=0,s=r.length;o<s;o++)t.call(n,r[o],o,r)&&a.push(r[o]);return a}function find(r,t,n){if(!!(r&&t)){for(var a=0,o=r.length;a<o;a++)if(t.call(n,r[a],a,r))return r[a]}}function keys(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var n in r)r.hasOwnProperty(n)&&t.push(n);return t}function bindPolyfill(r,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return function(){return r.apply(t,n.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return r.apply(this,t.concat(nativeSlice.call(arguments)))}}function isArray$1(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction(r){return typeof r=="function"}function isString(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber(r){return typeof r=="number"}function isObject$4(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isImagePatternObject(r){return r.image!=null}function isRegExp(r){return objToString.call(r)==="[object RegExp]"}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var n=0,a=r.length;n<a;n++)if(r[n]!=null)return r[n]}function retrieve2(r,t){return r!=null?r:t}function retrieve3(r,t,n){return r!=null?r:t!=null?t:n}function slice(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return nativeSlice.apply(r,t)}function normalizeCssArray$1(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,t){if(!r)throw new Error(t)}function trim$1(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var HashMap=function(){function r(t){this.data={};var n=isArray$1(t);this.data={};var a=this;t instanceof r?t.each(o):t&&each$f(t,o);function o(s,l){n?a.set(s,l):a.set(l,s)}}return r.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},r.prototype.set=function(t,n){return this.data[t]=n},r.prototype.each=function(t,n){for(var a in this.data)this.data.hasOwnProperty(a)&&t.call(n,this.data[a],a)},r.prototype.keys=function(){return keys(this.data)},r.prototype.removeKey=function(t){delete this.data[t]},r}();function createHashMap(r){return new HashMap(r)}function concatArray(r,t){for(var n=new r.constructor(r.length+t.length),a=0;a<r.length;a++)n[a]=r[a];for(var o=r.length,a=0;a<t.length;a++)n[a+o]=t[a];return n}function createObject(r,t){var n;if(Object.create)n=Object.create(r);else{var a=function(){};a.prototype=r,n=new a}return t&&extend(n,t),n}function disableUserSelect(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function hasOwn(r,t){return r.hasOwnProperty(t)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},extendStatics(r,t)};function __extends(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function create$2(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function copy$1(r,t){return r[0]=t[0],r[1]=t[1],r}function clone$3(r){return[r[0],r[1]]}function set$1(r,t,n){return r[0]=t,r[1]=n,r}function add(r,t,n){return r[0]=t[0]+n[0],r[1]=t[1]+n[1],r}function scaleAndAdd$1(r,t,n,a){return r[0]=t[0]+n[0]*a,r[1]=t[1]+n[1]*a,r}function sub(r,t,n){return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r}function len(r){return Math.sqrt(lenSquare(r))}function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}function scale$2(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r}function normalize$3(r,t){var n=len(t);return n===0?(r[0]=0,r[1]=0):(r[0]=t[0]/n,r[1]=t[1]/n),r}function distance(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var dist$1=distance;function distanceSquare(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var distSquare=distanceSquare;function lerp$1(r,t,n,a){return r[0]=t[0]+a*(n[0]-t[0]),r[1]=t[1]+a*(n[1]-t[1]),r}function applyTransform$1(r,t,n){var a=t[0],o=t[1];return r[0]=n[0]*a+n[2]*o+n[4],r[1]=n[1]*a+n[3]*o+n[5],r}function min$1(r,t,n){return r[0]=Math.min(t[0],n[0]),r[1]=Math.min(t[1],n[1]),r}function max$1(r,t,n){return r[0]=Math.max(t[0],n[0]),r[1]=Math.max(t[1],n[1]),r}var Param=function(){function r(t,n){this.target=t,this.topTarget=n&&n.topTarget}return r}(),Draggable=function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Param(n,t),"dragstart",t.event))},r.prototype._drag=function(t){var n=this._draggingTarget;if(n){var a=t.offsetX,o=t.offsetY,s=a-this._x,l=o-this._y;this._x=a,this._y=o,n.drift(s,l,t),this.handler.dispatchToElement(new Param(n,t),"drag",t.event);var u=this.handler.findHover(a,o,n).target,f=this._dropTarget;this._dropTarget=u,n!==u&&(f&&u!==f&&this.handler.dispatchToElement(new Param(f,t),"dragleave",t.event),u&&u!==f&&this.handler.dispatchToElement(new Param(u,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Param(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r}(),Draggable$1=Draggable,Eventful=function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,n,a,o){this._$handlers||(this._$handlers={});var s=this._$handlers;if(typeof n=="function"&&(o=a,a=n,n=null),!a||!t)return this;var l=this._$eventProcessor;n!=null&&l&&l.normalizeQuery&&(n=l.normalizeQuery(n)),s[t]||(s[t]=[]);for(var u=0;u<s[t].length;u++)if(s[t][u].h===a)return this;var f={h:a,query:n,ctx:o||this,callAtLast:a.zrEventfulCallAtLast},d=s[t].length-1,v=s[t][d];return v&&v.callAtLast?s[t].splice(d,0,f):s[t].push(f),this},r.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},r.prototype.off=function(t,n){var a=this._$handlers;if(!a)return this;if(!t)return this._$handlers={},this;if(n){if(a[t]){for(var o=[],s=0,l=a[t].length;s<l;s++)a[t][s].h!==n&&o.push(a[t][s]);a[t]=o}a[t]&&a[t].length===0&&delete a[t]}else delete a[t];return this},r.prototype.trigger=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(!this._$handlers)return this;var o=this._$handlers[t],s=this._$eventProcessor;if(o)for(var l=n.length,u=o.length,f=0;f<u;f++){var d=o[f];if(!(s&&s.filter&&d.query!=null&&!s.filter(t,d.query)))switch(l){case 0:d.h.call(d.ctx);break;case 1:d.h.call(d.ctx,n[0]);break;case 2:d.h.call(d.ctx,n[0],n[1]);break;default:d.h.apply(d.ctx,n);break}}return s&&s.afterTrigger&&s.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(!this._$handlers)return this;var o=this._$handlers[t],s=this._$eventProcessor;if(o)for(var l=n.length,u=n[l-1],f=o.length,d=0;d<f;d++){var v=o[d];if(!(s&&s.filter&&v.query!=null&&!s.filter(t,v.query)))switch(l){case 0:v.h.call(u);break;case 1:v.h.call(u,n[0]);break;case 2:v.h.call(u,n[0],n[1]);break;default:v.h.apply(u,n.slice(1,l-1));break}}return s&&s.afterTrigger&&s.afterTrigger(t),this},r}(),Eventful$1=Eventful,LN2=Math.log(2);function determinant(r,t,n,a,o,s){var l=a+"-"+o,u=r.length;if(s.hasOwnProperty(l))return s[l];if(t===1){var f=Math.round(Math.log((1<<u)-1&~o)/LN2);return r[n][f]}for(var d=a|1<<n,v=n+1;a&1<<v;)v++;for(var g=0,S=0,x=0;S<u;S++){var _=1<<S;_&o||(g+=(x%2?-1:1)*r[n][S]*determinant(r,t-1,v,d,o|_,s),x++)}return s[l]=g,g}function buildTransformer(r,t){var n=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],a={},o=determinant(n,8,0,0,0,a);if(o!==0){for(var s=[],l=0;l<8;l++)for(var u=0;u<8;u++)s[u]==null&&(s[u]=0),s[u]+=((l+u)%2?-1:1)*determinant(n,7,l===0?1:0,1<<l,1<<u,a)/o*t[l];return function(f,d,v){var g=d*s[6]+v*s[7]+1;f[0]=(d*s[0]+v*s[1]+s[2])/g,f[1]=(d*s[3]+v*s[4]+s[5])/g}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(r,t,n,a,o){return transformCoordWithViewport(_calcOut$1,t,a,o,!0)&&transformCoordWithViewport(r,n,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(r,t,n,a,o){if(t.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(t)){var s=t[EVENT_SAVED_PROP]||(t[EVENT_SAVED_PROP]={}),l=prepareCoordMarkers(t,s),u=preparePointerTransformer(l,s,o);if(u)return u(r,n,a),!0}return!1}function prepareCoordMarkers(r,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var a=["left","right"],o=["top","bottom"],s=0;s<4;s++){var l=document.createElement("div"),u=l.style,f=s%2,d=(s>>1)%2;u.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[f]+":0",o[d]+":0",a[1-f]+":auto",o[1-d]+":auto",""].join("!important;"),r.appendChild(l),n.push(l)}return n}function preparePointerTransformer(r,t,n){for(var a=n?"invTrans":"trans",o=t[a],s=t.srcCoords,l=[],u=[],f=!0,d=0;d<4;d++){var v=r[d].getBoundingClientRect(),g=2*d,S=v.left,x=v.top;l.push(S,x),f=f&&s&&S===s[g]&&x===s[g+1],u.push(r[d].offsetLeft,r[d].offsetTop)}return f&&o?o:(t.srcCoords=l,t[a]=n?buildTransformer(u,l):buildTransformer(l,u))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(r,t,n,a){return n=n||{},a?calculateZrXY(r,t,n):firefoxNotSupportOffsetXY&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):calculateZrXY(r,t,n),n}function calculateZrXY(r,t,n){if(env$1.domSupported&&r.getBoundingClientRect){var a=t.clientX,o=t.clientY;if(isCanvasEl(r)){var s=r.getBoundingClientRect();n.zrX=a-s.left,n.zrY=o-s.top;return}else if(transformCoordWithViewport(_calcOut,r,a,o)){n.zrX=_calcOut[0],n.zrY=_calcOut[1];return}}n.zrX=n.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,t,n){if(t=getNativeEvent(t),t.zrX!=null)return t;var a=t.type,o=a&&a.indexOf("touch")>=0;if(o){var l=a!=="touchend"?t.targetTouches[0]:t.changedTouches[0];l&&clientToLocal(r,l,t,n)}else{clientToLocal(r,t,t,n);var s=getWheelDeltaMayPolyfill(t);t.zrDelta=s?s/120:-(t.detail||0)/3}var u=t.button;return t.which==null&&u!==void 0&&MOUSE_EVENT_REG.test(t.type)&&(t.which=u&1?1:u&2?3:u&4?2:0),t}function getWheelDeltaMayPolyfill(r){var t=r.wheelDelta;if(t)return t;var n=r.deltaX,a=r.deltaY;if(n==null||a==null)return t;var o=Math.abs(a!==0?a:n),s=a>0?-1:a<0?1:n>0?-1:1;return 3*o*s}function addEventListener(r,t,n,a){r.addEventListener(t,n,a)}function removeEventListener(r,t,n,a){r.removeEventListener(t,n,a)}var stop=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(r){return r.which===2||r.which===3}var GestureMgr=function(){function r(){this._track=[]}return r.prototype.recognize=function(t,n,a){return this._doTrack(t,n,a),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,n,a){var o=t.touches;if(!!o){for(var s={points:[],touches:[],target:n,event:t},l=0,u=o.length;l<u;l++){var f=o[l],d=clientToLocal(a,f,{});s.points.push([d.zrX,d.zrY]),s.touches.push(f)}this._track.push(s)}},r.prototype._recognize=function(t){for(var n in recognizers)if(recognizers.hasOwnProperty(n)){var a=recognizers[n](this._track,t);if(a)return a}},r}();function dist(r){var t=r[1][0]-r[0][0],n=r[1][1]-r[0][1];return Math.sqrt(t*t+n*n)}function center$1(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,t){var n=r.length;if(!!n){var a=(r[n-1]||{}).points,o=(r[n-2]||{}).points||a;if(o&&o.length>1&&a&&a.length>1){var s=dist(a)/dist(o);!isFinite(s)&&(s=1),t.pinchScale=s;var l=center$1(a);return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:r[0].target,event:t}}}}},SILENT="silent";function makeEventPacket(r,t,n){return{type:r,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Eventful$1),HoveredResult=function(){function r(t,n){this.x=t,this.y=n}return r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Handler=function(r){__extends(t,r);function t(n,a,o,s){var l=r.call(this)||this;return l._hovered=new HoveredResult(0,0),l.storage=n,l.painter=a,l.painterRoot=s,o=o||new EmptyProxy,l.proxy=null,l.setHandlerProxy(o),l._draggingMgr=new Draggable$1(l),l}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(each$f(handlerNames,function(a){n.on&&n.on(a,this[a],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var a=n.zrX,o=n.zrY,s=isOutsideBoundary(this,a,o),l=this._hovered,u=l.target;u&&!u.__zr&&(l=this.findHover(l.x,l.y),u=l.target);var f=this._hovered=s?new HoveredResult(a,o):this.findHover(a,o),d=f.target,v=this.proxy;v.setCursor&&v.setCursor(d?d.cursor:"default"),u&&d!==u&&this.dispatchToElement(l,"mouseout",n),this.dispatchToElement(f,"mousemove",n),d&&d!==u&&this.dispatchToElement(f,"mouseover",n)},t.prototype.mouseout=function(n){var a=n.zrEventControl;a!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),a!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},t.prototype.dispatch=function(n,a){var o=this[n];o&&o.call(this,a)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var a=this.proxy;a.setCursor&&a.setCursor(n)},t.prototype.dispatchToElement=function(n,a,o){n=n||{};var s=n.target;if(!(s&&s.silent)){for(var l="on"+a,u=makeEventPacket(a,n,o);s&&(s[l]&&(u.cancelBubble=!!s[l].call(s,u)),s.trigger(a,u),s=s.__hostTarget?s.__hostTarget:s.parent,!u.cancelBubble););u.cancelBubble||(this.trigger(a,u),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(f){typeof f[l]=="function"&&f[l].call(f,u),f.trigger&&f.trigger(a,u)}))}},t.prototype.findHover=function(n,a,o){for(var s=this.storage.getDisplayList(),l=new HoveredResult(n,a),u=s.length-1;u>=0;u--){var f=void 0;if(s[u]!==o&&!s[u].ignore&&(f=isHover(s[u],n,a))&&(!l.topTarget&&(l.topTarget=s[u]),f!==SILENT)){l.target=s[u];break}}return l},t.prototype.processGesture=function(n,a){this._gestureMgr||(this._gestureMgr=new GestureMgr);var o=this._gestureMgr;a==="start"&&o.clear();var s=o.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(a==="end"&&o.clear(),s){var l=s.type;n.gestureEvent=l;var u=new HoveredResult;u.target=s.target,this.dispatchToElement(u,l,s.event)}},t}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(t){var n=t.zrX,a=t.zrY,o=isOutsideBoundary(this,n,a),s,l;if((r!=="mouseup"||!o)&&(s=this.findHover(n,a),l=s.target),r==="mousedown")this._downEl=l,this._downPoint=[t.zrX,t.zrY],this._upEl=l;else if(r==="mouseup")this._upEl=l;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(s,r,t)}});function isHover(r,t,n){if(r[r.rectHover?"rectContain":"contain"](t,n)){for(var a=r,o=void 0,s=!1;a;){if(a.ignoreClip&&(s=!0),!s){var l=a.getClipPath();if(l&&!l.contain(t,n))return!1;a.silent&&(o=!0)}var u=a.__hostTarget;a=u||a.parent}return o?SILENT:!0}return!1}function isOutsideBoundary(r,t,n){var a=r.painter;return t<0||t>a.getWidth()||n<0||n>a.getHeight()}var Handler$1=Handler,DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(r){for(var t=0;r>=DEFAULT_MIN_MERGE;)t|=r&1,r>>=1;return r+t}function makeAscendingRun(r,t,n,a){var o=t+1;if(o===n)return 1;if(a(r[o++],r[t])<0){for(;o<n&&a(r[o],r[o-1])<0;)o++;reverseRun(r,t,o)}else for(;o<n&&a(r[o],r[o-1])>=0;)o++;return o-t}function reverseRun(r,t,n){for(n--;t<n;){var a=r[t];r[t++]=r[n],r[n--]=a}}function binaryInsertionSort(r,t,n,a,o){for(a===t&&a++;a<n;a++){for(var s=r[a],l=t,u=a,f;l<u;)f=l+u>>>1,o(s,r[f])<0?u=f:l=f+1;var d=a-l;switch(d){case 3:r[l+3]=r[l+2];case 2:r[l+2]=r[l+1];case 1:r[l+1]=r[l];break;default:for(;d>0;)r[l+d]=r[l+d-1],d--}r[l]=s}}function gallopLeft(r,t,n,a,o,s){var l=0,u=0,f=1;if(s(r,t[n+o])>0){for(u=a-o;f<u&&s(r,t[n+o+f])>0;)l=f,f=(f<<1)+1,f<=0&&(f=u);f>u&&(f=u),l+=o,f+=o}else{for(u=o+1;f<u&&s(r,t[n+o-f])<=0;)l=f,f=(f<<1)+1,f<=0&&(f=u);f>u&&(f=u);var d=l;l=o-f,f=o-d}for(l++;l<f;){var v=l+(f-l>>>1);s(r,t[n+v])>0?l=v+1:f=v}return f}function gallopRight(r,t,n,a,o,s){var l=0,u=0,f=1;if(s(r,t[n+o])<0){for(u=o+1;f<u&&s(r,t[n+o-f])<0;)l=f,f=(f<<1)+1,f<=0&&(f=u);f>u&&(f=u);var d=l;l=o-f,f=o-d}else{for(u=a-o;f<u&&s(r,t[n+o+f])>=0;)l=f,f=(f<<1)+1,f<=0&&(f=u);f>u&&(f=u),l+=o,f+=o}for(l++;l<f;){var v=l+(f-l>>>1);s(r,t[n+v])<0?f=v:l=v+1}return f}function TimSort(r,t){var n=DEFAULT_MIN_GALLOPING,a,o,s=0,l=[];a=[],o=[];function u(x,_){a[s]=x,o[s]=_,s+=1}function f(){for(;s>1;){var x=s-2;if(x>=1&&o[x-1]<=o[x]+o[x+1]||x>=2&&o[x-2]<=o[x]+o[x-1])o[x-1]<o[x+1]&&x--;else if(o[x]>o[x+1])break;v(x)}}function d(){for(;s>1;){var x=s-2;x>0&&o[x-1]<o[x+1]&&x--,v(x)}}function v(x){var _=a[x],C=o[x],T=a[x+1],w=o[x+1];o[x]=C+w,x===s-3&&(a[x+1]=a[x+2],o[x+1]=o[x+2]),s--;var M=gallopRight(r[T],r,_,C,0,t);_+=M,C-=M,C!==0&&(w=gallopLeft(r[_+C-1],r,T,w,w-1,t),w!==0&&(C<=w?g(_,C,T,w):S(_,C,T,w)))}function g(x,_,C,T){var w=0;for(w=0;w<_;w++)l[w]=r[x+w];var M=0,D=C,I=x;if(r[I++]=r[D++],--T===0){for(w=0;w<_;w++)r[I+w]=l[M+w];return}if(_===1){for(w=0;w<T;w++)r[I+w]=r[D+w];r[I+T]=l[M];return}for(var R=n,$,N,F;;){$=0,N=0,F=!1;do if(t(r[D],l[M])<0){if(r[I++]=r[D++],N++,$=0,--T===0){F=!0;break}}else if(r[I++]=l[M++],$++,N=0,--_===1){F=!0;break}while(($|N)<R);if(F)break;do{if($=gallopRight(r[D],l,M,_,0,t),$!==0){for(w=0;w<$;w++)r[I+w]=l[M+w];if(I+=$,M+=$,_-=$,_<=1){F=!0;break}}if(r[I++]=r[D++],--T===0){F=!0;break}if(N=gallopLeft(l[M],r,D,T,0,t),N!==0){for(w=0;w<N;w++)r[I+w]=r[D+w];if(I+=N,D+=N,T-=N,T===0){F=!0;break}}if(r[I++]=l[M++],--_===1){F=!0;break}R--}while($>=DEFAULT_MIN_GALLOPING||N>=DEFAULT_MIN_GALLOPING);if(F)break;R<0&&(R=0),R+=2}if(n=R,n<1&&(n=1),_===1){for(w=0;w<T;w++)r[I+w]=r[D+w];r[I+T]=l[M]}else{if(_===0)throw new Error;for(w=0;w<_;w++)r[I+w]=l[M+w]}}function S(x,_,C,T){var w=0;for(w=0;w<T;w++)l[w]=r[C+w];var M=x+_-1,D=T-1,I=C+T-1,R=0,$=0;if(r[I--]=r[M--],--_===0){for(R=I-(T-1),w=0;w<T;w++)r[R+w]=l[w];return}if(T===1){for(I-=_,M-=_,$=I+1,R=M+1,w=_-1;w>=0;w--)r[$+w]=r[R+w];r[I]=l[D];return}for(var N=n;;){var F=0,H=0,Y=!1;do if(t(l[D],r[M])<0){if(r[I--]=r[M--],F++,H=0,--_===0){Y=!0;break}}else if(r[I--]=l[D--],H++,F=0,--T===1){Y=!0;break}while((F|H)<N);if(Y)break;do{if(F=_-gallopRight(l[D],r,x,_,_-1,t),F!==0){for(I-=F,M-=F,_-=F,$=I+1,R=M+1,w=F-1;w>=0;w--)r[$+w]=r[R+w];if(_===0){Y=!0;break}}if(r[I--]=l[D--],--T===1){Y=!0;break}if(H=T-gallopLeft(r[M],l,0,T,T-1,t),H!==0){for(I-=H,D-=H,T-=H,$=I+1,R=D+1,w=0;w<H;w++)r[$+w]=l[R+w];if(T<=1){Y=!0;break}}if(r[I--]=r[M--],--_===0){Y=!0;break}N--}while(F>=DEFAULT_MIN_GALLOPING||H>=DEFAULT_MIN_GALLOPING);if(Y)break;N<0&&(N=0),N+=2}if(n=N,n<1&&(n=1),T===1){for(I-=_,M-=_,$=I+1,R=M+1,w=_-1;w>=0;w--)r[$+w]=r[R+w];r[I]=l[D]}else{if(T===0)throw new Error;for(R=I-(T-1),w=0;w<T;w++)r[R+w]=l[w]}}return{mergeRuns:f,forceMergeRuns:d,pushRun:u}}function sort$2(r,t,n,a){n||(n=0),a||(a=r.length);var o=a-n;if(!(o<2)){var s=0;if(o<DEFAULT_MIN_MERGE){s=makeAscendingRun(r,n,a,t),binaryInsertionSort(r,n,a,n+s,t);return}var l=TimSort(r,t),u=minRunLength(o);do{if(s=makeAscendingRun(r,n,a,t),s<u){var f=o;f>u&&(f=u),binaryInsertionSort(r,n,n+f,n+s,t),s=f}l.pushRun(n,s),l.mergeRuns(),o-=s,n+=s}while(o!==0);l.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var Storage=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(t,n){for(var a=0;a<this._roots.length;a++)this._roots[a].traverse(t,n)},r.prototype.getDisplayList=function(t,n){n=n||!1;var a=this._displayList;return(t||!a.length)&&this.updateDisplayList(n),a},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,a=this._displayList,o=0,s=n.length;o<s;o++)this._updateAndAddDisplayable(n[o],null,t);a.length=this._displayListLen,sort$2(a,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(t,n,a){if(!(t.ignore&&!a)){t.beforeUpdate(),t.update(),t.afterUpdate();var o=t.getClipPath();if(t.ignoreClip)n=null;else if(o){n?n=n.slice():n=[];for(var s=o,l=t;s;)s.parent=l,s.updateTransform(),n.push(s),l=s,s=s.getClipPath()}if(t.childrenRef){for(var u=t.childrenRef(),f=0;f<u.length;f++){var d=u[f];t.__dirty&&(d.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(d,n,a)}t.__dirty=0}else{var v=t;n&&n.length?v.__clipPaths=n:v.__clipPaths&&v.__clipPaths.length>0&&(v.__clipPaths=[]),isNaN(v.z)&&(logInvalidZError(),v.z=0),isNaN(v.z2)&&(logInvalidZError(),v.z2=0),isNaN(v.zlevel)&&(logInvalidZError(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var g=t.getDecalElement&&t.getDecalElement();g&&this._updateAndAddDisplayable(g,n,a);var S=t.getTextGuideLine();S&&this._updateAndAddDisplayable(S,n,a);var x=t.getTextContent();x&&this._updateAndAddDisplayable(x,n,a)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,a=t.length;n<a;n++)this.delRoot(t[n]);return}var o=indexOf(this._roots,t);o>=0&&this._roots.splice(o,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),Storage$1=Storage,requestAnimationFrame$2;requestAnimationFrame$2=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var requestAnimationFrame$3=requestAnimationFrame$2,easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,n=.1,a=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/a)))},elasticOut:function(r){var t,n=.1,a=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/a)+1)},elasticInOut:function(r){var t,n=.1,a=.4;return r===0?0:r===1?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),(r*=2)<1?-.5*(n*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/a)):n*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/a)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}},easingFuncs$1=easingFuncs,mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(r){return r>-EPSILON$4&&r<EPSILON$4}function isNotAroundZero$1(r){return r>EPSILON$4||r<-EPSILON$4}function cubicAt(r,t,n,a,o){var s=1-o;return s*s*(s*r+3*o*t)+o*o*(o*a+3*s*n)}function cubicDerivativeAt(r,t,n,a,o){var s=1-o;return 3*(((t-r)*s+2*(n-t)*o)*s+(a-n)*o*o)}function cubicRootAt(r,t,n,a,o,s){var l=a+3*(t-n)-r,u=3*(n-t*2+r),f=3*(t-r),d=r-o,v=u*u-3*l*f,g=u*f-9*l*d,S=f*f-3*u*d,x=0;if(isAroundZero$1(v)&&isAroundZero$1(g))if(isAroundZero$1(u))s[0]=0;else{var _=-f/u;_>=0&&_<=1&&(s[x++]=_)}else{var C=g*g-4*v*S;if(isAroundZero$1(C)){var T=g/v,_=-u/l+T,w=-T/2;_>=0&&_<=1&&(s[x++]=_),w>=0&&w<=1&&(s[x++]=w)}else if(C>0){var M=mathSqrt$3(C),D=v*u+1.5*l*(-g+M),I=v*u+1.5*l*(-g-M);D<0?D=-mathPow$2(-D,ONE_THIRD):D=mathPow$2(D,ONE_THIRD),I<0?I=-mathPow$2(-I,ONE_THIRD):I=mathPow$2(I,ONE_THIRD);var _=(-u-(D+I))/(3*l);_>=0&&_<=1&&(s[x++]=_)}else{var R=(2*v*u-3*l*g)/(2*mathSqrt$3(v*v*v)),$=Math.acos(R)/3,N=mathSqrt$3(v),F=Math.cos($),_=(-u-2*N*F)/(3*l),w=(-u+N*(F+THREE_SQRT*Math.sin($)))/(3*l),H=(-u+N*(F-THREE_SQRT*Math.sin($)))/(3*l);_>=0&&_<=1&&(s[x++]=_),w>=0&&w<=1&&(s[x++]=w),H>=0&&H<=1&&(s[x++]=H)}}return x}function cubicExtrema(r,t,n,a,o){var s=6*n-12*t+6*r,l=9*t+3*a-3*r-9*n,u=3*t-3*r,f=0;if(isAroundZero$1(l)){if(isNotAroundZero$1(s)){var d=-u/s;d>=0&&d<=1&&(o[f++]=d)}}else{var v=s*s-4*l*u;if(isAroundZero$1(v))o[0]=-s/(2*l);else if(v>0){var g=mathSqrt$3(v),d=(-s+g)/(2*l),S=(-s-g)/(2*l);d>=0&&d<=1&&(o[f++]=d),S>=0&&S<=1&&(o[f++]=S)}}return f}function cubicSubdivide(r,t,n,a,o,s){var l=(t-r)*o+r,u=(n-t)*o+t,f=(a-n)*o+n,d=(u-l)*o+l,v=(f-u)*o+u,g=(v-d)*o+d;s[0]=r,s[1]=l,s[2]=d,s[3]=g,s[4]=g,s[5]=v,s[6]=f,s[7]=a}function cubicProjectPoint(r,t,n,a,o,s,l,u,f,d,v){var g,S=.005,x=1/0,_,C,T,w;_v0[0]=f,_v0[1]=d;for(var M=0;M<1;M+=.05)_v1[0]=cubicAt(r,n,o,l,M),_v1[1]=cubicAt(t,a,s,u,M),T=distSquare(_v0,_v1),T<x&&(g=M,x=T);x=1/0;for(var D=0;D<32&&!(S<EPSILON_NUMERIC);D++)_=g-S,C=g+S,_v1[0]=cubicAt(r,n,o,l,_),_v1[1]=cubicAt(t,a,s,u,_),T=distSquare(_v1,_v0),_>=0&&T<x?(g=_,x=T):(_v2[0]=cubicAt(r,n,o,l,C),_v2[1]=cubicAt(t,a,s,u,C),w=distSquare(_v2,_v0),C<=1&&w<x?(g=C,x=w):S*=.5);return v&&(v[0]=cubicAt(r,n,o,l,g),v[1]=cubicAt(t,a,s,u,g)),mathSqrt$3(x)}function cubicLength(r,t,n,a,o,s,l,u,f){for(var d=r,v=t,g=0,S=1/f,x=1;x<=f;x++){var _=x*S,C=cubicAt(r,n,o,l,_),T=cubicAt(t,a,s,u,_),w=C-d,M=T-v;g+=Math.sqrt(w*w+M*M),d=C,v=T}return g}function quadraticAt$1(r,t,n,a){var o=1-a;return o*(o*r+2*a*t)+a*a*n}function quadraticDerivativeAt(r,t,n,a){return 2*((1-a)*(t-r)+a*(n-t))}function quadraticRootAt(r,t,n,a,o){var s=r-2*t+n,l=2*(t-r),u=r-a,f=0;if(isAroundZero$1(s)){if(isNotAroundZero$1(l)){var d=-u/l;d>=0&&d<=1&&(o[f++]=d)}}else{var v=l*l-4*s*u;if(isAroundZero$1(v)){var d=-l/(2*s);d>=0&&d<=1&&(o[f++]=d)}else if(v>0){var g=mathSqrt$3(v),d=(-l+g)/(2*s),S=(-l-g)/(2*s);d>=0&&d<=1&&(o[f++]=d),S>=0&&S<=1&&(o[f++]=S)}}return f}function quadraticExtremum(r,t,n){var a=r+n-2*t;return a===0?.5:(r-t)/a}function quadraticSubdivide(r,t,n,a,o){var s=(t-r)*a+r,l=(n-t)*a+t,u=(l-s)*a+s;o[0]=r,o[1]=s,o[2]=u,o[3]=u,o[4]=l,o[5]=n}function quadraticProjectPoint(r,t,n,a,o,s,l,u,f){var d,v=.005,g=1/0;_v0[0]=l,_v0[1]=u;for(var S=0;S<1;S+=.05){_v1[0]=quadraticAt$1(r,n,o,S),_v1[1]=quadraticAt$1(t,a,s,S);var x=distSquare(_v0,_v1);x<g&&(d=S,g=x)}g=1/0;for(var _=0;_<32&&!(v<EPSILON_NUMERIC);_++){var C=d-v,T=d+v;_v1[0]=quadraticAt$1(r,n,o,C),_v1[1]=quadraticAt$1(t,a,s,C);var x=distSquare(_v1,_v0);if(C>=0&&x<g)d=C,g=x;else{_v2[0]=quadraticAt$1(r,n,o,T),_v2[1]=quadraticAt$1(t,a,s,T);var w=distSquare(_v2,_v0);T<=1&&w<g?(d=T,g=w):v*=.5}}return f&&(f[0]=quadraticAt$1(r,n,o,d),f[1]=quadraticAt$1(t,a,s,d)),mathSqrt$3(g)}function quadraticLength(r,t,n,a,o,s,l){for(var u=r,f=t,d=0,v=1/l,g=1;g<=l;g++){var S=g*v,x=quadraticAt$1(r,n,o,S),_=quadraticAt$1(t,a,s,S),C=x-u,T=_-f;d+=Math.sqrt(C*C+T*T),u=x,f=_}return d}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var t=r&&regexp.exec(r);if(t){var n=t[1].split(","),a=+trim$1(n[0]),o=+trim$1(n[1]),s=+trim$1(n[2]),l=+trim$1(n[3]);if(isNaN(a+o+s+l))return;var u=[];return function(f){return f<=0?0:f>=1?1:cubicRootAt(0,a,s,1,f,u)&&cubicAt(0,o,l,1,u[0])}}}var Clip=function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||noop,this.ondestroy=t.ondestroy||noop,this.onrestart=t.onrestart||noop,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var a=this._life,o=t-this._startTime-this._pausedTime,s=o/a;s<0&&(s=0),s=Math.min(s,1);var l=this.easingFunc,u=l?l(s):s;if(this.onframe(u),s===1)if(this.loop){var f=o%a;this._startTime=t-f,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=isFunction(t)?t:easingFuncs$1[t]||createCubicEasingFunc(t)},r}(),Clip$1=Clip,Entry=function(){function r(t){this.value=t}return r}(),LinkedList=function(){function r(){this._len=0}return r.prototype.insert=function(t){var n=new Entry(t);return this.insertEntry(n),n},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var n=t.prev,a=t.next;n?n.next=a:this.head=a,a?a.prev=n:this.tail=n,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),LRU=function(){function r(t){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,n){var a=this._list,o=this._map,s=null;if(o[t]==null){var l=a.len(),u=this._lastRemovedEntry;if(l>=this._maxSize&&l>0){var f=a.head;a.remove(f),delete o[f.key],s=f.value,this._lastRemovedEntry=f}u?u.value=n:u=new Entry(n),u.key=t,a.insertEntry(u),o[t]=u}return s},r.prototype.get=function(t){var n=this._map[t],a=this._list;if(n!=null)return n!==a.tail&&(a.remove(n),a.insertEntry(n)),n.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),LRU$1=LRU,kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssAngle(r){return r=Math.round(r),r<0?0:r>360?360:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?clampCssByte(parseFloat(t)/100*255):clampCssByte(parseInt(t,10))}function parseCssFloat(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?clampCssFloat(parseFloat(t)/100):clampCssFloat(parseFloat(t))}function cssHueToRgb(r,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?r+(t-r)*n*6:n*2<1?t:n*3<2?r+(t-r)*(2/3-n)*6:r}function lerpNumber(r,t,n){return r+(t-r)*n}function setRgba(r,t,n,a,o){return r[0]=t,r[1]=n,r[2]=a,r[3]=o,r}function copyRgba(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(r,t){lastRemovedArr&&copyRgba(lastRemovedArr,t),lastRemovedArr=colorCache.put(r,lastRemovedArr||t.slice())}function parse(r,t){if(!!r){t=t||[];var n=colorCache.get(r);if(n)return copyRgba(t,n);r=r+"";var a=r.replace(/ /g,"").toLowerCase();if(a in kCSSColorTable)return copyRgba(t,kCSSColorTable[a]),putToCache(r,t),t;var o=a.length;if(a.charAt(0)==="#"){if(o===4||o===5){var s=parseInt(a.slice(1,4),16);if(!(s>=0&&s<=4095)){setRgba(t,0,0,0,1);return}return setRgba(t,(s&3840)>>4|(s&3840)>>8,s&240|(s&240)>>4,s&15|(s&15)<<4,o===5?parseInt(a.slice(4),16)/15:1),putToCache(r,t),t}else if(o===7||o===9){var s=parseInt(a.slice(1,7),16);if(!(s>=0&&s<=16777215)){setRgba(t,0,0,0,1);return}return setRgba(t,(s&16711680)>>16,(s&65280)>>8,s&255,o===9?parseInt(a.slice(7),16)/255:1),putToCache(r,t),t}return}var l=a.indexOf("("),u=a.indexOf(")");if(l!==-1&&u+1===o){var f=a.substr(0,l),d=a.substr(l+1,u-(l+1)).split(","),v=1;switch(f){case"rgba":if(d.length!==4)return d.length===3?setRgba(t,+d[0],+d[1],+d[2],1):setRgba(t,0,0,0,1);v=parseCssFloat(d.pop());case"rgb":if(d.length!==3){setRgba(t,0,0,0,1);return}return setRgba(t,parseCssInt(d[0]),parseCssInt(d[1]),parseCssInt(d[2]),v),putToCache(r,t),t;case"hsla":if(d.length!==4){setRgba(t,0,0,0,1);return}return d[3]=parseCssFloat(d[3]),hsla2rgba(d,t),putToCache(r,t),t;case"hsl":if(d.length!==3){setRgba(t,0,0,0,1);return}return hsla2rgba(d,t),putToCache(r,t),t;default:return}}setRgba(t,0,0,0,1)}}function hsla2rgba(r,t){var n=(parseFloat(r[0])%360+360)%360/360,a=parseCssFloat(r[1]),o=parseCssFloat(r[2]),s=o<=.5?o*(a+1):o+a-o*a,l=o*2-s;return t=t||[],setRgba(t,clampCssByte(cssHueToRgb(l,s,n+1/3)*255),clampCssByte(cssHueToRgb(l,s,n)*255),clampCssByte(cssHueToRgb(l,s,n-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function rgba2hsla(r){if(!!r){var t=r[0]/255,n=r[1]/255,a=r[2]/255,o=Math.min(t,n,a),s=Math.max(t,n,a),l=s-o,u=(s+o)/2,f,d;if(l===0)f=0,d=0;else{u<.5?d=l/(s+o):d=l/(2-s-o);var v=((s-t)/6+l/2)/l,g=((s-n)/6+l/2)/l,S=((s-a)/6+l/2)/l;t===s?f=S-g:n===s?f=1/3+v-S:a===s&&(f=2/3+g-v),f<0&&(f+=1),f>1&&(f-=1)}var x=[f*360,d,u];return r[3]!=null&&x.push(r[3]),x}}function lift(r,t){var n=parse(r);if(n){for(var a=0;a<3;a++)t<0?n[a]=n[a]*(1-t)|0:n[a]=(255-n[a])*t+n[a]|0,n[a]>255?n[a]=255:n[a]<0&&(n[a]=0);return stringify(n,n.length===4?"rgba":"rgb")}}function fastLerp(r,t,n){if(!(!(t&&t.length)||!(r>=0&&r<=1))){n=n||[];var a=r*(t.length-1),o=Math.floor(a),s=Math.ceil(a),l=t[o],u=t[s],f=a-o;return n[0]=clampCssByte(lerpNumber(l[0],u[0],f)),n[1]=clampCssByte(lerpNumber(l[1],u[1],f)),n[2]=clampCssByte(lerpNumber(l[2],u[2],f)),n[3]=clampCssFloat(lerpNumber(l[3],u[3],f)),n}}function lerp(r,t,n){if(!(!(t&&t.length)||!(r>=0&&r<=1))){var a=r*(t.length-1),o=Math.floor(a),s=Math.ceil(a),l=parse(t[o]),u=parse(t[s]),f=a-o,d=stringify([clampCssByte(lerpNumber(l[0],u[0],f)),clampCssByte(lerpNumber(l[1],u[1],f)),clampCssByte(lerpNumber(l[2],u[2],f)),clampCssFloat(lerpNumber(l[3],u[3],f))],"rgba");return n?{color:d,leftIndex:o,rightIndex:s,value:a}:d}}function modifyHSL(r,t,n,a){var o=parse(r);if(r)return o=rgba2hsla(o),t!=null&&(o[0]=clampCssAngle(t)),n!=null&&(o[1]=parseCssFloat(n)),a!=null&&(o[2]=parseCssFloat(a)),stringify(hsla2rgba(o),"rgba")}function modifyAlpha(r,t){var n=parse(r);if(n&&t!=null)return n[3]=clampCssFloat(t),stringify(n,"rgba")}function stringify(r,t){if(!(!r||!r.length)){var n=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+r[3]),t+"("+n+")"}}function lum(r,t){var n=parse(r);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var mathRound$1=Math.round;function normalizeColor(r){var t;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var n=parse(r);n&&(r="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}return{color:r,opacity:t==null?1:t}}var EPSILON$3=1e-4;function isAroundZero(r){return r<EPSILON$3&&r>-EPSILON$3}function round3(r){return mathRound$1(r*1e3)/1e3}function round4(r){return mathRound$1(r*1e4)/1e4}function getMatrixStr(r){return"matrix("+round3(r[0])+","+round3(r[1])+","+round3(r[2])+","+round3(r[3])+","+round4(r[4])+","+round4(r[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(r,t,n){return n==="top"?r+=t/2:n==="bottom"&&(r-=t/2),r}function hasShadow(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function getShadowKey(r){var t=r.style,n=r.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function isImagePattern(r){return r&&!!r.image}function isSVGPattern(r){return r&&!!r.svgElement}function isPattern(r){return isImagePattern(r)||isSVGPattern(r)}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}function isGradient(r){return r&&(r.type==="linear"||r.type==="radial")}function getIdURL(r){return"url(#"+r+")"}function getPathPrecision(r){var t=r.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function getSRTTransformString(r){var t=r.x||0,n=r.y||0,a=(r.rotation||0)*RADIAN_TO_DEGREE,o=retrieve2(r.scaleX,1),s=retrieve2(r.scaleY,1),l=r.skewX||0,u=r.skewY||0,f=[];return(t||n)&&f.push("translate("+t+"px,"+n+"px)"),a&&f.push("rotate("+a+")"),(o!==1||s!==1)&&f.push("scale("+o+","+s+")"),(l||u)&&f.push("skew("+mathRound$1(l*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(u*RADIAN_TO_DEGREE)+"deg)"),f.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function(r){return window.btoa(unescape(r))}:typeof Buffer!="undefined"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(r,t,n){return(t-r)*n+r}function interpolate1DArray(r,t,n,a){for(var o=t.length,s=0;s<o;s++)r[s]=interpolateNumber$1(t[s],n[s],a);return r}function interpolate2DArray(r,t,n,a){for(var o=t.length,s=o&&t[0].length,l=0;l<o;l++){r[l]||(r[l]=[]);for(var u=0;u<s;u++)r[l][u]=interpolateNumber$1(t[l][u],n[l][u],a)}return r}function add1DArray(r,t,n,a){for(var o=t.length,s=0;s<o;s++)r[s]=t[s]+n[s]*a;return r}function add2DArray(r,t,n,a){for(var o=t.length,s=o&&t[0].length,l=0;l<o;l++){r[l]||(r[l]=[]);for(var u=0;u<s;u++)r[l][u]=t[l][u]+n[l][u]*a}return r}function fillColorStops(r,t){for(var n=r.length,a=t.length,o=n>a?t:r,s=Math.min(n,a),l=o[s-1]||{color:[0,0,0,0],offset:0},u=s;u<Math.max(n,a);u++)o.push({offset:l.offset,color:l.color.slice()})}function fillArray(r,t,n){var a=r,o=t;if(!(!a.push||!o.push)){var s=a.length,l=o.length;if(s!==l){var u=s>l;if(u)a.length=l;else for(var f=s;f<l;f++)a.push(n===1?o[f]:arraySlice.call(o[f]))}for(var d=a[0]&&a[0].length,f=0;f<a.length;f++)if(n===1)isNaN(a[f])&&(a[f]=o[f]);else for(var v=0;v<d;v++)isNaN(a[f][v])&&(a[f][v]=o[f][v])}}function cloneValue(r){if(isArrayLike(r)){var t=r.length;if(isArrayLike(r[0])){for(var n=[],a=0;a<t;a++)n.push(arraySlice.call(r[a]));return n}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,n,a){this._needsSort=!0;var o=this.keyframes,s=o.length,l=!1,u=VALUE_TYPE_UNKOWN,f=n;if(isArrayLike(n)){var d=guessArrayDim(n);u=d,(d===1&&!isNumber(n[0])||d===2&&!isNumber(n[0][0]))&&(l=!0)}else if(isNumber(n)&&!eqNaN(n))u=VALUE_TYPE_NUMBER;else if(isString(n))if(!isNaN(+n))u=VALUE_TYPE_NUMBER;else{var v=parse(n);v&&(f=v,u=VALUE_TYPE_COLOR)}else if(isGradientObject(n)){var g=extend({},f);g.colorStops=map$1(n.colorStops,function(x){return{offset:x.offset,color:parse(x.color)}}),isLinearGradient(n)?u=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(n)&&(u=VALUE_TYPE_RADIAL_GRADIENT),f=g}s===0?this.valType=u:(u!==this.valType||u===VALUE_TYPE_UNKOWN)&&(l=!0),this.discrete=this.discrete||l;var S={time:t,value:f,rawValue:n,percent:0};return a&&(S.easing=a,S.easingFunc=isFunction(a)?a:easingFuncs$1[a]||createCubicEasingFunc(a)),o.push(S),S},r.prototype.prepare=function(t,n){var a=this.keyframes;this._needsSort&&a.sort(function(C,T){return C.time-T.time});for(var o=this.valType,s=a.length,l=a[s-1],u=this.discrete,f=isArrayValueType(o),d=isGradientValueType(o),v=0;v<s;v++){var g=a[v],S=g.value,x=l.value;g.percent=g.time/t,u||(f&&v!==s-1?fillArray(S,x,o):d&&fillColorStops(S.colorStops,x.colorStops))}if(!u&&o!==VALUE_TYPE_RADIAL_GRADIENT&&n&&this.needsAnimate()&&n.needsAnimate()&&o===n.valType&&!n._finished){this._additiveTrack=n;for(var _=a[0].value,v=0;v<s;v++)o===VALUE_TYPE_NUMBER?a[v].additiveValue=a[v].value-_:o===VALUE_TYPE_COLOR?a[v].additiveValue=add1DArray([],a[v].value,_,-1):isArrayValueType(o)&&(a[v].additiveValue=o===VALUE_TYPE_1D_ARRAY?add1DArray([],a[v].value,_,-1):add2DArray([],a[v].value,_,-1))}},r.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var a=this._additiveTrack!=null,o=a?"additiveValue":"value",s=this.valType,l=this.keyframes,u=l.length,f=this.propName,d=s===VALUE_TYPE_COLOR,v,g=this._lastFr,S=Math.min,x,_;if(u===1)x=_=l[0];else{if(n<0)v=0;else if(n<this._lastFrP){var C=S(g+1,u-1);for(v=C;v>=0&&!(l[v].percent<=n);v--);v=S(v,u-2)}else{for(v=g;v<u&&!(l[v].percent>n);v++);v=S(v-1,u-2)}_=l[v+1],x=l[v]}if(!!(x&&_)){this._lastFr=v,this._lastFrP=n;var T=_.percent-x.percent,w=T===0?1:S((n-x.percent)/T,1);_.easingFunc&&(w=_.easingFunc(w));var M=a?this._additiveValue:d?tmpRgba:t[f];if((isArrayValueType(s)||d)&&!M&&(M=this._additiveValue=[]),this.discrete)t[f]=w<1?x.rawValue:_.rawValue;else if(isArrayValueType(s))s===VALUE_TYPE_1D_ARRAY?interpolate1DArray(M,x[o],_[o],w):interpolate2DArray(M,x[o],_[o],w);else if(isGradientValueType(s)){var D=x[o],I=_[o],R=s===VALUE_TYPE_LINEAR_GRADIENT;t[f]={type:R?"linear":"radial",x:interpolateNumber$1(D.x,I.x,w),y:interpolateNumber$1(D.y,I.y,w),colorStops:map$1(D.colorStops,function(N,F){var H=I.colorStops[F];return{offset:interpolateNumber$1(N.offset,H.offset,w),color:rgba2String(interpolate1DArray([],N.color,H.color,w))}}),global:I.global},R?(t[f].x2=interpolateNumber$1(D.x2,I.x2,w),t[f].y2=interpolateNumber$1(D.y2,I.y2,w)):t[f].r=interpolateNumber$1(D.r,I.r,w)}else if(d)interpolate1DArray(M,x[o],_[o],w),a||(t[f]=rgba2String(M));else{var $=interpolateNumber$1(x[o],_[o],w);a?this._additiveValue=$:t[f]=$}a&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var n=this.valType,a=this.propName,o=this._additiveValue;n===VALUE_TYPE_NUMBER?t[a]=t[a]+o:n===VALUE_TYPE_COLOR?(parse(t[a],tmpRgba),add1DArray(tmpRgba,tmpRgba,o,1),t[a]=rgba2String(tmpRgba)):n===VALUE_TYPE_1D_ARRAY?add1DArray(t[a],t[a],o,1):n===VALUE_TYPE_2D_ARRAY&&add2DArray(t[a],t[a],o,1)},r}(),Animator=function(){function r(t,n,a,o){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&o){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=o,this._allowDiscrete=a}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,n,a){return this.whenWithKeys(t,n,keys(n),a)},r.prototype.whenWithKeys=function(t,n,a,o){for(var s=this._tracks,l=0;l<a.length;l++){var u=a[l],f=s[u];if(!f){f=s[u]=new Track(u);var d=void 0,v=this._getAdditiveTrack(u);if(v){var g=v.keyframes,S=g[g.length-1];d=S&&S.value,v.valType===VALUE_TYPE_COLOR&&d&&(d=rgba2String(d))}else d=this._target[u];if(d==null)continue;t>0&&f.addKeyframe(0,cloneValue(d),o),this._trackKeys.push(u)}f.addKeyframe(t,cloneValue(n[u]),o)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,a=0;a<n;a++)t[a].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var a=0;a<n.length;a++)n[a].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,a=0;a<n.length;a++)t[n[a]].setFinished()},r.prototype._getAdditiveTrack=function(t){var n,a=this._additiveAnimators;if(a)for(var o=0;o<a.length;o++){var s=a[o].getTrack(t);s&&(n=s)}return n},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,a=[],o=this._maxTime||0,s=0;s<this._trackKeys.length;s++){var l=this._trackKeys[s],u=this._tracks[l],f=this._getAdditiveTrack(l),d=u.keyframes,v=d.length;if(u.prepare(o,f),u.needsAnimate())if(!this._allowDiscrete&&u.discrete){var g=d[v-1];g&&(n._target[u.propName]=g.rawValue),u.setFinished()}else a.push(u)}if(a.length||this._force){var S=new Clip$1({life:o,loop:this._loop,delay:this._delay||0,onframe:function(x){n._started=2;var _=n._additiveAnimators;if(_){for(var C=!1,T=0;T<_.length;T++)if(_[T]._clip){C=!0;break}C||(n._additiveAnimators=null)}for(var T=0;T<a.length;T++)a[T].step(n._target,x);var w=n._onframeCbs;if(w)for(var T=0;T<w.length;T++)w[T](n._target,x)},ondestroy:function(){n._doneCallback()}});this._clip=S,this.animation&&this.animation.addClip(S),t&&S.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(!!this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return map$1(this._trackKeys,function(n){return t._tracks[n]})},r.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var a=this._tracks,o=this._trackKeys,s=0;s<t.length;s++){var l=a[t[s]];l&&!l.isFinished()&&(n?l.step(this._target,1):this._started===1&&l.step(this._target,0),l.setFinished())}for(var u=!0,s=0;s<o.length;s++)if(!a[o[s]].isFinished()){u=!1;break}return u&&this._abortedCallback(),u},r.prototype.saveTo=function(t,n,a){if(!!t){n=n||this._trackKeys;for(var o=0;o<n.length;o++){var s=n[o],l=this._tracks[s];if(!(!l||l.isFinished())){var u=l.keyframes,f=u[a?0:u.length-1];f&&(t[s]=cloneValue(f.rawValue))}}}},r.prototype.__changeFinalValue=function(t,n){n=n||keys(t);for(var a=0;a<n.length;a++){var o=n[a],s=this._tracks[o];if(!!s){var l=s.keyframes;if(l.length>1){var u=l.pop();s.addKeyframe(u.time,t[o]),s.prepare(this._maxTime,s.getAdditiveTrack())}}}},r}();function getTime(){return new Date().getTime()}var Animation=function(r){__extends(t,r);function t(n){var a=r.call(this)||this;return a._running=!1,a._time=0,a._pausedTime=0,a._pauseStart=0,a._paused=!1,n=n||{},a.stage=n.stage||{},a}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var a=n.getClip();a&&this.addClip(a)},t.prototype.removeClip=function(n){if(!!n.animation){var a=n.prev,o=n.next;a?a.next=o:this._head=o,o?o.prev=a:this._tail=a,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var a=n.getClip();a&&this.removeClip(a),n.animation=null},t.prototype.update=function(n){for(var a=getTime()-this._pausedTime,o=a-this._time,s=this._head;s;){var l=s.next,u=s.step(a,o);u&&(s.ondestroy(),this.removeClip(s)),s=l}this._time=a,n||(this.trigger("frame",o),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function a(){n._running&&(requestAnimationFrame$3(a),!n._paused&&n.update())}requestAnimationFrame$3(a)},t.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var a=n.next;n.prev=n.next=n.animation=null,n=a}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,a){a=a||{},this.start();var o=new Animator(n,a.loop);return this.addAnimator(o),o},t}(Eventful$1),Animation$1=Animation,TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=map$1(r,function(o){var s=o.replace("mouse","pointer");return n.hasOwnProperty(s)?s:o});return{mouse:r,touch:t,pointer:a}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var t=r.pointerType;return t==="pen"||t==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,t){return normalizeEvent(r.dom,new FakeGlobalEvent(r,t),!0)}function isLocalEl(r,t){for(var n=t,a=!1;n&&n.nodeType!==9&&!(a=n.domBelongToZr||n!==t&&n===r.painterRoot);)n=n.parentNode;return a}var FakeGlobalEvent=function(){function r(t,n){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return r}(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var t=r.toElement||r.relatedTarget;isLocalEl(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each$f(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(t){t=normalizeEvent(this.dom,t),this.trigger(r,t)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,t){var n=t.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(a){mountSingleDOMEventListener(t,a,function(o){n[a].call(r,o)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(a){mountSingleDOMEventListener(t,a,function(o){n[a].call(r,o),setTouchTimer(t)})}),each$f(localNativeListenerNames.mouse,function(a){mountSingleDOMEventListener(t,a,function(o){o=getNativeEvent(o),t.touching||n[a].call(r,o)})}))}function mountGlobalDOMEventListeners(r,t){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,n):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,n);function n(a){function o(s){s=getNativeEvent(s),isLocalEl(r,s.target)||(s=normalizeGlobalEvent(r,s),t.domHandlers[a].call(r,s))}mountSingleDOMEventListener(t,a,o,{capture:!0})}}function mountSingleDOMEventListener(r,t,n,a){r.mounted[t]=n,r.listenerOpts[t]=a,addEventListener(r.domTarget,t,n,a)}function unmountDOMEventListeners(r){var t=r.mounted;for(var n in t)t.hasOwnProperty(n)&&removeEventListener(r.domTarget,n,t[n],r.listenerOpts[n]);r.mounted={}}var DOMHandlerScope=function(){function r(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return r}(),HandlerDomProxy=function(r){__extends(t,r);function t(n,a){var o=r.call(this)||this;return o.__pointerCapturing=!1,o.dom=n,o.painterRoot=a,o._localHandlerScope=new DOMHandlerScope(n,localDOMHandlers),globalEventSupported&&(o._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(o,o._localHandlerScope),o}return t.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var a=this._globalHandlerScope;n?mountGlobalDOMEventListeners(this,a):unmountDOMEventListeners(a)}},t}(Eventful$1),HandlerProxy=HandlerDomProxy,dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio$1=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee";function create$1(){return[1,0,0,1,0,0]}function identity(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function mul(r,t,n){var a=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],s=t[0]*n[2]+t[2]*n[3],l=t[1]*n[2]+t[3]*n[3],u=t[0]*n[4]+t[2]*n[5]+t[4],f=t[1]*n[4]+t[3]*n[5]+t[5];return r[0]=a,r[1]=o,r[2]=s,r[3]=l,r[4]=u,r[5]=f,r}function translate(r,t,n){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+n[0],r[5]=t[5]+n[1],r}function rotate(r,t,n){var a=t[0],o=t[2],s=t[4],l=t[1],u=t[3],f=t[5],d=Math.sin(n),v=Math.cos(n);return r[0]=a*v+l*d,r[1]=-a*d+l*v,r[2]=o*v+u*d,r[3]=-o*d+v*u,r[4]=v*s+d*f,r[5]=v*f-d*s,r}function scale$1(r,t,n){var a=n[0],o=n[1];return r[0]=t[0]*a,r[1]=t[1]*o,r[2]=t[2]*a,r[3]=t[3]*o,r[4]=t[4]*a,r[5]=t[5]*o,r}function invert(r,t){var n=t[0],a=t[2],o=t[4],s=t[1],l=t[3],u=t[5],f=n*l-s*a;return f?(f=1/f,r[0]=l*f,r[1]=-s*f,r[2]=-a*f,r[3]=n*f,r[4]=(a*u-l*o)*f,r[5]=(s*o-n*u)*f,r):null}function clone$2(r){var t=create$1();return copy(t,r),t}var mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(r){return r>EPSILON$2||r<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),a=this.transform;if(!(n||t)){a&&mIdentity(a);return}a=a||create$1(),n?this.getLocalTransform(a):mIdentity(a),t&&(n?mul(a,t,a):copy(a,t)),this.transform=a,this._resolveGlobalScaleRatio(a)},r.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(scaleTmp);var a=scaleTmp[0]<0?-1:1,o=scaleTmp[1]<0?-1:1,s=((scaleTmp[0]-a)*n+a)/scaleTmp[0]||0,l=((scaleTmp[1]-o)*n+o)/scaleTmp[1]||0;t[0]*=s,t[1]*=s,t[2]*=l,t[3]*=l}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(!!t){var n=t[0]*t[0]+t[1]*t[1],a=t[2]*t[2]+t[3]*t[3],o=Math.atan2(t[1],t[0]),s=Math.PI/2+o-Math.atan2(t[3],t[2]);a=Math.sqrt(a)*Math.cos(s),n=Math.sqrt(n),this.skewX=s,this.skewY=0,this.rotation=-o,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=a,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(!!this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(mul(tmpTransform,t.invTransform,n),n=tmpTransform);var a=this.originX,o=this.originY;(a||o)&&(originTransform[4]=a,originTransform[5]=o,mul(tmpTransform,n,originTransform),tmpTransform[4]-=a,tmpTransform[5]-=o,n=tmpTransform),this.setLocalTransform(n)}},r.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,n){var a=[t,n],o=this.invTransform;return o&&applyTransform$1(a,a,o),a},r.prototype.transformCoordToGlobal=function(t,n){var a=[t,n],o=this.transform;return o&&applyTransform$1(a,a,o),a},r.prototype.getLineScale=function(){var t=this.transform;return t&&abs(t[0]-1)>1e-10&&abs(t[3]-1)>1e-10?Math.sqrt(abs(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){copyTransform(this,t)},r.getLocalTransform=function(t,n){n=n||[];var a=t.originX||0,o=t.originY||0,s=t.scaleX,l=t.scaleY,u=t.anchorX,f=t.anchorY,d=t.rotation||0,v=t.x,g=t.y,S=t.skewX?Math.tan(t.skewX):0,x=t.skewY?Math.tan(-t.skewY):0;if(a||o||u||f){var _=a+u,C=o+f;n[4]=-_*s-S*C*l,n[5]=-C*l-x*_*s}else n[4]=n[5]=0;return n[0]=s,n[3]=l,n[1]=x*s,n[2]=S*l,d&&rotate(n,n,d),n[4]+=a+v,n[5]+=o+g,n},r.initDefaultProps=function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,t){for(var n=0;n<TRANSFORMABLE_PROPS.length;n++){var a=TRANSFORMABLE_PROPS[n];r[a]=t[a]}}var Transformable$1=Transformable,Point=function(){function r(t,n){this.x=t||0,this.y=n||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,n){return this.x=t,this.y=n,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var n=this.x-t.x,a=this.y-t.y;return Math.sqrt(n*n+a*a)},r.prototype.distanceSquare=function(t){var n=this.x-t.x,a=this.y-t.y;return n*n+a*a},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(!!t){var n=this.x,a=this.y;return this.x=t[0]*n+t[2]*a+t[4],this.y=t[1]*n+t[3]*a+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,n,a){t.x=n,t.y=a},r.copy=function(t,n){t.x=n.x,t.y=n.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,n){return t.x*n.x+t.y*n.y},r.add=function(t,n,a){t.x=n.x+a.x,t.y=n.y+a.y},r.sub=function(t,n,a){t.x=n.x-a.x,t.y=n.y-a.y},r.scale=function(t,n,a){t.x=n.x*a,t.y=n.y*a},r.scaleAndAdd=function(t,n,a,o){t.x=n.x+a.x*o,t.y=n.y+a.y*o},r.lerp=function(t,n,a,o){var s=1-o;t.x=s*n.x+o*a.x,t.y=s*n.y+o*a.y},r}(),Point$1=Point,mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function r(t,n,a,o){a<0&&(t=t+a,a=-a),o<0&&(n=n+o,o=-o),this.x=t,this.y=n,this.width=a,this.height=o}return r.prototype.union=function(t){var n=mathMin$a(t.x,this.x),a=mathMin$a(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(t.y+t.height,this.y+this.height)-a:this.height=t.height,this.x=n,this.y=a},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var n=this,a=t.width/n.width,o=t.height/n.height,s=create$1();return translate(s,s,[-n.x,-n.y]),scale$1(s,s,[a,o]),translate(s,s,[t.x,t.y]),s},r.prototype.intersect=function(t,n){if(!t)return!1;t instanceof r||(t=r.create(t));var a=this,o=a.x,s=a.x+a.width,l=a.y,u=a.y+a.height,f=t.x,d=t.x+t.width,v=t.y,g=t.y+t.height,S=!(s<f||d<o||u<v||g<l);if(n){var x=1/0,_=0,C=Math.abs(s-f),T=Math.abs(d-o),w=Math.abs(u-v),M=Math.abs(g-l),D=Math.min(C,T),I=Math.min(w,M);s<f||d<o?D>_&&(_=D,C<T?Point$1.set(maxTv$1,-C,0):Point$1.set(maxTv$1,T,0)):D<x&&(x=D,C<T?Point$1.set(minTv$1,C,0):Point$1.set(minTv$1,-T,0)),u<v||g<l?I>_&&(_=I,w<M?Point$1.set(maxTv$1,0,-w):Point$1.set(maxTv$1,0,M)):D<x&&(x=D,w<M?Point$1.set(minTv$1,0,w):Point$1.set(minTv$1,0,-M))}return n&&Point$1.copy(n,S?minTv$1:maxTv$1),S},r.prototype.contain=function(t,n){var a=this;return t>=a.x&&t<=a.x+a.width&&n>=a.y&&n<=a.y+a.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},r.applyTransform=function(t,n,a){if(!a){t!==n&&r.copy(t,n);return}if(a[1]<1e-5&&a[1]>-1e-5&&a[2]<1e-5&&a[2]>-1e-5){var o=a[0],s=a[3],l=a[4],u=a[5];t.x=n.x*o+l,t.y=n.y*s+u,t.width=n.width*o,t.height=n.height*s,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}lt.x=lb.x=n.x,lt.y=rt.y=n.y,rb.x=rt.x=n.x+n.width,rb.y=lb.y=n.y+n.height,lt.transform(a),rt.transform(a),rb.transform(a),lb.transform(a),t.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),t.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var f=mathMax$a(lt.x,rb.x,lb.x,rt.x),d=mathMax$a(lt.y,rb.y,lb.y,rt.y);t.width=f-t.x,t.height=d-t.y},r}(),BoundingRect$1=BoundingRect,textWidthCache={};function getWidth(r,t){t=t||DEFAULT_FONT;var n=textWidthCache[t];n||(n=textWidthCache[t]=new LRU$1(500));var a=n.get(r);return a==null&&(a=platformApi.measureText(r,t).width,n.put(r,a)),a}function innerGetBoundingRect(r,t,n,a){var o=getWidth(r,t),s=getLineHeight(t),l=adjustTextX(0,o,n),u=adjustTextY(0,s,a),f=new BoundingRect$1(l,u,o,s);return f}function getBoundingRect(r,t,n,a){var o=((r||"")+"").split(`
`),s=o.length;if(s===1)return innerGetBoundingRect(o[0],t,n,a);for(var l=new BoundingRect$1(0,0,0,0),u=0;u<o.length;u++){var f=innerGetBoundingRect(o[u],t,n,a);u===0?l.copy(f):l.union(f)}return l}function adjustTextX(r,t,n){return n==="right"?r-=t:n==="center"&&(r-=t/2),r}function adjustTextY(r,t,n){return n==="middle"?r-=t/2:n==="bottom"&&(r-=t),r}function getLineHeight(r){return getWidth("\u56FD",r)}function parsePercent$1(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function calculateTextPosition(r,t,n){var a=t.position||"inside",o=t.distance!=null?t.distance:5,s=n.height,l=n.width,u=s/2,f=n.x,d=n.y,v="left",g="top";if(a instanceof Array)f+=parsePercent$1(a[0],n.width),d+=parsePercent$1(a[1],n.height),v=null,g=null;else switch(a){case"left":f-=o,d+=u,v="right",g="middle";break;case"right":f+=o+l,d+=u,g="middle";break;case"top":f+=l/2,d-=o,v="center",g="bottom";break;case"bottom":f+=l/2,d+=s+o,v="center";break;case"inside":f+=l/2,d+=u,v="center",g="middle";break;case"insideLeft":f+=o,d+=u,g="middle";break;case"insideRight":f+=l-o,d+=u,v="right",g="middle";break;case"insideTop":f+=l/2,d+=o,v="center";break;case"insideBottom":f+=l/2,d+=s-o,v="center",g="bottom";break;case"insideTopLeft":f+=o,d+=o;break;case"insideTopRight":f+=l-o,d+=o,v="right";break;case"insideBottomLeft":f+=o,d+=s-o,g="bottom";break;case"insideBottomRight":f+=l-o,d+=s-o,v="right",g="bottom";break}return r=r||{},r.x=f,r.y=d,r.align=v,r.verticalAlign=g,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,t){return r[t]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function r(t){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,n,a){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var o=this.transform;o||(o=this.transform=[1,0,0,1,0,0]),o[4]+=t,o[5]+=n,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var a=this.textConfig,o=a.local,s=n.innerTransformable,l=void 0,u=void 0,f=!1;s.parent=o?this:null;var d=!1;if(s.copyTransform(n),a.position!=null){var v=tmpBoundingRect;a.layoutRect?v.copy(a.layoutRect):v.copy(this.getBoundingRect()),o||v.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,a,v):calculateTextPosition(tmpTextPosCalcRes,a,v),s.x=tmpTextPosCalcRes.x,s.y=tmpTextPosCalcRes.y,l=tmpTextPosCalcRes.align,u=tmpTextPosCalcRes.verticalAlign;var g=a.origin;if(g&&a.rotation!=null){var S=void 0,x=void 0;g==="center"?(S=v.width*.5,x=v.height*.5):(S=parsePercent$1(g[0],v.width),x=parsePercent$1(g[1],v.height)),d=!0,s.originX=-s.x+S+(o?0:v.x),s.originY=-s.y+x+(o?0:v.y)}}a.rotation!=null&&(s.rotation=a.rotation);var _=a.offset;_&&(s.x+=_[0],s.y+=_[1],d||(s.originX=-_[0],s.originY=-_[1]));var C=a.inside==null?typeof a.position=="string"&&a.position.indexOf("inside")>=0:a.inside,T=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,M=void 0,D=void 0;C&&this.canBeInsideText()?(w=a.insideFill,M=a.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(M==null||M==="auto")&&(M=this.getInsideTextStroke(w),D=!0)):(w=a.outsideFill,M=a.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(M==null||M==="auto")&&(M=this.getOutsideStroke(w),D=!0)),w=w||"#000",(w!==T.fill||M!==T.stroke||D!==T.autoStroke||l!==T.align||u!==T.verticalAlign)&&(f=!0,T.fill=w,T.stroke=M,T.autoStroke=D,T.align=l,T.verticalAlign=u,n.setDefaultTextStyle(T)),n.__dirty|=REDRAW_BIT,f&&n.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),a=typeof n=="string"&&parse(n);a||(a=[255,255,255,1]);for(var o=a[3],s=this.__zr.isDarkMode(),l=0;l<3;l++)a[l]=a[l]*o+(s?0:255)*(1-o);return a[3]=1,stringify(a,"rgba")},r.prototype.traverse=function(t,n){},r.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},extend(this.extra,n)):this[t]=n},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(isObject$4(t))for(var a=t,o=keys(a),s=0;s<o.length;s++){var l=o[s];this.attrKV(l,t[l])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,a=0;a<this.animators.length;a++){var o=this.animators[a],s=o.__fromStateTransition;if(!(o.getLoop()||s&&s!==PRESERVED_NORMAL_STATE)){var l=o.targetName,u=l?n[l]:n;o.saveTo(u)}}},r.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,PRIMARY_STATES_KEYS$1)},r.prototype._savePrimaryToNormal=function(t,n,a){for(var o=0;o<a.length;o++){var s=a[o];t[s]!=null&&!(s in n)&&(n[s]=this[s])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},r.prototype.clearStates=function(t){this.useState(PRESERVED_NORMAL_STATE,!1,t)},r.prototype.useState=function(t,n,a,o){var s=t===PRESERVED_NORMAL_STATE,l=this.hasState();if(!(!l&&s)){var u=this.currentStates,f=this.stateTransition;if(!(indexOf(u,t)>=0&&(n||u.length===1))){var d;if(this.stateProxy&&!s&&(d=this.stateProxy(t)),d||(d=this.states&&this.states[t]),!d&&!s){logError("State "+t+" not exists.");return}s||this.saveCurrentToNormalState(d);var v=!!(d&&d.hoverLayer||o);v&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,d,this._normalState,n,!a&&!this.__inHover&&f&&f.duration>0,f);var g=this._textContent,S=this._textGuide;return g&&g.useState(t,n,a,v),S&&S.useState(t,n,a,v),s?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),d}}},r.prototype.useStates=function(t,n,a){if(!t.length)this.clearStates();else{var o=[],s=this.currentStates,l=t.length,u=l===s.length;if(u){for(var f=0;f<l;f++)if(t[f]!==s[f]){u=!1;break}}if(u)return;for(var f=0;f<l;f++){var d=t[f],v=void 0;this.stateProxy&&(v=this.stateProxy(d,t)),v||(v=this.states[d]),v&&o.push(v)}var g=o[l-1],S=!!(g&&g.hoverLayer||a);S&&this._toggleHoverLayerFlag(!0);var x=this._mergeStates(o),_=this.stateTransition;this.saveCurrentToNormalState(x),this._applyStateObj(t.join(","),x,this._normalState,!1,!n&&!this.__inHover&&_&&_.duration>0,_);var C=this._textContent,T=this._textGuide;C&&C.useStates(t,n,S),T&&T.useStates(t,n,S),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!S&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},r.prototype.removeState=function(t){var n=indexOf(this.currentStates,t);if(n>=0){var a=this.currentStates.slice();a.splice(n,1),this.useStates(a)}},r.prototype.replaceState=function(t,n,a){var o=this.currentStates.slice(),s=indexOf(o,t),l=indexOf(o,n)>=0;s>=0?l?o.splice(s,1):o[s]=n:a&&!l&&o.push(n),this.useStates(o)},r.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var n={},a,o=0;o<t.length;o++){var s=t[o];extend(n,s),s.textConfig&&(a=a||{},extend(a,s.textConfig))}return a&&(n.textConfig=a),n},r.prototype._applyStateObj=function(t,n,a,o,s,l){var u=!(n&&o);n&&n.textConfig?(this.textConfig=extend({},o?this.textConfig:a.textConfig),extend(this.textConfig,n.textConfig)):u&&a.textConfig&&(this.textConfig=a.textConfig);for(var f={},d=!1,v=0;v<PRIMARY_STATES_KEYS$1.length;v++){var g=PRIMARY_STATES_KEYS$1[v],S=s&&DEFAULT_ANIMATABLE_MAP[g];n&&n[g]!=null?S?(d=!0,f[g]=n[g]):this[g]=n[g]:u&&a[g]!=null&&(S?(d=!0,f[g]=a[g]):this[g]=a[g])}if(!s)for(var v=0;v<this.animators.length;v++){var x=this.animators[v],_=x.targetName;x.getLoop()||x.__changeFinalValue(_?(n||a)[_]:n||a)}d&&this._transitionState(t,f,l)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new Transformable$1,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),extend(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,a=this._textGuide;n&&(n.__inHover=t),a&&(a.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var a=0;a<n.length;a++)t.animation.addAnimator(n[a]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(!!this.__zr){this.__zr=null;var n=this.animators;if(n)for(var a=0;a<n.length;a++)t.animation.removeAnimator(n[a]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,n,a){var o=t?this[t]:this,s=new Animator(o,n,a);return t&&(s.targetName=t),this.addAnimator(s,t),s},r.prototype.addAnimator=function(t,n){var a=this.__zr,o=this;t.during(function(){o.updateDuringAnimation(n)}).done(function(){var s=o.animators,l=indexOf(s,t);l>=0&&s.splice(l,1)}),this.animators.push(t),a&&a.animation.addAnimator(t),a&&a.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,n){for(var a=this.animators,o=a.length,s=[],l=0;l<o;l++){var u=a[l];!t||t===u.scope?u.stop(n):s.push(u)}return this.animators=s,this},r.prototype.animateTo=function(t,n,a){animateTo(this,t,n,a)},r.prototype.animateFrom=function(t,n,a){animateTo(this,t,n,a,!0)},r.prototype._transitionState=function(t,n,a,o){for(var s=animateTo(this,n,a,o),l=0;l<s.length;l++)s[l].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=REDRAW_BIT;function n(a,o,s,l){Object.defineProperty(t,a,{get:function(){if(!this[o]){var f=this[o]=[];u(this,f)}return this[o]},set:function(f){this[s]=f[0],this[l]=f[1],this[o]=f,u(this,f)}});function u(f,d){Object.defineProperty(d,0,{get:function(){return f[s]},set:function(v){f[s]=v}}),Object.defineProperty(d,1,{get:function(){return f[l]},set:function(v){f[l]=v}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),r}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable$1);function animateTo(r,t,n,a,o){n=n||{};var s=[];animateToShallow(r,"",r,t,n,a,s,o);var l=s.length,u=!1,f=n.done,d=n.aborted,v=function(){u=!0,l--,l<=0&&(u?f&&f():d&&d())},g=function(){l--,l<=0&&(u?f&&f():d&&d())};l||f&&f(),s.length>0&&n.during&&s[0].during(function(_,C){n.during(C)});for(var S=0;S<s.length;S++){var x=s[S];v&&x.done(v),g&&x.aborted(g),n.force&&x.duration(n.duration),x.start(n.easing)}return s}function copyArrShallow(r,t,n){for(var a=0;a<n;a++)r[a]=t[a]}function is2DArray(r){return isArrayLike(r[0])}function copyValue(r,t,n){if(isArrayLike(t[n]))if(isArrayLike(r[n])||(r[n]=[]),isTypedArray(t[n])){var a=t[n].length;r[n].length!==a&&(r[n]=new t[n].constructor(a),copyArrShallow(r[n],t[n],a))}else{var o=t[n],s=r[n],l=o.length;if(is2DArray(o))for(var u=o[0].length,f=0;f<l;f++)s[f]?copyArrShallow(s[f],o[f],u):s[f]=Array.prototype.slice.call(o[f]);else copyArrShallow(s,o,l);s.length=o.length}else r[n]=t[n]}function isValueSame(r,t){return r===t||isArrayLike(r)&&isArrayLike(t)&&is1DArraySame(r,t)}function is1DArraySame(r,t){var n=r.length;if(n!==t.length)return!1;for(var a=0;a<n;a++)if(r[a]!==t[a])return!1;return!0}function animateToShallow(r,t,n,a,o,s,l,u){for(var f=keys(a),d=o.duration,v=o.delay,g=o.additive,S=o.setToFinal,x=!isObject$4(s),_=r.animators,C=[],T=0;T<f.length;T++){var w=f[T],M=a[w];if(M!=null&&n[w]!=null&&(x||s[w]))if(isObject$4(M)&&!isArrayLike(M)&&!isGradientObject(M)){if(t){u||(n[w]=M,r.updateDuringAnimation(t));continue}animateToShallow(r,w,n[w],M,o,s&&s[w],l,u)}else C.push(w);else u||(n[w]=M,r.updateDuringAnimation(t),C.push(w))}var D=C.length;if(!g&&D)for(var I=0;I<_.length;I++){var R=_[I];if(R.targetName===t){var $=R.stopTracks(C);if($){var N=indexOf(_,R);_.splice(N,1)}}}if(o.force||(C=filter(C,function(G){return!isValueSame(a[G],n[G])}),D=C.length),D>0||o.force&&!l.length){var F=void 0,H=void 0,Y=void 0;if(u){H={},S&&(F={});for(var I=0;I<D;I++){var w=C[I];H[w]=n[w],S?F[w]=a[w]:n[w]=a[w]}}else if(S){Y={};for(var I=0;I<D;I++){var w=C[I];Y[w]=cloneValue(n[w]),copyValue(n,a,w)}}var R=new Animator(n,!1,!1,g?filter(_,function(K){return K.targetName===t}):null);R.targetName=t,o.scope&&(R.scope=o.scope),S&&F&&R.whenWithKeys(0,F,C),Y&&R.whenWithKeys(0,Y,C),R.whenWithKeys(d==null?500:d,u?H:a,C).delay(v||0),r.addAnimator(R,t),l.push(R)}}var Element$2=Element$1,Group$3=function(r){__extends(t,r);function t(n){var a=r.call(this)||this;return a.isGroup=!0,a._children=[],a.attr(n),a}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var a=this._children,o=0;o<a.length;o++)if(a[o].name===n)return a[o]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,a){if(n&&n!==this&&n.parent!==this&&a&&a.parent===this){var o=this._children,s=o.indexOf(a);s>=0&&(o.splice(s,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,a){var o=indexOf(this._children,n);return o>=0&&this.replaceAt(a,o),this},t.prototype.replaceAt=function(n,a){var o=this._children,s=o[a];if(n&&n!==this&&n.parent!==this&&n!==s){o[a]=n,s.parent=null;var l=this.__zr;l&&s.removeSelfFromZr(l),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var a=this.__zr;a&&a!==n.__zr&&n.addSelfToZr(a),a&&a.refresh()},t.prototype.remove=function(n){var a=this.__zr,o=this._children,s=indexOf(o,n);return s<0?this:(o.splice(s,1),n.parent=null,a&&n.removeSelfFromZr(a),a&&a.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,a=this.__zr,o=0;o<n.length;o++){var s=n[o];a&&s.removeSelfFromZr(a),s.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,a){for(var o=this._children,s=0;s<o.length;s++){var l=o[s];n.call(a,l,s)}return this},t.prototype.traverse=function(n,a){for(var o=0;o<this._children.length;o++){var s=this._children[o],l=n.call(a,s);s.isGroup&&!l&&s.traverse(n,a)}return this},t.prototype.addSelfToZr=function(n){r.prototype.addSelfToZr.call(this,n);for(var a=0;a<this._children.length;a++){var o=this._children[a];o.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){r.prototype.removeSelfFromZr.call(this,n);for(var a=0;a<this._children.length;a++){var o=this._children[a];o.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var a=new BoundingRect$1(0,0,0,0),o=n||this._children,s=[],l=null,u=0;u<o.length;u++){var f=o[u];if(!(f.ignore||f.invisible)){var d=f.getBoundingRect(),v=f.getLocalTransform(s);v?(BoundingRect$1.applyTransform(a,d,v),l=l||a.clone(),l.union(a)):(l=l||d.clone(),l.union(d))}}return l||a},t}(Element$2);Group$3.prototype.type="group";var Group$4=Group$3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(r){delete instances$1[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var t=r.colorStops,n=0,a=t.length,o=0;o<a;o++)n+=lum(t[o].color,1);return n/=a,n<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function r(t,n,a){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,a=a||{},this.dom=n,this.id=t;var s=new Storage$1,l=a.renderer||"canvas";painterCtors[l]||(l=keys(painterCtors)[0]),a.useDirtyRect=a.useDirtyRect==null?!1:a.useDirtyRect;var u=new painterCtors[l](n,s,a,t),f=a.ssr||u.ssrOnly;this.storage=s,this.painter=u;var d=!env$1.node&&!env$1.worker&&!f?new HandlerProxy(u.getViewportRoot(),u.root):null;this.handler=new Handler$1(s,u,d,u.root),this.animation=new Animation$1({stage:{update:f?null:function(){return o._flush(!0)}}}),f||this.animation.start()}return r.prototype.add=function(t){!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,n){this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh()},r.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=isDarkMode(t)},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},r.prototype.flush=function(){this._flush(!1)},r.prototype._flush=function(t){var n,a=getTime();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var o=getTime();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:o-a})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},r.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,n){return this.handler.findHover(t,n)},r.prototype.on=function(t,n,a){return this.handler.on(t,n,a),this},r.prototype.off=function(t,n){this.handler.off(t,n)},r.prototype.trigger=function(t,n){this.handler.trigger(t,n)},r.prototype.clear=function(){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof Group$4&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},r}();function init$2(r,t){var n=new ZRender(guid(),r,t);return instances$1[n.id]=n,n}function registerPainter(r,t){painterCtors[r]=t}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}function linearMap$2(r,t,n,a){var o=t[0],s=t[1],l=n[0],u=n[1],f=s-o,d=u-l;if(f===0)return d===0?l:(l+u)/2;if(a)if(f>0){if(r<=o)return l;if(r>=s)return u}else{if(r>=o)return l;if(r<=s)return u}else{if(r===o)return l;if(r===s)return u}return(r-o)/f*d+l}function parsePercent(r,t){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return isString(r)?_trim(r).match(/%$/)?parseFloat(r)/100*t:parseFloat(r):r==null?NaN:+r}function round$3(r,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(t),n?r:+r}function asc$2(r){return r.sort(function(t,n){return t-n}),r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(r*t)/t===r)return n}return getPrecisionSafe(r)}function getPrecisionSafe(r){var t=r.toString().toLowerCase(),n=t.indexOf("e"),a=n>0?+t.slice(n+1):0,o=n>0?n:t.length,s=t.indexOf("."),l=s<0?0:o-1-s;return Math.max(0,l-a)}function getPixelPrecision(r,t){var n=Math.log,a=Math.LN10,o=Math.floor(n(r[1]-r[0])/a),s=Math.round(n(Math.abs(t[1]-t[0]))/a),l=Math.min(Math.max(-o+s,0),20);return isFinite(l)?l:20}function getPercentWithPrecision(r,t,n){if(!r[t])return 0;var a=reduce(r,function(_,C){return _+(isNaN(C)?0:C)},0);if(a===0)return 0;for(var o=Math.pow(10,n),s=map$1(r,function(_){return(isNaN(_)?0:_)/a*o*100}),l=o*100,u=map$1(s,function(_){return Math.floor(_)}),f=reduce(u,function(_,C){return _+C},0),d=map$1(s,function(_,C){return _-u[C]});f<l;){for(var v=Number.NEGATIVE_INFINITY,g=null,S=0,x=d.length;S<x;++S)d[S]>v&&(v=d[S],g=S);++u[g],d[g]=0,++f}return u[t]/o}function addSafe(r,t){var n=Math.max(getPrecision(r),getPrecision(t)),a=r+t;return n>ROUND_SUPPORTED_PRECISION_MAX?a:round$3(a,n)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(r){var t=Math.PI*2;return(r%t+t)%t}function isRadianAroundZero(r){return r>-RADIAN_EPSILON&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString(r)){var t=TIME_REG.exec(r);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function quantity(r){return Math.pow(10,quantityExponent(r))}function quantityExponent(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function nice(r,t){var n=quantityExponent(r),a=Math.pow(10,n),o=r/a,s;return t?o<1.5?s=1:o<2.5?s=2:o<4?s=3:o<7?s=5:s=10:o<1?s=1:o<2?s=2:o<3?s=3:o<5?s=5:s=10,r=s*a,n>=-20?+r.toFixed(n<0?-n:0):r}function quantile(r,t){var n=(r.length-1)*t+1,a=Math.floor(n),o=+r[a-1],s=n-a;return s?o+s*(r[a]-o):o}function reformIntervals(r){r.sort(function(f,d){return u(f,d,0)?-1:1});for(var t=-1/0,n=1,a=0;a<r.length;){for(var o=r[a].interval,s=r[a].close,l=0;l<2;l++)o[l]<=t&&(o[l]=t,s[l]=l?1:1-n),t=o[l],n=s[l];o[0]===o[1]&&s[0]*s[1]!==1?r.splice(a,1):a++}return r;function u(f,d,v){return f.interval[v]<d.interval[v]||f.interval[v]===d.interval[v]&&(f.close[v]-d.close[v]===(v?-1:1)||!v&&u(f,d,1))}}function numericToNumber(r){var t=parseFloat(r);return t==r&&(t!==0||!isString(r)||r.indexOf("x")<=0)?t:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,t){return t===0?r:getGreatestCommonDividor(t,r%t)}function getLeastCommonMultiple(r,t){return r==null?t:t==null?r:r*t/getGreatestCommonDividor(r,t)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console!="undefined"&&console.warn&&console.log;function outputLog(r,t,n){if(hasConsole){if(n){if(storedLogs[t])return;storedLogs[t]=!0}console[r](ECHARTS_PREFIX+t)}}function warn(r,t){outputLog("warn",r,t)}function throwError(r){throw new Error(r)}function interpolateNumber(r,t,n){return(t-r)*n+r}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,t,n){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var a=0,o=n.length;a<o;a++){var s=n[a];!r.emphasis[t].hasOwnProperty(s)&&r[t].hasOwnProperty(s)&&(r.emphasis[t][s]=r[t][s])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject$4(r)&&!isArray$1(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject$4(r)&&!(r instanceof Array)}function mappingToExists(r,t,n){var a=n==="normalMerge",o=n==="replaceMerge",s=n==="replaceAll";r=r||[],t=(t||[]).slice();var l=createHashMap();each$f(t,function(f,d){if(!isObject$4(f)){t[d]=null;return}});var u=prepareResult(r,l,n);return(a||o)&&mappingById(u,r,l,t),a&&mappingByName(u,t),a||o?mappingByIndex(u,t,o):s&&mappingInReplaceAllMode(u,t),makeIdAndName(u),u}function prepareResult(r,t,n){var a=[];if(n==="replaceAll")return a;for(var o=0;o<r.length;o++){var s=r[o];s&&s.id!=null&&t.set(s.id,o),a.push({existing:n==="replaceMerge"||isComponentIdInternal(s)?null:s,newOption:null,keyInfo:null,brandNew:null})}return a}function mappingById(r,t,n,a){each$f(a,function(o,s){if(!(!o||o.id==null)){var l=makeComparableKey(o.id),u=n.get(l);if(u!=null){var f=r[u];assert(!f.newOption,'Duplicated option on id "'+l+'".'),f.newOption=o,f.existing=t[u],a[s]=null}}})}function mappingByName(r,t){each$f(t,function(n,a){if(!(!n||n.name==null))for(var o=0;o<r.length;o++){var s=r[o].existing;if(!r[o].newOption&&s&&(s.id==null||n.id==null)&&!isComponentIdInternal(n)&&!isComponentIdInternal(s)&&keyExistAndEqual("name",s,n)){r[o].newOption=n,t[a]=null;return}}})}function mappingByIndex(r,t,n){each$f(t,function(a){if(!!a){for(var o,s=0;(o=r[s])&&(o.newOption||isComponentIdInternal(o.existing)||o.existing&&a.id!=null&&!keyExistAndEqual("id",a,o.existing));)s++;o?(o.newOption=a,o.brandNew=n):r.push({newOption:a,brandNew:n,existing:null,keyInfo:null}),s++}})}function mappingInReplaceAllMode(r,t){each$f(t,function(n){r.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var t=createHashMap();each$f(r,function(n){var a=n.existing;a&&t.set(a.id,n)}),each$f(r,function(n){var a=n.newOption;assert(!a||a.id==null||!t.get(a.id)||t.get(a.id)===n,"id duplicates: "+(a&&a.id)),a&&a.id!=null&&t.set(a.id,n),!n.keyInfo&&(n.keyInfo={})}),each$f(r,function(n,a){var o=n.existing,s=n.newOption,l=n.keyInfo;if(!!isObject$4(s)){if(l.name=s.name!=null?makeComparableKey(s.name):o?o.name:DUMMY_COMPONENT_NAME_PREFIX+a,o)l.id=makeComparableKey(o.id);else if(s.id!=null)l.id=makeComparableKey(s.id);else{var u=0;do l.id="\0"+l.name+"\0"+u++;while(t.get(l.id))}t.set(l.id,n)}})}function keyExistAndEqual(r,t,n){var a=convertOptionIdName(t[r],null),o=convertOptionIdName(n[r],null);return a!=null&&o!=null&&a===o}function makeComparableKey(r){return convertOptionIdName(r,"")}function convertOptionIdName(r,t){return r==null?t:isString(r)?r:isNumber(r)||isStringSafe(r)?r+"":t}function isNameSpecified(r){var t=r.name;return!!(t&&t.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(r){return INTERNAL_COMPONENT_ID_PREFIX+r}function setComponentTypeToKeyInfo(r,t,n){each$f(r,function(a){var o=a.newOption;isObject$4(o)&&(a.keyInfo.mainType=t,a.keyInfo.subType=determineSubType(t,o,a.existing,n))})}function determineSubType(r,t,n,a){var o=t.type?t.type:n?n.subType:a.determineSubType(r,t);return o}function compressBatches(r,t){var n={},a={};return o(r||[],n),o(t||[],a,n),[s(n),s(a)];function o(l,u,f){for(var d=0,v=l.length;d<v;d++){var g=convertOptionIdName(l[d].seriesId,null);if(g==null)return;for(var S=normalizeToArray(l[d].dataIndex),x=f&&f[g],_=0,C=S.length;_<C;_++){var T=S[_];x&&x[T]?x[T]=null:(u[g]||(u[g]={}))[T]=1}}}function s(l,u){var f=[];for(var d in l)if(l.hasOwnProperty(d)&&l[d]!=null)if(u)f.push(+d);else{var v=s(l[d],!0);v.length&&f.push({seriesId:d,dataIndex:v})}return f}}function queryDataIndex(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return isArray$1(t.dataIndex)?map$1(t.dataIndex,function(n){return r.indexOfRawIndex(n)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return isArray$1(t.name)?map$1(t.name,function(n){return r.indexOfName(n)}):r.indexOfName(t.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(t){return t[r]||(t[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(r,t,n){var a=preParseFinder(t,n),o=a.mainTypeSpecified,s=a.queryOptionMap,l=a.others,u=l,f=n?n.defaultMainType:null;return!o&&f&&s.set(f,{}),s.each(function(d,v){var g=queryReferringComponents(r,v,d,{useDefault:f===v,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});u[v+"Models"]=g.models,u[v+"Model"]=g.models[0]}),u}function preParseFinder(r,t){var n;if(isString(r)){var a={};a[r+"Index"]=0,n=a}else n=r;var o=createHashMap(),s={},l=!1;return each$f(n,function(u,f){if(f==="dataIndex"||f==="dataIndexInside"){s[f]=u;return}var d=f.match(/^(\w+)(Index|Id|Name)$/)||[],v=d[1],g=(d[2]||"").toLowerCase();if(!(!v||!g||t&&t.includeMainTypes&&indexOf(t.includeMainTypes,v)<0)){l=l||!!v;var S=o.get(v)||o.set(v,{});S[g]=u}}),{mainTypeSpecified:l,queryOptionMap:o,others:s}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(r,t,n,a){a=a||SINGLE_REFERRING;var o=n.index,s=n.id,l=n.name,u={models:null,specified:o!=null||s!=null||l!=null};if(!u.specified){var f=void 0;return u.models=a.useDefault&&(f=r.getComponent(t))?[f]:[],u}return o==="none"||o===!1?(assert(a.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):(o==="all"&&(assert(a.enableAll,'`"all"` is not a valid value on index option.'),o=s=l=null),u.models=r.queryComponents({mainType:t,index:o,id:s,name:l}),u)}function setAttribute(r,t,n){r.setAttribute?r.setAttribute(t,n):r[t]=n}function getAttribute(r,t){return r.getAttribute?r.getAttribute(t):r[t]}function getTooltipRenderMode(r){return r==="auto"?env$1.domSupported?"html":"richText":r||"html"}function groupData(r,t){var n=createHashMap(),a=[];return each$f(r,function(o){var s=t(o);(n.get(s)||(a.push(s),n.set(s,[]))).push(o)}),{keys:a,buckets:n}}function interpolateRawValues(r,t,n,a,o){var s=t==null||t==="auto";if(a==null)return a;if(isNumber(a)){var l=interpolateNumber(n||0,a,o);return round$3(l,s?Math.max(getPrecision(n||0),getPrecision(a)):t)}else{if(isString(a))return o<1?n:a;for(var u=[],f=n,d=a,v=Math.max(f?f.length:0,d.length),g=0;g<v;++g){var S=r.getDimensionInfo(g);if(S&&S.type==="ordinal")u[g]=(o<1&&f?f:d)[g];else{var x=f&&f[g]?f[g]:0,_=d[g],l=interpolateNumber(x,_,o);u[g]=round$3(l,s?Math.max(getPrecision(x),getPrecision(_)):t)}}return u}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var t={main:"",sub:""};if(r){var n=r.split(TYPE_DELIMITER);t.main=n[0]||"",t.sub=n[1]||""}return t}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,t){r.$constructor=r,r.extend=function(n){var a=this,o;return isESClass(a)?o=function(s){__extends$1(l,s);function l(){return s.apply(this,arguments)||this}return l}(a):(o=function(){(n.$constructor||a).apply(this,arguments)},inherits(o,this)),extend(o.prototype,n),o[IS_EXTENDED_CLASS]=!0,o.extend=this.extend,o.superCall=superCall,o.superApply=superApply,o.superClass=a,o}}function isESClass(r){return isFunction(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,t){r.extend=t.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var t=["__\0is_clz",classBase++].join("_");r.prototype[t]=!0,r.isInstance=function(n){return!!(n&&n[t])}}function superCall(r,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return this.superClass.prototype[t].apply(r,n)}function superApply(r,t,n){return this.superClass.prototype[t].apply(r,n)}function enableClassManagement(r){var t={};r.registerClass=function(a){var o=a.type||a.prototype.type;if(o){checkClassType(o),a.prototype.type=o;var s=parseClassType(o);if(!s.sub)t[s.main]=a;else if(s.sub!==IS_CONTAINER){var l=n(s);l[s.sub]=a}}return a},r.getClass=function(a,o,s){var l=t[a];if(l&&l[IS_CONTAINER]&&(l=o?l[o]:null),s&&!l)throw new Error(o?"Component "+a+"."+(o||"")+" is used but not imported.":a+".type should be specified.");return l},r.getClassesByMainType=function(a){var o=parseClassType(a),s=[],l=t[o.main];return l&&l[IS_CONTAINER]?each$f(l,function(u,f){f!==IS_CONTAINER&&s.push(u)}):s.push(l),s},r.hasClass=function(a){var o=parseClassType(a);return!!t[o.main]},r.getAllClassMainTypes=function(){var a=[];return each$f(t,function(o,s){a.push(s)}),a},r.hasSubTypes=function(a){var o=parseClassType(a),s=t[o.main];return s&&s[IS_CONTAINER]};function n(a){var o=t[a.main];return(!o||!o[IS_CONTAINER])&&(o=t[a.main]={},o[IS_CONTAINER]=!0),o}}function makeStyleMapper(r,t){for(var n=0;n<r.length;n++)r[n][1]||(r[n][1]=r[n][0]);return t=t||!1,function(a,o,s){for(var l={},u=0;u<r.length;u++){var f=r[u][1];if(!(o&&indexOf(o,f)>=0||s&&indexOf(s,f)<0)){var d=a.getShallow(f,t);d!=null&&(l[r[u][0]]=d)}}return l}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function r(){}return r.prototype.getAreaStyle=function(t,n){return getAreaStyle(this,t,n)},r}(),globalImageCache=new LRU$1(50);function findExistImage(r){if(typeof r=="string"){var t=globalImageCache.get(r);return t&&t.image}else return r}function createOrUpdateImage(r,t,n,a,o){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!n)return t;var s=globalImageCache.get(r),l={hostEl:n,cb:a,cbPayload:o};if(s)t=s.image,!isImageReady(t)&&s.pending.push(l);else{var u=platformApi.loadImage(r,imageOnLoad,imageOnLoad);u.__zrImageSrc=r,globalImageCache.put(r,u.__cachedImgObj={image:u,pending:[l]})}return t}else return r;else return t}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var n=r.pending[t],a=n.cb;a&&a(this,n.cbPayload),n.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(r,t,n,a,o){if(!t)return"";var s=(r+"").split(`
`);o=prepareTruncateOptions(t,n,a,o);for(var l=0,u=s.length;l<u;l++)s[l]=truncateSingleLine(s[l],o);return s.join(`
`)}function prepareTruncateOptions(r,t,n,a){a=a||{};var o=extend({},a);o.font=t,n=retrieve2(n,"..."),o.maxIterations=retrieve2(a.maxIterations,2);var s=o.minChar=retrieve2(a.minChar,0);o.cnCharWidth=getWidth("\u56FD",t);var l=o.ascCharWidth=getWidth("a",t);o.placeholder=retrieve2(a.placeholder,"");for(var u=r=Math.max(0,r-1),f=0;f<s&&u>=l;f++)u-=l;var d=getWidth(n,t);return d>u&&(n="",d=0),u=r-d,o.ellipsis=n,o.ellipsisWidth=d,o.contentWidth=u,o.containerWidth=r,o}function truncateSingleLine(r,t){var n=t.containerWidth,a=t.font,o=t.contentWidth;if(!n)return"";var s=getWidth(r,a);if(s<=n)return r;for(var l=0;;l++){if(s<=o||l>=t.maxIterations){r+=t.ellipsis;break}var u=l===0?estimateLength(r,o,t.ascCharWidth,t.cnCharWidth):s>0?Math.floor(r.length*o/s):0;r=r.substr(0,u),s=getWidth(r,a)}return r===""&&(r=t.placeholder),r}function estimateLength(r,t,n,a){for(var o=0,s=0,l=r.length;s<l&&o<t;s++){var u=r.charCodeAt(s);o+=0<=u&&u<=127?n:a}return s}function parsePlainText(r,t){r!=null&&(r+="");var n=t.overflow,a=t.padding,o=t.font,s=n==="truncate",l=getLineHeight(o),u=retrieve2(t.lineHeight,l),f=!!t.backgroundColor,d=t.lineOverflow==="truncate",v=t.width,g;v!=null&&(n==="break"||n==="breakAll")?g=r?wrapText(r,t.font,v,n==="breakAll",0).lines:[]:g=r?r.split(`
`):[];var S=g.length*u,x=retrieve2(t.height,S);if(S>x&&d){var _=Math.floor(x/u);g=g.slice(0,_)}if(r&&s&&v!=null)for(var C=prepareTruncateOptions(v,o,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),T=0;T<g.length;T++)g[T]=truncateSingleLine(g[T],C);for(var w=x,M=0,T=0;T<g.length;T++)M=Math.max(getWidth(g[T],o),M);v==null&&(v=M);var D=M;return a&&(w+=a[0]+a[2],D+=a[1]+a[3],v+=a[1]+a[3]),f&&(D=v),{lines:g,height:x,outerWidth:D,outerHeight:w,lineHeight:u,calculatedLineHeight:l,contentWidth:M,contentHeight:S,width:v}}var RichTextToken=function(){function r(){}return r}(),RichTextLine=function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r}(),RichTextContentBlock=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return r}();function parseRichText(r,t){var n=new RichTextContentBlock;if(r!=null&&(r+=""),!r)return n;for(var a=t.width,o=t.height,s=t.overflow,l=(s==="break"||s==="breakAll")&&a!=null?{width:a,accumWidth:0,breakAll:s==="breakAll"}:null,u=STYLE_REG.lastIndex=0,f;(f=STYLE_REG.exec(r))!=null;){var d=f.index;d>u&&pushTokens(n,r.substring(u,d),t,l),pushTokens(n,f[2],t,l,f[1]),u=STYLE_REG.lastIndex}u<r.length&&pushTokens(n,r.substring(u,r.length),t,l);var v=[],g=0,S=0,x=t.padding,_=s==="truncate",C=t.lineOverflow==="truncate";function T(ne,de,ve){ne.width=de,ne.lineHeight=ve,g+=ve,S=Math.max(S,de)}e:for(var w=0;w<n.lines.length;w++){for(var M=n.lines[w],D=0,I=0,R=0;R<M.tokens.length;R++){var $=M.tokens[R],N=$.styleName&&t.rich[$.styleName]||{},F=$.textPadding=N.padding,H=F?F[1]+F[3]:0,Y=$.font=N.font||t.font;$.contentHeight=getLineHeight(Y);var G=retrieve2(N.height,$.contentHeight);if($.innerHeight=G,F&&(G+=F[0]+F[2]),$.height=G,$.lineHeight=retrieve3(N.lineHeight,t.lineHeight,G),$.align=N&&N.align||t.align,$.verticalAlign=N&&N.verticalAlign||"middle",C&&o!=null&&g+$.lineHeight>o){R>0?(M.tokens=M.tokens.slice(0,R),T(M,I,D),n.lines=n.lines.slice(0,w+1)):n.lines=n.lines.slice(0,w);break e}var K=N.width,Z=K==null||K==="auto";if(typeof K=="string"&&K.charAt(K.length-1)==="%")$.percentWidth=K,v.push($),$.contentWidth=getWidth($.text,Y);else{if(Z){var J=N.backgroundColor,Q=J&&J.image;Q&&(Q=findExistImage(Q),isImageReady(Q)&&($.width=Math.max($.width,Q.width*G/Q.height)))}var te=_&&a!=null?a-I:null;te!=null&&te<$.width?!Z||te<H?($.text="",$.width=$.contentWidth=0):($.text=truncateText($.text,te-H,Y,t.ellipsis,{minChar:t.truncateMinChar}),$.width=$.contentWidth=getWidth($.text,Y)):$.contentWidth=getWidth($.text,Y)}$.width+=H,I+=$.width,N&&(D=Math.max(D,$.lineHeight))}T(M,I,D)}n.outerWidth=n.width=retrieve2(a,S),n.outerHeight=n.height=retrieve2(o,g),n.contentHeight=g,n.contentWidth=S,x&&(n.outerWidth+=x[1]+x[3],n.outerHeight+=x[0]+x[2]);for(var w=0;w<v.length;w++){var $=v[w],ie=$.percentWidth;$.width=parseInt(ie,10)/100*n.width}return n}function pushTokens(r,t,n,a,o){var s=t==="",l=o&&n.rich[o]||{},u=r.lines,f=l.font||n.font,d=!1,v,g;if(a){var S=l.padding,x=S?S[1]+S[3]:0;if(l.width!=null&&l.width!=="auto"){var _=parsePercent$1(l.width,a.width)+x;u.length>0&&_+a.accumWidth>a.width&&(v=t.split(`
`),d=!0),a.accumWidth=_}else{var C=wrapText(t,f,a.width,a.breakAll,a.accumWidth);a.accumWidth=C.accumWidth+x,g=C.linesWidths,v=C.lines}}else v=t.split(`
`);for(var T=0;T<v.length;T++){var w=v[T],M=new RichTextToken;if(M.styleName=o,M.text=w,M.isLineHolder=!w&&!s,typeof l.width=="number"?M.width=l.width:M.width=g?g[T]:getWidth(w,f),!T&&!d){var D=(u[u.length-1]||(u[0]=new RichTextLine)).tokens,I=D.length;I===1&&D[0].isLineHolder?D[0]=M:(w||!I||s)&&D.push(M)}else u.push(new RichTextLine([M]))}}function isLatin(r){var t=r.charCodeAt(0);return t>=33&&t<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function isWordBreakChar(r){return isLatin(r)?!!breakCharMap[r]:!0}function wrapText(r,t,n,a,o){for(var s=[],l=[],u="",f="",d=0,v=0,g=0;g<r.length;g++){var S=r.charAt(g);if(S===`
`){f&&(u+=f,v+=d),s.push(u),l.push(v),u="",f="",d=0,v=0;continue}var x=getWidth(S,t),_=a?!1:!isWordBreakChar(S);if(s.length?v+x>n:o+v+x>n){v?(u||f)&&(_?(u||(u=f,f="",d=0,v=d),s.push(u),l.push(v-d),f+=S,d+=x,u="",v=d):(f&&(u+=f,f="",d=0),s.push(u),l.push(v),u=S,v=x)):_?(s.push(f),l.push(d),f=S,d=x):(s.push(S),l.push(x));continue}v+=x,_?(f+=S,d+=x):(f&&(u+=f,f="",d=0),u+=S)}return!s.length&&!u&&(u=r,f="",d=0),f&&(u+=f),u&&(s.push(u),l.push(v)),s.length===1&&(v+=o),{accumWidth:v,lines:s,linesWidths:l}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype._init=function(n){for(var a=keys(n),o=0;o<a.length;o++){var s=a[o];s==="style"?this.useStyle(n[s]):r.prototype.attrKV.call(this,s,n[s])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,a,o,s){var l=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,n,a)||l&&!l[0]&&!l[3])return!1;if(o&&this.__clipPaths){for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1}if(s&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},t.prototype.contain=function(n,a){return this.rectContain(n,a)},t.prototype.traverse=function(n,a){n.call(a,this)},t.prototype.rectContain=function(n,a){var o=this.transformCoordToLocal(n,a),s=this.getBoundingRect();return s.contain(o[0],o[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var a=this.transform,o=this.getBoundingRect(),s=this.style,l=s.shadowBlur||0,u=s.shadowOffsetX||0,f=s.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),a?BoundingRect$1.applyTransform(n,o,a):n.copy(o),(l||u||f)&&(n.width+=l*2+Math.abs(u),n.height+=l*2+Math.abs(f),n.x=Math.min(n.x,n.x+u-l),n.y=Math.min(n.y,n.y+f-l));var d=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-d),n.y=Math.floor(n.y-d),n.width=Math.ceil(n.width+1+d*2),n.height=Math.ceil(n.height+1+d*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,a){n!=="style"?r.prototype.attrKV.call(this,n,a):this.style?this.setStyle(a):this.useStyle(a)},t.prototype.setStyle=function(n,a){return typeof n=="string"?this.style[n]=a:extend(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},t.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},t.prototype.createStyle=function(n){return createObject(DEFAULT_COMMON_STYLE,n)},t.prototype.useStyle=function(n){n[STYLE_MAGIC_KEY]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[STYLE_MAGIC_KEY]},t.prototype._innerSaveToNormal=function(n){r.prototype._innerSaveToNormal.call(this,n);var a=this._normalState;n.style&&!a.style&&(a.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,a,PRIMARY_STATES_KEYS)},t.prototype._applyStateObj=function(n,a,o,s,l,u){r.prototype._applyStateObj.call(this,n,a,o,s,l,u);var f=!(a&&s),d;if(a&&a.style?l?s?d=a.style:(d=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(d,a.style)):(d=this._mergeStyle(this.createStyle(),s?this.style:o.style),this._mergeStyle(d,a.style)):f&&(d=o.style),d)if(l){var v=this.style;if(this.style=this.createStyle(f?{}:v),f)for(var g=keys(v),S=0;S<g.length;S++){var x=g[S];x in d&&(d[x]=d[x],this.style[x]=v[x])}for(var _=keys(d),S=0;S<_.length;S++){var x=_[S];this.style[x]=this.style[x]}this._transitionState(n,{style:d},u,this.getAnimationStyleProps())}else this.useStyle(d);for(var C=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,S=0;S<C.length;S++){var x=C[S];a&&a[x]!=null?this[x]=a[x]:f&&o[x]!=null&&(this[x]=o[x])}},t.prototype._mergeStates=function(n){for(var a=r.prototype._mergeStates.call(this,n),o,s=0;s<n.length;s++){var l=n[s];l.style&&(o=o||{},this._mergeStyle(o,l.style))}return o&&(a.style=o),a},t.prototype._mergeStyle=function(n,a){return extend(n,a),n},t.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),t}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(r,t,n){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=t,viewRect.height=n,!tmpRect.intersect(viewRect)}var Displayable$1=Displayable,mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(r,t,n){if(r.length!==0){for(var a=r[0],o=a[0],s=a[0],l=a[1],u=a[1],f=1;f<r.length;f++)a=r[f],o=mathMin$9(o,a[0]),s=mathMax$9(s,a[0]),l=mathMin$9(l,a[1]),u=mathMax$9(u,a[1]);t[0]=o,t[1]=l,n[0]=s,n[1]=u}}function fromLine(r,t,n,a,o,s){o[0]=mathMin$9(r,n),o[1]=mathMin$9(t,a),s[0]=mathMax$9(r,n),s[1]=mathMax$9(t,a)}var xDim=[],yDim=[];function fromCubic(r,t,n,a,o,s,l,u,f,d){var v=cubicExtrema,g=cubicAt,S=v(r,n,o,l,xDim);f[0]=1/0,f[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var x=0;x<S;x++){var _=g(r,n,o,l,xDim[x]);f[0]=mathMin$9(_,f[0]),d[0]=mathMax$9(_,d[0])}S=v(t,a,s,u,yDim);for(var x=0;x<S;x++){var C=g(t,a,s,u,yDim[x]);f[1]=mathMin$9(C,f[1]),d[1]=mathMax$9(C,d[1])}f[0]=mathMin$9(r,f[0]),d[0]=mathMax$9(r,d[0]),f[0]=mathMin$9(l,f[0]),d[0]=mathMax$9(l,d[0]),f[1]=mathMin$9(t,f[1]),d[1]=mathMax$9(t,d[1]),f[1]=mathMin$9(u,f[1]),d[1]=mathMax$9(u,d[1])}function fromQuadratic(r,t,n,a,o,s,l,u){var f=quadraticExtremum,d=quadraticAt$1,v=mathMax$9(mathMin$9(f(r,n,o),1),0),g=mathMax$9(mathMin$9(f(t,a,s),1),0),S=d(r,n,o,v),x=d(t,a,s,g);l[0]=mathMin$9(r,o,S),l[1]=mathMin$9(t,s,x),u[0]=mathMax$9(r,o,S),u[1]=mathMax$9(t,s,x)}function fromArc(r,t,n,a,o,s,l,u,f){var d=min$1,v=max$1,g=Math.abs(o-s);if(g%PI2$8<1e-4&&g>1e-4){u[0]=r-n,u[1]=t-a,f[0]=r+n,f[1]=t+a;return}if(start[0]=mathCos$4(o)*n+r,start[1]=mathSin$4(o)*a+t,end[0]=mathCos$4(s)*n+r,end[1]=mathSin$4(s)*a+t,d(u,start,end),v(f,start,end),o=o%PI2$8,o<0&&(o=o+PI2$8),s=s%PI2$8,s<0&&(s=s+PI2$8),o>s&&!l?s+=PI2$8:o<s&&l&&(o+=PI2$8),l){var S=s;s=o,o=S}for(var x=0;x<s;x+=Math.PI/2)x>o&&(extremity[0]=mathCos$4(x)*n+r,extremity[1]=mathSin$4(x)*a+t,d(u,extremity,u),v(f,extremity,f))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array!="undefined",tmpAngles=[];function modPI2(r){var t=Math.round(r/PI$8*1e8)/1e8;return t%2*PI$8}function normalizeArcAngles(r,t){var n=modPI2(r[0]);n<0&&(n+=PI2$7);var a=n-r[0],o=r[1];o+=a,!t&&o-n>=PI2$7?o=n+PI2$7:t&&n-o>=PI2$7?o=n-PI2$7:!t&&n>o?o=n+(PI2$7-modPI2(n-o)):t&&n<o&&(o=n-(PI2$7-modPI2(o-n))),r[0]=n,r[1]=o}var PathProxy=function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,n,a){a=a||0,a>0&&(this._ux=mathAbs$2(a/devicePixelRatio$1/t)||0,this._uy=mathAbs$2(a/devicePixelRatio$1/n)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(CMD$4.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},r.prototype.lineTo=function(t,n){var a=mathAbs$2(t-this._xi),o=mathAbs$2(n-this._yi),s=a>this._ux||o>this._uy;if(this.addData(CMD$4.L,t,n),this._ctx&&s&&this._ctx.lineTo(t,n),s)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var l=a*a+o*o;l>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=l)}return this},r.prototype.bezierCurveTo=function(t,n,a,o,s,l){return this._drawPendingPt(),this.addData(CMD$4.C,t,n,a,o,s,l),this._ctx&&this._ctx.bezierCurveTo(t,n,a,o,s,l),this._xi=s,this._yi=l,this},r.prototype.quadraticCurveTo=function(t,n,a,o){return this._drawPendingPt(),this.addData(CMD$4.Q,t,n,a,o),this._ctx&&this._ctx.quadraticCurveTo(t,n,a,o),this._xi=a,this._yi=o,this},r.prototype.arc=function(t,n,a,o,s,l){this._drawPendingPt(),tmpAngles[0]=o,tmpAngles[1]=s,normalizeArcAngles(tmpAngles,l),o=tmpAngles[0],s=tmpAngles[1];var u=s-o;return this.addData(CMD$4.A,t,n,a,a,o,u,0,l?0:1),this._ctx&&this._ctx.arc(t,n,a,o,s,l),this._xi=mathCos$3(s)*a+t,this._yi=mathSin$3(s)*a+n,this},r.prototype.arcTo=function(t,n,a,o,s){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,a,o,s),this},r.prototype.rect=function(t,n,a,o){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,a,o),this.addData(CMD$4.R,t,n,a,o),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var t=this._ctx,n=this._x0,a=this._y0;return t&&t.closePath(),this._xi=n,this._yi=a,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&hasTypedArray&&(this.data=new Float32Array(n));for(var a=0;a<n;a++)this.data[a]=t[a];this._len=n},r.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,a=0,o=this._len,s=0;s<n;s++)a+=t[s].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(o+a));for(var s=0;s<n;s++)for(var l=t[s].data,u=0;u<l.length;u++)this.data[o++]=l[u];this._len=o},r.prototype.addData=function(t,n,a,o,s,l,u,f,d){if(!!this._saveData){var v=this.data;this._len+arguments.length>v.length&&(this._expandData(),v=this.data);for(var g=0;g<arguments.length;g++)v[this._len++]=arguments[g]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},r.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var t=this.data,n=0,a=0,o=0,s=0,l;for(l=0;l<this._len;){var u=t[l++],f=l===1;switch(f&&(n=t[l],a=t[l+1],o=n,s=a),u){case CMD$4.M:n=o=t[l++],a=s=t[l++],min2[0]=o,min2[1]=s,max2[0]=o,max2[1]=s;break;case CMD$4.L:fromLine(n,a,t[l],t[l+1],min2,max2),n=t[l++],a=t[l++];break;case CMD$4.C:fromCubic(n,a,t[l++],t[l++],t[l++],t[l++],t[l],t[l+1],min2,max2),n=t[l++],a=t[l++];break;case CMD$4.Q:fromQuadratic(n,a,t[l++],t[l++],t[l],t[l+1],min2,max2),n=t[l++],a=t[l++];break;case CMD$4.A:var d=t[l++],v=t[l++],g=t[l++],S=t[l++],x=t[l++],_=t[l++]+x;l+=1;var C=!t[l++];f&&(o=mathCos$3(x)*g+d,s=mathSin$3(x)*S+v),fromArc(d,v,g,S,x,_,C,min2,max2),n=mathCos$3(_)*g+d,a=mathSin$3(_)*S+v;break;case CMD$4.R:o=n=t[l++],s=a=t[l++];var T=t[l++],w=t[l++];fromLine(o,s,o+T,s+w,min2,max2);break;case CMD$4.Z:n=o,a=s;break}min$1(min,min,min2),max$1(max,max,max2)}return l===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},r.prototype._calculateLength=function(){var t=this.data,n=this._len,a=this._ux,o=this._uy,s=0,l=0,u=0,f=0;this._pathSegLen||(this._pathSegLen=[]);for(var d=this._pathSegLen,v=0,g=0,S=0;S<n;){var x=t[S++],_=S===1;_&&(s=t[S],l=t[S+1],u=s,f=l);var C=-1;switch(x){case CMD$4.M:s=u=t[S++],l=f=t[S++];break;case CMD$4.L:{var T=t[S++],w=t[S++],M=T-s,D=w-l;(mathAbs$2(M)>a||mathAbs$2(D)>o||S===n-1)&&(C=Math.sqrt(M*M+D*D),s=T,l=w);break}case CMD$4.C:{var I=t[S++],R=t[S++],T=t[S++],w=t[S++],$=t[S++],N=t[S++];C=cubicLength(s,l,I,R,T,w,$,N,10),s=$,l=N;break}case CMD$4.Q:{var I=t[S++],R=t[S++],T=t[S++],w=t[S++];C=quadraticLength(s,l,I,R,T,w,10),s=T,l=w;break}case CMD$4.A:var F=t[S++],H=t[S++],Y=t[S++],G=t[S++],K=t[S++],Z=t[S++],J=Z+K;S+=1,t[S++],_&&(u=mathCos$3(K)*Y+F,f=mathSin$3(K)*G+H),C=mathMax$8(Y,G)*mathMin$8(PI2$7,Math.abs(Z)),s=mathCos$3(J)*Y+F,l=mathSin$3(J)*G+H;break;case CMD$4.R:{u=s=t[S++],f=l=t[S++];var Q=t[S++],te=t[S++];C=Q*2+te*2;break}case CMD$4.Z:{var M=u-s,D=f-l;C=Math.sqrt(M*M+D*D),s=u,l=f;break}}C>=0&&(d[g++]=C,v+=C)}return this._pathLen=v,v},r.prototype.rebuildPath=function(t,n){var a=this.data,o=this._ux,s=this._uy,l=this._len,u,f,d,v,g,S,x=n<1,_,C,T=0,w=0,M,D=0,I,R;if(x&&(this._pathSegLen||this._calculateLength(),_=this._pathSegLen,C=this._pathLen,M=n*C,!M))return;e:for(var $=0;$<l;){var N=a[$++],F=$===1;switch(F&&(d=a[$],v=a[$+1],u=d,f=v),N!==CMD$4.L&&D>0&&(t.lineTo(I,R),D=0),N){case CMD$4.M:u=d=a[$++],f=v=a[$++],t.moveTo(d,v);break;case CMD$4.L:{g=a[$++],S=a[$++];var H=mathAbs$2(g-d),Y=mathAbs$2(S-v);if(H>o||Y>s){if(x){var G=_[w++];if(T+G>M){var K=(M-T)/G;t.lineTo(d*(1-K)+g*K,v*(1-K)+S*K);break e}T+=G}t.lineTo(g,S),d=g,v=S,D=0}else{var Z=H*H+Y*Y;Z>D&&(I=g,R=S,D=Z)}break}case CMD$4.C:{var J=a[$++],Q=a[$++],te=a[$++],ie=a[$++],ne=a[$++],de=a[$++];if(x){var G=_[w++];if(T+G>M){var K=(M-T)/G;cubicSubdivide(d,J,te,ne,K,tmpOutX),cubicSubdivide(v,Q,ie,de,K,tmpOutY),t.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}T+=G}t.bezierCurveTo(J,Q,te,ie,ne,de),d=ne,v=de;break}case CMD$4.Q:{var J=a[$++],Q=a[$++],te=a[$++],ie=a[$++];if(x){var G=_[w++];if(T+G>M){var K=(M-T)/G;quadraticSubdivide(d,J,te,K,tmpOutX),quadraticSubdivide(v,Q,ie,K,tmpOutY),t.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}T+=G}t.quadraticCurveTo(J,Q,te,ie),d=te,v=ie;break}case CMD$4.A:var ve=a[$++],pe=a[$++],$e=a[$++],Re=a[$++],Ge=a[$++],Qe=a[$++],Le=a[$++],We=!a[$++],Oe=$e>Re?$e:Re,ke=mathAbs$2($e-Re)>.001,Ye=Ge+Qe,ze=!1;if(x){var G=_[w++];T+G>M&&(Ye=Ge+Qe*(M-T)/G,ze=!0),T+=G}if(ke&&t.ellipse?t.ellipse(ve,pe,$e,Re,Le,Ge,Ye,We):t.arc(ve,pe,Oe,Ge,Ye,We),ze)break e;F&&(u=mathCos$3(Ge)*$e+ve,f=mathSin$3(Ge)*Re+pe),d=mathCos$3(Ye)*$e+ve,v=mathSin$3(Ye)*Re+pe;break;case CMD$4.R:u=d=a[$],f=v=a[$+1],g=a[$++],S=a[$++];var qe=a[$++],ae=a[$++];if(x){var G=_[w++];if(T+G>M){var le=M-T;t.moveTo(g,S),t.lineTo(g+mathMin$8(le,qe),S),le-=qe,le>0&&t.lineTo(g+qe,S+mathMin$8(le,ae)),le-=ae,le>0&&t.lineTo(g+mathMax$8(qe-le,0),S+ae),le-=qe,le>0&&t.lineTo(g,S+mathMax$8(ae-le,0));break e}T+=G}t.rect(g,S,qe,ae);break;case CMD$4.Z:if(x){var G=_[w++];if(T+G>M){var K=(M-T)/G;t.lineTo(d*(1-K)+u*K,v*(1-K)+f*K);break e}T+=G}t.closePath(),d=u,v=f}}},r.prototype.clone=function(){var t=new r,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},r.CMD=CMD$4,r.initDefaultProps=function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),r}(),PathProxy$1=PathProxy;function containStroke$4(r,t,n,a,o,s,l){if(o===0)return!1;var u=o,f=0,d=r;if(l>t+u&&l>a+u||l<t-u&&l<a-u||s>r+u&&s>n+u||s<r-u&&s<n-u)return!1;if(r!==n)f=(t-a)/(r-n),d=(r*a-n*t)/(r-n);else return Math.abs(s-r)<=u/2;var v=f*s-l+d,g=v*v/(f*f+1);return g<=u/2*u/2}function containStroke$3(r,t,n,a,o,s,l,u,f,d,v){if(f===0)return!1;var g=f;if(v>t+g&&v>a+g&&v>s+g&&v>u+g||v<t-g&&v<a-g&&v<s-g&&v<u-g||d>r+g&&d>n+g&&d>o+g&&d>l+g||d<r-g&&d<n-g&&d<o-g&&d<l-g)return!1;var S=cubicProjectPoint(r,t,n,a,o,s,l,u,d,v,null);return S<=g/2}function containStroke$2(r,t,n,a,o,s,l,u,f){if(l===0)return!1;var d=l;if(f>t+d&&f>a+d&&f>s+d||f<t-d&&f<a-d&&f<s-d||u>r+d&&u>n+d&&u>o+d||u<r-d&&u<n-d&&u<o-d)return!1;var v=quadraticProjectPoint(r,t,n,a,o,s,u,f,null);return v<=d/2}var PI2$6=Math.PI*2;function normalizeRadian(r){return r%=PI2$6,r<0&&(r+=PI2$6),r}var PI2$5=Math.PI*2;function containStroke$1(r,t,n,a,o,s,l,u,f){if(l===0)return!1;var d=l;u-=r,f-=t;var v=Math.sqrt(u*u+f*f);if(v-d>n||v+d<n)return!1;if(Math.abs(a-o)%PI2$5<1e-4)return!0;if(s){var g=a;a=normalizeRadian(o),o=normalizeRadian(g)}else a=normalizeRadian(a),o=normalizeRadian(o);a>o&&(o+=PI2$5);var S=Math.atan2(f,u);return S<0&&(S+=PI2$5),S>=a&&S<=o||S+PI2$5>=a&&S+PI2$5<=o}function windingLine(r,t,n,a,o,s){if(s>t&&s>a||s<t&&s<a||a===t)return 0;var l=(s-t)/(a-t),u=a<t?1:-1;(l===1||l===0)&&(u=a<t?.5:-.5);var f=l*(n-r)+r;return f===o?1/0:f>o?u:0}var CMD$3=PathProxy$1.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(r,t){return Math.abs(r-t)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,t,n,a,o,s,l,u,f,d){if(d>t&&d>a&&d>s&&d>u||d<t&&d<a&&d<s&&d<u)return 0;var v=cubicRootAt(t,a,s,u,d,roots);if(v===0)return 0;for(var g=0,S=-1,x=void 0,_=void 0,C=0;C<v;C++){var T=roots[C],w=T===0||T===1?.5:1,M=cubicAt(r,n,o,l,T);M<f||(S<0&&(S=cubicExtrema(t,a,s,u,extrema),extrema[1]<extrema[0]&&S>1&&swapExtrema(),x=cubicAt(t,a,s,u,extrema[0]),S>1&&(_=cubicAt(t,a,s,u,extrema[1]))),S===2?T<extrema[0]?g+=x<t?w:-w:T<extrema[1]?g+=_<x?w:-w:g+=u<_?w:-w:T<extrema[0]?g+=x<t?w:-w:g+=u<x?w:-w)}return g}function windingQuadratic(r,t,n,a,o,s,l,u){if(u>t&&u>a&&u>s||u<t&&u<a&&u<s)return 0;var f=quadraticRootAt(t,a,s,u,roots);if(f===0)return 0;var d=quadraticExtremum(t,a,s);if(d>=0&&d<=1){for(var v=0,g=quadraticAt$1(t,a,s,d),S=0;S<f;S++){var x=roots[S]===0||roots[S]===1?.5:1,_=quadraticAt$1(r,n,o,roots[S]);_<l||(roots[S]<d?v+=g<t?x:-x:v+=s<g?x:-x)}return v}else{var x=roots[0]===0||roots[0]===1?.5:1,_=quadraticAt$1(r,n,o,roots[0]);return _<l?0:s<t?x:-x}}function windingArc(r,t,n,a,o,s,l,u){if(u-=t,u>n||u<-n)return 0;var f=Math.sqrt(n*n-u*u);roots[0]=-f,roots[1]=f;var d=Math.abs(a-o);if(d<1e-4)return 0;if(d>=PI2$4-1e-4){a=0,o=PI2$4;var v=s?1:-1;return l>=roots[0]+r&&l<=roots[1]+r?v:0}if(a>o){var g=a;a=o,o=g}a<0&&(a+=PI2$4,o+=PI2$4);for(var S=0,x=0;x<2;x++){var _=roots[x];if(_+r>l){var C=Math.atan2(u,_),v=s?1:-1;C<0&&(C=PI2$4+C),(C>=a&&C<=o||C+PI2$4>=a&&C+PI2$4<=o)&&(C>Math.PI/2&&C<Math.PI*1.5&&(v=-v),S+=v)}}return S}function containPath(r,t,n,a,o){for(var s=r.data,l=r.len(),u=0,f=0,d=0,v=0,g=0,S,x,_=0;_<l;){var C=s[_++],T=_===1;switch(C===CMD$3.M&&_>1&&(n||(u+=windingLine(f,d,v,g,a,o))),T&&(f=s[_],d=s[_+1],v=f,g=d),C){case CMD$3.M:v=s[_++],g=s[_++],f=v,d=g;break;case CMD$3.L:if(n){if(containStroke$4(f,d,s[_],s[_+1],t,a,o))return!0}else u+=windingLine(f,d,s[_],s[_+1],a,o)||0;f=s[_++],d=s[_++];break;case CMD$3.C:if(n){if(containStroke$3(f,d,s[_++],s[_++],s[_++],s[_++],s[_],s[_+1],t,a,o))return!0}else u+=windingCubic(f,d,s[_++],s[_++],s[_++],s[_++],s[_],s[_+1],a,o)||0;f=s[_++],d=s[_++];break;case CMD$3.Q:if(n){if(containStroke$2(f,d,s[_++],s[_++],s[_],s[_+1],t,a,o))return!0}else u+=windingQuadratic(f,d,s[_++],s[_++],s[_],s[_+1],a,o)||0;f=s[_++],d=s[_++];break;case CMD$3.A:var w=s[_++],M=s[_++],D=s[_++],I=s[_++],R=s[_++],$=s[_++];_+=1;var N=!!(1-s[_++]);S=Math.cos(R)*D+w,x=Math.sin(R)*I+M,T?(v=S,g=x):u+=windingLine(f,d,S,x,a,o);var F=(a-w)*I/D+w;if(n){if(containStroke$1(w,M,I,R,R+$,N,t,F,o))return!0}else u+=windingArc(w,M,I,R,R+$,N,F,o);f=Math.cos(R+$)*D+w,d=Math.sin(R+$)*I+M;break;case CMD$3.R:v=f=s[_++],g=d=s[_++];var H=s[_++],Y=s[_++];if(S=v+H,x=g+Y,n){if(containStroke$4(v,g,S,g,t,a,o)||containStroke$4(S,g,S,x,t,a,o)||containStroke$4(S,x,v,x,t,a,o)||containStroke$4(v,x,v,g,t,a,o))return!0}else u+=windingLine(S,g,S,x,a,o),u+=windingLine(v,x,v,g,a,o);break;case CMD$3.Z:if(n){if(containStroke$4(f,d,v,g,t,a,o))return!0}else u+=windingLine(f,d,v,g,a,o);f=v,d=g;break}}return!n&&!isAroundEqual$1(d,g)&&(u+=windingLine(f,d,v,g,a,o)||0),u!==0}function contain$2(r,t,n){return containPath(r,0,!1,t,n)}function containStroke(r,t,n,a){return containPath(r,t,!0,n,a)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.update=function(){var n=this;r.prototype.update.call(this);var a=this.style;if(a.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(f){n.buildPath(f,n.shape)}),o.silent=!0;var s=o.style;for(var l in a)s[l]!==a[l]&&(s[l]=a[l]);s.fill=a.fill?a.decal:null,s.decal=null,s.shadowColor=null,a.strokeFirst&&(s.stroke=null);for(var u=0;u<pathCopyParams.length;++u)o[pathCopyParams[u]]=this[pathCopyParams[u]];o.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var a=keys(n);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var s=0;s<a.length;s++){var l=a[s],u=n[l];l==="style"?this.style?extend(this.style,u):this.useStyle(u):l==="shape"?extend(this.shape,u):r.prototype.attrKV.call(this,l,u)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(isString(n)){var a=lum(n,0);return a>.5?DARK_LABEL_COLOR:a>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(n)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},t.prototype.getInsideTextStroke=function(n){var a=this.style.fill;if(isString(a)){var o=this.__zr,s=!!(o&&o.isDarkMode()),l=lum(n,0)<DARK_MODE_THRESHOLD;if(s===l)return a}},t.prototype.buildPath=function(n,a,o){},t.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},t.prototype.hasStroke=function(){var n=this.style,a=n.stroke;return!(a==null||a==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,a=n.fill;return a!=null&&a!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,a=this.style,o=!n;if(o){var s=!1;this.path||(s=!0,this.createPathProxy());var l=this.path;(s||this.__dirty&SHAPE_CHANGED_BIT)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),n=l.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||o){u.copy(n);var f=a.strokeNoScale?this.getLineScale():1,d=a.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;d=Math.max(d,v==null?4:v)}f>1e-10&&(u.width+=d/f,u.height+=d/f,u.x-=d/f/2,u.y-=d/f/2)}return u}return n},t.prototype.contain=function(n,a){var o=this.transformCoordToLocal(n,a),s=this.getBoundingRect(),l=this.style;if(n=o[0],a=o[1],s.contain(n,a)){var u=this.path;if(this.hasStroke()){var f=l.lineWidth,d=l.strokeNoScale?this.getLineScale():1;if(d>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),containStroke(u,f/d,n,a)))return!0}if(this.hasFill())return contain$2(u,n,a)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,a){n==="shape"?this.setShape(a):r.prototype.attrKV.call(this,n,a)},t.prototype.setShape=function(n,a){var o=this.shape;return o||(o=this.shape={}),typeof n=="string"?o[n]=a:extend(o,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},t.prototype.createStyle=function(n){return createObject(DEFAULT_PATH_STYLE,n)},t.prototype._innerSaveToNormal=function(n){r.prototype._innerSaveToNormal.call(this,n);var a=this._normalState;n.shape&&!a.shape&&(a.shape=extend({},this.shape))},t.prototype._applyStateObj=function(n,a,o,s,l,u){r.prototype._applyStateObj.call(this,n,a,o,s,l,u);var f=!(a&&s),d;if(a&&a.shape?l?s?d=a.shape:(d=extend({},o.shape),extend(d,a.shape)):(d=extend({},s?this.shape:o.shape),extend(d,a.shape)):f&&(d=o.shape),d)if(l){this.shape=extend({},this.shape);for(var v={},g=keys(d),S=0;S<g.length;S++){var x=g[S];typeof d[x]=="object"?this.shape[x]=d[x]:v[x]=d[x]}this._transitionState(n,{shape:v},u)}else this.shape=d,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var a=r.prototype._mergeStates.call(this,n),o,s=0;s<n.length;s++){var l=n[s];l.shape&&(o=o||{},this._mergeStyle(o,l.shape))}return o&&(a.shape=o),a},t.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var a=function(s){__extends(l,s);function l(u){var f=s.call(this,u)||this;return n.init&&n.init.call(f,u),f}return l.prototype.getDefaultStyle=function(){return clone$4(n.style)},l.prototype.getDefaultShape=function(){return clone$4(n.shape)},l}(t);for(var o in n)typeof n[o]=="function"&&(a.prototype[o]=n[o]);return a},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),t}(Displayable$1),Path$1=Path,DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,a=n.stroke;return a!=null&&a!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,a=n.fill;return a!=null&&a!=="none"},t.prototype.createStyle=function(n){return createObject(DEFAULT_TSPAN_STYLE,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var a=n.text;a!=null?a+="":a="";var o=getBoundingRect(a,n.font,n.textAlign,n.textBaseline);if(o.x+=n.x||0,o.y+=n.y||0,this.hasStroke()){var s=n.lineWidth;o.x-=s/2,o.y-=s/2,o.width+=s,o.height+=s}this._rect=o}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(Displayable$1);TSpan.prototype.type="tspan";var TSpan$1=TSpan,DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return createObject(DEFAULT_IMAGE_STYLE,n)},t.prototype._getSize=function(n){var a=this.style,o=a[n];if(o!=null)return o;var s=isImageLike$1(a.image)?a.image:this.__image;if(!s)return 0;var l=n==="width"?"height":"width",u=a[l];return u==null?s[n]:s[n]/s[l]*u},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new BoundingRect$1(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Displayable$1);ZRImage.prototype.type="image";var ZRImage$1=ZRImage;function buildPath$2(r,t){var n=t.x,a=t.y,o=t.width,s=t.height,l=t.r,u,f,d,v;o<0&&(n=n+o,o=-o),s<0&&(a=a+s,s=-s),typeof l=="number"?u=f=d=v=l:l instanceof Array?l.length===1?u=f=d=v=l[0]:l.length===2?(u=d=l[0],f=v=l[1]):l.length===3?(u=l[0],f=v=l[1],d=l[2]):(u=l[0],f=l[1],d=l[2],v=l[3]):u=f=d=v=0;var g;u+f>o&&(g=u+f,u*=o/g,f*=o/g),d+v>o&&(g=d+v,d*=o/g,v*=o/g),f+d>s&&(g=f+d,f*=s/g,d*=s/g),u+v>s&&(g=u+v,u*=s/g,v*=s/g),r.moveTo(n+u,a),r.lineTo(n+o-f,a),f!==0&&r.arc(n+o-f,a+f,f,-Math.PI/2,0),r.lineTo(n+o,a+s-d),d!==0&&r.arc(n+o-d,a+s-d,d,0,Math.PI/2),r.lineTo(n+v,a+s),v!==0&&r.arc(n+v,a+s-v,v,Math.PI/2,Math.PI),r.lineTo(n,a+u),u!==0&&r.arc(n+u,a+u,u,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(r,t,n){if(!!t){var a=t.x1,o=t.x2,s=t.y1,l=t.y2;r.x1=a,r.x2=o,r.y1=s,r.y2=l;var u=n&&n.lineWidth;return u&&(round$2(a*2)===round$2(o*2)&&(r.x1=r.x2=subPixelOptimize$1(a,u,!0)),round$2(s*2)===round$2(l*2)&&(r.y1=r.y2=subPixelOptimize$1(s,u,!0))),r}}function subPixelOptimizeRect$1(r,t,n){if(!!t){var a=t.x,o=t.y,s=t.width,l=t.height;r.x=a,r.y=o,r.width=s,r.height=l;var u=n&&n.lineWidth;return u&&(r.x=subPixelOptimize$1(a,u,!0),r.y=subPixelOptimize$1(o,u,!0),r.width=Math.max(subPixelOptimize$1(a+s,u,!1)-r.x,s===0?0:1),r.height=Math.max(subPixelOptimize$1(o+l,u,!1)-r.y,l===0?0:1)),r}}function subPixelOptimize$1(r,t,n){if(!t)return r;var a=round$2(r*2);return(a+round$2(t))%2===0?a/2:(a+(n?1:-1))/2}var RectShape=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),subPixelOptimizeOutputShape$1={},Rect$2=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RectShape},t.prototype.buildPath=function(n,a){var o,s,l,u;if(this.subPixelOptimize){var f=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,a,this.style);o=f.x,s=f.y,l=f.width,u=f.height,f.r=a.r,a=f}else o=a.x,s=a.y,l=a.width,u=a.height;a.r?buildPath$2(n,a):n.rect(o,s,l,u)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Path$1);Rect$2.prototype.type="rect";var Rect$3=Rect$2,DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(r){__extends(t,r);function t(n){var a=r.call(this)||this;return a.type="text",a._children=[],a._defaultStyle=DEFAULT_RICH_TEXT_COLOR,a.attr(n),a}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var a=this._children[n];a.zlevel=this.zlevel,a.z=this.z,a.z2=this.z2,a.culling=this.culling,a.cursor=this.cursor,a.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var a=this.innerTransformable;return a?a.getLocalTransform(n):r.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){r.prototype.addSelfToZr.call(this,n);for(var a=0;a<this._children.length;a++)this._children[a].__zr=n},t.prototype.removeSelfFromZr=function(n){r.prototype.removeSelfFromZr.call(this,n);for(var a=0;a<this._children.length;a++)this._children[a].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new BoundingRect$1(0,0,0,0),a=this._children,o=[],s=null,l=0;l<a.length;l++){var u=a[l],f=u.getBoundingRect(),d=u.getLocalTransform(o);d?(n.copy(f),n.applyTransform(d),s=s||n.clone(),s.union(n)):(s=s||f.clone(),s.union(f))}this._rect=s||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||DEFAULT_RICH_TEXT_COLOR},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,a){if(!a)return n;var o=a.rich,s=n.rich||o&&{};return extend(n,a),o&&s?(this._mergeRich(s,o),n.rich=s):s&&(n.rich=s),n},t.prototype._mergeRich=function(n,a){for(var o=keys(a),s=0;s<o.length;s++){var l=o[s];n[l]=n[l]||{},extend(n[l],a[l])}},t.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},t.prototype._getOrCreateChild=function(n){var a=this._children[this._childCursor];return(!a||!(a instanceof n))&&(a=new n),this._children[this._childCursor++]=a,a.__zr=this.__zr,a.parent=this,a},t.prototype._updatePlainTexts=function(){var n=this.style,a=n.font||DEFAULT_FONT,o=n.padding,s=getStyleText(n),l=parsePlainText(s,n),u=needDrawBackground(n),f=!!n.backgroundColor,d=l.outerHeight,v=l.outerWidth,g=l.contentWidth,S=l.lines,x=l.lineHeight,_=this._defaultStyle,C=n.x||0,T=n.y||0,w=n.align||_.align||"left",M=n.verticalAlign||_.verticalAlign||"top",D=C,I=adjustTextY(T,l.contentHeight,M);if(u||o){var R=adjustTextX(C,v,w),$=adjustTextY(T,d,M);u&&this._renderBackground(n,n,R,$,v,d)}I+=x/2,o&&(D=getTextXForPadding(C,w,o),M==="top"?I+=o[0]:M==="bottom"&&(I-=o[2]));for(var N=0,F=!1,H=getFill("fill"in n?n.fill:(F=!0,_.fill)),Y=getStroke("stroke"in n?n.stroke:!f&&(!_.autoStroke||F)?(N=DEFAULT_STROKE_LINE_WIDTH,_.stroke):null),G=n.textShadowBlur>0,K=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),Z=l.calculatedLineHeight,J=0;J<S.length;J++){var Q=this._getOrCreateChild(TSpan$1),te=Q.createStyle();Q.useStyle(te),te.text=S[J],te.x=D,te.y=I,w&&(te.textAlign=w),te.textBaseline="middle",te.opacity=n.opacity,te.strokeFirst=!0,G&&(te.shadowBlur=n.textShadowBlur||0,te.shadowColor=n.textShadowColor||"transparent",te.shadowOffsetX=n.textShadowOffsetX||0,te.shadowOffsetY=n.textShadowOffsetY||0),te.stroke=Y,te.fill=H,Y&&(te.lineWidth=n.lineWidth||N,te.lineDash=n.lineDash,te.lineDashOffset=n.lineDashOffset||0),te.font=a,setSeparateFont(te,n),I+=x,K&&Q.setBoundingRect(new BoundingRect$1(adjustTextX(te.x,n.width,te.textAlign),adjustTextY(te.y,Z,te.textBaseline),g,Z))}},t.prototype._updateRichTexts=function(){var n=this.style,a=getStyleText(n),o=parseRichText(a,n),s=o.width,l=o.outerWidth,u=o.outerHeight,f=n.padding,d=n.x||0,v=n.y||0,g=this._defaultStyle,S=n.align||g.align,x=n.verticalAlign||g.verticalAlign,_=adjustTextX(d,l,S),C=adjustTextY(v,u,x),T=_,w=C;f&&(T+=f[3],w+=f[0]);var M=T+s;needDrawBackground(n)&&this._renderBackground(n,n,_,C,l,u);for(var D=!!n.backgroundColor,I=0;I<o.lines.length;I++){for(var R=o.lines[I],$=R.tokens,N=$.length,F=R.lineHeight,H=R.width,Y=0,G=T,K=M,Z=N-1,J=void 0;Y<N&&(J=$[Y],!J.align||J.align==="left");)this._placeToken(J,n,F,w,G,"left",D),H-=J.width,G+=J.width,Y++;for(;Z>=0&&(J=$[Z],J.align==="right");)this._placeToken(J,n,F,w,K,"right",D),H-=J.width,K-=J.width,Z--;for(G+=(s-(G-T)-(M-K)-H)/2;Y<=Z;)J=$[Y],this._placeToken(J,n,F,w,G+J.width/2,"center",D),G+=J.width,Y++;w+=F}},t.prototype._placeToken=function(n,a,o,s,l,u,f){var d=a.rich[n.styleName]||{};d.text=n.text;var v=n.verticalAlign,g=s+o/2;v==="top"?g=s+n.height/2:v==="bottom"&&(g=s+o-n.height/2);var S=!n.isLineHolder&&needDrawBackground(d);S&&this._renderBackground(d,a,u==="right"?l-n.width:u==="center"?l-n.width/2:l,g-n.height/2,n.width,n.height);var x=!!d.backgroundColor,_=n.textPadding;_&&(l=getTextXForPadding(l,u,_),g-=n.height/2-_[0]-n.innerHeight/2);var C=this._getOrCreateChild(TSpan$1),T=C.createStyle();C.useStyle(T);var w=this._defaultStyle,M=!1,D=0,I=getFill("fill"in d?d.fill:"fill"in a?a.fill:(M=!0,w.fill)),R=getStroke("stroke"in d?d.stroke:"stroke"in a?a.stroke:!x&&!f&&(!w.autoStroke||M)?(D=DEFAULT_STROKE_LINE_WIDTH,w.stroke):null),$=d.textShadowBlur>0||a.textShadowBlur>0;T.text=n.text,T.x=l,T.y=g,$&&(T.shadowBlur=d.textShadowBlur||a.textShadowBlur||0,T.shadowColor=d.textShadowColor||a.textShadowColor||"transparent",T.shadowOffsetX=d.textShadowOffsetX||a.textShadowOffsetX||0,T.shadowOffsetY=d.textShadowOffsetY||a.textShadowOffsetY||0),T.textAlign=u,T.textBaseline="middle",T.font=n.font||DEFAULT_FONT,T.opacity=retrieve3(d.opacity,a.opacity,1),setSeparateFont(T,d),R&&(T.lineWidth=retrieve3(d.lineWidth,a.lineWidth,D),T.lineDash=retrieve2(d.lineDash,a.lineDash),T.lineDashOffset=a.lineDashOffset||0,T.stroke=R),I&&(T.fill=I);var N=n.contentWidth,F=n.contentHeight;C.setBoundingRect(new BoundingRect$1(adjustTextX(T.x,N,T.textAlign),adjustTextY(T.y,F,T.textBaseline),N,F))},t.prototype._renderBackground=function(n,a,o,s,l,u){var f=n.backgroundColor,d=n.borderWidth,v=n.borderColor,g=f&&f.image,S=f&&!g,x=n.borderRadius,_=this,C,T;if(S||n.lineHeight||d&&v){C=this._getOrCreateChild(Rect$3),C.useStyle(C.createStyle()),C.style.fill=null;var w=C.shape;w.x=o,w.y=s,w.width=l,w.height=u,w.r=x,C.dirtyShape()}if(S){var M=C.style;M.fill=f||null,M.fillOpacity=retrieve2(n.fillOpacity,1)}else if(g){T=this._getOrCreateChild(ZRImage$1),T.onload=function(){_.dirtyStyle()};var D=T.style;D.image=f.image,D.x=o,D.y=s,D.width=l,D.height=u}if(d&&v){var M=C.style;M.lineWidth=d,M.stroke=v,M.strokeOpacity=retrieve2(n.strokeOpacity,1),M.lineDash=n.borderDash,M.lineDashOffset=n.borderDashOffset||0,C.strokeContainThreshold=0,C.hasFill()&&C.hasStroke()&&(M.strokeFirst=!0,M.lineWidth*=2)}var I=(C||T).style;I.shadowBlur=n.shadowBlur||0,I.shadowColor=n.shadowColor||"transparent",I.shadowOffsetX=n.shadowOffsetX||0,I.shadowOffsetY=n.shadowOffsetY||0,I.opacity=retrieve3(n.opacity,a.opacity,1)},t.makeFont=function(n){var a="";return hasSeparateFont(n)&&(a=[n.fontStyle,n.fontWeight,parseFontSize(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),a&&trim$1(a)||n.textFont||n.font},t}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,t){for(var n=0;n<FONT_PARTS.length;n++){var a=FONT_PARTS[n],o=t[a];o!=null&&(r[a]=o)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle(r),each$f(r.rich,normalizeStyle),r}function normalizeStyle(r){if(r){r.font=ZRText.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||VALID_TEXT_ALIGN[t]?t:"left";var n=r.verticalAlign;n==="center"&&(n="middle"),r.verticalAlign=n==null||VALID_TEXT_VERTICAL_ALIGN[n]?n:"top";var a=r.padding;a&&(r.padding=normalizeCssArray$1(r.padding))}}function getStroke(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,t,n){return t==="right"?r-n[1]:t==="center"?r+n[3]/2-n[1]/2:r+n[3]}function getStyleText(r){var t=r.text;return t!=null&&(t+=""),t}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var ZRText$1=ZRText,getECData=makeInner(),setCommonECData=function(r,t,n,a){if(a){var o=getECData(a);o.dataIndex=n,o.dataType=t,o.seriesIndex=r,a.type==="group"&&a.traverse(function(s){var l=getECData(s);l.seriesIndex=r,l.dataIndex=n,l.dataType=t})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(r){return r!=null&&r!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(r){if(isString(r)){var t=liftedColorCache.get(r);return t||(t=lift(r,-.1),liftedColorCache.put(r,t)),t}else if(isGradientObject(r)){var n=extend({},r);return n.colorStops=map$1(r.colorStops,function(a){return{offset:a.offset,color:lift(a.color,-.1)}}),n}return r}function doChangeHoverState(r,t,n){r.onHoverStateChange&&(r.hoverState||0)!==n&&r.onHoverStateChange(t),r.hoverState=n}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,t,n){t(r,n)}function traverseUpdateState(r,t,n){updateElementState(r,t,n),r.isGroup&&r.traverse(function(a){updateElementState(a,t,n)})}function setStatesFlag(r,t){switch(t){case"emphasis":r.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":r.hoverState=HOVER_STATE_NORMAL;break;case"blur":r.hoverState=HOVER_STATE_BLUR;break;case"select":r.selected=!0}}function getFromStateStyle(r,t,n,a){for(var o=r.style,s={},l=0;l<t.length;l++){var u=t[l],f=o[u];s[u]=f==null?a&&a[u]:f}for(var l=0;l<r.animators.length;l++){var d=r.animators[l];d.__fromStateTransition&&d.__fromStateTransition.indexOf(n)<0&&d.targetName==="style"&&d.saveTo(s,t)}return s}function createEmphasisDefaultState(r,t,n,a){var o=n&&indexOf(n,"select")>=0,s=!1;if(r instanceof Path$1){var l=getSavedStates(r),u=o&&l.selectFill||l.normalFill,f=o&&l.selectStroke||l.normalStroke;if(hasFillOrStroke(u)||hasFillOrStroke(f)){a=a||{};var d=a.style||{};d.fill==="inherit"?(s=!0,a=extend({},a),d=extend({},d),d.fill=u):!hasFillOrStroke(d.fill)&&hasFillOrStroke(u)?(s=!0,a=extend({},a),d=extend({},d),d.fill=liftColor(u)):!hasFillOrStroke(d.stroke)&&hasFillOrStroke(f)&&(s||(a=extend({},a),d=extend({},d)),d.stroke=liftColor(f)),a.style=d}}if(a&&a.z2==null){s||(a=extend({},a));var v=r.z2EmphasisLift;a.z2=r.z2+(v!=null?v:Z2_EMPHASIS_LIFT)}return a}function createSelectDefaultState(r,t,n){if(n&&n.z2==null){n=extend({},n);var a=r.z2SelectLift;n.z2=r.z2+(a!=null?a:Z2_SELECT_LIFT)}return n}function createBlurDefaultState(r,t,n){var a=indexOf(r.currentStates,t)>=0,o=r.style.opacity,s=a?null:getFromStateStyle(r,["opacity"],t,{opacity:1});n=n||{};var l=n.style||{};return l.opacity==null&&(n=extend({},n),l=extend({opacity:a?o:s.opacity*.1},l),n.style=l),n}function elementStateProxy(r,t){var n=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,t,n);if(r==="blur")return createBlurDefaultState(this,r,n);if(r==="select")return createSelectDefaultState(this,r,n)}return n}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var t=r.getTextContent(),n=r.getTextGuideLine();t&&(t.stateProxy=elementStateProxy),n&&(n.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,t){!shouldSilent(r,t)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,t){!shouldSilent(r,t)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,t){r.__highByOuter|=1<<(t||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function allLeaveBlur(r){var t=r.getModel(),n=[],a=[];t.eachComponent(function(o,s){var l=getComponentStates(s),u=o==="series",f=u?r.getViewOfSeriesModel(s):r.getViewOfComponentModel(s);!u&&a.push(f),l.isBlured&&(f.group.traverse(function(d){singleLeaveBlur(d)}),u&&n.push(s)),l.isBlured=!1}),each$f(a,function(o){o&&o.toggleBlurSeries&&o.toggleBlurSeries(n,!1,t)})}function blurSeries(r,t,n,a){var o=a.getModel();n=n||"coordinateSystem";function s(d,v){for(var g=0;g<v.length;g++){var S=d.getItemGraphicEl(v[g]);S&&leaveBlur(S)}}if(r!=null&&!(!t||t==="none")){var l=o.getSeriesByIndex(r),u=l.coordinateSystem;u&&u.master&&(u=u.master);var f=[];o.eachSeries(function(d){var v=l===d,g=d.coordinateSystem;g&&g.master&&(g=g.master);var S=g&&u?g===u:v;if(!(n==="series"&&!v||n==="coordinateSystem"&&!S||t==="series"&&v)){var x=a.getViewOfSeriesModel(d);if(x.group.traverse(function(T){singleEnterBlur(T)}),isArrayLike(t))s(d.getData(),t);else if(isObject$4(t))for(var _=keys(t),C=0;C<_.length;C++)s(d.getData(_[C]),t[_[C]]);f.push(d),getComponentStates(d).isBlured=!0}}),o.eachComponent(function(d,v){if(d!=="series"){var g=a.getViewOfComponentModel(v);g&&g.toggleBlurSeries&&g.toggleBlurSeries(f,!0,o)}})}}function blurComponent(r,t,n){if(!(r==null||t==null)){var a=n.getModel().getComponent(r,t);if(!!a){getComponentStates(a).isBlured=!0;var o=n.getViewOfComponentModel(a);!o||!o.focusBlurEnabled||o.group.traverse(function(s){singleEnterBlur(s)})}}}function blurSeriesFromHighlightPayload(r,t,n){var a=r.seriesIndex,o=r.getData(t.dataType);if(!!o){var s=queryDataIndex(o,t);s=(isArray$1(s)?s[0]:s)||0;var l=o.getItemGraphicEl(s);if(!l)for(var u=o.count(),f=0;!l&&f<u;)l=o.getItemGraphicEl(f++);if(l){var d=getECData(l);blurSeries(a,d.focus,d.blurScope,n)}else{var v=r.get(["emphasis","focus"]),g=r.get(["emphasis","blurScope"]);v!=null&&blurSeries(a,v,g,n)}}}function findComponentHighDownDispatchers(r,t,n,a){var o={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||n==null)return o;var s=a.getModel().getComponent(r,t);if(!s)return o;var l=a.getViewOfComponentModel(s);if(!l||!l.findHighDownDispatchers)return o;for(var u=l.findHighDownDispatchers(n),f,d=0;d<u.length;d++)if(getECData(u[d]).focus==="self"){f=!0;break}return{focusSelf:f,dispatchers:u}}function handleGlobalMouseOverForHighDown(r,t,n){var a=getECData(r),o=findComponentHighDownDispatchers(a.componentMainType,a.componentIndex,a.componentHighDownName,n),s=o.dispatchers,l=o.focusSelf;s?(l&&blurComponent(a.componentMainType,a.componentIndex,n),each$f(s,function(u){return enterEmphasisWhenMouseOver(u,t)})):(blurSeries(a.seriesIndex,a.focus,a.blurScope,n),a.focus==="self"&&blurComponent(a.componentMainType,a.componentIndex,n),enterEmphasisWhenMouseOver(r,t))}function handleGlobalMouseOutForHighDown(r,t,n){allLeaveBlur(n);var a=getECData(r),o=findComponentHighDownDispatchers(a.componentMainType,a.componentIndex,a.componentHighDownName,n).dispatchers;o?each$f(o,function(s){return leaveEmphasisWhenMouseOut(s,t)}):leaveEmphasisWhenMouseOut(r,t)}function toggleSelectionFromPayload(r,t,n){if(!!isSelectChangePayload(t)){var a=t.dataType,o=r.getData(a),s=queryDataIndex(o,t);isArray$1(s)||(s=[s]),r[t.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":t.type===SELECT_ACTION_TYPE?"select":"unselect"](s,a)}}function updateSeriesElementSelection(r){var t=r.getAllData();each$f(t,function(n){var a=n.data,o=n.type;a.eachItemGraphicEl(function(s,l){r.isSelected(l,o)?enterSelect(s):leaveSelect(s)})})}function getAllSelectedIndices(r){var t=[];return r.eachSeries(function(n){var a=n.getAllData();each$f(a,function(o){o.data;var s=o.type,l=n.getSelectedDataIndices();if(l.length>0){var u={dataIndex:l,seriesIndex:n.seriesIndex};s!=null&&(u.dataType=s),t.push(u)}})}),t}function enableHoverEmphasis(r,t,n){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,t,n)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,t,n,a){a?disableHoverEmphasis(r):enableHoverEmphasis(r,t,n)}function enableHoverFocus(r,t,n){var a=getECData(r);t!=null?(a.focus=t,a.blurScope=n):a.focus&&(a.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,t,n,a){n=n||"itemStyle";for(var o=0;o<OTHER_STATES.length;o++){var s=OTHER_STATES[o],l=t.getModel([s,n]),u=r.ensureState(s);u.style=a?a(l):l[defaultStyleGetterMap[n]]()}}function setAsHighDownDispatcher(r,t){var n=t===!1,a=r;r.highDownSilentOnTouch&&(a.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!n||a.__highDownDispatcher)&&(a.__highByOuter=a.__highByOuter||0,a.__highDownDispatcher=!n)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function enableComponentHighDownFeatures(r,t,n){var a=getECData(r);a.componentMainType=t.mainType,a.componentIndex=t.componentIndex,a.componentHighDownName=n}function getHighlightDigit(r){var t=_highlightKeyMap[r];return t==null&&_highlightNextDigit<=32&&(t=_highlightKeyMap[r]=_highlightNextDigit++),t}function isSelectChangePayload(r){var t=r.type;return t===SELECT_ACTION_TYPE||t===UNSELECT_ACTION_TYPE||t===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var t=r.type;return t===HIGHLIGHT_ACTION_TYPE||t===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var t=getSavedStates(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var n=r.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var CMD$2=PathProxy$1.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,t){if(!!t){var n=r.data,a=r.len(),o,s,l,u,f,d,v=CMD$2.M,g=CMD$2.C,S=CMD$2.L,x=CMD$2.R,_=CMD$2.A,C=CMD$2.Q;for(l=0,u=0;l<a;){switch(o=n[l++],u=l,s=0,o){case v:s=1;break;case S:s=1;break;case g:s=3;break;case C:s=2;break;case _:var T=t[4],w=t[5],M=mathSqrt$2(t[0]*t[0]+t[1]*t[1]),D=mathSqrt$2(t[2]*t[2]+t[3]*t[3]),I=mathAtan2(-t[1]/D,t[0]/M);n[l]*=M,n[l++]+=T,n[l]*=D,n[l++]+=w,n[l++]*=M,n[l++]*=D,n[l++]+=I,n[l++]+=I,l+=2,u=l;break;case x:d[0]=n[l++],d[1]=n[l++],applyTransform$1(d,d,t),n[u++]=d[0],n[u++]=d[1],d[0]+=n[l++],d[1]+=n[l++],applyTransform$1(d,d,t),n[u++]=d[0],n[u++]=d[1]}for(f=0;f<s;f++){var R=points$2[f];R[0]=n[l++],R[1]=n[l++],applyTransform$1(R,R,t),n[u++]=R[0],n[u++]=R[1]}}r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,t){return(r[0]*t[0]+r[1]*t[1])/(vMag(r)*vMag(t))}function vAngle(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(vRatio(r,t))}function processArc(r,t,n,a,o,s,l,u,f,d,v){var g=f*(PI$7/180),S=mathCos$2(g)*(r-n)/2+mathSin$2(g)*(t-a)/2,x=-1*mathSin$2(g)*(r-n)/2+mathCos$2(g)*(t-a)/2,_=S*S/(l*l)+x*x/(u*u);_>1&&(l*=mathSqrt$1(_),u*=mathSqrt$1(_));var C=(o===s?-1:1)*mathSqrt$1((l*l*(u*u)-l*l*(x*x)-u*u*(S*S))/(l*l*(x*x)+u*u*(S*S)))||0,T=C*l*x/u,w=C*-u*S/l,M=(r+n)/2+mathCos$2(g)*T-mathSin$2(g)*w,D=(t+a)/2+mathSin$2(g)*T+mathCos$2(g)*w,I=vAngle([1,0],[(S-T)/l,(x-w)/u]),R=[(S-T)/l,(x-w)/u],$=[(-1*S-T)/l,(-1*x-w)/u],N=vAngle(R,$);if(vRatio(R,$)<=-1&&(N=PI$7),vRatio(R,$)>=1&&(N=0),N<0){var F=Math.round(N/PI$7*1e6)/1e6;N=PI$7*2+F%2*PI$7}v.addData(d,M,D,l,u,I,N,g,s)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var t=new PathProxy$1;if(!r)return t;var n=0,a=0,o=n,s=a,l,u=PathProxy$1.CMD,f=r.match(commandReg);if(!f)return t;for(var d=0;d<f.length;d++){for(var v=f[d],g=v.charAt(0),S=void 0,x=v.match(numberReg$1)||[],_=x.length,C=0;C<_;C++)x[C]=parseFloat(x[C]);for(var T=0;T<_;){var w=void 0,M=void 0,D=void 0,I=void 0,R=void 0,$=void 0,N=void 0,F=n,H=a,Y=void 0,G=void 0;switch(g){case"l":n+=x[T++],a+=x[T++],S=u.L,t.addData(S,n,a);break;case"L":n=x[T++],a=x[T++],S=u.L,t.addData(S,n,a);break;case"m":n+=x[T++],a+=x[T++],S=u.M,t.addData(S,n,a),o=n,s=a,g="l";break;case"M":n=x[T++],a=x[T++],S=u.M,t.addData(S,n,a),o=n,s=a,g="L";break;case"h":n+=x[T++],S=u.L,t.addData(S,n,a);break;case"H":n=x[T++],S=u.L,t.addData(S,n,a);break;case"v":a+=x[T++],S=u.L,t.addData(S,n,a);break;case"V":a=x[T++],S=u.L,t.addData(S,n,a);break;case"C":S=u.C,t.addData(S,x[T++],x[T++],x[T++],x[T++],x[T++],x[T++]),n=x[T-2],a=x[T-1];break;case"c":S=u.C,t.addData(S,x[T++]+n,x[T++]+a,x[T++]+n,x[T++]+a,x[T++]+n,x[T++]+a),n+=x[T-2],a+=x[T-1];break;case"S":w=n,M=a,Y=t.len(),G=t.data,l===u.C&&(w+=n-G[Y-4],M+=a-G[Y-3]),S=u.C,F=x[T++],H=x[T++],n=x[T++],a=x[T++],t.addData(S,w,M,F,H,n,a);break;case"s":w=n,M=a,Y=t.len(),G=t.data,l===u.C&&(w+=n-G[Y-4],M+=a-G[Y-3]),S=u.C,F=n+x[T++],H=a+x[T++],n+=x[T++],a+=x[T++],t.addData(S,w,M,F,H,n,a);break;case"Q":F=x[T++],H=x[T++],n=x[T++],a=x[T++],S=u.Q,t.addData(S,F,H,n,a);break;case"q":F=x[T++]+n,H=x[T++]+a,n+=x[T++],a+=x[T++],S=u.Q,t.addData(S,F,H,n,a);break;case"T":w=n,M=a,Y=t.len(),G=t.data,l===u.Q&&(w+=n-G[Y-4],M+=a-G[Y-3]),n=x[T++],a=x[T++],S=u.Q,t.addData(S,w,M,n,a);break;case"t":w=n,M=a,Y=t.len(),G=t.data,l===u.Q&&(w+=n-G[Y-4],M+=a-G[Y-3]),n+=x[T++],a+=x[T++],S=u.Q,t.addData(S,w,M,n,a);break;case"A":D=x[T++],I=x[T++],R=x[T++],$=x[T++],N=x[T++],F=n,H=a,n=x[T++],a=x[T++],S=u.A,processArc(F,H,n,a,$,N,D,I,R,S,t);break;case"a":D=x[T++],I=x[T++],R=x[T++],$=x[T++],N=x[T++],F=n,H=a,n+=x[T++],a+=x[T++],S=u.A,processArc(F,H,n,a,$,N,D,I,R,S,t);break}}(g==="z"||g==="Z")&&(S=u.Z,t.addData(S),n=o,a=s),l=S}return t.toStatic(),t}var SVGPath=function(r){__extends(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(Path$1);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,t){var n=createPathProxyFromString(r),a=extend({},t);return a.buildPath=function(o){if(isPathProxy(o)){o.setData(n.data);var s=o.getContext();s&&o.rebuildPath(s,1)}else{var s=o;n.rebuildPath(s,1)}},a.applyTransform=function(o){transformPath(n,o),this.dirtyShape()},a}function createFromString(r,t){return new SVGPath(createPathOptions(r,t))}function extendFromString(r,t){var n=createPathOptions(r,t),a=function(o){__extends(s,o);function s(l){var u=o.call(this,l)||this;return u.applyTransform=n.applyTransform,u.buildPath=n.buildPath,u}return s}(SVGPath);return a}function mergePath$1(r,t){for(var n=[],a=r.length,o=0;o<a;o++){var s=r[o];n.push(s.getUpdatedPathProxy(!0))}var l=new Path$1(t);return l.createPathProxy(),l.buildPath=function(u){if(isPathProxy(u)){u.appendPath(n);var f=u.getContext();f&&u.rebuildPath(f,1)}},l}function clonePath(r,t){t=t||{};var n=new Path$1;return r.shape&&n.setShape(r.shape),n.setStyle(r.style),t.bakeTransform?transformPath(n.path,r.getComputedTransform()):t.toLocal?n.setLocalTransform(r.getComputedTransform()):n.copyTransform(r),n.buildPath=r.buildPath,n.applyTransform=n.applyTransform,n.z=r.z,n.z2=r.z2,n.zlevel=r.zlevel,n}var CircleShape=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Circle=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new CircleShape},t.prototype.buildPath=function(n,a){n.moveTo(a.cx+a.r,a.cy),n.arc(a.cx,a.cy,a.r,0,Math.PI*2)},t}(Path$1);Circle.prototype.type="circle";var Circle$1=Circle,EllipseShape=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ellipse=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new EllipseShape},t.prototype.buildPath=function(n,a){var o=.5522848,s=a.cx,l=a.cy,u=a.rx,f=a.ry,d=u*o,v=f*o;n.moveTo(s-u,l),n.bezierCurveTo(s-u,l-v,s-d,l-f,s,l-f),n.bezierCurveTo(s+d,l-f,s+u,l-v,s+u,l),n.bezierCurveTo(s+u,l+v,s+d,l+f,s,l+f),n.bezierCurveTo(s-d,l+f,s-u,l+v,s-u,l),n.closePath()},t}(Path$1);Ellipse.prototype.type="ellipse";var Ellipse$1=Ellipse,PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(r,t,n,a,o,s,l,u){var f=n-r,d=a-t,v=l-o,g=u-s,S=g*f-v*d;if(!(S*S<e))return S=(v*(t-s)-g*(r-o))/S,[r+S*f,t+S*d]}function computeCornerTangents(r,t,n,a,o,s,l){var u=r-n,f=t-a,d=(l?s:-s)/mathSqrt(u*u+f*f),v=d*f,g=-d*u,S=r+v,x=t+g,_=n+v,C=a+g,T=(S+_)/2,w=(x+C)/2,M=_-S,D=C-x,I=M*M+D*D,R=o-s,$=S*C-_*x,N=(D<0?-1:1)*mathSqrt(mathMax$7(0,R*R*I-$*$)),F=($*D-M*N)/I,H=(-$*M-D*N)/I,Y=($*D+M*N)/I,G=(-$*M+D*N)/I,K=F-T,Z=H-w,J=Y-T,Q=G-w;return K*K+Z*Z>J*J+Q*Q&&(F=Y,H=G),{cx:F,cy:H,x0:-v,y0:-g,x1:F*(o/R-1),y1:H*(o/R-1)}}function normalizeCornerRadius(r){var t;if(isArray$1(r)){var n=r.length;if(!n)return r;n===1?t=[r[0],r[0],0,0]:n===2?t=[r[0],r[0],r[1],r[1]]:n===3?t=r.concat(r[2]):t=r}else t=[r,r,r,r];return t}function buildPath$1(r,t){var n,a=mathMax$7(t.r,0),o=mathMax$7(t.r0||0,0),s=a>0,l=o>0;if(!(!s&&!l)){if(s||(a=o,o=0),o>a){var u=a;a=o,o=u}var f=t.startAngle,d=t.endAngle;if(!(isNaN(f)||isNaN(d))){var v=t.cx,g=t.cy,S=!!t.clockwise,x=mathAbs$1(d-f),_=x>PI2$3&&x%PI2$3;if(_>e&&(x=_),!(a>e))r.moveTo(v,g);else if(x>PI2$3-e)r.moveTo(v+a*mathCos$1(f),g+a*mathSin$1(f)),r.arc(v,g,a,f,d,!S),o>e&&(r.moveTo(v+o*mathCos$1(d),g+o*mathSin$1(d)),r.arc(v,g,o,d,f,S));else{var C=void 0,T=void 0,w=void 0,M=void 0,D=void 0,I=void 0,R=void 0,$=void 0,N=void 0,F=void 0,H=void 0,Y=void 0,G=void 0,K=void 0,Z=void 0,J=void 0,Q=a*mathCos$1(f),te=a*mathSin$1(f),ie=o*mathCos$1(d),ne=o*mathSin$1(d),de=x>e;if(de){var ve=t.cornerRadius;ve&&(n=normalizeCornerRadius(ve),C=n[0],T=n[1],w=n[2],M=n[3]);var pe=mathAbs$1(a-o)/2;if(D=mathMin$7(pe,w),I=mathMin$7(pe,M),R=mathMin$7(pe,C),$=mathMin$7(pe,T),H=N=mathMax$7(D,I),Y=F=mathMax$7(R,$),(N>e||F>e)&&(G=a*mathCos$1(d),K=a*mathSin$1(d),Z=o*mathCos$1(f),J=o*mathSin$1(f),x<PI$6)){var $e=intersect(Q,te,Z,J,G,K,ie,ne);if($e){var Re=Q-$e[0],Ge=te-$e[1],Qe=G-$e[0],Le=K-$e[1],We=1/mathSin$1(mathACos((Re*Qe+Ge*Le)/(mathSqrt(Re*Re+Ge*Ge)*mathSqrt(Qe*Qe+Le*Le)))/2),Oe=mathSqrt($e[0]*$e[0]+$e[1]*$e[1]);H=mathMin$7(N,(a-Oe)/(We+1)),Y=mathMin$7(F,(o-Oe)/(We-1))}}}if(!de)r.moveTo(v+Q,g+te);else if(H>e){var ke=mathMin$7(w,H),Ye=mathMin$7(M,H),ze=computeCornerTangents(Z,J,Q,te,a,ke,S),qe=computeCornerTangents(G,K,ie,ne,a,Ye,S);r.moveTo(v+ze.cx+ze.x0,g+ze.cy+ze.y0),H<N&&ke===Ye?r.arc(v+ze.cx,g+ze.cy,H,mathATan2(ze.y0,ze.x0),mathATan2(qe.y0,qe.x0),!S):(ke>0&&r.arc(v+ze.cx,g+ze.cy,ke,mathATan2(ze.y0,ze.x0),mathATan2(ze.y1,ze.x1),!S),r.arc(v,g,a,mathATan2(ze.cy+ze.y1,ze.cx+ze.x1),mathATan2(qe.cy+qe.y1,qe.cx+qe.x1),!S),Ye>0&&r.arc(v+qe.cx,g+qe.cy,Ye,mathATan2(qe.y1,qe.x1),mathATan2(qe.y0,qe.x0),!S))}else r.moveTo(v+Q,g+te),r.arc(v,g,a,f,d,!S);if(!(o>e)||!de)r.lineTo(v+ie,g+ne);else if(Y>e){var ke=mathMin$7(C,Y),Ye=mathMin$7(T,Y),ze=computeCornerTangents(ie,ne,G,K,o,-Ye,S),qe=computeCornerTangents(Q,te,Z,J,o,-ke,S);r.lineTo(v+ze.cx+ze.x0,g+ze.cy+ze.y0),Y<F&&ke===Ye?r.arc(v+ze.cx,g+ze.cy,Y,mathATan2(ze.y0,ze.x0),mathATan2(qe.y0,qe.x0),!S):(Ye>0&&r.arc(v+ze.cx,g+ze.cy,Ye,mathATan2(ze.y0,ze.x0),mathATan2(ze.y1,ze.x1),!S),r.arc(v,g,o,mathATan2(ze.cy+ze.y1,ze.cx+ze.x1),mathATan2(qe.cy+qe.y1,qe.cx+qe.x1),S),ke>0&&r.arc(v+qe.cx,g+qe.cy,ke,mathATan2(qe.y1,qe.x1),mathATan2(qe.y0,qe.x0),!S))}else r.lineTo(v+ie,g+ne),r.arc(v,g,o,d,f,S)}r.closePath()}}}var SectorShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Sector=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new SectorShape},t.prototype.buildPath=function(n,a){buildPath$1(n,a)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Path$1);Sector.prototype.type="sector";var Sector$1=Sector,RingShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ring=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new RingShape},t.prototype.buildPath=function(n,a){var o=a.cx,s=a.cy,l=Math.PI*2;n.moveTo(o+a.r,s),n.arc(o,s,a.r,0,l,!1),n.moveTo(o+a.r0,s),n.arc(o,s,a.r0,0,l,!0)},t}(Path$1);Ring.prototype.type="ring";var Ring$1=Ring;function smoothBezier(r,t,n,a){var o=[],s=[],l=[],u=[],f,d,v,g;if(a){v=[1/0,1/0],g=[-1/0,-1/0];for(var S=0,x=r.length;S<x;S++)min$1(v,v,r[S]),max$1(g,g,r[S]);min$1(v,v,a[0]),max$1(g,g,a[1])}for(var S=0,x=r.length;S<x;S++){var _=r[S];if(n)f=r[S?S-1:x-1],d=r[(S+1)%x];else if(S===0||S===x-1){o.push(clone$3(r[S]));continue}else f=r[S-1],d=r[S+1];sub(s,d,f),scale$2(s,s,t);var C=distance(_,f),T=distance(_,d),w=C+T;w!==0&&(C/=w,T/=w),scale$2(l,s,-C),scale$2(u,s,T);var M=add([],_,l),D=add([],_,u);a&&(max$1(M,M,v),min$1(M,M,g),max$1(D,D,v),min$1(D,D,g)),o.push(M),o.push(D)}return n&&o.push(o.shift()),o}function buildPath(r,t,n){var a=t.smooth,o=t.points;if(o&&o.length>=2){if(a){var s=smoothBezier(o,a,n,t.smoothConstraint);r.moveTo(o[0][0],o[0][1]);for(var l=o.length,u=0;u<(n?l:l-1);u++){var f=s[u*2],d=s[u*2+1],v=o[(u+1)%l];r.bezierCurveTo(f[0],f[1],d[0],d[1],v[0],v[1])}}else{r.moveTo(o[0][0],o[0][1]);for(var u=1,g=o.length;u<g;u++)r.lineTo(o[u][0],o[u][1])}n&&r.closePath()}}var PolygonShape=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Polygon=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new PolygonShape},t.prototype.buildPath=function(n,a){buildPath(n,a,!0)},t}(Path$1);Polygon.prototype.type="polygon";var Polygon$1=Polygon,PolylineShape=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Polyline$2=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PolylineShape},t.prototype.buildPath=function(n,a){buildPath(n,a,!1)},t}(Path$1);Polyline$2.prototype.type="polyline";var Polyline$3=Polyline$2,subPixelOptimizeOutputShape={},LineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Line$2=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LineShape},t.prototype.buildPath=function(n,a){var o,s,l,u;if(this.subPixelOptimize){var f=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,a,this.style);o=f.x1,s=f.y1,l=f.x2,u=f.y2}else o=a.x1,s=a.y1,l=a.x2,u=a.y2;var d=a.percent;d!==0&&(n.moveTo(o,s),d<1&&(l=o*(1-d)+l*d,u=s*(1-d)+u*d),n.lineTo(l,u))},t.prototype.pointAt=function(n){var a=this.shape;return[a.x1*(1-n)+a.x2*n,a.y1*(1-n)+a.y2*n]},t}(Path$1);Line$2.prototype.type="line";var Line$3=Line$2,out=[],BezierCurveShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function someVectorAt(r,t,n){var a=r.cpx2,o=r.cpy2;return a!=null||o!=null?[(n?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,t),(n?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(n?quadraticDerivativeAt:quadraticAt$1)(r.x1,r.cpx1,r.x2,t),(n?quadraticDerivativeAt:quadraticAt$1)(r.y1,r.cpy1,r.y2,t)]}var BezierCurve=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BezierCurveShape},t.prototype.buildPath=function(n,a){var o=a.x1,s=a.y1,l=a.x2,u=a.y2,f=a.cpx1,d=a.cpy1,v=a.cpx2,g=a.cpy2,S=a.percent;S!==0&&(n.moveTo(o,s),v==null||g==null?(S<1&&(quadraticSubdivide(o,f,l,S,out),f=out[1],l=out[2],quadraticSubdivide(s,d,u,S,out),d=out[1],u=out[2]),n.quadraticCurveTo(f,d,l,u)):(S<1&&(cubicSubdivide(o,f,v,l,S,out),f=out[1],v=out[2],l=out[3],cubicSubdivide(s,d,g,u,S,out),d=out[1],g=out[2],u=out[3]),n.bezierCurveTo(f,d,v,g,l,u)))},t.prototype.pointAt=function(n){return someVectorAt(this.shape,n,!1)},t.prototype.tangentAt=function(n){var a=someVectorAt(this.shape,n,!0);return normalize$3(a,a)},t}(Path$1);BezierCurve.prototype.type="bezier-curve";var BezierCurve$1=BezierCurve,ArcShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Arc=function(r){__extends(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ArcShape},t.prototype.buildPath=function(n,a){var o=a.cx,s=a.cy,l=Math.max(a.r,0),u=a.startAngle,f=a.endAngle,d=a.clockwise,v=Math.cos(u),g=Math.sin(u);n.moveTo(v*l+o,g*l+s),n.arc(o,s,l,u,f,!d)},t}(Path$1);Arc.prototype.type="arc";var Arc$1=Arc,CompoundPath=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,a=this.shapeChanged(),o=0;o<n.length;o++)a=a||n[o].shapeChanged();a&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],a=this.getGlobalScale(),o=0;o<n.length;o++)n[o].path||n[o].createPathProxy(),n[o].path.setScale(a[0],a[1],n[o].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,a){for(var o=a.paths||[],s=0;s<o.length;s++)o[s].buildPath(n,o[s].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],a=0;a<n.length;a++)n[a].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},t}(Path$1),CompoundPath$1=CompoundPath,Gradient=function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},r}(),Gradient$1=Gradient,LinearGradient=function(r){__extends(t,r);function t(n,a,o,s,l,u){var f=r.call(this,l)||this;return f.x=n==null?0:n,f.y=a==null?0:a,f.x2=o==null?1:o,f.y2=s==null?0:s,f.type="linear",f.global=u||!1,f}return t}(Gradient$1),LinearGradient$1=LinearGradient,RadialGradient=function(r){__extends(t,r);function t(n,a,o,s,l){var u=r.call(this,s)||this;return u.x=n==null?.5:n,u.y=a==null?.5:a,u.r=o==null?.5:o,u.type="radial",u.global=l||!1,u}return t}(Gradient$1),RadialGradient$1=RadialGradient,extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function r(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var a=0;a<4;a++)this._corners[a]=new Point$1;for(var a=0;a<2;a++)this._axes[a]=new Point$1;t&&this.fromBoundingRect(t,n)}return r.prototype.fromBoundingRect=function(t,n){var a=this._corners,o=this._axes,s=t.x,l=t.y,u=s+t.width,f=l+t.height;if(a[0].set(s,l),a[1].set(u,l),a[2].set(u,f),a[3].set(s,f),n)for(var d=0;d<4;d++)a[d].transform(n);Point$1.sub(o[0],a[1],a[0]),Point$1.sub(o[1],a[3],a[0]),o[0].normalize(),o[1].normalize();for(var d=0;d<2;d++)this._origin[d]=o[d].dot(a[0])},r.prototype.intersect=function(t,n){var a=!0,o=!n;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,t,minTv,maxTv,o,1)&&(a=!1,o)||!this._intersectCheckOneSide(t,this,minTv,maxTv,o,-1)&&(a=!1,o)||o||Point$1.copy(n,a?minTv:maxTv),a},r.prototype._intersectCheckOneSide=function(t,n,a,o,s,l){for(var u=!0,f=0;f<2;f++){var d=this._axes[f];if(this._getProjMinMaxOnAxis(f,t._corners,extent),this._getProjMinMaxOnAxis(f,n._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(u=!1,s)return u;var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)>o.len()&&(v<g?Point$1.scale(o,d,-v*l):Point$1.scale(o,d,g*l))}else if(a){var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)<a.len()&&(v<g?Point$1.scale(a,d,v*l):Point$1.scale(a,d,-g*l))}}return u},r.prototype._getProjMinMaxOnAxis=function(t,n,a){for(var o=this._axes[t],s=this._origin,l=n[0].dot(o)+s[t],u=l,f=l,d=1;d<n.length;d++){var v=n[d].dot(o)+s[t];u=Math.min(v,u),f=Math.max(v,f)}a[0]=u,a[1]=f},r}(),OrientedBoundingRect$1=OrientedBoundingRect,m$1=[],IncrementalDisplayable=function(r){__extends(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,a){n.call(a,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,a){a?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,a){a=a||!1;for(var o=0;o<n.length;o++)this.addDisplayable(n[o],a)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var a=this._cursor;a<this._displayables.length;a++)n&&n(this._displayables[a]);for(var a=0;a<this._temporaryDisplayables.length;a++)n&&n(this._temporaryDisplayables[a])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var a=this._displayables[n];a.parent=this,a.update(),a.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var a=this._temporaryDisplayables[n];a.parent=this,a.update(),a.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new BoundingRect$1(1/0,1/0,-1/0,-1/0),a=0;a<this._displayables.length;a++){var o=this._displayables[a],s=o.getBoundingRect().clone();o.needLocalTransform()&&s.applyTransform(o.getLocalTransform(m$1)),n.union(s)}this._rect=n}return this._rect},t.prototype.contain=function(n,a){var o=this.transformCoordToLocal(n,a),s=this.getBoundingRect();if(s.contain(o[0],o[1]))for(var l=0;l<this._displayables.length;l++){var u=this._displayables[l];if(u.contain(n,a))return!0}return!1},t}(Displayable$1),IncrementalDisplayable$1=IncrementalDisplayable,transitionStore=makeInner();function getAnimationConfig(r,t,n,a,o){var s;if(t&&t.ecModel){var l=t.ecModel.getUpdatePayload();s=l&&l.animation}var u=t&&t.isAnimationEnabled(),f=r==="update";if(u){var d=void 0,v=void 0,g=void 0;a?(d=retrieve2(a.duration,200),v=retrieve2(a.easing,"cubicOut"),g=0):(d=t.getShallow(f?"animationDurationUpdate":"animationDuration"),v=t.getShallow(f?"animationEasingUpdate":"animationEasing"),g=t.getShallow(f?"animationDelayUpdate":"animationDelay")),s&&(s.duration!=null&&(d=s.duration),s.easing!=null&&(v=s.easing),s.delay!=null&&(g=s.delay)),isFunction(g)&&(g=g(n,o)),isFunction(d)&&(d=d(n));var S={duration:d||0,delay:g,easing:v};return S}else return null}function animateOrSetProps(r,t,n,a,o,s,l){var u=!1,f;isFunction(o)?(l=s,s=o,o=null):isObject$4(o)&&(s=o.cb,l=o.during,u=o.isFrom,f=o.removeOpt,o=o.dataIndex);var d=r==="leave";d||t.stopAnimation("leave");var v=getAnimationConfig(r,a,o,d?f||{}:null,a&&a.getAnimationDelayParams?a.getAnimationDelayParams(t,o):null);if(v&&v.duration>0){var g=v.duration,S=v.delay,x=v.easing,_={duration:g,delay:S||0,easing:x,done:s,force:!!s||!!l,setToFinal:!d,scope:r,during:l};u?t.animateFrom(n,_):t.animateTo(n,_)}else t.stopAnimation(),!u&&t.attr(n),l&&l(1),s&&s()}function updateProps$1(r,t,n,a,o,s){animateOrSetProps("update",r,t,n,a,o,s)}function initProps(r,t,n,a,o,s){animateOrSetProps("enter",r,t,n,a,o,s)}function isElementRemoved(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var n=r.animators[t];if(n.scope==="leave")return!0}return!1}function removeElement(r,t,n,a,o,s){isElementRemoved(r)||animateOrSetProps("leave",r,t,n,a,o,s)}function fadeOutDisplayable(r,t,n,a){r.removeTextContent(),r.removeTextGuideLine(),removeElement(r,{style:{opacity:0}},t,n,a)}function removeElementWithFadeOut(r,t,n){function a(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(o){o.isGroup||fadeOutDisplayable(o,t,n,a)}):fadeOutDisplayable(r,t,n,a)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}function getOldStyle(r){return transitionStore(r).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(r){return Path$1.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,t){return extendPathFromString(r,t)}function registerShape(r,t){_customShapeMap[r]=t}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,t,n,a){var o=createFromString(r,t);return n&&(a==="center"&&(n=centerGraphic(n,o.getBoundingRect())),resizePath(o,n)),o}function makeImage(r,t,n){var a=new ZRImage$1({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){if(n==="center"){var s={width:o.width,height:o.height};a.setStyle(centerGraphic(t,s))}}});return a}function centerGraphic(r,t){var n=t.width/t.height,a=r.height*n,o;a<=r.width?o=r.height:(a=r.width,o=a/n);var s=r.x+r.width/2,l=r.y+r.height/2;return{x:s-a/2,y:l-o/2,width:a,height:o}}var mergePath=mergePath$1;function resizePath(r,t){if(!!r.applyTransform){var n=r.getBoundingRect(),a=n.calculateTransform(t);r.applyTransform(a)}}function subPixelOptimizeLine(r){return subPixelOptimizeLine$1(r.shape,r.shape,r.style),r}function subPixelOptimizeRect(r){return subPixelOptimizeRect$1(r.shape,r.shape,r.style),r}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(r,t){for(var n=identity([]);r&&r!==t;)mul(n,r.getLocalTransform(),n),r=r.parent;return n}function applyTransform(r,t,n){return t&&!isArrayLike(t)&&(t=Transformable$1.getLocalTransform(t)),n&&(t=invert([],t)),applyTransform$1([],r,t)}function transformDirection(r,t,n){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),o=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),s=[r==="left"?-a:r==="right"?a:0,r==="top"?-o:r==="bottom"?o:0];return s=applyTransform(s,t,n),Math.abs(s[0])>Math.abs(s[1])?s[0]>0?"right":"left":s[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath$1(r){return r.shape!=null}function groupTransition(r,t,n){if(!r||!t)return;function a(l){var u={};return l.traverse(function(f){isNotGroup(f)&&f.anid&&(u[f.anid]=f)}),u}function o(l){var u={x:l.x,y:l.y,rotation:l.rotation};return isPath$1(l)&&(u.shape=extend({},l.shape)),u}var s=a(r);t.traverse(function(l){if(isNotGroup(l)&&l.anid){var u=s[l.anid];if(u){var f=o(l);l.attr(o(u)),updateProps$1(l,f,n,getECData(l).dataIndex)}}})}function clipPointsByRect(r,t){return map$1(r,function(n){var a=n[0];a=mathMax$6(a,t.x),a=mathMin$6(a,t.x+t.width);var o=n[1];return o=mathMax$6(o,t.y),o=mathMin$6(o,t.y+t.height),[a,o]})}function clipRectByRect(r,t){var n=mathMax$6(r.x,t.x),a=mathMin$6(r.x+r.width,t.x+t.width),o=mathMax$6(r.y,t.y),s=mathMin$6(r.y+r.height,t.y+t.height);if(a>=n&&s>=o)return{x:n,y:o,width:a-n,height:s-o}}function createIcon(r,t,n){var a=extend({rectHover:!0},t),o=a.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(o.image=r.slice(8),defaults(o,n),new ZRImage$1(a)):makePath(r.replace("path://",""),a,n,"center")}function linePolygonIntersect(r,t,n,a,o){for(var s=0,l=o[o.length-1];s<o.length;s++){var u=o[s];if(lineLineIntersect$1(r,t,n,a,u[0],u[1],l[0],l[1]))return!0;l=u}}function lineLineIntersect$1(r,t,n,a,o,s,l,u){var f=n-r,d=a-t,v=l-o,g=u-s,S=crossProduct2d$1(v,g,f,d);if(nearZero(S))return!1;var x=r-o,_=t-s,C=crossProduct2d$1(x,_,f,d)/S;if(C<0||C>1)return!1;var T=crossProduct2d$1(x,_,v,g)/S;return!(T<0||T>1)}function crossProduct2d$1(r,t,n,a){return r*a-n*t}function nearZero(r){return r<=1e-6&&r>=-1e-6}function setTooltipConfig(r){var t=r.itemTooltipOption,n=r.componentModel,a=r.itemName,o=isString(t)?{formatter:t}:t,s=n.mainType,l=n.componentIndex,u={componentType:s,name:a,$vars:["name"]};u[s+"Index"]=l;var f=r.formatterParamsExtra;f&&each$f(keys(f),function(v){hasOwn(u,v)||(u[v]=f[v],u.$vars.push(v))});var d=getECData(r.el);d.componentMainType=s,d.componentIndex=l,d.tooltipConfig={name:a,option:defaults({content:a,formatterParams:u},o)}}function traverseElement(r,t){var n;r.isGroup&&(n=t(r)),n||r.traverse(t)}function traverseElements(r,t){if(r)if(isArray$1(r))for(var n=0;n<r.length;n++)traverseElement(r[n],t);else traverseElement(r,t)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$3);registerShape("rect",Rect$3);registerShape("line",Line$3);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);var graphic=Object.freeze(Object.defineProperty({__proto__:null,updateProps:updateProps$1,initProps,removeElement,removeElementWithFadeOut,isElementRemoved,extendShape,extendPath,registerShape,getShapeClass,makePath,makeImage,mergePath,resizePath,subPixelOptimizeLine,subPixelOptimizeRect,subPixelOptimize,getTransform:getTransform$1,applyTransform,transformDirection,groupTransition,clipPointsByRect,clipRectByRect,createIcon,linePolygonIntersect,lineLineIntersect:lineLineIntersect$1,setTooltipConfig,traverseElements,Group:Group$4,Image:ZRImage$1,Text:ZRText$1,Circle:Circle$1,Ellipse:Ellipse$1,Sector:Sector$1,Ring:Ring$1,Polygon:Polygon$1,Polyline:Polyline$3,Rect:Rect$3,Line:Line$3,BezierCurve:BezierCurve$1,Arc:Arc$1,IncrementalDisplayable:IncrementalDisplayable$1,CompoundPath:CompoundPath$1,LinearGradient:LinearGradient$1,RadialGradient:RadialGradient$1,BoundingRect:BoundingRect$1,OrientedBoundingRect:OrientedBoundingRect$1,Point:Point$1,Path:Path$1},Symbol.toStringTag,{value:"Module"})),EMPTY_OBJ={};function setLabelText(r,t){for(var n=0;n<SPECIAL_STATES.length;n++){var a=SPECIAL_STATES[n],o=t[a],s=r.ensureState(a);s.style=s.style||{},s.style.text=o}var l=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(l,!0)}function getLabelText(r,t,n){var a=r.labelFetcher,o=r.labelDataIndex,s=r.labelDimIndex,l=t.normal,u;a&&(u=a.getFormattedLabel(o,"normal",null,s,l&&l.get("formatter"),n!=null?{interpolatedValue:n}:null)),u==null&&(u=isFunction(r.defaultText)?r.defaultText(o,r,n):r.defaultText);for(var f={normal:u},d=0;d<SPECIAL_STATES.length;d++){var v=SPECIAL_STATES[d],g=t[v];f[v]=retrieve2(a?a.getFormattedLabel(o,v,null,s,g&&g.get("formatter")):null,u)}return f}function setLabelStyle(r,t,n,a){n=n||EMPTY_OBJ;for(var o=r instanceof ZRText$1,s=!1,l=0;l<DISPLAY_STATES.length;l++){var u=t[DISPLAY_STATES[l]];if(u&&u.getShallow("show")){s=!0;break}}var f=o?r:r.getTextContent();if(s){o||(f||(f=new ZRText$1,r.setTextContent(f)),r.stateProxy&&(f.stateProxy=r.stateProxy));var d=getLabelText(n,t),v=t.normal,g=!!v.getShallow("show"),S=createTextStyle(v,a&&a.normal,n,!1,!o);S.text=d.normal,o||r.setTextConfig(createTextConfig(v,n,!1));for(var l=0;l<SPECIAL_STATES.length;l++){var x=SPECIAL_STATES[l],u=t[x];if(u){var _=f.ensureState(x),C=!!retrieve2(u.getShallow("show"),g);if(C!==g&&(_.ignore=!C),_.style=createTextStyle(u,a&&a[x],n,!0,!o),_.style.text=d[x],!o){var T=r.ensureState(x);T.textConfig=createTextConfig(u,n,!0)}}}f.silent=!!v.getShallow("silent"),f.style.x!=null&&(S.x=f.style.x),f.style.y!=null&&(S.y=f.style.y),f.ignore=!g,f.useStyle(S),f.dirty(),n.enableTextSetter&&(labelInner(f).setLabelText=function(w){var M=getLabelText(n,t,w);setLabelText(f,M)})}else f&&(f.ignore=!0);r.dirty()}function getLabelStatesModels(r,t){t=t||"label";for(var n={normal:r.getModel(t)},a=0;a<SPECIAL_STATES.length;a++){var o=SPECIAL_STATES[a];n[o]=r.getModel([o,t])}return n}function createTextStyle(r,t,n,a,o){var s={};return setTextStyleCommon(s,r,n,a,o),t&&extend(s,t),s}function createTextConfig(r,t,n){t=t||{};var a={},o,s=r.getShallow("rotate"),l=retrieve2(r.getShallow("distance"),n?null:5),u=r.getShallow("offset");return o=r.getShallow("position")||(n?null:"inside"),o==="outside"&&(o=t.defaultOutsidePosition||"top"),o!=null&&(a.position=o),u!=null&&(a.offset=u),s!=null&&(s*=Math.PI/180,a.rotation=s),l!=null&&(a.distance=l),a.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",a}function setTextStyleCommon(r,t,n,a,o){n=n||EMPTY_OBJ;var s=t.ecModel,l=s&&s.option.textStyle,u=getRichItemNames(t),f;if(u){f={};for(var d in u)if(u.hasOwnProperty(d)){var v=t.getModel(["rich",d]);setTokenTextStyle(f[d]={},v,l,n,a,o,!1,!0)}}f&&(r.rich=f);var g=t.get("overflow");g&&(r.overflow=g);var S=t.get("minMargin");S!=null&&(r.margin=S),setTokenTextStyle(r,t,l,n,a,o,!0,!1)}function getRichItemNames(r){for(var t;r&&r!==r.ecModel;){var n=(r.option||EMPTY_OBJ).rich;if(n){t=t||{};for(var a=keys(n),o=0;o<a.length;o++){var s=a[o];t[s]=1}}r=r.parentModel}return t}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,t,n,a,o,s,l,u){n=!o&&n||EMPTY_OBJ;var f=a&&a.inheritColor,d=t.getShallow("color"),v=t.getShallow("textBorderColor"),g=retrieve2(t.getShallow("opacity"),n.opacity);(d==="inherit"||d==="auto")&&(f?d=f:d=null),(v==="inherit"||v==="auto")&&(f?v=f:v=null),s||(d=d||n.color,v=v||n.textBorderColor),d!=null&&(r.fill=d),v!=null&&(r.stroke=v);var S=retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth);S!=null&&(r.lineWidth=S);var x=retrieve2(t.getShallow("textBorderType"),n.textBorderType);x!=null&&(r.lineDash=x);var _=retrieve2(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);_!=null&&(r.lineDashOffset=_),!o&&g==null&&!u&&(g=a&&a.defaultOpacity),g!=null&&(r.opacity=g),!o&&!s&&r.fill==null&&a.inheritColor&&(r.fill=a.inheritColor);for(var C=0;C<TEXT_PROPS_WITH_GLOBAL.length;C++){var T=TEXT_PROPS_WITH_GLOBAL[C],w=retrieve2(t.getShallow(T),n[T]);w!=null&&(r[T]=w)}for(var C=0;C<TEXT_PROPS_SELF.length;C++){var T=TEXT_PROPS_SELF[C],w=t.getShallow(T);w!=null&&(r[T]=w)}if(r.verticalAlign==null){var M=t.getShallow("baseline");M!=null&&(r.verticalAlign=M)}if(!l||!a.disableBox){for(var C=0;C<TEXT_PROPS_BOX.length;C++){var T=TEXT_PROPS_BOX[C],w=t.getShallow(T);w!=null&&(r[T]=w)}var D=t.getShallow("borderType");D!=null&&(r.borderDash=D),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&f&&(r.backgroundColor=f),(r.borderColor==="auto"||r.borderColor==="inherit")&&f&&(r.borderColor=f)}}function getFont(r,t){var n=t&&t.getModel("textStyle");return trim$1([r.fontStyle||n&&n.getShallow("fontStyle")||"",r.fontWeight||n&&n.getShallow("fontWeight")||"",(r.fontSize||n&&n.getShallow("fontSize")||12)+"px",r.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(r,t,n,a){if(!!r){var o=labelInner(r);o.prevValue=o.value,o.value=n;var s=t.normal;o.valueAnimation=s.get("valueAnimation"),o.valueAnimation&&(o.precision=s.get("precision"),o.defaultInterpolatedText=a,o.statesModels=t)}}function animateLabelValue(r,t,n,a,o){var s=labelInner(r);if(!s.valueAnimation||s.prevValue===s.value)return;var l=s.defaultInterpolatedText,u=retrieve2(s.interpolatedValue,s.prevValue),f=s.value;function d(v){var g=interpolateRawValues(n,s.precision,u,f,v);s.interpolatedValue=v===1?null:g;var S=getLabelText({labelDataIndex:t,labelFetcher:o,defaultText:l?l(g):g+""},s.statesModels,g);setLabelText(r,S)}r.percent=0,(s.prevValue==null?initProps:updateProps$1)(r,{percent:1},a,t,null,d)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function r(){}return r.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},a=0;a<textStyleParams.length;a++)n[textStyleParams[a]]=this.getShallow(textStyleParams[a]);return tmpText.useStyle(n),tmpText.update(),tmpText.getBoundingRect()},r}(),TextStyleMixin$1=TextStyleMixin,LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function r(){}return r.prototype.getLineStyle=function(t){return getLineStyle(this,t)},r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function r(){}return r.prototype.getItemStyle=function(t,n){return getItemStyle(this,t,n)},r}(),Model=function(){function r(t,n,a){this.parentModel=n,this.ecModel=a,this.option=t}return r.prototype.init=function(t,n,a){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s]},r.prototype.mergeOption=function(t,n){merge(this.option,t,!0)},r.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},r.prototype.getShallow=function(t,n){var a=this.option,o=a==null?a:a[t];if(o==null&&!n){var s=this.parentModel;s&&(o=s.getShallow(t))}return o},r.prototype.getModel=function(t,n){var a=t!=null,o=a?this.parsePath(t):null,s=a?this._doGet(o):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),new r(s,n,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(clone$4(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,n){var a=this.option;if(!t)return a;for(var o=0;o<t.length&&!(!!t[o]&&(a=a&&typeof a=="object"?a[t[o]]:null,a==null));o++);return a==null&&n&&(a=n._doGet(this.resolveParentPath(t),n.parentModel)),a},r}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);var Model$1=Model,base=Math.round(Math.random()*10);function getUID(r){return[r||"",base++].join("_")}function enableSubTypeDefaulter(r){var t={};r.registerSubTypeDefaulter=function(n,a){var o=parseClassType(n);t[o.main]=a},r.determineSubType=function(n,a){var o=a.type;if(!o){var s=parseClassType(n).main;r.hasSubTypes(n)&&t[s]&&(o=t[s](a))}return o}}function enableTopologicalTravel(r,t){r.topologicalTravel=function(s,l,u,f){if(!s.length)return;var d=n(l),v=d.graph,g=d.noEntryList,S={};for(each$f(s,function(M){S[M]=!0});g.length;){var x=g.pop(),_=v[x],C=!!S[x];C&&(u.call(f,x,_.originalDeps.slice()),delete S[x]),each$f(_.successor,C?w:T)}each$f(S,function(){var M="";throw new Error(M)});function T(M){v[M].entryCount--,v[M].entryCount===0&&g.push(M)}function w(M){S[M]=!0,T(M)}};function n(s){var l={},u=[];return each$f(s,function(f){var d=a(l,f),v=d.originalDeps=t(f),g=o(v,s);d.entryCount=g.length,d.entryCount===0&&u.push(f),each$f(g,function(S){indexOf(d.predecessor,S)<0&&d.predecessor.push(S);var x=a(l,S);indexOf(x.successor,S)<0&&x.successor.push(f)})}),{graph:l,noEntryList:u}}function a(s,l){return s[l]||(s[l]={predecessor:[],successor:[]}),s[l]}function o(s,l){var u=[];return each$f(s,function(f){indexOf(l,f)>=0&&u.push(f)}),u}}function inheritDefaultOption(r,t){return merge(merge({},r,!0),t,!0)}var langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(r,t){r=r.toUpperCase(),localeModels[r]=new Model$1(t),localeStorage[r]=t}function createLocaleObject(r){if(isString(r)){var t=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone$4(t):merge(clone$4(t),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(r),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(r,t){return r+="","0000".substr(0,t-r.length)+r}function getPrimaryTimeUnit(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function isPrimaryTimeUnit(r){return r===getPrimaryTimeUnit(r)}function getDefaultFormatPrecisionOfInterval(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(r,t,n,a){var o=parseDate(r),s=o[fullYearGetterName(n)](),l=o[monthGetterName(n)]()+1,u=Math.floor((l-1)/4)+1,f=o[dateGetterName(n)](),d=o["get"+(n?"UTC":"")+"Day"](),v=o[hoursGetterName(n)](),g=(v-1)%12+1,S=o[minutesGetterName(n)](),x=o[secondsGetterName(n)](),_=o[millisecondsGetterName(n)](),C=a instanceof Model$1?a:getLocaleModel(a||SYSTEM_LANG)||getDefaultLocaleModel(),T=C.getModel("time"),w=T.get("month"),M=T.get("monthAbbr"),D=T.get("dayOfWeek"),I=T.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,s+"").replace(/{yy}/g,s%100+"").replace(/{Q}/g,u+"").replace(/{MMMM}/g,w[l-1]).replace(/{MMM}/g,M[l-1]).replace(/{MM}/g,pad(l,2)).replace(/{M}/g,l+"").replace(/{dd}/g,pad(f,2)).replace(/{d}/g,f+"").replace(/{eeee}/g,D[d]).replace(/{ee}/g,I[d]).replace(/{e}/g,d+"").replace(/{HH}/g,pad(v,2)).replace(/{H}/g,v+"").replace(/{hh}/g,pad(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,pad(S,2)).replace(/{m}/g,S+"").replace(/{ss}/g,pad(x,2)).replace(/{s}/g,x+"").replace(/{SSS}/g,pad(_,3)).replace(/{S}/g,_+"")}function leveledFormat(r,t,n,a,o){var s=null;if(isString(n))s=n;else if(isFunction(n))s=n(r.value,t,{level:r.level});else{var l=extend({},defaultLeveledFormatter);if(r.level>0)for(var u=0;u<primaryTimeUnits.length;++u)l[primaryTimeUnits[u]]="{primary|"+l[primaryTimeUnits[u]]+"}";var f=n?n.inherit===!1?n:defaults(n,l):l,d=getUnitFromValue(r.value,o);if(f[d])s=f[d];else if(f.inherit){for(var v=timeUnits.indexOf(d),u=v-1;u>=0;--u)if(f[d]){s=f[d];break}s=s||l.none}if(isArray$1(s)){var g=r.level==null?0:r.level>=0?r.level:s.length+r.level;g=Math.min(g,s.length-1),s=s[g]}}return format(new Date(r.value),s,o,a)}function getUnitFromValue(r,t){var n=parseDate(r),a=n[monthGetterName(t)]()+1,o=n[dateGetterName(t)](),s=n[hoursGetterName(t)](),l=n[minutesGetterName(t)](),u=n[secondsGetterName(t)](),f=n[millisecondsGetterName(t)](),d=f===0,v=d&&u===0,g=v&&l===0,S=g&&s===0,x=S&&o===1,_=x&&a===1;return _?"year":x?"month":S?"day":g?"hour":v?"minute":d?"second":"millisecond"}function getUnitValue(r,t,n){var a=isNumber(r)?parseDate(r):r;switch(t=t||getUnitFromValue(r,n),t){case"year":return a[fullYearGetterName(n)]();case"half-year":return a[monthGetterName(n)]()>=6?1:0;case"quarter":return Math.floor((a[monthGetterName(n)]()+1)/4);case"month":return a[monthGetterName(n)]();case"day":return a[dateGetterName(n)]();case"half-day":return a[hoursGetterName(n)]()/24;case"hour":return a[hoursGetterName(n)]();case"minute":return a[minutesGetterName(n)]();case"second":return a[secondsGetterName(n)]();case"millisecond":return a[millisecondsGetterName(n)]()}}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(r){return r?"setUTCFullYear":"setFullYear"}function monthSetterName(r){return r?"setUTCMonth":"setMonth"}function dateSetterName(r){return r?"setUTCDate":"setDate"}function hoursSetterName(r){return r?"setUTCHours":"setHours"}function minutesSetterName(r){return r?"setUTCMinutes":"setMinutes"}function secondsSetterName(r){return r?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(r){return r?"setUTCMilliseconds":"setMilliseconds"}function addCommas(r){if(!isNumeric(r))return isString(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function toCamelCase(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(n,a){return a.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray=normalizeCssArray$1,replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(t,n){return replaceMap[n]})}function makeValueReadable(r,t,n){var a="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function o(v){return v&&trim$1(v)?v:"-"}function s(v){return!!(v!=null&&!isNaN(v)&&isFinite(v))}var l=t==="time",u=r instanceof Date;if(l||u){var f=l?parseDate(r):r;if(isNaN(+f)){if(u)return"-"}else return format(f,a,n)}if(t==="ordinal")return isStringSafe(r)?o(r):isNumber(r)&&s(r)?r+"":"-";var d=numericToNumber(r);return s(d)?addCommas(d):isStringSafe(r)?o(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,t){return"{"+r+(t==null?"":t)+"}"};function formatTpl(r,t,n){isArray$1(t)||(t=[t]);var a=t.length;if(!a)return"";for(var o=t[0].$vars||[],s=0;s<o.length;s++){var l=TPL_VAR_ALIAS[s];r=r.replace(wrapVar(l),wrapVar(l,0))}for(var u=0;u<a;u++)for(var f=0;f<o.length;f++){var d=t[u][o[f]];r=r.replace(wrapVar(TPL_VAR_ALIAS[f],u),n?encodeHTML(d):d)}return r}function formatTplSimple(r,t,n){return each$f(t,function(a,o){r=r.replace("{"+o+"}",n?encodeHTML(a):a)}),r}function getTooltipMarker(r,t){var n=isString(r)?{color:r,extraCssText:t}:r||{},a=n.color,o=n.type;t=n.extraCssText;var s=n.renderMode||"html";if(!a)return"";if(s==="html")return o==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(a)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(a)+";"+(t||"")+'"></span>';var l=n.markerId||"markerX";return{renderMode:s,content:"{"+l+"|}  ",style:o==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:a}:{width:10,height:10,borderRadius:5,backgroundColor:a}}}function convertToColorString(r,t){return t=t||"transparent",isString(r)?r:isObject$4(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}function windowOpen(r,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=r}else window.open(r,t)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,t,n,a,o){var s=0,l=0;a==null&&(a=1/0),o==null&&(o=1/0);var u=0;t.eachChild(function(f,d){var v=f.getBoundingRect(),g=t.childAt(d+1),S=g&&g.getBoundingRect(),x,_;if(r==="horizontal"){var C=v.width+(S?-S.x+v.x:0);x=s+C,x>a||f.newline?(s=0,x=C,l+=u+n,u=v.height):u=Math.max(u,v.height)}else{var T=v.height+(S?-S.y+v.y:0);_=l+T,_>o||f.newline?(s+=u+n,l=0,_=T,u=v.width):u=Math.max(u,v.width)}f.newline||(f.x=s,f.y=l,f.markRedraw(),r==="horizontal"?s=x+n:l=_+n)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(r,t,n){var a=t.width,o=t.height,s=parsePercent(r.left,a),l=parsePercent(r.top,o),u=parsePercent(r.right,a),f=parsePercent(r.bottom,o);return(isNaN(s)||isNaN(parseFloat(r.left)))&&(s=0),(isNaN(u)||isNaN(parseFloat(r.right)))&&(u=a),(isNaN(l)||isNaN(parseFloat(r.top)))&&(l=0),(isNaN(f)||isNaN(parseFloat(r.bottom)))&&(f=o),n=normalizeCssArray(n||0),{width:Math.max(u-s-n[1]-n[3],0),height:Math.max(f-l-n[0]-n[2],0)}}function getLayoutRect(r,t,n){n=normalizeCssArray(n||0);var a=t.width,o=t.height,s=parsePercent(r.left,a),l=parsePercent(r.top,o),u=parsePercent(r.right,a),f=parsePercent(r.bottom,o),d=parsePercent(r.width,a),v=parsePercent(r.height,o),g=n[2]+n[0],S=n[1]+n[3],x=r.aspect;switch(isNaN(d)&&(d=a-u-S-s),isNaN(v)&&(v=o-f-g-l),x!=null&&(isNaN(d)&&isNaN(v)&&(x>a/o?d=a*.8:v=o*.8),isNaN(d)&&(d=x*v),isNaN(v)&&(v=d/x)),isNaN(s)&&(s=a-u-d-S),isNaN(l)&&(l=o-f-v-g),r.left||r.right){case"center":s=a/2-d/2-n[3];break;case"right":s=a-d-S;break}switch(r.top||r.bottom){case"middle":case"center":l=o/2-v/2-n[0];break;case"bottom":l=o-v-g;break}s=s||0,l=l||0,isNaN(d)&&(d=a-S-s-(u||0)),isNaN(v)&&(v=o-g-l-(f||0));var _=new BoundingRect$1(s+n[3],l+n[0],d,v);return _.margin=n,_}function positionElement(r,t,n,a,o,s){var l=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1],f=o&&o.boundingMode||"all";if(s=s||r,s.x=r.x,s.y=r.y,!l&&!u)return!1;var d;if(f==="raw")d=r.type==="group"?new BoundingRect$1(0,0,+t.width||0,+t.height||0):r.getBoundingRect();else if(d=r.getBoundingRect(),r.needLocalTransform()){var v=r.getLocalTransform();d=d.clone(),d.applyTransform(v)}var g=getLayoutRect(defaults({width:d.width,height:d.height},t),n,a),S=l?g.x-d.x:0,x=u?g.y-d.y:0;return f==="raw"?(s.x=S,s.y=x):(s.x+=S,s.y+=x),s===r&&r.markRedraw(),!0}function sizeCalculable(r,t){return r[HV_NAMES[t][0]]!=null||r[HV_NAMES[t][1]]!=null&&r[HV_NAMES[t][2]]!=null}function fetchLayoutMode(r){var t=r.layoutMode||r.constructor.layoutMode;return isObject$4(t)?t:t?{type:t}:null}function mergeLayoutParam(r,t,n){var a=n&&n.ignoreSize;!isArray$1(a)&&(a=[a,a]);var o=l(HV_NAMES[0],0),s=l(HV_NAMES[1],1);d(HV_NAMES[0],r,o),d(HV_NAMES[1],r,s);function l(v,g){var S={},x=0,_={},C=0,T=2;if(each$e(v,function(D){_[D]=r[D]}),each$e(v,function(D){u(t,D)&&(S[D]=_[D]=t[D]),f(S,D)&&x++,f(_,D)&&C++}),a[g])return f(t,v[1])?_[v[2]]=null:f(t,v[2])&&(_[v[1]]=null),_;if(C===T||!x)return _;if(x>=T)return S;for(var w=0;w<v.length;w++){var M=v[w];if(!u(S,M)&&u(r,M)){S[M]=r[M];break}}return S}function u(v,g){return v.hasOwnProperty(g)}function f(v,g){return v[g]!=null&&v[g]!=="auto"}function d(v,g,S){each$e(v,function(x){g[x]=S[x]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,t){return t&&r&&each$e(LOCATION_PARAMS,function(n){t.hasOwnProperty(n)&&(r[n]=t[n])}),r}var inner$l=makeInner(),ComponentModel=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this,n,a,o)||this;return s.uid=getUID("ec_cpt_model"),s}return t.prototype.init=function(n,a,o){this.mergeDefaultAndTheme(n,o)},t.prototype.mergeDefaultAndTheme=function(n,a){var o=fetchLayoutMode(this),s=o?getLayoutParams(n):{},l=a.getTheme();merge(n,l.get(this.mainType)),merge(n,this.getDefaultOption()),o&&mergeLayoutParam(n,s,o)},t.prototype.mergeOption=function(n,a){merge(this.option,n,!0);var o=fetchLayoutMode(this);o&&mergeLayoutParam(this.option,n,o)},t.prototype.optionUpdated=function(n,a){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!isExtendedClass(n))return n.defaultOption;var a=inner$l(this);if(!a.defaultOption){for(var o=[],s=n;s;){var l=s.prototype.defaultOption;l&&o.push(l),s=s.superClass}for(var u={},f=o.length-1;f>=0;f--)u=merge(u,o[f],!0);a.defaultOption=u}return a.defaultOption},t.prototype.getReferringComponents=function(n,a){var o=n+"Index",s=n+"Id";return queryReferringComponents(this.ecModel,n,{index:this.get(o,!0),id:this.get(s,!0)},a)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var t=[];return each$f(ComponentModel.getClassesByMainType(r),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=map$1(t,function(n){return parseClassType(n).main}),r!=="dataset"&&indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}var ComponentModel$1=ComponentModel,platform="";typeof navigator!="undefined"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)",globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(r,t,n){var a={},o=querySeriesUpstreamDatasetModel(t);if(!o||!r)return a;var s=[],l=[],u=t.ecModel,f=innerGlobalModel(u).datasetMap,d=o.uid+"_"+n.seriesLayoutBy,v,g;r=r.slice(),each$f(r,function(C,T){var w=isObject$4(C)?C:r[T]={name:C};w.type==="ordinal"&&v==null&&(v=T,g=_(w)),a[w.name]=[]});var S=f.get(d)||f.set(d,{categoryWayDim:g,valueWayDim:0});each$f(r,function(C,T){var w=C.name,M=_(C);if(v==null){var D=S.valueWayDim;x(a[w],D,M),x(l,D,M),S.valueWayDim+=M}else if(v===T)x(a[w],0,M),x(s,0,M);else{var D=S.categoryWayDim;x(a[w],D,M),x(l,D,M),S.categoryWayDim+=M}});function x(C,T,w){for(var M=0;M<w;M++)C.push(T+M)}function _(C){var T=C.dimsDef;return T?T.length:1}return s.length&&(a.itemName=s),l.length&&(a.seriesName=l),a}function makeSeriesEncodeForNameBased(r,t,n){var a={},o=querySeriesUpstreamDatasetModel(r);if(!o)return a;var s=t.sourceFormat,l=t.dimensionsDefine,u;(s===SOURCE_FORMAT_OBJECT_ROWS||s===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(l,function(v,g){(isObject$4(v)?v.name:v)==="name"&&(u=g)});var f=function(){for(var v={},g={},S=[],x=0,_=Math.min(5,n);x<_;x++){var C=doGuessOrdinal(t.data,s,t.seriesLayoutBy,l,t.startIndex,x);S.push(C);var T=C===BE_ORDINAL.Not;if(T&&v.v==null&&x!==u&&(v.v=x),(v.n==null||v.n===v.v||!T&&S[v.n]===BE_ORDINAL.Not)&&(v.n=x),w(v)&&S[v.n]!==BE_ORDINAL.Not)return v;T||(C===BE_ORDINAL.Might&&g.v==null&&x!==u&&(g.v=x),(g.n==null||g.n===g.v)&&(g.n=x))}function w(M){return M.v!=null&&M.n!=null}return w(v)?v:w(g)?g:null}();if(f){a.value=[f.v];var d=u!=null?u:f.n;a.itemName=[d],a.seriesName=[d]}return a}function querySeriesUpstreamDatasetModel(r){var t=r.get("data",!0);if(!t)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,t){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function doGuessOrdinal(r,t,n,a,o,s){var l,u=5;if(isTypedArray(r))return BE_ORDINAL.Not;var f,d;if(a){var v=a[s];isObject$4(v)?(f=v.name,d=v.type):isString(v)&&(f=v)}if(d!=null)return d==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(t===SOURCE_FORMAT_ARRAY_ROWS){var g=r;if(n===SERIES_LAYOUT_BY_ROW){for(var S=g[s],x=0;x<(S||[]).length&&x<u;x++)if((l=I(S[o+x]))!=null)return l}else for(var x=0;x<g.length&&x<u;x++){var _=g[o+x];if(_&&(l=I(_[s]))!=null)return l}}else if(t===SOURCE_FORMAT_OBJECT_ROWS){var C=r;if(!f)return BE_ORDINAL.Not;for(var x=0;x<C.length&&x<u;x++){var T=C[x];if(T&&(l=I(T[f]))!=null)return l}}else if(t===SOURCE_FORMAT_KEYED_COLUMNS){var w=r;if(!f)return BE_ORDINAL.Not;var S=w[f];if(!S||isTypedArray(S))return BE_ORDINAL.Not;for(var x=0;x<S.length&&x<u;x++)if((l=I(S[x]))!=null)return l}else if(t===SOURCE_FORMAT_ORIGINAL)for(var M=r,x=0;x<M.length&&x<u;x++){var T=M[x],D=getDataItemValue(T);if(!isArray$1(D))return BE_ORDINAL.Not;if((l=I(D[s]))!=null)return l}function I(R){var $=isString(R);if(R!=null&&isFinite(R)&&R!=="")return $?BE_ORDINAL.Might:BE_ORDINAL.Not;if($&&R!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(r,t){assert(internalOptionCreatorMap.get(r)==null&&t),internalOptionCreatorMap.set(r,t)}function concatInternalOptions(r,t,n){var a=internalOptionCreatorMap.get(t);if(!a)return n;var o=a(r);return o?n.concat(o):n}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function r(){}return r.prototype.getColorFromPalette=function(t,n,a){var o=normalizeToArray(this.get("color",!0)),s=this.get("colorLayer",!0);return getFromPalette(this,innerColor,o,s,t,n,a)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r}();function getDecalFromPalette(r,t,n,a){var o=normalizeToArray(r.get(["aria","decal","decals"]));return getFromPalette(r,innerDecal,o,null,t,n,a)}function getNearestPalette(r,t){for(var n=r.length,a=0;a<n;a++)if(r[a].length>t)return r[a];return r[n-1]}function getFromPalette(r,t,n,a,o,s,l){s=s||r;var u=t(s),f=u.paletteIdx||0,d=u.paletteNameMap=u.paletteNameMap||{};if(d.hasOwnProperty(o))return d[o];var v=l==null||!a?n:getNearestPalette(a,l);if(v=v||n,!(!v||!v.length)){var g=v[f];return o&&(d[o]=g),u.paletteIdx=(f+1)%v.length,g}}function clearPalette(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(n,a,o,s,l,u){s=s||{},this.option=null,this._theme=new Model$1(s),this._locale=new Model$1(l),this._optionManager=u},t.prototype.setOption=function(n,a,o){var s=normalizeSetOptionInput(a);this._optionManager.setOption(n,o,s),this._resetOption(null,s)},t.prototype.resetOption=function(n,a){return this._resetOption(n,normalizeSetOptionInput(a))},t.prototype._resetOption=function(n,a){var o=!1,s=this._optionManager;if(!n||n==="recreate"){var l=s.mountOption(n==="recreate");!this.option||n==="recreate"?initBase(this,l):(this.restoreData(),this._mergeOption(l,a)),o=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var u=s.getTimelineOption(this);u&&(o=!0,this._mergeOption(u,a))}if(!n||n==="recreate"||n==="media"){var f=s.getMediaOption(this);f.length&&each$f(f,function(d){o=!0,this._mergeOption(d,a)},this)}return o},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,a){var o=this.option,s=this._componentsMap,l=this._componentsCount,u=[],f=createHashMap(),d=a&&a.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(n,function(g,S){g!=null&&(ComponentModel$1.hasClass(S)?S&&(u.push(S),f.set(S,!0)):o[S]=o[S]==null?clone$4(g):merge(o[S],g,!0))}),d&&d.each(function(g,S){ComponentModel$1.hasClass(S)&&!f.get(S)&&(u.push(S),f.set(S,!0))}),ComponentModel$1.topologicalTravel(u,ComponentModel$1.getAllClassMainTypes(),v,this);function v(g){var S=concatInternalOptions(this,g,normalizeToArray(n[g])),x=s.get(g),_=x?d&&d.get(g)?"replaceMerge":"normalMerge":"replaceAll",C=mappingToExists(x,S,_);setComponentTypeToKeyInfo(C,g,ComponentModel$1),o[g]=null,s.set(g,null),l.set(g,0);var T=[],w=[],M=0,D;each$f(C,function(I,R){var $=I.existing,N=I.newOption;if(!N)$&&($.mergeOption({},this),$.optionUpdated({},!1));else{var F=g==="series",H=ComponentModel$1.getClass(g,I.keyInfo.subType,!F);if(!H)return;if(g==="tooltip"){if(D)return;D=!0}if($&&$.constructor===H)$.name=I.keyInfo.name,$.mergeOption(N,this),$.optionUpdated(N,!1);else{var Y=extend({componentIndex:R},I.keyInfo);$=new H(N,this,this,Y),extend($,Y),I.brandNew&&($.__requireNewView=!0),$.init(N,this,this),$.optionUpdated(null,!0)}}$?(T.push($.option),w.push($),M++):(T.push(void 0),w.push(void 0))},this),o[g]=T,s.set(g,w),l.set(g,M),g==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},t.prototype.getOption=function(){var n=clone$4(this.option);return each$f(n,function(a,o){if(ComponentModel$1.hasClass(o)){for(var s=normalizeToArray(a),l=s.length,u=!1,f=l-1;f>=0;f--)s[f]&&!isComponentIdInternal(s[f])?u=!0:(s[f]=null,!u&&l--);s.length=l,n[o]=s}}),delete n[OPTION_INNER_KEY],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,a){var o=this._componentsMap.get(n);if(o){var s=o[a||0];if(s)return s;if(a==null){for(var l=0;l<o.length;l++)if(o[l])return o[l]}}},t.prototype.queryComponents=function(n){var a=n.mainType;if(!a)return[];var o=n.index,s=n.id,l=n.name,u=this._componentsMap.get(a);if(!u||!u.length)return[];var f;return o!=null?(f=[],each$f(normalizeToArray(o),function(d){u[d]&&f.push(u[d])})):s!=null?f=queryByIdOrName("id",s,u):l!=null?f=queryByIdOrName("name",l,u):f=filter(u,function(d){return!!d}),filterBySubType(f,n)},t.prototype.findComponents=function(n){var a=n.query,o=n.mainType,s=u(a),l=s?this.queryComponents(s):filter(this._componentsMap.get(o),function(d){return!!d});return f(filterBySubType(l,n));function u(d){var v=o+"Index",g=o+"Id",S=o+"Name";return d&&(d[v]!=null||d[g]!=null||d[S]!=null)?{mainType:o,index:d[v],id:d[g],name:d[S]}:null}function f(d){return n.filter?filter(d,n.filter):d}},t.prototype.eachComponent=function(n,a,o){var s=this._componentsMap;if(isFunction(n)){var l=a,u=n;s.each(function(g,S){for(var x=0;g&&x<g.length;x++){var _=g[x];_&&u.call(l,S,_,_.componentIndex)}})}else for(var f=isString(n)?s.get(n):isObject$4(n)?this.findComponents(n):null,d=0;f&&d<f.length;d++){var v=f[d];v&&a.call(o,v,v.componentIndex)}},t.prototype.getSeriesByName=function(n){var a=convertOptionIdName(n,null);return filter(this._componentsMap.get("series"),function(o){return!!o&&a!=null&&o.name===a})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return filter(this._componentsMap.get("series"),function(a){return!!a&&a.subType===n})},t.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,a){assertSeriesInitialized(this),each$f(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];n.call(a,s,o)},this)},t.prototype.eachRawSeries=function(n,a){each$f(this._componentsMap.get("series"),function(o){o&&n.call(a,o,o.componentIndex)})},t.prototype.eachSeriesByType=function(n,a,o){assertSeriesInitialized(this),each$f(this._seriesIndices,function(s){var l=this._componentsMap.get("series")[s];l.subType===n&&a.call(o,l,s)},this)},t.prototype.eachRawSeriesByType=function(n,a,o){return each$f(this.getSeriesByType(n),a,o)},t.prototype.isSeriesFiltered=function(n){return assertSeriesInitialized(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,a){assertSeriesInitialized(this);var o=[];each$f(this._seriesIndices,function(s){var l=this._componentsMap.get("series")[s];n.call(a,l,s)&&o.push(s)},this),this._seriesIndices=o,this._seriesIndicesMap=createHashMap(o)},t.prototype.restoreData=function(n){reCreateSeriesIndices(this);var a=this._componentsMap,o=[];a.each(function(s,l){ComponentModel$1.hasClass(l)&&o.push(l)}),ComponentModel$1.topologicalTravel(o,ComponentModel$1.getAllClassMainTypes(),function(s){each$f(a.get(s),function(l){l&&(s!=="series"||!isNotTargetSeries(l,n))&&l.restoreData()})})},t.internalField=function(){reCreateSeriesIndices=function(n){var a=n._seriesIndices=[];each$f(n._componentsMap.get("series"),function(o){o&&a.push(o.componentIndex)}),n._seriesIndicesMap=createHashMap(a)},assertSeriesInitialized=function(n){},initBase=function(n,a){n.option={},n.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,n._componentsMap=createHashMap({series:[]}),n._componentsCount=createHashMap();var o=a.aria;isObject$4(o)&&o.enabled==null&&(o.enabled=!0),mergeTheme(a,n._theme.option),merge(a,globalDefault,!1),n._mergeOption(a,null)}}(),t}(Model$1);function isNotTargetSeries(r,t){if(t){var n=t.seriesIndex,a=t.seriesId,o=t.seriesName;return n!=null&&r.componentIndex!==n||a!=null&&r.id!==a||o!=null&&r.name!==o}}function mergeTheme(r,t){var n=r.color&&!r.colorLayer;each$f(t,function(a,o){o==="colorLayer"&&n||ComponentModel$1.hasClass(o)||(typeof a=="object"?r[o]=r[o]?merge(r[o],a,!1):clone$4(a):r[o]==null&&(r[o]=a))})}function queryByIdOrName(r,t,n){if(isArray$1(t)){var a=createHashMap();return each$f(t,function(s){if(s!=null){var l=convertOptionIdName(s,null);l!=null&&a.set(s,!0)}}),filter(n,function(s){return s&&a.get(s[r])})}else{var o=convertOptionIdName(t,null);return filter(n,function(s){return s&&o!=null&&s[r]===o})}}function filterBySubType(r,t){return t.hasOwnProperty("subType")?filter(r,function(n){return n&&n.subType===t.subType}):r}function normalizeSetOptionInput(r){var t=createHashMap();return r&&each$f(normalizeToArray(r.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}mixin(GlobalModel,PaletteMixin);var GlobalModel$1=GlobalModel,availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function r(t){each$f(availableMethods,function(n){this[n]=bind$1(t[n],t)},this)}return r}(),ExtensionAPI$1=ExtensionAPI,coordinateSystemCreators={},CoordinateSystemManager=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(t,n){var a=[];each$f(coordinateSystemCreators,function(o,s){var l=o.create(t,n);a=a.concat(l||[])}),this._coordinateSystems=a},r.prototype.update=function(t,n){each$f(this._coordinateSystems,function(a){a.update&&a.update(t,n)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(t,n){coordinateSystemCreators[t]=n},r.get=function(t){return coordinateSystemCreators[t]},r}(),CoordinateSystem=CoordinateSystemManager,QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,n,a){t&&(each$f(normalizeToArray(t.series),function(l){l&&l.data&&isTypedArray(l.data)&&setAsPrimitive(l.data)}),each$f(normalizeToArray(t.dataset),function(l){l&&l.source&&isTypedArray(l.source)&&setAsPrimitive(l.source)})),t=clone$4(t);var o=this._optionBackup,s=parseRawOption(t,n,!o);this._newBaseOption=s.baseOption,o?(s.timelineOptions.length&&(o.timelineOptions=s.timelineOptions),s.mediaList.length&&(o.mediaList=s.mediaList),s.mediaDefault&&(o.mediaDefault=s.mediaDefault)):this._optionBackup=s},r.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],clone$4(t?n.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var n,a=this._timelineOptions;if(a.length){var o=t.getComponent("timeline");o&&(n=clone$4(a[o.getCurrentIndex()]))}return n},r.prototype.getMediaOption=function(t){var n=this._api.getWidth(),a=this._api.getHeight(),o=this._mediaList,s=this._mediaDefault,l=[],u=[];if(!o.length&&!s)return u;for(var f=0,d=o.length;f<d;f++)applyMediaQuery(o[f].query,n,a)&&l.push(f);return!l.length&&s&&(l=[-1]),l.length&&!indicesEquals(l,this._currentMediaIndices)&&(u=map$1(l,function(v){return clone$4(v===-1?s.option:o[v].option)})),this._currentMediaIndices=l,u},r}();function parseRawOption(r,t,n){var a=[],o,s,l=r.baseOption,u=r.timeline,f=r.options,d=r.media,v=!!r.media,g=!!(f||u||l&&l.timeline);l?(s=l,s.timeline||(s.timeline=u)):((g||v)&&(r.options=r.media=null),s=r),v&&isArray$1(d)&&each$f(d,function(x){x&&x.option&&(x.query?a.push(x):o||(o=x))}),S(s),each$f(f,function(x){return S(x)}),each$f(a,function(x){return S(x.option)});function S(x){each$f(t,function(_){_(x,n)})}return{baseOption:s,timelineOptions:f||[],mediaDefault:o,mediaList:a}}function applyMediaQuery(r,t,n){var a={width:t,height:n,aspectratio:t/n},o=!0;return each$f(r,function(s,l){var u=l.match(QUERY_REG);if(!(!u||!u[1]||!u[2])){var f=u[1],d=u[2].toLowerCase();compare(a[d],s,f)||(o=!1)}}),o}function compare(r,t,n){return n==="min"?r>=t:n==="max"?r<=t:r===t}function indicesEquals(r,t){return r.join(",")===t.join(",")}var OptionManager$1=OptionManager,each$d=each$f,isObject$3=isObject$4,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var t=r&&r.itemStyle;if(!!t)for(var n=0,a=POSSIBLE_STYLES.length;n<a;n++){var o=POSSIBLE_STYLES[n],s=t.normal,l=t.emphasis;s&&s[o]&&(r[o]=r[o]||{},r[o].normal?merge(r[o].normal,s[o]):r[o].normal=s[o],s[o]=null),l&&l[o]&&(r[o]=r[o]||{},r[o].emphasis?merge(r[o].emphasis,l[o]):r[o].emphasis=l[o],l[o]=null)}}function convertNormalEmphasis(r,t,n){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var a=r[t].normal,o=r[t].emphasis;a&&(n?(r[t].normal=r[t].emphasis=null,defaults(r[t],a)):r[t]=a),o&&(r.emphasis=r.emphasis||{},r.emphasis[t]=o,o.focus&&(r.emphasis.focus=o.focus),o.blurScope&&(r.emphasis.blurScope=o.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,t){var n=isObject$3(r)&&r[t],a=isObject$3(n)&&n.textStyle;if(a)for(var o=0,s=TEXT_STYLE_OPTIONS.length;o<s;o++){var l=TEXT_STYLE_OPTIONS[o];a.hasOwnProperty(l)&&(n[l]=a[l])}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(!!isObject$3(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(compatEC2ItemStyle(t),compatEC3CommonStyles(t));var n=r.markLine;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var a=r.markArea;a&&compatEC3CommonStyles(a);var o=r.data;if(r.type==="graph"){o=o||r.nodes;var s=r.links||r.edges;if(s&&!isTypedArray(s))for(var l=0;l<s.length;l++)compatEC3CommonStyles(s[l]);each$f(r.categories,function(d){removeEC3NormalStatus(d)})}if(o&&!isTypedArray(o))for(var l=0;l<o.length;l++)compatEC3CommonStyles(o[l]);if(t=r.markPoint,t&&t.data)for(var u=t.data,l=0;l<u.length;l++)compatEC3CommonStyles(u[l]);if(n=r.markLine,n&&n.data)for(var f=n.data,l=0;l<f.length;l++)isArray$1(f[l])?(compatEC3CommonStyles(f[l][0]),compatEC3CommonStyles(f[l][1])):compatEC3CommonStyles(f[l]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each$f(r.levels,function(d){removeEC3NormalStatus(d)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray$1(r)?r:r?[r]:[]}function toObj(r){return(isArray$1(r)?r[0]:r)||{}}function globalCompatStyle(r,t){each$d(toArr(r.series),function(a){isObject$3(a)&&processSeries(a)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(n,function(a){each$d(toArr(r[a]),function(o){o&&(compatTextStyle(o,"axisLabel"),compatTextStyle(o.axisPointer,"label"))})}),each$d(toArr(r.parallel),function(a){var o=a&&a.parallelAxisDefault;compatTextStyle(o,"axisLabel"),compatTextStyle(o&&o.axisPointer,"label")}),each$d(toArr(r.calendar),function(a){convertNormalEmphasis(a,"itemStyle"),compatTextStyle(a,"dayLabel"),compatTextStyle(a,"monthLabel"),compatTextStyle(a,"yearLabel")}),each$d(toArr(r.radar),function(a){compatTextStyle(a,"name"),a.name&&a.axisName==null&&(a.axisName=a.name,delete a.name),a.nameGap!=null&&a.axisNameGap==null&&(a.axisNameGap=a.nameGap,delete a.nameGap)}),each$d(toArr(r.geo),function(a){isObject$3(a)&&(compatEC3CommonStyles(a),each$d(toArr(a.regions),function(o){compatEC3CommonStyles(o)}))}),each$d(toArr(r.timeline),function(a){compatEC3CommonStyles(a),convertNormalEmphasis(a,"label"),convertNormalEmphasis(a,"itemStyle"),convertNormalEmphasis(a,"controlStyle",!0);var o=a.data;isArray$1(o)&&each$f(o,function(s){isObject$4(s)&&(convertNormalEmphasis(s,"label"),convertNormalEmphasis(s,"itemStyle"))})}),each$d(toArr(r.toolbox),function(a){convertNormalEmphasis(a,"iconStyle"),each$d(a.feature,function(o){convertNormalEmphasis(o,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get(r,t){for(var n=t.split(","),a=r,o=0;o<n.length&&(a=a&&a[n[o]],a!=null);o++);return a}function set(r,t,n,a){for(var o=t.split(","),s=r,l,u=0;u<o.length-1;u++)l=o[u],s[l]==null&&(s[l]={}),s=s[l];(a||s[o[u]]==null)&&(s[o[u]]=n)}function compatLayoutProperties(r){r&&each$f(LAYOUT_PROPERTIES,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var t=r&&r.itemStyle;if(t)for(var n=0;n<BAR_ITEM_STYLE_MAP.length;n++){var a=BAR_ITEM_STYLE_MAP[n][1],o=BAR_ITEM_STYLE_MAP[n][0];t[a]!=null&&(t[o]=t[a])}}function compatPieLabel(r){!r||r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function compatSunburstState(r){!r||r.downplay&&!r.blur&&(r.blur=r.downplay)}function compatGraphFocus(r){!r||r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function traverseTree(r,t){if(r)for(var n=0;n<r.length;n++)t(r[n]),r[n]&&traverseTree(r[n].children,t)}function globalBackwardCompat(r,t){globalCompatStyle(r,t),r.series=normalizeToArray(r.series),each$f(r.series,function(n){if(!!isObject$4(n)){var a=n.type;if(a==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(a==="pie"||a==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),compatPieLabel(n.label);var o=n.data;if(o&&!isTypedArray(o))for(var s=0;s<o.length;s++)compatPieLabel(o[s]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(a==="gauge"){var l=get(n,"pointer.color");l!=null&&set(n,"itemStyle.color",l)}else if(a==="bar"){compatBarItemStyle(n),compatBarItemStyle(n.backgroundStyle),compatBarItemStyle(n.emphasis);var o=n.data;if(o&&!isTypedArray(o))for(var s=0;s<o.length;s++)typeof o[s]=="object"&&(compatBarItemStyle(o[s]),compatBarItemStyle(o[s]&&o[s].emphasis))}else if(a==="sunburst"){var u=n.highlightPolicy;u&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=u)),compatSunburstState(n),traverseTree(n.data,compatSunburstState)}else a==="graph"||a==="sankey"?compatGraphFocus(n):a==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&defaults(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),compatLayoutProperties(n)}}),r.dataRange&&(r.visualMap=r.dataRange),each$f(COMPATITABLE_COMPONENTS,function(n){var a=r[n];a&&(isArray$1(a)||(a=[a]),each$f(a,function(o){compatLayoutProperties(o)}))})}function dataStack(r){var t=createHashMap();r.eachSeries(function(n){var a=n.get("stack");if(a){var o=t.get(a)||t.set(a,[]),s=n.getData(),l={stackResultDimension:s.getCalculationInfo("stackResultDimension"),stackedOverDimension:s.getCalculationInfo("stackedOverDimension"),stackedDimension:s.getCalculationInfo("stackedDimension"),stackedByDimension:s.getCalculationInfo("stackedByDimension"),isStackedByIndex:s.getCalculationInfo("isStackedByIndex"),data:s,seriesModel:n};if(!l.stackedDimension||!(l.isStackedByIndex||l.stackedByDimension))return;o.length&&s.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(l)}}),t.each(calculateStack)}function calculateStack(r){each$f(r,function(t,n){var a=[],o=[NaN,NaN],s=[t.stackResultDimension,t.stackedOverDimension],l=t.data,u=t.isStackedByIndex;l.modify(s,function(f,d,v){var g=l.get(t.stackedDimension,v);if(isNaN(g))return o;var S,x;u?x=l.getRawIndex(v):S=l.get(t.stackedByDimension,v);for(var _=NaN,C=n-1;C>=0;C--){var T=r[C];if(u||(x=T.data.rawIndexOf(T.stackedByDimension,S)),x>=0){var w=T.data.getByRawIndex(T.stackResultDimension,x);if(g>=0&&w>0||g<=0&&w<0){g=addSafe(g,w),_=w;break}}}return a[0]=g,a[1]=_,a})})}var SourceImpl=function(){function r(t){this.data=t.data||(t.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=t.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=t.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var a=0;a<n.length;a++){var o=n[a];o.type==null&&guessOrdinal(this,a)===BE_ORDINAL.Must&&(o.type="ordinal")}}return r}();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,t,n){n=n||detectSourceFormat(r);var a=t.seriesLayoutBy,o=determineSourceDimensions(r,n,a,t.sourceHeader,t.dimensions),s=new SourceImpl({data:r,sourceFormat:n,seriesLayoutBy:a,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:clone$4(t)});return s}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone$4(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var t=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(r))t=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(r)){r.length===0&&(t=SOURCE_FORMAT_ARRAY_ROWS);for(var n=0,a=r.length;n<a;n++){var o=r[n];if(o!=null){if(isArray$1(o)){t=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$4(o)){t=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$4(r)){for(var s in r)if(hasOwn(r,s)&&isArrayLike(r[s])){t=SOURCE_FORMAT_KEYED_COLUMNS;break}}return t}function determineSourceDimensions(r,t,n,a,o){var s,l;if(!r)return{dimensionsDefine:normalizeDimensionsOption(o),startIndex:l,dimensionsDetectedCount:s};if(t===SOURCE_FORMAT_ARRAY_ROWS){var u=r;a==="auto"||a==null?arrayRowsTravelFirst(function(d){d!=null&&d!=="-"&&(isString(d)?l==null&&(l=1):l=0)},n,u,10):l=isNumber(a)?a:a?1:0,!o&&l===1&&(o=[],arrayRowsTravelFirst(function(d,v){o[v]=d!=null?d+"":""},n,u,1/0)),s=o?o.length:n===SERIES_LAYOUT_BY_ROW?u.length:u[0]?u[0].length:null}else if(t===SOURCE_FORMAT_OBJECT_ROWS)o||(o=objectRowsCollectDimensions(r));else if(t===SOURCE_FORMAT_KEYED_COLUMNS)o||(o=[],each$f(r,function(d,v){o.push(v)}));else if(t===SOURCE_FORMAT_ORIGINAL){var f=getDataItemValue(r[0]);s=isArray$1(f)&&f.length||1}return{startIndex:l,dimensionsDefine:normalizeDimensionsOption(o),dimensionsDetectedCount:s}}function objectRowsCollectDimensions(r){for(var t=0,n;t<r.length&&!(n=r[t++]););if(n){var a=[];return each$f(n,function(o,s){a.push(s)}),a}}function normalizeDimensionsOption(r){if(!!r){var t=createHashMap();return map$1(r,function(n,a){n=isObject$4(n)?n:{name:n};var o={name:n.name,displayName:n.displayName,type:n.type};if(o.name==null)return o;o.name+="",o.displayName==null&&(o.displayName=o.name);var s=t.get(o.name);return s?o.name+="-"+s.count++:t.set(o.name,{count:1}),o})}}function arrayRowsTravelFirst(r,t,n,a){if(t===SERIES_LAYOUT_BY_ROW)for(var o=0;o<n.length&&o<a;o++)r(n[o]?n[o][0]:null,o);else for(var s=n[0]||[],o=0;o<s.length&&o<a;o++)r(s[o],o)}function shouldRetrieveDataByName(r){var t=r.sourceFormat;return t===SOURCE_FORMAT_OBJECT_ROWS||t===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function r(t,n){var a=isSourceInstance(t)?t:createSourceFromSeriesDataOption(t);this._source=a;var o=this._data=a.data;a.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=n,this._data=o),mountMethods(this,o,a)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,n){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=function(){var t=r.prototype;t.pure=!1,t.persistent=!0}(),r.internalField=function(){var t;mountMethods=function(l,u,f){var d=f.sourceFormat,v=f.seriesLayoutBy,g=f.startIndex,S=f.dimensionsDefine,x=providerMethods[getMethodMapKey(d,v)];if(extend(l,x),d===SOURCE_FORMAT_TYPED_ARRAY)l.getItem=n,l.count=o,l.fillStorage=a;else{var _=getRawSourceItemGetter(d,v);l.getItem=bind$1(_,null,u,g,S);var C=getRawSourceDataCounter(d,v);l.count=bind$1(C,null,u,g,S)}};var n=function(l,u){l=l-this._offset,u=u||[];for(var f=this._data,d=this._dimSize,v=d*l,g=0;g<d;g++)u[g]=f[v+g];return u},a=function(l,u,f,d){for(var v=this._data,g=this._dimSize,S=0;S<g;S++){for(var x=d[S],_=x[0]==null?1/0:x[0],C=x[1]==null?-1/0:x[1],T=u-l,w=f[S],M=0;M<T;M++){var D=v[M*g+S];w[l+M]=D,D<_&&(_=D),D>C&&(C=D)}x[0]=_,x[1]=C}},o=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(t={},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:s},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:s},t[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(l){var u=this._data;each$f(l,function(f,d){for(var v=u[d]||(u[d]=[]),g=0;g<(f||[]).length;g++)v.push(f[g])})}},t[SOURCE_FORMAT_ORIGINAL]={appendData:s},t[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(l){this._data=l},clean:function(){this._offset+=this.count(),this._data=null}},t);function s(l){for(var u=0;u<l.length;u++)this._data.push(l[u])}}(),r}(),getItemSimply=function(r,t,n,a){return r[a]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,t,n,a){return r[a+t]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,t,n,a,o){a+=t;for(var s=o||[],l=r,u=0;u<l.length;u++){var f=l[u];s[u]=f?f[a]:null}return s},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,t,n,a,o){for(var s=o||[],l=0;l<n.length;l++){var u=n[l].name,f=r[u];s[l]=f?f[a]:null}return s},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(r,t){var n=rawSourceItemGetterMap[getMethodMapKey(r,t)];return n}var countSimply=function(r,t,n){return r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,t,n){return Math.max(0,r.length-t)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,t,n){var a=r[0];return a?Math.max(0,a.length-t):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,t,n){var a=n[0].name,o=r[a];return o?o.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(r,t){var n=rawSourceDataCounterMap[getMethodMapKey(r,t)];return n}var getRawValueSimply=function(r,t,n){return r[t]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(r,t,n){return r[n]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(r,t,n){var a=getDataItemValue(r);return a instanceof Array?a[t]:a},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(r){var t=rawSourceValueGetterMap[r];return t}function getMethodMapKey(r,t){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+t:r}function retrieveRawValue(r,t,n){if(!!r){var a=r.getRawDataItem(t);if(a!=null){var o=r.getStore(),s=o.getSource().sourceFormat;if(n!=null){var l=r.getDimensionIndex(n),u=o.getDimensionProperty(l);return getRawSourceValueGetter(s)(a,l,u)}else{var f=a;return s===SOURCE_FORMAT_ORIGINAL&&(f=getDataItemValue(a)),f}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function r(){}return r.prototype.getDataParams=function(t,n){var a=this.getData(n),o=this.getRawValue(t,n),s=a.getRawIndex(t),l=a.getName(t),u=a.getRawDataItem(t),f=a.getItemVisual(t,"style"),d=f&&f[a.getItemVisual(t,"drawType")||"fill"],v=f&&f.stroke,g=this.mainType,S=g==="series",x=a.userOutput&&a.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:S?this.subType:null,seriesIndex:this.seriesIndex,seriesId:S?this.id:null,seriesName:S?this.name:null,name:l,dataIndex:s,data:u,dataType:n,value:o,color:d,borderColor:v,dimensionNames:x?x.fullDimensions:null,encode:x?x.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,n,a,o,s,l){n=n||"normal";var u=this.getData(a),f=this.getDataParams(t,a);if(l&&(f.value=l.interpolatedValue),o!=null&&isArray$1(f.value)&&(f.value=f.value[o]),!s){var d=u.getItemModel(t);s=d.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(isFunction(s))return f.status=n,f.dimensionIndex=o,s(f);if(isString(s)){var v=formatTpl(s,f);return v.replace(DIMENSION_LABEL_REG,function(g,S){var x=S.length,_=S;_.charAt(0)==="["&&_.charAt(x-1)==="]"&&(_=+_.slice(1,x-1));var C=retrieveRawValue(u,t,_);if(l&&isArray$1(l.interpolatedValue)){var T=u.getDimensionIndex(_);T>=0&&(C=l.interpolatedValue[T])}return C!=null?C+"":""})}},r.prototype.getRawValue=function(t,n){return retrieveRawValue(this.getData(n),t)},r.prototype.formatTooltip=function(t,n,a){},r}();function normalizeTooltipFormatResult(r){var t,n;return isObject$4(r)?r.type&&(n=r):t=r,{text:t,frag:n}}function createTask(r){return new Task(r)}var Task=function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var n=this._upstream,a=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var s;this._plan&&!a&&(s=this._plan(this.context));var l=v(this._modBy),u=this._modDataCount||0,f=v(t&&t.modBy),d=t&&t.modDataCount||0;(l!==f||u!==d)&&(s="reset");function v(M){return!(M>=1)&&(M=1),M}var g;(this._dirty||s==="reset")&&(this._dirty=!1,g=this._doReset(a)),this._modBy=f,this._modDataCount=d;var S=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var x=this._dueIndex,_=Math.min(S!=null?this._dueIndex+S:1/0,this._dueEnd);if(!a&&(g||x<_)){var C=this._progress;if(isArray$1(C))for(var T=0;T<C.length;T++)this._doProgress(C[T],x,_,f,d);else this._doProgress(C,x,_,f,d)}this._dueIndex=_;var w=this._settedOutputEnd!=null?this._settedOutputEnd:_;this._outputDueEnd=w}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,n,a,o,s){iterator.reset(n,a,o,s),this._callingProgress=t,this._callingProgress({start:n,end:a,count:a-n,next:iterator.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,a;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(a=n.forceFirstProgress,n=n.progress),isArray$1(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var o=this._downstream;return o&&o.dirty(),a},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r}(),iterator=function(){var r,t,n,a,o,s={reset:function(f,d,v,g){t=f,r=d,n=v,a=g,o=Math.ceil(a/n),s.next=n>1&&a>0?u:l}};return s;function l(){return t<r?t++:null}function u(){var f=t%o*n+Math.ceil(t/o),d=t>=r?null:f<a?f:t;return t++,d}}();function parseDataValue(r,t){var n=t&&t.type;return n==="ordinal"?r:(n==="time"&&!isNumber(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:+r)}var valueParserMap=createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString(r)?trim$1(r):r}});function getRawValueParser(r){return valueParserMap.get(r)}var ORDER_COMPARISON_OP_MAP={lt:function(r,t){return r<t},lte:function(r,t){return r<=t},gt:function(r,t){return r>t},gte:function(r,t){return r>=t}},FilterOrderComparator=function(){function r(t,n){if(!isNumber(n)){var a="";throwError(a)}this._opFn=ORDER_COMPARISON_OP_MAP[t],this._rvalFloat=numericToNumber(n)}return r.prototype.evaluate=function(t){return isNumber(t)?this._opFn(t,this._rvalFloat):this._opFn(numericToNumber(t),this._rvalFloat)},r}(),SortOrderComparator=function(){function r(t,n){var a=t==="desc";this._resultLT=a?1:-1,n==null&&(n=a?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return r.prototype.evaluate=function(t,n){var a=isNumber(t)?t:numericToNumber(t),o=isNumber(n)?n:numericToNumber(n),s=isNaN(a),l=isNaN(o);if(s&&(a=this._incomparable),l&&(o=this._incomparable),s&&l){var u=isString(t),f=isString(n);u&&(a=f?t:0),f&&(o=u?n:0)}return a<o?this._resultLT:a>o?-this._resultLT:0},r}(),FilterEqualityComparator=function(){function r(t,n){this._rval=n,this._isEQ=t,this._rvalTypeof=typeof n,this._rvalFloat=numericToNumber(n)}return r.prototype.evaluate=function(t){var n=t===this._rval;if(!n){var a=typeof t;a!==this._rvalTypeof&&(a==="number"||this._rvalTypeof==="number")&&(n=numericToNumber(t)===this._rvalFloat)}return this._isEQ?n:!n},r}();function createFilterComparator(r,t){return r==="eq"||r==="ne"?new FilterEqualityComparator(r==="eq",t):hasOwn(ORDER_COMPARISON_OP_MAP,r)?new FilterOrderComparator(r,t):null}var ExternalSource=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,n){},r.prototype.retrieveValueFromItem=function(t,n){},r.prototype.convertValue=function(t,n){return parseDataValue(t,n)},r}();function createExternalSource(r,t){var n=new ExternalSource,a=r.data,o=n.sourceFormat=r.sourceFormat,s=r.startIndex,l="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(l);var u=[],f={},d=r.dimensionsDefine;if(d)each$f(d,function(C,T){var w=C.name,M={index:T,name:w,displayName:C.displayName};if(u.push(M),w!=null){var D="";hasOwn(f,w)&&throwError(D),f[w]=M}});else for(var v=0;v<r.dimensionsDetectedCount;v++)u.push({index:v});var g=getRawSourceItemGetter(o,SERIES_LAYOUT_BY_COLUMN);t.__isBuiltIn&&(n.getRawDataItem=function(C){return g(a,s,u,C)},n.getRawData=bind$1(getRawData,null,r)),n.cloneRawData=bind$1(cloneRawData,null,r);var S=getRawSourceDataCounter(o,SERIES_LAYOUT_BY_COLUMN);n.count=bind$1(S,null,a,s,u);var x=getRawSourceValueGetter(o);n.retrieveValue=function(C,T){var w=g(a,s,u,C);return _(w,T)};var _=n.retrieveValueFromItem=function(C,T){if(C!=null){var w=u[T];if(w)return x(C,T,w.name)}};return n.getDimensionInfo=bind$1(getDimensionInfo,null,u,f),n.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,u),n}function getRawData(r){var t=r.sourceFormat;if(!isSupportedSourceFormat(t)){var n="";throwError(n)}return r.data}function cloneRawData(r){var t=r.sourceFormat,n=r.data;if(!isSupportedSourceFormat(t)){var a="";throwError(a)}if(t===SOURCE_FORMAT_ARRAY_ROWS){for(var o=[],s=0,l=n.length;s<l;s++)o.push(n[s].slice());return o}else if(t===SOURCE_FORMAT_OBJECT_ROWS){for(var o=[],s=0,l=n.length;s<l;s++)o.push(extend({},n[s]));return o}}function getDimensionInfo(r,t,n){if(n!=null){if(isNumber(n)||!isNaN(n)&&!hasOwn(t,n))return r[n];if(hasOwn(t,n))return t[n]}}function cloneAllDimensionInfo(r){return clone$4(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone$4(r);var t=r.type,n="";t||throwError(n);var a=t.split(":");a.length!==2&&throwError(n);var o=!1;a[0]==="echarts"&&(t=a[1],o=!0),r.__isBuiltIn=o,externalTransformMap.set(t,r)}function applyDataTransform(r,t,n){var a=normalizeToArray(r),o=a.length,s="";o||throwError(s);for(var l=0,u=o;l<u;l++){var f=a[l];t=applySingleDataTransform(f,t),l!==u-1&&(t.length=Math.max(t.length,1))}return t}function applySingleDataTransform(r,t,n,a){var o="";t.length||throwError(o),isObject$4(r)||throwError(o);var s=r.type,l=externalTransformMap.get(s);l||throwError(o);var u=map$1(t,function(d){return createExternalSource(d,l)}),f=normalizeToArray(l.transform({upstream:u[0],upstreamList:u,config:clone$4(r.config)}));return map$1(f,function(d,v){var g="";isObject$4(d)||throwError(g),d.data||throwError(g);var S=detectSourceFormat(d.data);isSupportedSourceFormat(S)||throwError(g);var x,_=t[0];if(_&&v===0&&!d.dimensions){var C=_.startIndex;C&&(d.data=_.data.slice(0,C).concat(d.data)),x={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:C,dimensions:_.metaRawOption.dimensions}}else x={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:d.dimensions};return createSource(d.data,x,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function prepareStore(r,t,n,a,o){var s=dataCtors[n||"float"];if(o){var l=r[t],u=l&&l.length;if(u!==a){for(var f=new s(a),d=0;d<u;d++)f[d]=l[d];r[t]=f}}else r[t]=new s(a)}var DataStore=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(t,n,a){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=t.getSource(),s=this.defaultDimValueGetter=defaultDimValueGetters[o.sourceFormat];this._dimValueGetter=a||s,this._rawExtent=[],shouldRetrieveDataByName(o),this._dimensions=map$1(n,function(l){return{type:l.type,property:l.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,n){var a=this._calcDimNameToIdx,o=this._dimensions,s=a.get(t);if(s!=null){if(o[s].type===n)return s}else s=o.length;return o[s]={type:n},a.set(t,s),this._chunks[s]=new dataCtors[n||"float"](this._rawCount),this._rawExtent[s]=getInitialExtent(),s},r.prototype.collectOrdinalMeta=function(t,n){var a=this._chunks[t],o=this._dimensions[t],s=this._rawExtent,l=o.ordinalOffset||0,u=a.length;l===0&&(s[t]=getInitialExtent());for(var f=s[t],d=l;d<u;d++){var v=a[d]=n.parseAndCollect(a[d]);isNaN(v)||(f[0]=Math.min(v,f[0]),f[1]=Math.max(v,f[1]))}o.ordinalMeta=n,o.ordinalOffset=u,o.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],a=n.ordinalMeta;return a},r.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},r.prototype.appendData=function(t){var n=this._provider,a=this.count();n.appendData(t);var o=n.count();return n.persistent||(o+=a),a<o&&this._initDataFromProvider(a,o,!0),[a,o]},r.prototype.appendValues=function(t,n){for(var a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=this.count(),f=u+Math.max(t.length,n||0),d=0;d<s;d++){var v=o[d];prepareStore(a,d,v.type,f,!0)}for(var g=[],S=u;S<f;S++)for(var x=S-u,_=0;_<s;_++){var v=o[_],C=defaultDimValueGetters.arrayRows.call(this,t[x]||g,v.property,x,_);a[_][S]=C;var T=l[_];C<T[0]&&(T[0]=C),C>T[1]&&(T[1]=C)}return this._rawCount=this._count=f,{start:u,end:f}},r.prototype._initDataFromProvider=function(t,n,a){for(var o=this._provider,s=this._chunks,l=this._dimensions,u=l.length,f=this._rawExtent,d=map$1(l,function(M){return M.property}),v=0;v<u;v++){var g=l[v];f[v]||(f[v]=getInitialExtent()),prepareStore(s,v,g.type,n,a)}if(o.fillStorage)o.fillStorage(t,n,s,f);else for(var S=[],x=t;x<n;x++){S=o.getItem(x,S);for(var _=0;_<u;_++){var C=s[_],T=this._dimValueGetter(S,d[_],x,_);C[x]=T;var w=f[_];T<w[0]&&(w[0]=T),T>w[1]&&(w[1]=T)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=n,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var a=this._chunks[t];return a?a[this.getRawIndex(n)]:NaN},r.prototype.getValues=function(t,n){var a=[],o=[];if(n==null){n=t,t=[];for(var s=0;s<this._dimensions.length;s++)o.push(s)}else o=t;for(var s=0,l=o.length;s<l;s++)a.push(this.get(o[s],n));return a},r.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var a=this._chunks[t];return a?a[n]:NaN},r.prototype.getSum=function(t){var n=this._chunks[t],a=0;if(n)for(var o=0,s=this.count();o<s;o++){var l=this.get(t,o);isNaN(l)||(a+=l)}return a},r.prototype.getMedian=function(t){var n=[];this.each([t],function(s){isNaN(s)||n.push(s)});var a=n.sort(function(s,l){return s-l}),o=this.count();return o===0?0:o%2===1?a[(o-1)/2]:(a[o/2]+a[o/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,a=n[t];if(a!=null&&a<this._count&&a===t)return t;for(var o=0,s=this._count-1;o<=s;){var l=(o+s)/2|0;if(n[l]<t)o=l+1;else if(n[l]>t)s=l-1;else return l}return-1},r.prototype.indicesOfNearest=function(t,n,a){var o=this._chunks,s=o[t],l=[];if(!s)return l;a==null&&(a=1/0);for(var u=1/0,f=-1,d=0,v=0,g=this.count();v<g;v++){var S=this.getRawIndex(v),x=n-s[S],_=Math.abs(x);_<=a&&((_<u||_===u&&x>=0&&f<0)&&(u=_,f=x,d=0),x===f&&(l[d++]=v))}return l.length=d,l},r.prototype.getIndices=function(){var t,n=this._indices;if(n){var a=n.constructor,o=this._count;if(a===Array){t=new a(o);for(var s=0;s<o;s++)t[s]=n[s]}else t=new a(n.buffer,0,o)}else{var a=getIndicesCtor(this._rawCount);t=new a(this.count());for(var s=0;s<t.length;s++)t[s]=s}return t},r.prototype.filter=function(t,n){if(!this._count)return this;for(var a=this.clone(),o=a.count(),s=getIndicesCtor(a._rawCount),l=new s(o),u=[],f=t.length,d=0,v=t[0],g=a._chunks,S=0;S<o;S++){var x=void 0,_=a.getRawIndex(S);if(f===0)x=n(S);else if(f===1){var C=g[v][_];x=n(C,S)}else{for(var T=0;T<f;T++)u[T]=g[t[T]][_];u[T]=S,x=n.apply(null,u)}x&&(l[d++]=_)}return d<o&&(a._indices=l),a._count=d,a._extent=[],a._updateGetRawIdx(),a},r.prototype.selectRange=function(t){var n=this.clone(),a=n._count;if(!a)return this;var o=keys(t),s=o.length;if(!s)return this;var l=n.count(),u=getIndicesCtor(n._rawCount),f=new u(l),d=0,v=o[0],g=t[v][0],S=t[v][1],x=n._chunks,_=!1;if(!n._indices){var C=0;if(s===1){for(var T=x[o[0]],w=0;w<a;w++){var M=T[w];(M>=g&&M<=S||isNaN(M))&&(f[d++]=C),C++}_=!0}else if(s===2){for(var T=x[o[0]],D=x[o[1]],I=t[o[1]][0],R=t[o[1]][1],w=0;w<a;w++){var M=T[w],$=D[w];(M>=g&&M<=S||isNaN(M))&&($>=I&&$<=R||isNaN($))&&(f[d++]=C),C++}_=!0}}if(!_)if(s===1)for(var w=0;w<l;w++){var N=n.getRawIndex(w),M=x[o[0]][N];(M>=g&&M<=S||isNaN(M))&&(f[d++]=N)}else for(var w=0;w<l;w++){for(var F=!0,N=n.getRawIndex(w),H=0;H<s;H++){var Y=o[H],M=x[Y][N];(M<t[Y][0]||M>t[Y][1])&&(F=!1)}F&&(f[d++]=n.getRawIndex(w))}return d<l&&(n._indices=f),n._count=d,n._extent=[],n._updateGetRawIdx(),n},r.prototype.map=function(t,n){var a=this.clone(t);return this._updateDims(a,t,n),a},r.prototype.modify=function(t,n){this._updateDims(this,t,n)},r.prototype._updateDims=function(t,n,a){for(var o=t._chunks,s=[],l=n.length,u=t.count(),f=[],d=t._rawExtent,v=0;v<n.length;v++)d[n[v]]=getInitialExtent();for(var g=0;g<u;g++){for(var S=t.getRawIndex(g),x=0;x<l;x++)f[x]=o[n[x]][S];f[l]=g;var _=a&&a.apply(null,f);if(_!=null){typeof _!="object"&&(s[0]=_,_=s);for(var v=0;v<_.length;v++){var C=n[v],T=_[v],w=d[C],M=o[C];M&&(M[S]=T),T<w[0]&&(w[0]=T),T>w[1]&&(w[1]=T)}}}},r.prototype.lttbDownSample=function(t,n){var a=this.clone([t],!0),o=a._chunks,s=o[t],l=this.count(),u=0,f=Math.floor(1/n),d=this.getRawIndex(0),v,g,S,x=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(l/f)+2)*2,l));x[u++]=d;for(var _=1;_<l-1;_+=f){for(var C=Math.min(_+f,l-1),T=Math.min(_+f*2,l),w=(T+C)/2,M=0,D=C;D<T;D++){var I=this.getRawIndex(D),R=s[I];isNaN(R)||(M+=R)}M/=T-C;var $=_,N=Math.min(_+f,l),F=_-1,H=s[d];v=-1,S=$;for(var Y=-1,G=0,D=$;D<N;D++){var I=this.getRawIndex(D),R=s[I];if(isNaN(R)){G++,Y<0&&(Y=I);continue}g=Math.abs((F-w)*(R-H)-(F-D)*(M-H)),g>v&&(v=g,S=I)}G>0&&G<N-$&&(x[u++]=Math.min(Y,S),S=Math.max(Y,S)),x[u++]=S,d=S}return x[u++]=this.getRawIndex(l-1),a._count=u,a._indices=x,a.getRawIndex=this._getRawIdx,a},r.prototype.downSample=function(t,n,a,o){for(var s=this.clone([t],!0),l=s._chunks,u=[],f=Math.floor(1/n),d=l[t],v=this.count(),g=s._rawExtent[t]=getInitialExtent(),S=new(getIndicesCtor(this._rawCount))(Math.ceil(v/f)),x=0,_=0;_<v;_+=f){f>v-_&&(f=v-_,u.length=f);for(var C=0;C<f;C++){var T=this.getRawIndex(_+C);u[C]=d[T]}var w=a(u),M=this.getRawIndex(Math.min(_+o(u,w)||0,v-1));d[M]=w,w<g[0]&&(g[0]=w),w>g[1]&&(g[1]=w),S[x++]=M}return s._count=x,s._indices=S,s._updateGetRawIdx(),s},r.prototype.each=function(t,n){if(!!this._count)for(var a=t.length,o=this._chunks,s=0,l=this.count();s<l;s++){var u=this.getRawIndex(s);switch(a){case 0:n(s);break;case 1:n(o[t[0]][u],s);break;case 2:n(o[t[0]][u],o[t[1]][u],s);break;default:for(var f=0,d=[];f<a;f++)d[f]=o[t[f]][u];d[f]=s,n.apply(null,d)}}},r.prototype.getDataExtent=function(t){var n=this._chunks[t],a=getInitialExtent();if(!n)return a;var o=this.count(),s=!this._indices,l;if(s)return this._rawExtent[t].slice();if(l=this._extent[t],l)return l.slice();l=a;for(var u=l[0],f=l[1],d=0;d<o;d++){var v=this.getRawIndex(d),g=n[v];g<u&&(u=g),g>f&&(f=g)}return l=[u,f],this._extent[t]=l,l},r.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var a=[],o=this._chunks,s=0;s<o.length;s++)a.push(o[s][n]);return a},r.prototype.clone=function(t,n){var a=new r,o=this._chunks,s=t&&reduce(t,function(u,f){return u[f]=!0,u},{});if(s)for(var l=0;l<o.length;l++)a._chunks[l]=s[l]?cloneChunk(o[l]):o[l];else a._chunks=o;return this._copyCommonProps(a),n||(a._indices=this._cloneIndices()),a._updateGetRawIdx(),a},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=clone$4(this._extent),t._rawExtent=clone$4(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var a=this._indices.length;n=new t(a);for(var o=0;o<a;o++)n[o]=this._indices[o]}else n=new t(this._indices);return n}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function t(n,a,o,s){return parseDataValue(n[s],this._dimensions[s])}defaultDimValueGetters={arrayRows:t,objectRows:function(n,a,o,s){return parseDataValue(n[a],this._dimensions[s])},keyedColumns:t,original:function(n,a,o,s){var l=n&&(n.value==null?n:n.value);return parseDataValue(l instanceof Array?l[s]:l,this._dimensions[s])},typedArray:function(n,a,o,s){return n[s]}}}(),r}(),SourceManager=function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),a=!!n.length,o,s;if(isSeries(t)){var l=t,u=void 0,f=void 0,d=void 0;if(a){var v=n[0];v.prepareSource(),d=v.getSource(),u=d.data,f=d.sourceFormat,s=[v._getVersionSign()]}else u=l.get("data",!0),f=isTypedArray(u)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,s=[];var g=this._getSourceMetaRawOption()||{},S=d&&d.metaRawOption||{},x=retrieve2(g.seriesLayoutBy,S.seriesLayoutBy)||null,_=retrieve2(g.sourceHeader,S.sourceHeader),C=retrieve2(g.dimensions,S.dimensions),T=x!==S.seriesLayoutBy||!!_!=!!S.sourceHeader||C;o=T?[createSource(u,{seriesLayoutBy:x,sourceHeader:_,dimensions:C},f)]:[]}else{var w=t;if(a){var M=this._applyTransform(n);o=M.sourceList,s=M.upstreamSignList}else{var D=w.get("source",!0);o=[createSource(D,this._getSourceMetaRawOption(),null)],s=[]}}this._setLocalSource(o,s)},r.prototype._applyTransform=function(t){var n=this._sourceHost,a=n.get("transform",!0),o=n.get("fromTransformResult",!0);if(o!=null){var s="";t.length!==1&&doThrow(s)}var l,u=[],f=[];return each$f(t,function(d){d.prepareSource();var v=d.getSource(o||0),g="";o!=null&&!v&&doThrow(g),u.push(v),f.push(d._getVersionSign())}),a?l=applyDataTransform(a,u,{datasetIndex:n.componentIndex}):o!=null&&(l=[cloneSourceShallow(u[0])]),{sourceList:l,upstreamSignList:f}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var a=t[n];if(a._isDirty()||this._upstreamSignList[n]!==a._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var a=this._getUpstreamSourceManagers();return a[0]&&a[0].getSource(t)}return n},r.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},r.prototype._innerGetDataStore=function(t,n,a){var o=0,s=this._storeList,l=s[o];l||(l=s[o]={});var u=l[a];if(!u){var f=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&f?u=f._innerGetDataStore(t,n,a):(u=new DataStore,u.initData(new DefaultDataProvider(n,t.length),t)),l[a]=u}return u},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(isSeries(t)){var n=querySeriesUpstreamDatasetModel(t);return n?[n.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(t),function(a){return a.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,a,o;if(isSeries(t))n=t.get("seriesLayoutBy",!0),a=t.get("sourceHeader",!0),o=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var s=t;n=s.get("seriesLayoutBy",!0),a=s.get("sourceHeader",!0),o=s.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:a,dimensions:o}},r}();function disableTransformOptionMerge(r){var t=r.option.transform;t&&setAsPrimitive(r.option.transform)}function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(r,t){var n=r.color||"#6e7079",a=r.fontSize||12,o=r.fontWeight||"400",s=r.color||"#464646",l=r.fontSize||14,u=r.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+encodeHTML(a+"")+"px;color:"+encodeHTML(n)+";font-weight:"+encodeHTML(o+""),valueStyle:"font-size:"+encodeHTML(l+"")+"px;color:"+encodeHTML(s)+";font-weight:"+encodeHTML(u+"")}:{nameStyle:{fontSize:a,fill:n,fontWeight:o},valueStyle:{fontSize:l,fill:s,fontWeight:u}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,t){return t.type=r,t}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var t=0,n=r.blocks.length,a=n>1||n>0&&!r.noHeader;return each$f(r.blocks,function(o){var s=getBlockGapLevel(o);s>=t&&(t=s+ +(a&&(!s||isSectionFragment(o)&&!o.noHeader)))}),t}return 0}function buildSection(r,t,n,a){var o=t.noHeader,s=getGap(getBlockGapLevel(t)),l=[],u=t.blocks||[];assert(!u||isArray$1(u)),u=u||[];var f=r.orderMode;if(t.sortBlocks&&f){u=u.slice();var d={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(d,f)){var v=new SortOrderComparator(d[f],null);u.sort(function(_,C){return v.evaluate(_.sortParam,C.sortParam)})}else f==="seriesDesc"&&u.reverse()}each$f(u,function(_,C){var T=t.valueFormatter,w=getBuilder(_)(T?extend(extend({},r),{valueFormatter:T}):r,_,C>0?s.html:0,a);w!=null&&l.push(w)});var g=r.renderMode==="richText"?l.join(s.richText):wrapBlockHTML(l.join(""),o?n:s.html);if(o)return g;var S=makeValueReadable(t.header,"ordinal",r.useUTC),x=getTooltipTextStyle(a,r.renderMode).nameStyle;return r.renderMode==="richText"?wrapInlineNameRichText(r,S,x)+s.richText+g:wrapBlockHTML('<div style="'+x+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(S)+"</div>"+g,n)}function buildNameValue(r,t,n,a){var o=r.renderMode,s=t.noName,l=t.noValue,u=!t.markerType,f=t.name,d=r.useUTC,v=t.valueFormatter||r.valueFormatter||function(I){return I=isArray$1(I)?I:[I],map$1(I,function(R,$){return makeValueReadable(R,isArray$1(x)?x[$]:x,d)})};if(!(s&&l)){var g=u?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",o),S=s?"":makeValueReadable(f,"ordinal",d),x=t.valueType,_=l?[]:v(t.value),C=!u||!s,T=!u&&s,w=getTooltipTextStyle(a,o),M=w.nameStyle,D=w.valueStyle;return o==="richText"?(u?"":g)+(s?"":wrapInlineNameRichText(r,S,M))+(l?"":wrapInlineValueRichText(r,_,C,T,D)):wrapBlockHTML((u?"":g)+(s?"":wrapInlineNameHTML(S,!u,M))+(l?"":wrapInlineValueHTML(_,C,T,D)),n)}}function buildTooltipMarkup(r,t,n,a,o,s){if(!!r){var l=getBuilder(r),u={useUTC:o,renderMode:n,orderMode:a,markupStyleCreator:t,valueFormatter:r.valueFormatter};return l(u,r,0,s)}}function getGap(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,t){var n='<div style="clear:both"></div>',a="margin: "+t+"px 0 0";return'<div style="'+a+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+r+n+"</div>"}function wrapInlineNameHTML(r,t,n){var a=t?"margin-left:2px":"";return'<span style="'+n+";"+a+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,t,n,a){var o=n?"10px":"20px",s=t?"float:right;margin-left:"+o:"";return r=isArray$1(r)?r:[r],'<span style="'+s+";"+a+'">'+map$1(r,function(l){return encodeHTML(l)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,t,n){return r.markupStyleCreator.wrapRichTextStyle(t,n)}function wrapInlineValueRichText(r,t,n,a,o){var s=[o],l=a?10:20;return n&&s.push({padding:[0,0,0,l],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray$1(t)?t.join("  "):t,s)}function retrieveVisualColorForTooltipMarker(r,t){var n=r.getData().getItemVisual(t,"style"),a=n[r.visualDrawType];return convertToColorString(a)}function getPaddingFromTooltipModel(r,t){var n=r.get("padding");return n!=null?n:t==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,n,a){var o=a==="richText"?this._generateStyleName():null,s=getTooltipMarker({color:n,type:t,renderMode:a,markerId:o});return isString(s)?s:(this.richTextStyles[o]=s.style,s.content)},r.prototype.wrapRichTextStyle=function(t,n){var a={};isArray$1(n)?each$f(n,function(s){return extend(a,s)}):extend(a,n);var o=this._generateStyleName();return this.richTextStyles[o]=a,"{"+o+"|"+t+"}"},r}();function defaultSeriesFormatTooltip(r){var t=r.series,n=r.dataIndex,a=r.multipleSeries,o=t.getData(),s=o.mapDimensionsAll("defaultedTooltip"),l=s.length,u=t.getRawValue(n),f=isArray$1(u),d=retrieveVisualColorForTooltipMarker(t,n),v,g,S,x;if(l>1||f&&!l){var _=formatTooltipArrayValue(u,t,n,s,d);v=_.inlineValues,g=_.inlineValueTypes,S=_.blocks,x=_.inlineValues[0]}else if(l){var C=o.getDimensionInfo(s[0]);x=v=retrieveRawValue(o,n,s[0]),g=C.type}else x=v=f?u[0]:u;var T=isNameSpecified(t),w=T&&t.name||"",M=o.getName(n),D=a?w:M;return createTooltipMarkup("section",{header:w,noHeader:a||!T,sortParam:x,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:d,name:D,noName:!trim$1(D),value:v,valueType:g})].concat(S||[])})}function formatTooltipArrayValue(r,t,n,a,o){var s=t.getData(),l=reduce(r,function(g,S,x){var _=s.getDimensionInfo(x);return g=g||_&&_.tooltip!==!1&&_.displayName!=null},!1),u=[],f=[],d=[];a.length?each$f(a,function(g){v(retrieveRawValue(s,n,g),g)}):each$f(r,v);function v(g,S){var x=s.getDimensionInfo(S);!x||x.otherDims.tooltip===!1||(l?d.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:o,name:x.displayName,value:g,valueType:x.type})):(u.push(g),f.push(x.type)))}return{inlineValues:u,inlineValueTypes:f,blocks:d}}var inner$k=makeInner();function getSelectionKey(r,t){return r.getName(t)||r.getId(t)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,a,o){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,o);var s=inner$k(this).sourceManager=new SourceManager(this);s.prepareSource();var l=this.getInitialData(n,o);wrapData(l,this),this.dataTask.context.data=l,inner$k(this).dataBeforeProcessed=l,autoSeriesName(this),this._initSelectedMapFromData(l)},t.prototype.mergeDefaultAndTheme=function(n,a){var o=fetchLayoutMode(this),s=o?getLayoutParams(n):{},l=this.subType;ComponentModel$1.hasClass(l)&&(l+="Series"),merge(n,a.getTheme().get(this.subType)),merge(n,this.getDefaultOption()),defaultEmphasis(n,"label",["show"]),this.fillDataTextStyle(n.data),o&&mergeLayoutParam(n,s,o)},t.prototype.mergeOption=function(n,a){n=merge(this.option,n,!0),this.fillDataTextStyle(n.data);var o=fetchLayoutMode(this);o&&mergeLayoutParam(this.option,n,o);var s=inner$k(this).sourceManager;s.dirty(),s.prepareSource();var l=this.getInitialData(n,a);wrapData(l,this),this.dataTask.dirty(),this.dataTask.context.data=l,inner$k(this).dataBeforeProcessed=l,autoSeriesName(this),this._initSelectedMapFromData(l)},t.prototype.fillDataTextStyle=function(n){if(n&&!isTypedArray(n))for(var a=["show"],o=0;o<n.length;o++)n[o]&&n[o].label&&defaultEmphasis(n[o],"label",a)},t.prototype.getInitialData=function(n,a){},t.prototype.appendData=function(n){var a=this.getRawData();a.appendData(n.data)},t.prototype.getData=function(n){var a=getCurrentTask(this);if(a){var o=a.context.data;return n==null?o:o.getLinkedData(n)}else return inner$k(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var a=getCurrentTask(this);if(a){var o=a.context;o.outputData=n,a!==this.dataTask&&(o.data=n)}inner$k(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return createHashMap(n)},t.prototype.getSourceManager=function(){return inner$k(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,a,o){return defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:a})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(env$1.node&&!(n&&n.ssr))return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),!!a},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,a,o){var s=this.ecModel,l=PaletteMixin.prototype.getColorFromPalette.call(this,n,a,o);return l||(l=s.getColorFromPalette(n,a,o)),l},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,a){this._innerSelect(this.getData(a),n)},t.prototype.unselect=function(n,a){var o=this.option.selectedMap;if(!!o){var s=this.option.selectedMode,l=this.getData(a);if(s==="series"||o==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var u=0;u<n.length;u++){var f=n[u],d=getSelectionKey(l,f);o[d]=!1,this._selectedDataIndicesMap[d]=-1}}},t.prototype.toggleSelect=function(n,a){for(var o=[],s=0;s<n.length;s++)o[0]=n[s],this.isSelected(n[s],a)?this.unselect(o,a):this.select(o,a)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,a=keys(n),o=[],s=0;s<a.length;s++){var l=n[a[s]];l>=0&&o.push(l)}return o},t.prototype.isSelected=function(n,a){var o=this.option.selectedMap;if(!o)return!1;var s=this.getData(a);return(o==="all"||o[getSelectionKey(s,n)])&&!s.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,a){var o,s,l=this.option,u=l.selectedMode,f=a.length;if(!(!u||!f)){if(u==="series")l.selectedMap="all";else if(u==="multiple"){isObject$4(l.selectedMap)||(l.selectedMap={});for(var d=l.selectedMap,v=0;v<f;v++){var g=a[v],S=getSelectionKey(n,g);d[S]=!0,this._selectedDataIndicesMap[S]=n.getRawIndex(g)}}else if(u==="single"||u===!0){var x=a[f-1],S=getSelectionKey(n,x);l.selectedMap=(o={},o[S]=!0,o),this._selectedDataIndicesMap=(s={},s[S]=n.getRawIndex(x),s)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var a=[];n.hasItemOption&&n.each(function(o){var s=n.getRawDataItem(o);s&&s.selected&&a.push(o)}),a.length>0&&this._innerSelect(n,a)}},t.registerClass=function(n){return ComponentModel$1.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(r){var t=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||t)}function getSeriesAutoName(r){var t=r.getRawData(),n=t.mapDimensionsAll("seriesName"),a=[];return each$f(n,function(o){var s=t.getDimensionInfo(o);s.displayName&&a.push(s.displayName)}),a.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function wrapData(r,t){each$f(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(n){r.wrapMethod(n,curry$1(onDataChange,t))})}function onDataChange(r,t){var n=getCurrentTask(r);return n&&n.setOutputEnd((t||this).count()),t}function getCurrentTask(r){var t=(r.ecModel||{}).scheduler,n=t&&t.getPipeline(r.uid);if(n){var a=n.currentTask;if(a){var o=a.agentStubMap;o&&(a=o.get(r.uid))}return a}}var SeriesModel$1=SeriesModel,ComponentView=function(){function r(){this.group=new Group$4,this.uid=getUID("viewComponent")}return r.prototype.init=function(t,n){},r.prototype.render=function(t,n,a,o){},r.prototype.dispose=function(t,n){},r.prototype.updateView=function(t,n,a,o){},r.prototype.updateLayout=function(t,n,a,o){},r.prototype.updateVisual=function(t,n,a,o){},r.prototype.toggleBlurSeries=function(t,n,a){},r.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},r}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);var ComponentView$1=ComponentView;function createRenderPlanner(){var r=makeInner();return function(t){var n=r(t),a=t.pipelineContext,o=!!n.large,s=!!n.progressiveRender,l=n.large=!!(a&&a.large),u=n.progressiveRender=!!(a&&a.progressiveRender);return(o!==l||s!==u)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function r(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(t,n){},r.prototype.render=function(t,n,a,o){},r.prototype.highlight=function(t,n,a,o){var s=t.getData(o&&o.dataType);!s||toggleHighlight(s,o,"emphasis")},r.prototype.downplay=function(t,n,a,o){var s=t.getData(o&&o.dataType);!s||toggleHighlight(s,o,"normal")},r.prototype.remove=function(t,n){this.group.removeAll()},r.prototype.dispose=function(t,n){},r.prototype.updateView=function(t,n,a,o){this.render(t,n,a,o)},r.prototype.updateLayout=function(t,n,a,o){this.render(t,n,a,o)},r.prototype.updateVisual=function(t,n,a,o){this.render(t,n,a,o)},r.prototype.eachRendered=function(t){traverseElements(this.group,t)},r.markUpdateMethod=function(t,n){inner$j(t).updateMethod=n},r.protoInitialize=function(){var t=r.prototype;t.type="chart"}(),r}();function elSetState(r,t,n){r&&isHighDownDispatcher(r)&&(t==="emphasis"?enterEmphasis:leaveEmphasis)(r,n)}function toggleHighlight(r,t,n){var a=queryDataIndex(r,t),o=t&&t.highlightKey!=null?getHighlightDigit(t.highlightKey):null;a!=null?each$f(normalizeToArray(a),function(s){elSetState(r.getItemGraphicEl(s),n,o)}):r.eachItemGraphicEl(function(s){elSetState(s,n,o)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var t=r.model,n=r.ecModel,a=r.api,o=r.payload,s=t.pipelineContext.progressiveRender,l=r.view,u=o&&inner$j(o).updateMethod,f=s?"incrementalPrepareRender":u&&l[u]?u:"render";return f!=="render"&&l[f](t,n,a,o),progressMethodMap[f]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},ChartView$1=ChartView,ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(r,t,n){var a,o=0,s=0,l=null,u,f,d,v;t=t||0;function g(){s=new Date().getTime(),l=null,r.apply(f,d||[])}var S=function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];a=new Date().getTime(),f=this,d=x;var C=v||t,T=v||n;v=null,u=a-(T?o:s)-C,clearTimeout(l),T?l=setTimeout(g,C):u>=0?g():l=setTimeout(g,-u),o=a};return S.clear=function(){l&&(clearTimeout(l),l=null)},S.debounceNextCall=function(x){v=x},S}function createOrUpdate(r,t,n,a){var o=r[t];if(!!o){var s=o[ORIGIN_METHOD]||o,l=o[THROTTLE_TYPE],u=o[RATE];if(u!==n||l!==a){if(n==null||!a)return r[t]=s;o=r[t]=throttle(s,n,a==="debounce"),o[ORIGIN_METHOD]=s,o[THROTTLE_TYPE]=a,o[RATE]=n}return o}}function clear$1(r,t){var n=r[t];n&&n[ORIGIN_METHOD]&&(n.clear&&n.clear(),r[t]=n[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,t){var n=r.visualStyleMapper||defaultStyleMappers[t];return n||(console.warn("Unkown style type '"+t+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,t){var n=r.visualDrawType||defaultColorKey[t];return n||(console.warn("Unkown style type '"+t+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var n=r.getData(),a=r.visualStyleAccessPath||"itemStyle",o=r.getModel(a),s=getStyleMapper(r,a),l=s(o),u=o.getShallow("decal");u&&(n.setVisual("decal",u),u.dirty=!0);var f=getDefaultColorKey(r,a),d=l[f],v=isFunction(d)?d:null,g=l.fill==="auto"||l.stroke==="auto";if(!l[f]||v||g){var S=r.getColorFromPalette(r.name,null,t.getSeriesCount());l[f]||(l[f]=S,n.setVisual("colorFromPalette",!0)),l.fill=l.fill==="auto"||isFunction(l.fill)?S:l.fill,l.stroke=l.stroke==="auto"||isFunction(l.stroke)?S:l.stroke}if(n.setVisual("style",l),n.setVisual("drawType",f),!t.isSeriesFiltered(r)&&v)return n.setVisual("colorFromPalette",!1),{dataEach:function(x,_){var C=r.getDataParams(_),T=extend({},l);T[f]=v(C),x.setItemVisual(_,"style",T)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var n=r.getData(),a=r.visualStyleAccessPath||"itemStyle",o=getStyleMapper(r,a),s=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(l,u){var f=l.getRawDataItem(u);if(f&&f[a]){sharedModel.option=f[a];var d=o(sharedModel),v=l.ensureUniqueItemVisual(u,"style");extend(v,d),sharedModel.option.decal&&(l.setItemVisual(u,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),s in d&&l.setItemVisual(u,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var t=createHashMap();r.eachSeries(function(n){var a=n.getColorBy();if(!n.isColorBySeries()){var o=n.type+"-"+a,s=t.get(o);s||(s={},t.set(o,s)),inner$i(n).scope=s}}),r.eachSeries(function(n){if(!(n.isColorBySeries()||r.isSeriesFiltered(n))){var a=n.getRawData(),o={},s=n.getData(),l=inner$i(n).scope,u=n.visualStyleAccessPath||"itemStyle",f=getDefaultColorKey(n,u);s.each(function(d){var v=s.getRawIndex(d);o[v]=d}),a.each(function(d){var v=o[d],g=s.getItemVisual(v,"colorFromPalette");if(g){var S=s.ensureUniqueItemVisual(v,"style"),x=a.getName(d)||d+"",_=a.count();S[f]=n.getColorFromPalette(x,l,_)}})}})}},PI$5=Math.PI;function defaultLoading(r,t){t=t||{},defaults(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Group$4,a=new Rect$3({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(a);var o=new ZRText$1({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),s=new Rect$3({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(s);var l;return t.showSpinner&&(l=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),l.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),l.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),n.add(l)),n.resize=function(){var u=o.getBoundingRect().width,f=t.showSpinner?t.spinnerRadius:0,d=(r.getWidth()-f*2-(t.showSpinner&&u?10:0)-u)/2-(t.showSpinner&&u?0:5+u/2)+(t.showSpinner?0:u/2)+(u?0:f),v=r.getHeight()/2;t.showSpinner&&l.setShape({cx:d,cy:v}),s.setShape({x:d-f,y:v-f,width:f*2,height:f*2}),a.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},n.resize(),n}var Scheduler=function(){function r(t,n,a,o){this._stageTaskMap=createHashMap(),this.ecInstance=t,this.api=n,a=this._dataProcessorHandlers=a.slice(),o=this._visualHandlers=o.slice(),this._allHandlers=a.concat(o)}return r.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(a){var o=a.overallTask;o&&o.dirty()})},r.prototype.getPerformArgs=function(t,n){if(!!t.__pipeline){var a=this._pipelineMap.get(t.__pipeline.id),o=a.context,s=!n&&a.progressiveEnabled&&(!o||o.progressiveRender)&&t.__idxInPipeline>a.blockIndex,l=s?a.step:null,u=o&&o.modDataCount,f=u!=null?Math.ceil(u/l):null;return{step:l,modBy:f,modDataCount:u}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,n){var a=this._pipelineMap.get(t.uid),o=t.getData(),s=o.count(),l=a.progressiveEnabled&&n.incrementalPrepareRender&&s>=a.threshold,u=t.get("large")&&s>=t.get("largeThreshold"),f=t.get("progressiveChunkMode")==="mod"?s:null;t.pipelineContext=a.context={progressiveRender:l,modDataCount:f,large:u}},r.prototype.restorePipelines=function(t){var n=this,a=n._pipelineMap=createHashMap();t.eachSeries(function(o){var s=o.getProgressive(),l=o.uid;a.set(l,{id:l,head:null,tail:null,threshold:o.getProgressiveThreshold(),progressiveEnabled:s&&!(o.preventIncremental&&o.preventIncremental()),blockIndex:-1,step:Math.round(s||700),count:0}),n._pipe(o,o.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),a=this.api;each$f(this._allHandlers,function(o){var s=t.get(o.uid)||t.set(o.uid,{}),l="";assert(!(o.reset&&o.overallReset),l),o.reset&&this._createSeriesStageTask(o,s,n,a),o.overallReset&&this._createOverallStageTask(o,s,n,a)},this)},r.prototype.prepareView=function(t,n,a,o){var s=t.renderTask,l=s.context;l.model=n,l.ecModel=a,l.api=o,s.__block=!t.incrementalPrepareRender,this._pipe(n,s)},r.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},r.prototype.performVisualTasks=function(t,n,a){this._performStageTasks(this._visualHandlers,t,n,a)},r.prototype._performStageTasks=function(t,n,a,o){o=o||{};var s=!1,l=this;each$f(t,function(f,d){if(!(o.visualType&&o.visualType!==f.visualType)){var v=l._stageTaskMap.get(f.uid),g=v.seriesTaskMap,S=v.overallTask;if(S){var x,_=S.agentStubMap;_.each(function(T){u(o,T)&&(T.dirty(),x=!0)}),x&&S.dirty(),l.updatePayload(S,a);var C=l.getPerformArgs(S,o.block);_.each(function(T){T.perform(C)}),S.perform(C)&&(s=!0)}else g&&g.each(function(T,w){u(o,T)&&T.dirty();var M=l.getPerformArgs(T,o.block);M.skip=!f.performRawSeries&&n.isSeriesFiltered(T.context.model),l.updatePayload(T,a),T.perform(M)&&(s=!0)})}});function u(f,d){return f.setDirty&&(!f.dirtyMap||f.dirtyMap.get(d.__pipeline.id))}this.unfinished=s||this.unfinished},r.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(a){n=a.dataTask.perform()||n}),this.unfinished=n||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},r.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},r.prototype._createSeriesStageTask=function(t,n,a,o){var s=this,l=n.seriesTaskMap,u=n.seriesTaskMap=createHashMap(),f=t.seriesType,d=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(v):f?a.eachRawSeriesByType(f,v):d&&d(a,o).each(v);function v(g){var S=g.uid,x=u.set(S,l&&l.get(S)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));x.context={model:g,ecModel:a,api:o,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:s},s._pipe(g,x)}},r.prototype._createOverallStageTask=function(t,n,a,o){var s=this,l=n.overallTask=n.overallTask||createTask({reset:overallTaskReset});l.context={ecModel:a,api:o,overallReset:t.overallReset,scheduler:s};var u=l.agentStubMap,f=l.agentStubMap=createHashMap(),d=t.seriesType,v=t.getTargetSeries,g=!0,S=!1,x="";assert(!t.createOnAllSeries,x),d?a.eachRawSeriesByType(d,_):v?v(a,o).each(_):(g=!1,each$f(a.getSeries(),_));function _(C){var T=C.uid,w=f.set(T,u&&u.get(T)||(S=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));w.context={model:C,overallProgress:g},w.agent=l,w.__block=g,s._pipe(C,w)}S&&l.dirty()},r.prototype._pipe=function(t,n){var a=t.uid,o=this._pipelineMap.get(a);!o.head&&(o.head=n),o.tail&&o.tail.pipe(n),o.tail=n,n.__idxInPipeline=o.count++,n.__pipeline=o},r.wrapStageHandler=function(t,n){return isFunction(t)&&(t={overallReset:t,seriesType:detectSeriseType(t)}),t.uid=getUID("stageHandler"),n&&(t.visualType=n),t},r}();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=normalizeToArray(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?map$1(t,function(n,a){return makeSeriesTaskProgress(a)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(t,n){var a=n.data,o=n.resetDefines[r];if(o&&o.dataEach)for(var s=t.start;s<t.end;s++)o.dataEach(a,s);else o&&o.progress&&o.progress(t,a)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r};ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,t){for(var n in t.prototype)r[n]=noop}var Scheduler$1=Scheduler,colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]},contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var darkTheme=theme,ECEventProcessor=function(){function r(){}return r.prototype.normalizeQuery=function(t){var n={},a={},o={};if(isString(t)){var s=parseClassType(t);n.mainType=s.main||null,n.subType=s.sub||null}else{var l=["Index","Name","Id"],u={name:1,dataIndex:1,dataType:1};each$f(t,function(f,d){for(var v=!1,g=0;g<l.length;g++){var S=l[g],x=d.lastIndexOf(S);if(x>0&&x===d.length-S.length){var _=d.slice(0,x);_!=="data"&&(n.mainType=_,n[S.toLowerCase()]=f,v=!0)}}u.hasOwnProperty(d)&&(a[d]=f,v=!0),v||(o[d]=f)})}return{cptQuery:n,dataQuery:a,otherQuery:o}},r.prototype.filter=function(t,n){var a=this.eventInfo;if(!a)return!0;var o=a.targetEl,s=a.packedEvent,l=a.model,u=a.view;if(!l||!u)return!0;var f=n.cptQuery,d=n.dataQuery;return v(f,l,"mainType")&&v(f,l,"subType")&&v(f,l,"index","componentIndex")&&v(f,l,"name")&&v(f,l,"id")&&v(d,s,"name")&&v(d,s,"dataIndex")&&v(d,s,"dataType")&&(!u.filterForExposedEvent||u.filterForExposedEvent(t,n.otherQuery,o,s));function v(g,S,x,_){return g[x]==null||S[_||x]===g[x]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var n=r.getData();if(r.legendIcon&&n.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var a={},o={},s=!1,l=0;l<SYMBOL_PROPS_WITH_CB.length;l++){var u=SYMBOL_PROPS_WITH_CB[l],f=r.get(u);isFunction(f)?(s=!0,o[u]=f):a[u]=f}if(a.symbol=a.symbol||r.defaultSymbol,n.setVisual(extend({legendIcon:r.legendIcon||a.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},a)),t.isSeriesFiltered(r))return;var d=keys(o);function v(g,S){for(var x=r.getRawValue(S),_=r.getDataParams(S),C=0;C<d.length;C++){var T=d[C];g.setItemVisual(S,T,o[T](x,_))}}return{dataEach:s?v:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var n=r.getData();function a(o,s){for(var l=o.getItemModel(s),u=0;u<SYMBOL_PROPS.length;u++){var f=SYMBOL_PROPS[u],d=l.getShallow(f,!0);d!=null&&o.setItemVisual(s,f,d)}}return{dataEach:n.hasItemOption?a:null}}};function getItemVisualFromData(r,t,n){switch(n){case"color":var a=r.getItemVisual(t,"style");return a[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,n)}}function getVisualFromData(r,t){switch(t){case"color":var n=r.getVisual("style");return n[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function setItemVisualFromData(r,t,n,a){switch(n){case"color":var o=r.ensureUniqueItemVisual(t,"style");o[r.getVisual("drawType")]=a,r.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(t,"style").opacity=a;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(t,n,a);break}}function createLegacyDataSelectAction(r,t){function n(a,o){var s=[];return a.eachComponent({mainType:"series",subType:r,query:o},function(l){s.push(l.seriesIndex)}),s}each$f([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(a){t(a[0],function(o,s,l){o=extend({},o),l.dispatchAction(extend(o,{type:a[1],seriesIndex:n(s,o)}))})})}function handleSeriesLegacySelectEvents(r,t,n,a,o){var s=r+t;n.isSilent(s)||a.eachComponent({mainType:"series",subType:"pie"},function(l){for(var u=l.seriesIndex,f=l.option.selectedMap,d=o.selected,v=0;v<d.length;v++)if(d[v].seriesIndex===u){var g=l.getData(),S=queryDataIndex(g,o.fromActionPayload);n.trigger(s,{type:s,seriesId:l.id,name:isArray$1(S)?g.getName(S[0]):g.getName(S),selected:isString(f)?f:extend({},f)})}})}function handleLegacySelectEvents(r,t,n){r.on("selectchanged",function(a){var o=n.getModel();a.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",t,o,a),handleSeriesLegacySelectEvents("pie","selectchanged",t,o,a)):a.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",t,o,a),handleSeriesLegacySelectEvents("pie","selected",t,o,a)):a.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",t,o,a),handleSeriesLegacySelectEvents("pie","unselected",t,o,a))})}function findEventDispatcher(r,t,n){for(var a;r&&!(t(r)&&(a=r,n));)r=r.__hostTarget||r.parent;return a}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,n){var a=this._guard(t);return supportDefineProperty?Object.defineProperty(a,this._id,{value:n,enumerable:!1,configurable:!0}):a[this._id]=n,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r}(),WeakMap$2=WeakMap$1,Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var n=t.cx,a=t.cy,o=t.width/2,s=t.height/2;r.moveTo(n,a-s),r.lineTo(n+o,a+s),r.lineTo(n-o,a+s),r.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var n=t.cx,a=t.cy,o=t.width/2,s=t.height/2;r.moveTo(n,a-s),r.lineTo(n+o,a),r.lineTo(n,a+s),r.lineTo(n-o,a),r.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var n=t.x,a=t.y,o=t.width/5*3,s=Math.max(o,t.height),l=o/2,u=l*l/(s-l),f=a-s+l+u,d=Math.asin(u/l),v=Math.cos(d)*l,g=Math.sin(d),S=Math.cos(d),x=l*.6,_=l*.7;r.moveTo(n-v,f+u),r.arc(n,f,l,Math.PI-d,Math.PI*2+d),r.bezierCurveTo(n+v-g*x,f+u+S*x,n,a-_,n,a),r.bezierCurveTo(n,a-_,n-v+g*x,f+u+S*x,n-v,f+u),r.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var n=t.height,a=t.width,o=t.x,s=t.y,l=a/3*2;r.moveTo(o,s),r.lineTo(o+l,s+n),r.lineTo(o,s+n/4*3),r.lineTo(o-l,s+n),r.lineTo(o,s),r.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,t,n,a,o){o.x1=r,o.y1=t+a/2,o.x2=r+n,o.y2=t+a/2},rect:function(r,t,n,a,o){o.x=r,o.y=t,o.width=n,o.height=a},roundRect:function(r,t,n,a,o){o.x=r,o.y=t,o.width=n,o.height=a,o.r=Math.min(n,a)/4},square:function(r,t,n,a,o){var s=Math.min(n,a);o.x=r,o.y=t,o.width=s,o.height=s},circle:function(r,t,n,a,o){o.cx=r+n/2,o.cy=t+a/2,o.r=Math.min(n,a)/2},diamond:function(r,t,n,a,o){o.cx=r+n/2,o.cy=t+a/2,o.width=n,o.height=a},pin:function(r,t,n,a,o){o.x=r+n/2,o.y=t+a/2,o.width=n,o.height=a},arrow:function(r,t,n,a,o){o.x=r+n/2,o.y=t+a/2,o.width=n,o.height=a},triangle:function(r,t,n,a,o){o.cx=r+n/2,o.cy=t+a/2,o.width=n,o.height=a}},symbolBuildProxies={};each$f(symbolCtors,function(r,t){symbolBuildProxies[t]=new r});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,n){var a=calculateTextPosition(r,t,n),o=this.shape;return o&&o.symbolType==="pin"&&t.position==="inside"&&(a.y=n.y+n.height*.4),a},buildPath:function(r,t,n){var a=t.symbolType;if(a!=="none"){var o=symbolBuildProxies[a];o||(a="rect",o=symbolBuildProxies[a]),symbolShapeMakers[a](t.x,t.y,t.width,t.height,o.shape),o.buildPath(r,o.shape,n)}}});function symbolPathSetColor(r,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=r,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=r:n.fill=r,this.markRedraw()}}function createSymbol$1(r,t,n,a,o,s,l){var u=r.indexOf("empty")===0;u&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var f;return r.indexOf("image://")===0?f=makeImage(r.slice(8),new BoundingRect$1(t,n,a,o),l?"center":"cover"):r.indexOf("path://")===0?f=makePath(r.slice(7),{},new BoundingRect$1(t,n,a,o),l?"center":"cover"):f=new SymbolClz$1({shape:{symbolType:r,x:t,y:n,width:a,height:o}}),f.__isEmptyBrush=u,f.setColor=symbolPathSetColor,s&&f.setColor(s),f}function normalizeSymbolSize(r){return isArray$1(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function normalizeSymbolOffset(r,t){if(r!=null)return isArray$1(r)||(r=[r,r]),[parsePercent(r[0],t[0])||0,parsePercent(retrieve2(r[1],r[0]),t[1])||0]}function createLinearGradient(r,t,n){var a=t.x==null?0:t.x,o=t.x2==null?1:t.x2,s=t.y==null?0:t.y,l=t.y2==null?0:t.y2;t.global||(a=a*n.width+n.x,o=o*n.width+n.x,s=s*n.height+n.y,l=l*n.height+n.y),a=isNaN(a)?0:a,o=isNaN(o)?1:o,s=isNaN(s)?0:s,l=isNaN(l)?0:l;var u=r.createLinearGradient(a,s,o,l);return u}function createRadialGradient(r,t,n){var a=n.width,o=n.height,s=Math.min(a,o),l=t.x==null?.5:t.x,u=t.y==null?.5:t.y,f=t.r==null?.5:t.r;t.global||(l=l*a+n.x,u=u*o+n.y,f=f*s);var d=r.createRadialGradient(l,u,0,l,u,f);return d}function getCanvasGradient(r,t,n){for(var a=t.type==="radial"?createRadialGradient(r,t,n):createLinearGradient(r,t,n),o=t.colorStops,s=0;s<o.length;s++)a.addColorStop(o[s].offset,o[s].color);return a}function isClipPathChanged(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var n=0;n<r.length;n++)if(r[n]!==t[n])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize$1(r,t,n){var a=["width","height"][t],o=["clientWidth","clientHeight"][t],s=["paddingLeft","paddingTop"][t],l=["paddingRight","paddingBottom"][t];if(n[a]!=null&&n[a]!=="auto")return parseFloat(n[a]);var u=document.defaultView.getComputedStyle(r);return(r[o]||parseInt10(u[a])||parseInt10(r.style[a]))-(parseInt10(u[s])||0)-(parseInt10(u[l])||0)|0}function normalizeLineDash(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:isNumber(r)?[r]:isArray$1(r)?r:null}function getLineDash(r){var t=r.style,n=t.lineDash&&t.lineWidth>0&&normalizeLineDash(t.lineDash,t.lineWidth),a=t.lineDashOffset;if(n){var o=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;o&&o!==1&&(n=map$1(n,function(s){return s/o}),a/=o)}return[n,a]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var t=r.fill;return t!=null&&t!=="none"}function doFillPath(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=n}else r.fill()}function doStrokePath(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=n}else r.stroke()}function createCanvasPattern(r,t,n){var a=createOrUpdateImage(t.image,t.__image,n);if(isImageReady(a)){var o=r.createPattern(a,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&o&&o.setTransform){var s=new DOMMatrix;s.translateSelf(t.x||0,t.y||0),s.rotateSelf(0,0,(t.rotation||0)*RADIAN_TO_DEGREE),s.scaleSelf(t.scaleX||1,t.scaleY||1),o.setTransform(s)}return o}}function brushPath(r,t,n,a){var o,s=styleHasStroke(n),l=styleHasFill(n),u=n.strokePercent,f=u<1,d=!t.path;(!t.silent||f)&&d&&t.createPathProxy();var v=t.path||pathProxyForDraw,g=t.__dirty;if(!a){var S=n.fill,x=n.stroke,_=l&&!!S.colorStops,C=s&&!!x.colorStops,T=l&&!!S.image,w=s&&!!x.image,M=void 0,D=void 0,I=void 0,R=void 0,$=void 0;(_||C)&&($=t.getBoundingRect()),_&&(M=g?getCanvasGradient(r,S,$):t.__canvasFillGradient,t.__canvasFillGradient=M),C&&(D=g?getCanvasGradient(r,x,$):t.__canvasStrokeGradient,t.__canvasStrokeGradient=D),T&&(I=g||!t.__canvasFillPattern?createCanvasPattern(r,S,t):t.__canvasFillPattern,t.__canvasFillPattern=I),w&&(R=g||!t.__canvasStrokePattern?createCanvasPattern(r,x,t):t.__canvasStrokePattern,t.__canvasStrokePattern=I),_?r.fillStyle=M:T&&(I?r.fillStyle=I:l=!1),C?r.strokeStyle=D:w&&(R?r.strokeStyle=R:s=!1)}var N=t.getGlobalScale();v.setScale(N[0],N[1],t.segmentIgnoreThreshold);var F,H;r.setLineDash&&n.lineDash&&(o=getLineDash(t),F=o[0],H=o[1]);var Y=!0;(d||g&SHAPE_CHANGED_BIT)&&(v.setDPR(r.dpr),f?v.setContext(null):(v.setContext(r),Y=!1),v.reset(),t.buildPath(v,t.shape,a),v.toStatic(),t.pathUpdated()),Y&&v.rebuildPath(r,f?u:1),F&&(r.setLineDash(F),r.lineDashOffset=H),a||(n.strokeFirst?(s&&doStrokePath(r,n),l&&doFillPath(r,n)):(l&&doFillPath(r,n),s&&doStrokePath(r,n))),F&&r.setLineDash([])}function brushImage(r,t,n){var a=t.__image=createOrUpdateImage(n.image,t.__image,t,t.onload);if(!(!a||!isImageReady(a))){var o=n.x||0,s=n.y||0,l=t.getWidth(),u=t.getHeight(),f=a.width/a.height;if(l==null&&u!=null?l=u*f:u==null&&l!=null?u=l/f:l==null&&u==null&&(l=a.width,u=a.height),n.sWidth&&n.sHeight){var d=n.sx||0,v=n.sy||0;r.drawImage(a,d,v,n.sWidth,n.sHeight,o,s,l,u)}else if(n.sx&&n.sy){var d=n.sx,v=n.sy,g=l-d,S=u-v;r.drawImage(a,d,v,g,S,o,s,l,u)}else r.drawImage(a,o,s,l,u)}}function brushText(r,t,n){var a,o=n.text;if(o!=null&&(o+=""),o){r.font=n.font||DEFAULT_FONT,r.textAlign=n.textAlign,r.textBaseline=n.textBaseline;var s=void 0,l=void 0;r.setLineDash&&n.lineDash&&(a=getLineDash(t),s=a[0],l=a[1]),s&&(r.setLineDash(s),r.lineDashOffset=l),n.strokeFirst?(styleHasStroke(n)&&r.strokeText(o,n.x,n.y),styleHasFill(n)&&r.fillText(o,n.x,n.y)):(styleHasFill(n)&&r.fillText(o,n.x,n.y),styleHasStroke(n)&&r.strokeText(o,n.x,n.y)),s&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,t,n,a,o){var s=!1;if(!a&&(n=n||{},t===n))return!1;if(a||t.opacity!==n.opacity){flushPathDrawn(r,o),s=!0;var l=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(l)?DEFAULT_COMMON_STYLE.opacity:l}(a||t.blend!==n.blend)&&(s||(flushPathDrawn(r,o),s=!0),r.globalCompositeOperation=t.blend||DEFAULT_COMMON_STYLE.blend);for(var u=0;u<SHADOW_NUMBER_PROPS.length;u++){var f=SHADOW_NUMBER_PROPS[u];(a||t[f]!==n[f])&&(s||(flushPathDrawn(r,o),s=!0),r[f]=r.dpr*(t[f]||0))}return(a||t.shadowColor!==n.shadowColor)&&(s||(flushPathDrawn(r,o),s=!0),r.shadowColor=t.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),s}function bindPathAndTextCommonStyle(r,t,n,a,o){var s=getStyle(t,o.inHover),l=a?null:n&&getStyle(n,o.inHover)||{};if(s===l)return!1;var u=bindCommonProps(r,s,l,a,o);if((a||s.fill!==l.fill)&&(u||(flushPathDrawn(r,o),u=!0),isValidStrokeFillStyle(s.fill)&&(r.fillStyle=s.fill)),(a||s.stroke!==l.stroke)&&(u||(flushPathDrawn(r,o),u=!0),isValidStrokeFillStyle(s.stroke)&&(r.strokeStyle=s.stroke)),(a||s.opacity!==l.opacity)&&(u||(flushPathDrawn(r,o),u=!0),r.globalAlpha=s.opacity==null?1:s.opacity),t.hasStroke()){var f=s.lineWidth,d=f/(s.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==d&&(u||(flushPathDrawn(r,o),u=!0),r.lineWidth=d)}for(var v=0;v<STROKE_PROPS.length;v++){var g=STROKE_PROPS[v],S=g[0];(a||s[S]!==l[S])&&(u||(flushPathDrawn(r,o),u=!0),r[S]=s[S]||g[1])}return u}function bindImageStyle(r,t,n,a,o){return bindCommonProps(r,getStyle(t,o.inHover),n&&getStyle(n,o.inHover),a,o)}function setContextTransform(r,t){var n=t.transform,a=r.dpr||1;n?r.setTransform(a*n[0],a*n[1],a*n[2],a*n[3],a*n[4],a*n[5]):r.setTransform(a,0,0,a,0,0)}function updateClipStatus(r,t,n){for(var a=!1,o=0;o<r.length;o++){var s=r[o];a=a||s.isZeroArea(),setContextTransform(t,s),t.beginPath(),s.buildPath(t,s.shape),t.clip()}n.allClipped=a}function isTransformChanged(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var t=styleHasFill(r),n=styleHasStroke(r);return!(r.lineDash||!(+t^+n)||t&&typeof r.fill!="string"||n&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function getStyle(r,t){return t&&r.__hoverStyle||r.style}function brushSingle(r,t){brush$1(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(r,t,n,a){var o=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~REDRAW_BIT,t.__isRendered=!1;return}var s=t.__clipPaths,l=n.prevElClipPaths,u=!1,f=!1;if((!l||isClipPathChanged(s,l))&&(l&&l.length&&(flushPathDrawn(r,n),r.restore(),f=u=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),s&&s.length&&(flushPathDrawn(r,n),r.save(),updateClipStatus(s,r,n),u=!0),n.prevElClipPaths=s),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var d=n.prevEl;d||(f=u=!0);var v=t instanceof Path$1&&t.autoBatch&&canPathBatch(t.style);u||isTransformChanged(o,d.transform)?(flushPathDrawn(r,n),setContextTransform(r,t)):v||flushPathDrawn(r,n);var g=getStyle(t,n.inHover);t instanceof Path$1?(n.lastDrawType!==DRAW_TYPE_PATH&&(f=!0,n.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,t,d,f,n),(!v||!n.batchFill&&!n.batchStroke)&&r.beginPath(),brushPath(r,t,g,v),v&&(n.batchFill=g.fill||"",n.batchStroke=g.stroke||"")):t instanceof TSpan$1?(n.lastDrawType!==DRAW_TYPE_TEXT&&(f=!0,n.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,t,d,f,n),brushText(r,t,g)):t instanceof ZRImage$1?(n.lastDrawType!==DRAW_TYPE_IMAGE&&(f=!0,n.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,t,d,f,n),brushImage(r,t,g)):t.getTemporalDisplayables&&(n.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(f=!0,n.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,t,n)),v&&a&&flushPathDrawn(r,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function brushIncremental(r,t,n){var a=t.getDisplayables(),o=t.getTemporalDisplayables();r.save();var s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},l,u;for(l=t.getCursor(),u=a.length;l<u;l++){var f=a[l];f.beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),brush$1(r,f,s,l===u-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),s.prevEl=f}for(var d=0,v=o.length;d<v;d++){var f=o[d];f.beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),brush$1(r,f,s,d===v-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),s.prevEl=f}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,t){if(r==="none")return null;var n=t.getDevicePixelRatio(),a=t.getZr(),o=a.painter.type==="svg";r.dirty&&decalMap.delete(r);var s=decalMap.get(r);if(s)return s;var l=defaults(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});l.backgroundColor==="none"&&(l.backgroundColor=null);var u={repeat:"repeat"};return f(u),u.rotation=l.rotation,u.scaleX=u.scaleY=o?1:1/n,decalMap.set(r,u),r.dirty=!1,u;function f(d){for(var v=[n],g=!0,S=0;S<decalKeys.length;++S){var x=l[decalKeys[S]];if(x!=null&&!isArray$1(x)&&!isString(x)&&!isNumber(x)&&typeof x!="boolean"){g=!1;break}v.push(x)}var _;if(g){_=v.join(",")+(o?"-svg":"");var C=decalCache.get(_);C&&(o?d.svgElement=C:d.image=C)}var T=normalizeDashArrayX(l.dashArrayX),w=normalizeDashArrayY(l.dashArrayY),M=normalizeSymbolArray(l.symbol),D=getLineBlockLengthX(T),I=getLineBlockLengthY(w),R=!o&&platformApi.createCanvas(),$=o&&{tag:"g",attrs:{},key:"dcl",children:[]},N=H(),F;R&&(R.width=N.width*n,R.height=N.height*n,F=R.getContext("2d")),Y(),g&&decalCache.put(_,R||$),d.image=R,d.svgElement=$,d.svgWidth=N.width,d.svgHeight=N.height;function H(){for(var G=1,K=0,Z=D.length;K<Z;++K)G=getLeastCommonMultiple(G,D[K]);for(var J=1,K=0,Z=M.length;K<Z;++K)J=getLeastCommonMultiple(J,M[K].length);G*=J;var Q=I*D.length*M.length;return{width:Math.max(1,Math.min(G,l.maxTileWidth)),height:Math.max(1,Math.min(Q,l.maxTileHeight))}}function Y(){F&&(F.clearRect(0,0,R.width,R.height),l.backgroundColor&&(F.fillStyle=l.backgroundColor,F.fillRect(0,0,R.width,R.height)));for(var G=0,K=0;K<w.length;++K)G+=w[K];if(G<=0)return;for(var Z=-I,J=0,Q=0,te=0;Z<N.height;){if(J%2===0){for(var ie=Q/2%M.length,ne=0,de=0,ve=0;ne<N.width*2;){for(var pe=0,K=0;K<T[te].length;++K)pe+=T[te][K];if(pe<=0)break;if(de%2===0){var $e=(1-l.symbolSize)*.5,Re=ne+T[te][de]*$e,Ge=Z+w[J]*$e,Qe=T[te][de]*l.symbolSize,Le=w[J]*l.symbolSize,We=ve/2%M[ie].length;Oe(Re,Ge,Qe,Le,M[ie][We])}ne+=T[te][de],++ve,++de,de===T[te].length&&(de=0)}++te,te===T.length&&(te=0)}Z+=w[J],++Q,++J,J===w.length&&(J=0)}function Oe(ke,Ye,ze,qe,ae){var le=o?1:n,ge=createSymbol$1(ae,ke*le,Ye*le,ze*le,qe*le,l.color,l.symbolKeepAspect);if(o){var se=a.painter.renderOneToVNode(ge);se&&$.children.push(se)}else brushSingle(F,ge)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString(r))return[[r]];for(var t=!0,n=0;n<r.length;++n)if(!isString(r[n])){t=!1;break}if(t)return normalizeSymbolArray([r]);for(var a=[],n=0;n<r.length;++n)isString(r[n])?a.push([r[n]]):a.push(r[n]);return a}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber(r)){var t=Math.ceil(r);return[[t,t]]}for(var n=!0,a=0;a<r.length;++a)if(!isNumber(r[a])){n=!1;break}if(n)return normalizeDashArrayX([r]);for(var o=[],a=0;a<r.length;++a)if(isNumber(r[a])){var t=Math.ceil(r[a]);o.push([t,t])}else{var t=map$1(r[a],function(u){return Math.ceil(u)});t.length%2===1?o.push(t.concat(t)):o.push(t)}return o}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber(r)){var t=Math.ceil(r);return[t,t]}var n=map$1(r,function(a){return Math.ceil(a)});return r.length%2?n.concat(n):n}function getLineBlockLengthX(r){return map$1(r,function(t){return getLineBlockLengthY(t)})}function getLineBlockLengthY(r){for(var t=0,n=0;n<r.length;++n)t+=r[n];return r.length%2===1?t*2:t}function decalVisual(r,t){r.eachRawSeries(function(n){if(!r.isSeriesFiltered(n)){var a=n.getData();a.hasItemVisual()&&a.each(function(l){var u=a.getItemVisual(l,"decal");if(u){var f=a.ensureUniqueItemVisual(l,"style");f.decal=createOrUpdatePatternFromDecal(u,t)}});var o=a.getVisual("decal");if(o){var s=a.getVisual("style");s.decal=createOrUpdatePatternFromDecal(o,t)}}})}var lifecycle=new Eventful$1,lifecycle$1=lifecycle,implsStore={};function registerImpl(r,t){implsStore[r]=t}function getImpl(r){return implsStore[r]}var hasWindow=typeof window!="undefined",TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,r,t)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return toLowercaseNameAndCallEventful(this,r,t)}}function toLowercaseNameAndCallEventful(r,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Eventful$1.prototype[t].apply(r,n)}var MessageCenter=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this,new ECEventProcessor)||this;s._chartsViews=[],s._chartsMap={},s._componentsViews=[],s._componentsMap={},s._pendingActions=[],o=o||{},isString(a)&&(a=themeStorage[a]),s._dom=n;var l="canvas",u=!1,f=s._zr=init$2(n,{renderer:o.renderer||l,devicePixelRatio:o.devicePixelRatio,width:o.width,height:o.height,ssr:o.ssr,useDirtyRect:o.useDirtyRect==null?u:o.useDirtyRect});s._ssr=o.ssr,s._throttledZrFlush=throttle(bind$1(f.flush,f),17),a=clone$4(a),a&&globalBackwardCompat(a,!0),s._theme=a,s._locale=createLocaleObject(o.locale||SYSTEM_LANG),s._coordSysMgr=new CoordinateSystem;var d=s._api=createExtensionAPI(s);function v(g,S){return g.__prio-S.__prio}return sort$2(visualFuncs,v),sort$2(dataProcessorFuncs,v),s._scheduler=new Scheduler$1(s,d,dataProcessorFuncs,visualFuncs),s._messageCenter=new MessageCenter,s._initEvents(),s.resize=bind$1(s.resize,s),f.animation.on("frame",s._onframe,s),bindRenderedEvent(f,s),bindMouseEvent(f,s),setAsPrimitive(s),s}return t.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var n=this._scheduler;if(this[PENDING_UPDATE]){var a=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(f){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,f}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}else if(n.unfinished){var o=TEST_FRAME_REMAIN_TIME,s=this._model,l=this._api;n.unfinished=!1;do{var u=+new Date;n.performSeriesTasks(s),n.performDataProcessorTasks(s),updateStreamModes(this,s),n.performVisualTasks(s),renderSeries(this,this._model,l,"remain",{}),o-=+new Date-u}while(o>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,a,o){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var s,l,u;if(isObject$4(a)&&(o=a.lazyUpdate,s=a.silent,l=a.replaceMerge,u=a.transition,a=a.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||a){var f=new OptionManager$1(this._api),d=this._theme,v=this._model=new GlobalModel$1;v.scheduler=this._scheduler,v.ssr=this._ssr,v.init(null,null,null,d,this._locale,f)}this._model.setOption(n,{replaceMerge:l},optionPreprocessorFuncs);var g={seriesTransition:u,optionChanged:!0};if(o)this[PENDING_UPDATE]={silent:s,updateParams:g},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,g)}catch(S){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,S}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hasWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var a=this._zr.painter;return a.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var a=this._zr.painter;return a.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(!!env$1.svgSupported){var n=this._zr,a=n.storage.getDisplayList();return each$f(a,function(o){o.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var a=n.excludeComponents,o=this._model,s=[],l=this;each$f(a,function(f){o.eachComponent({mainType:f},function(d){var v=l._componentsMap[d.__viewId];v.group.ignore||(s.push(v),v.group.ignore=!0)})});var u=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return each$f(s,function(f){f.group.ignore=!1}),u},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var a=n.type==="svg",o=this.group,s=Math.min,l=Math.max,u=1/0;if(connectedGroups[o]){var f=u,d=u,v=-u,g=-u,S=[],x=n&&n.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(D,I){if(D.group===o){var R=a?D.getZr().painter.getSvgDom().innerHTML:D.renderToCanvas(clone$4(n)),$=D.getDom().getBoundingClientRect();f=s($.left,f),d=s($.top,d),v=l($.right,v),g=l($.bottom,g),S.push({dom:R,left:$.left,top:$.top})}}),f*=x,d*=x,v*=x,g*=x;var _=v-f,C=g-d,T=platformApi.createCanvas(),w=init$2(T,{renderer:a?"svg":"canvas"});if(w.resize({width:_,height:C}),a){var M="";return each$f(S,function(D){var I=D.left-f,R=D.top-d;M+='<g transform="translate('+I+","+R+')">'+D.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=M,n.connectedBackgroundColor&&w.painter.setBackgroundColor(n.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}else return n.connectedBackgroundColor&&w.add(new Rect$3({shape:{x:0,y:0,width:_,height:C},style:{fill:n.connectedBackgroundColor}})),each$f(S,function(D){var I=new ZRImage$1({style:{x:D.left*x-f,y:D.top*x-d,image:D.dom}});w.add(I)}),w.refreshImmediately(),T.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,a){return doConvertPixel(this,"convertToPixel",n,a)},t.prototype.convertFromPixel=function(n,a){return doConvertPixel(this,"convertFromPixel",n,a)},t.prototype.containPixel=function(n,a){if(this._disposed){this.id;return}var o=this._model,s,l=parseFinder$1(o,n);return each$f(l,function(u,f){f.indexOf("Models")>=0&&each$f(u,function(d){var v=d.coordinateSystem;if(v&&v.containPoint)s=s||!!v.containPoint(a);else if(f==="seriesModels"){var g=this._chartsMap[d.__viewId];g&&g.containPoint&&(s=s||g.containPoint(a,d))}},this)},this),!!s},t.prototype.getVisual=function(n,a){var o=this._model,s=parseFinder$1(o,n,{defaultMainType:"series"}),l=s.seriesModel,u=l.getData(),f=s.hasOwnProperty("dataIndexInside")?s.dataIndexInside:s.hasOwnProperty("dataIndex")?u.indexOfRawIndex(s.dataIndex):null;return f!=null?getItemVisualFromData(u,f,a):getVisualFromData(u,a)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;each$f(MOUSE_EVENT_NAMES,function(a){var o=function(s){var l=n.getModel(),u=s.target,f,d=a==="globalout";if(d?f={}:u&&findEventDispatcher(u,function(_){var C=getECData(_);if(C&&C.dataIndex!=null){var T=C.dataModel||l.getSeriesByIndex(C.seriesIndex);return f=T&&T.getDataParams(C.dataIndex,C.dataType)||{},!0}else if(C.eventData)return f=extend({},C.eventData),!0},!0),f){var v=f.componentType,g=f.componentIndex;(v==="markLine"||v==="markPoint"||v==="markArea")&&(v="series",g=f.seriesIndex);var S=v&&g!=null&&l.getComponent(v,g),x=S&&n[S.mainType==="series"?"_chartsMap":"_componentsMap"][S.__viewId];f.event=s,f.type=a,n._$eventProcessor.eventInfo={targetEl:u,packedEvent:f,model:S,view:x},n.trigger(a,f)}};o.zrEventfulCallAtLast=!0,n._zr.on(a,o,n)}),each$f(eventActionMap,function(a,o){n._messageCenter.on(o,function(s){this.trigger(o,s)},n)}),each$f(["selectchanged"],function(a){n._messageCenter.on(a,function(o){this.trigger(a,o)},n)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var a=this,o=a._api,s=a._model;each$f(a._componentsViews,function(l){l.dispose(s,o)}),each$f(a._chartsViews,function(l){l.dispose(s,o)}),a._zr.dispose(),a._dom=a._model=a._chartsMap=a._componentsMap=a._chartsViews=a._componentsViews=a._scheduler=a._api=a._zr=a._throttledZrFlush=a._theme=a._coordSysMgr=a._messageCenter=null,delete instances[a.id]},t.prototype.resize=function(n){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(n);var a=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!a){var o=a.resetOption("media"),s=n&&n.silent;this[PENDING_UPDATE]&&(s==null&&(s=this[PENDING_UPDATE].silent),o=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{o&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},n&&n.animation)})}catch(l){throw this[IN_MAIN_PROCESS_KEY]=!1,l}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}}},t.prototype.showLoading=function(n,a){if(this._disposed){this.id;return}if(isObject$4(n)&&(a=n,n=""),n=n||"default",this.hideLoading(),!!loadingEffects[n]){var o=loadingEffects[n](this._api,a),s=this._zr;this._loadingFX=o,s.add(o)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var a=extend({},n);return a.type=eventActionMap[n.type],a},t.prototype.dispatchAction=function(n,a){if(this._disposed){this.id;return}if(isObject$4(a)||(a={silent:!!a}),!!actions[n.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(n);return}var o=a.silent;doDispatchAction.call(this,n,o);var s=a.flush;s?this._zr.flush():s!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}},t.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var a=n.seriesIndex,o=this.getModel(),s=o.getSeriesByIndex(a);s.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){prepare=function(g){var S=g._scheduler;S.restorePipelines(g._model),S.prepareStageTasks(),prepareView(g,!0),prepareView(g,!1),S.plan()},prepareView=function(g,S){for(var x=g._model,_=g._scheduler,C=S?g._componentsViews:g._chartsViews,T=S?g._componentsMap:g._chartsMap,w=g._zr,M=g._api,D=0;D<C.length;D++)C[D].__alive=!1;S?x.eachComponent(function($,N){$!=="series"&&I(N)}):x.eachSeries(I);function I($){var N=$.__requireNewView;$.__requireNewView=!1;var F="_ec_"+$.id+"_"+$.type,H=!N&&T[F];if(!H){var Y=parseClassType($.type),G=S?ComponentView$1.getClass(Y.main,Y.sub):ChartView$1.getClass(Y.sub);H=new G,H.init(x,M),T[F]=H,C.push(H),w.add(H.group)}$.__viewId=H.__id=F,H.__alive=!0,H.__model=$,H.group.__ecComponentInfo={mainType:$.mainType,index:$.componentIndex},!S&&_.prepareView(H,$,x,M)}for(var D=0;D<C.length;){var R=C[D];R.__alive?D++:(!S&&R.renderTask.dispose(),w.remove(R.group),R.dispose(x,M),C.splice(D,1),T[R.__id]===R&&delete T[R.__id],R.__id=R.group.__ecComponentInfo=null)}},updateDirectly=function(g,S,x,_,C){var T=g._model;if(T.setUpdatePayload(x),!_){each$f([].concat(g._componentsViews).concat(g._chartsViews),R);return}var w={};w[_+"Id"]=x[_+"Id"],w[_+"Index"]=x[_+"Index"],w[_+"Name"]=x[_+"Name"];var M={mainType:_,query:w};C&&(M.subType=C);var D=x.excludeSeriesId,I;D!=null&&(I=createHashMap(),each$f(normalizeToArray(D),function($){var N=convertOptionIdName($,null);N!=null&&I.set(N,!0)})),T&&T.eachComponent(M,function($){var N=I&&I.get($.id)!==null;if(!N)if(isHighDownPayload(x))if($ instanceof SeriesModel$1)x.type===HIGHLIGHT_ACTION_TYPE&&!x.notBlur&&!$.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload($,x,g._api);else{var F=findComponentHighDownDispatchers($.mainType,$.componentIndex,x.name,g._api),H=F.focusSelf,Y=F.dispatchers;x.type===HIGHLIGHT_ACTION_TYPE&&H&&!x.notBlur&&blurComponent($.mainType,$.componentIndex,g._api),Y&&each$f(Y,function(G){x.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(G):leaveEmphasis(G)})}else isSelectChangePayload(x)&&$ instanceof SeriesModel$1&&(toggleSelectionFromPayload($,x,g._api),updateSeriesElementSelection($),markStatusToUpdate(g))},g),T&&T.eachComponent(M,function($){var N=I&&I.get($.id)!==null;N||R(g[_==="series"?"_chartsMap":"_componentsMap"][$.__viewId])},g);function R($){$&&$.__alive&&$[S]&&$[S]($.__model,T,g._api,x)}},updateMethods={prepareAndUpdate:function(g){prepare(this),updateMethods.update.call(this,g,{optionChanged:g.newOption!=null})},update:function(g,S){var x=this._model,_=this._api,C=this._zr,T=this._coordSysMgr,w=this._scheduler;if(!!x){x.setUpdatePayload(g),w.restoreData(x,g),w.performSeriesTasks(x),T.create(x,_),w.performDataProcessorTasks(x,g),updateStreamModes(this,x),T.update(x,_),n(x),w.performVisualTasks(x,g),render(this,x,_,g,S);var M=x.get("backgroundColor")||"transparent",D=x.get("darkMode");C.setBackgroundColor(M),D!=null&&D!=="auto"&&C.setDarkMode(D),lifecycle$1.trigger("afterupdate",x,_)}},updateTransform:function(g){var S=this,x=this._model,_=this._api;if(!!x){x.setUpdatePayload(g);var C=[];x.eachComponent(function(w,M){if(w!=="series"){var D=S.getViewOfComponentModel(M);if(D&&D.__alive)if(D.updateTransform){var I=D.updateTransform(M,x,_,g);I&&I.update&&C.push(D)}else C.push(D)}});var T=createHashMap();x.eachSeries(function(w){var M=S._chartsMap[w.__viewId];if(M.updateTransform){var D=M.updateTransform(w,x,_,g);D&&D.update&&T.set(w.uid,1)}else T.set(w.uid,1)}),n(x),this._scheduler.performVisualTasks(x,g,{setDirty:!0,dirtyMap:T}),renderSeries(this,x,_,g,{},T),lifecycle$1.trigger("afterupdate",x,_)}},updateView:function(g){var S=this._model;!S||(S.setUpdatePayload(g),ChartView$1.markUpdateMethod(g,"updateView"),n(S),this._scheduler.performVisualTasks(S,g,{setDirty:!0}),render(this,S,this._api,g,{}),lifecycle$1.trigger("afterupdate",S,this._api))},updateVisual:function(g){var S=this,x=this._model;!x||(x.setUpdatePayload(g),x.eachSeries(function(_){_.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(g,"updateVisual"),n(x),this._scheduler.performVisualTasks(x,g,{visualType:"visual",setDirty:!0}),x.eachComponent(function(_,C){if(_!=="series"){var T=S.getViewOfComponentModel(C);T&&T.__alive&&T.updateVisual(C,x,S._api,g)}}),x.eachSeries(function(_){var C=S._chartsMap[_.__viewId];C.updateVisual(_,x,S._api,g)}),lifecycle$1.trigger("afterupdate",x,this._api))},updateLayout:function(g){updateMethods.update.call(this,g)}},doConvertPixel=function(g,S,x,_){if(g._disposed){g.id;return}for(var C=g._model,T=g._coordSysMgr.getCoordinateSystems(),w,M=parseFinder$1(C,x),D=0;D<T.length;D++){var I=T[D];if(I[S]&&(w=I[S](C,M,_))!=null)return w}},updateStreamModes=function(g,S){var x=g._chartsMap,_=g._scheduler;S.eachSeries(function(C){_.updateStreamModes(C,x[C.__viewId])})},doDispatchAction=function(g,S){var x=this,_=this.getModel(),C=g.type,T=g.escapeConnect,w=actions[C],M=w.actionInfo,D=(M.update||"update").split(":"),I=D.pop(),R=D[0]!=null&&parseClassType(D[0]);this[IN_MAIN_PROCESS_KEY]=!0;var $=[g],N=!1;g.batch&&(N=!0,$=map$1(g.batch,function(J){return J=defaults(extend({},J),g),J.batch=null,J}));var F=[],H,Y=isSelectChangePayload(g),G=isHighDownPayload(g);if(G&&allLeaveBlur(this._api),each$f($,function(J){if(H=w.action(J,x._model,x._api),H=H||extend({},J),H.type=M.event||H.type,F.push(H),G){var Q=preParseFinder(g),te=Q.queryOptionMap,ie=Q.mainTypeSpecified,ne=ie?te.keys()[0]:"series";updateDirectly(x,I,J,ne),markStatusToUpdate(x)}else Y?(updateDirectly(x,I,J,"series"),markStatusToUpdate(x)):R&&updateDirectly(x,I,J,R.main,R.sub)}),I!=="none"&&!G&&!Y&&!R)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,g),this[PENDING_UPDATE]=null):updateMethods[I].call(this,g)}catch(J){throw this[IN_MAIN_PROCESS_KEY]=!1,J}if(N?H={type:M.event||C,escapeConnect:T,batch:F}:H=F[0],this[IN_MAIN_PROCESS_KEY]=!1,!S){var K=this._messageCenter;if(K.trigger(H.type,H),Y){var Z={type:"selectchanged",escapeConnect:T,selected:getAllSelectedIndices(_),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};K.trigger(Z.type,Z)}}},flushPendingActions=function(g){for(var S=this._pendingActions;S.length;){var x=S.shift();doDispatchAction.call(this,x,g)}},triggerUpdatedEvent=function(g){!g&&this.trigger("updated")},bindRenderedEvent=function(g,S){g.on("rendered",function(x){S.trigger("rendered",x),g.animation.isFinished()&&!S[PENDING_UPDATE]&&!S._scheduler.unfinished&&!S._pendingActions.length&&S.trigger("finished")})},bindMouseEvent=function(g,S){g.on("mouseover",function(x){var _=x.target,C=findEventDispatcher(_,isHighDownDispatcher);C&&(handleGlobalMouseOverForHighDown(C,x,S._api),markStatusToUpdate(S))}).on("mouseout",function(x){var _=x.target,C=findEventDispatcher(_,isHighDownDispatcher);C&&(handleGlobalMouseOutForHighDown(C,x,S._api),markStatusToUpdate(S))}).on("click",function(x){var _=x.target,C=findEventDispatcher(_,function(M){return getECData(M).dataIndex!=null},!0);if(C){var T=C.selected?"unselect":"select",w=getECData(C);S._api.dispatchAction({type:T,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})};function n(g){g.clearColorPalette(),g.eachSeries(function(S){S.clearColorPalette()})}function a(g){var S=[],x=[],_=!1;if(g.eachComponent(function(M,D){var I=D.get("zlevel")||0,R=D.get("z")||0,$=D.getZLevelKey();_=_||!!$,(M==="series"?x:S).push({zlevel:I,z:R,idx:D.componentIndex,type:M,key:$})}),_){var C=S.concat(x),T,w;sort$2(C,function(M,D){return M.zlevel===D.zlevel?M.z-D.z:M.zlevel-D.zlevel}),each$f(C,function(M){var D=g.getComponent(M.type,M.idx),I=M.zlevel,R=M.key;T!=null&&(I=Math.max(T,I)),R?(I===T&&R!==w&&I++,w=R):w&&(I===T&&I++,w=""),T=I,D.setZLevel(I)})}}render=function(g,S,x,_,C){a(S),renderComponents(g,S,x,_,C),each$f(g._chartsViews,function(T){T.__alive=!1}),renderSeries(g,S,x,_,C),each$f(g._chartsViews,function(T){T.__alive||T.remove(S,x)})},renderComponents=function(g,S,x,_,C,T){each$f(T||g._componentsViews,function(w){var M=w.__model;d(M,w),w.render(M,S,x,_),u(M,w),v(M,w)})},renderSeries=function(g,S,x,_,C,T){var w=g._scheduler;C=extend(C||{},{updatedSeries:S.getSeries()}),lifecycle$1.trigger("series:beforeupdate",S,x,C);var M=!1;S.eachSeries(function(D){var I=g._chartsMap[D.__viewId];I.__alive=!0;var R=I.renderTask;w.updatePayload(R,_),d(D,I),T&&T.get(D.uid)&&R.dirty(),R.perform(w.getPerformArgs(R))&&(M=!0),I.group.silent=!!D.get("silent"),l(D,I),updateSeriesElementSelection(D)}),w.unfinished=M||w.unfinished,lifecycle$1.trigger("series:layoutlabels",S,x,C),lifecycle$1.trigger("series:transition",S,x,C),S.eachSeries(function(D){var I=g._chartsMap[D.__viewId];u(D,I),v(D,I)}),s(g,S),lifecycle$1.trigger("series:afterupdate",S,x,C)},markStatusToUpdate=function(g){g[STATUS_NEEDS_UPDATE_KEY]=!0,g.getZr().wakeUp()},applyChangedStates=function(g){!g[STATUS_NEEDS_UPDATE_KEY]||(g.getZr().storage.traverse(function(S){isElementRemoved(S)||o(S)}),g[STATUS_NEEDS_UPDATE_KEY]=!1)};function o(g){for(var S=[],x=g.currentStates,_=0;_<x.length;_++){var C=x[_];C==="emphasis"||C==="blur"||C==="select"||S.push(C)}g.selected&&g.states.select&&S.push("select"),g.hoverState===HOVER_STATE_EMPHASIS&&g.states.emphasis?S.push("emphasis"):g.hoverState===HOVER_STATE_BLUR&&g.states.blur&&S.push("blur"),g.useStates(S)}function s(g,S){var x=g._zr,_=x.storage,C=0;_.traverse(function(T){T.isGroup||C++}),C>S.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&S.eachSeries(function(T){if(!T.preventUsingHoverLayer){var w=g._chartsMap[T.__viewId];w.__alive&&w.eachRendered(function(M){M.states.emphasis&&(M.states.emphasis.hoverLayer=!0)})}})}function l(g,S){var x=g.get("blendMode")||null;S.eachRendered(function(_){_.isGroup||(_.style.blend=x)})}function u(g,S){if(!g.preventAutoZ){var x=g.get("z")||0,_=g.get("zlevel")||0;S.eachRendered(function(C){return f(C,x,_,-1/0),!0})}}function f(g,S,x,_){var C=g.getTextContent(),T=g.getTextGuideLine(),w=g.isGroup;if(w)for(var M=g.childrenRef(),D=0;D<M.length;D++)_=Math.max(f(M[D],S,x,_),_);else g.z=S,g.zlevel=x,_=Math.max(g.z2,_);if(C&&(C.z=S,C.zlevel=x,isFinite(_)&&(C.z2=_+2)),T){var I=g.textGuideLineConfig;T.z=S,T.zlevel=x,isFinite(_)&&(T.z2=_+(I&&I.showAbove?1:-1))}return _}function d(g,S){S.eachRendered(function(x){if(!isElementRemoved(x)){var _=x.getTextContent(),C=x.getTextGuideLine();x.stateTransition&&(x.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),C&&C.stateTransition&&(C.stateTransition=null),x.hasState()?(x.prevStates=x.currentStates,x.clearStates()):x.prevStates&&(x.prevStates=null)}})}function v(g,S){var x=g.getModel("stateAnimation"),_=g.isAnimationEnabled(),C=x.get("duration"),T=C>0?{duration:C,delay:x.get("delay"),easing:x.get("easing")}:null;S.eachRendered(function(w){if(w.states&&w.states.emphasis){if(isElementRemoved(w))return;if(w instanceof Path$1&&savePathStates(w),w.__dirty){var M=w.prevStates;M&&w.useStates(M)}if(_){w.stateTransition=T;var D=w.getTextContent(),I=w.getTextGuideLine();D&&(D.stateTransition=T),I&&(I.stateTransition=T)}w.__dirty&&o(w)}})}createExtensionAPI=function(g){return new(function(S){__extends$1(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},x.prototype.getComponentByElement=function(_){for(;_;){var C=_.__ecComponentInfo;if(C!=null)return g._model.getComponent(C.mainType,C.index);_=_.parent}},x.prototype.enterEmphasis=function(_,C){enterEmphasis(_,C),markStatusToUpdate(g)},x.prototype.leaveEmphasis=function(_,C){leaveEmphasis(_,C),markStatusToUpdate(g)},x.prototype.enterBlur=function(_){enterBlur(_),markStatusToUpdate(g)},x.prototype.leaveBlur=function(_){leaveBlur(_),markStatusToUpdate(g)},x.prototype.enterSelect=function(_){enterSelect(_),markStatusToUpdate(g)},x.prototype.leaveSelect=function(_){leaveSelect(_),markStatusToUpdate(g)},x.prototype.getModel=function(){return g.getModel()},x.prototype.getViewOfComponentModel=function(_){return g.getViewOfComponentModel(_)},x.prototype.getViewOfSeriesModel=function(_){return g.getViewOfSeriesModel(_)},x}(ExtensionAPI$1))(g)},enableConnect=function(g){function S(x,_){for(var C=0;C<x.length;C++){var T=x[C];T[CONNECT_STATUS_KEY]=_}}each$f(eventActionMap,function(x,_){g._messageCenter.on(_,function(C){if(connectedGroups[g.group]&&g[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(C&&C.escapeConnect)return;var T=g.makeActionFromEvent(C),w=[];each$f(instances,function(M){M!==g&&M.group===g.group&&w.push(M)}),S(w,CONNECT_STATUS_PENDING),each$f(w,function(M){M[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&M.dispatchAction(T)}),S(w,CONNECT_STATUS_UPDATED)}})})}}(),t}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(r,t,n){var a=this;function o(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];t&&t.apply&&t.apply(this,s),a.off(r,o)}this.on.call(this,r,o,n)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(r,t,n){var a=!(n&&n.ssr);if(a){var o=getInstanceByDom(r);if(o)return o}var s=new ECharts(r,t,n);return s.id="ec_"+idBase++,instances[s.id]=s,a&&setAttribute(r,DOM_ATTRIBUTE_KEY,s.id),enableConnect(s),lifecycle$1.trigger("afterinit",s),s}function getInstanceByDom(r){return instances[getAttribute(r,DOM_ATTRIBUTE_KEY)]}function registerTheme(r,t){themeStorage[r]=t}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,t){normalizeRegister(dataProcessorFuncs,r,t,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,t){lifecycle$1.on(r,t)}function registerAction(r,t,n){isFunction(t)&&(n=t,t="");var a=isObject$4(r)?r.type:[r,r={event:t}][0];r.event=(r.event||a).toLowerCase(),t=r.event,!eventActionMap[t]&&(assert(ACTION_REG.test(a)&&ACTION_REG.test(t)),actions[a]||(actions[a]={action:n,actionInfo:r}),eventActionMap[t]=a)}function registerCoordinateSystem(r,t){CoordinateSystem.register(r,t)}function registerLayout(r,t){normalizeRegister(visualFuncs,r,t,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,t){normalizeRegister(visualFuncs,r,t,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,t,n,a,o){if((isFunction(t)||isObject$4(t))&&(n=t,t=a),!(indexOf(registeredTasks,n)>=0)){registeredTasks.push(n);var s=Scheduler$1.wrapStageHandler(n,o);s.__prio=t,s.__raw=n,r.push(s)}}function registerLoading(r,t){loadingEffects[r]=t}function registerMap$1(r,t,n){var a=getImpl("registerMap");a&&a(r,t,n)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=function(){function r(t,n,a,o,s,l){this._old=t,this._new=n,this._oldKeyGetter=a||defaultKeyGetter,this._newKeyGetter=o||defaultKeyGetter,this.context=s,this._diffModeMultiple=l==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,n=this._new,a={},o=new Array(t.length),s=new Array(n.length);this._initIndexMap(t,null,o,"_oldKeyGetter"),this._initIndexMap(n,a,s,"_newKeyGetter");for(var l=0;l<t.length;l++){var u=o[l],f=a[u],d=dataIndexMapValueLength(f);if(d>1){var v=f.shift();f.length===1&&(a[u]=f[0]),this._update&&this._update(v,l)}else d===1?(a[u]=null,this._update&&this._update(f,l)):this._remove&&this._remove(l)}this._performRestAdd(s,a)},r.prototype._executeMultiple=function(){var t=this._old,n=this._new,a={},o={},s=[],l=[];this._initIndexMap(t,a,s,"_oldKeyGetter"),this._initIndexMap(n,o,l,"_newKeyGetter");for(var u=0;u<s.length;u++){var f=s[u],d=a[f],v=o[f],g=dataIndexMapValueLength(d),S=dataIndexMapValueLength(v);if(g>1&&S===1)this._updateManyToOne&&this._updateManyToOne(v,d),o[f]=null;else if(g===1&&S>1)this._updateOneToMany&&this._updateOneToMany(v,d),o[f]=null;else if(g===1&&S===1)this._update&&this._update(v,d),o[f]=null;else if(g>1&&S>1)this._updateManyToMany&&this._updateManyToMany(v,d),o[f]=null;else if(g>1)for(var x=0;x<g;x++)this._remove&&this._remove(d[x]);else this._remove&&this._remove(d)}this._performRestAdd(l,o)},r.prototype._performRestAdd=function(t,n){for(var a=0;a<t.length;a++){var o=t[a],s=n[o],l=dataIndexMapValueLength(s);if(l>1)for(var u=0;u<l;u++)this._add&&this._add(s[u]);else l===1&&this._add&&this._add(s);n[o]=null}},r.prototype._initIndexMap=function(t,n,a,o){for(var s=this._diffModeMultiple,l=0;l<t.length;l++){var u="_ec_"+this[o](t[l],l);if(s||(a[l]=u),!!n){var f=n[u],d=dataIndexMapValueLength(f);d===0?(n[u]=l,s&&a.push(u)):d===1?n[u]=[f,l]:f.push(l)}}},r}(),DataDiffer$1=DataDiffer,DimensionUserOuput=function(){function r(t,n){this._encode=t,this._schema=n}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function summarizeDimensions(r,t){var n={},a=n.encode={},o=createHashMap(),s=[],l=[],u={};each$f(r.dimensions,function(S){var x=r.getDimensionInfo(S),_=x.coordDim;if(_){var C=x.coordDimIndex;getOrCreateEncodeArr(a,_)[C]=S,x.isExtraCoord||(o.set(_,1),mayLabelDimType(x.type)&&(s[0]=S),getOrCreateEncodeArr(u,_)[C]=r.getDimensionIndex(x.name)),x.defaultTooltip&&l.push(S)}VISUAL_DIMENSIONS.each(function(T,w){var M=getOrCreateEncodeArr(a,w),D=x.otherDims[w];D!=null&&D!==!1&&(M[D]=x.name)})});var f=[],d={};o.each(function(S,x){var _=a[x];d[x]=_[0],f=f.concat(_)}),n.dataDimsOnCoord=f,n.dataDimIndicesOnCoord=map$1(f,function(S){return r.getDimensionInfo(S).storeDimIndex}),n.encodeFirstDimNotExtra=d;var v=a.label;v&&v.length&&(s=v.slice());var g=a.tooltip;return g&&g.length?l=g.slice():l.length||(l=s.slice()),a.defaultedLabel=s,a.defaultedTooltip=l,n.userOutput=new DimensionUserOuput(u,t),n}function getOrCreateEncodeArr(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function getDimensionTypeByAxis(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=function(){function r(t){this.otherDims={},t!=null&&extend(this,t)}return r}(),SeriesDimensionDefine$1=SeriesDimensionDefine,inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return retrieve2(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=shouldRetrieveDataByName(this.source),a=!shouldOmitUnusedDimensions(t),o="",s=[],l=0,u=0;l<t;l++){var f=void 0,d=void 0,v=void 0,g=this.dimensions[u];if(g&&g.storeDimIndex===l)f=n?g.name:null,d=g.type,v=g.ordinalMeta,u++;else{var S=this.getSourceDimension(l);S&&(f=n?S.name:null,d=S.type)}s.push({property:f,type:d,ordinalMeta:v}),n&&f!=null&&(!g||!g.isCalculationCoord)&&(o+=a?f.replace(/\`/g,"`1").replace(/\$/g,"`2"):f),o+="$",o+=dimTypeShort[d]||"f",v&&(o+=v.uid),o+="$"}var x=this.source,_=[x.seriesLayoutBy,x.startIndex,o].join("$$");return{dimensions:s,hash:_}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,a=0;n<this._fullDimCount;n++){var o=void 0,s=this.dimensions[a];if(s&&s.storeDimIndex===n)s.isCalculationCoord||(o=s.name),a++;else{var l=this.getSourceDimension(n);l&&(o=l.name)}t.push(o)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var t=createHashMap(),n=0;n<(r||[]).length;n++){var a=r[n],o=isObject$4(a)?a.name:a;o!=null&&t.get(o)==null&&t.set(o,n)}return t}function ensureSourceDimNameMap(r){var t=inner$h(r);return t.dimNameMap||(t.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject$2=isObject$4,map=map$1,CtorInt32Array=typeof Int32Array=="undefined"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function r(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var a,o=!1;isSeriesDataSchema(t)?(a=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(o=!0,a=t),a=a||["x","y"];for(var s={},l=[],u={},f=!1,d={},v=0;v<a.length;v++){var g=a[v],S=isString(g)?new SeriesDimensionDefine$1({name:g}):g instanceof SeriesDimensionDefine$1?g:new SeriesDimensionDefine$1(g),x=S.name;S.type=S.type||"float",S.coordDim||(S.coordDim=x,S.coordDimIndex=0);var _=S.otherDims=S.otherDims||{};l.push(x),s[x]=S,d[x]!=null&&(f=!0),S.createInvertedIndices&&(u[x]=[]),_.itemName===0&&(this._nameDimIdx=v),_.itemId===0&&(this._idDimIdx=v),o&&(S.storeDimIndex=v)}if(this.dimensions=l,this._dimInfos=s,this._initGetDimensionInfo(f),this.hostModel=n,this._invertedIndicesMap=u,this._dimOmitted){var C=this._dimIdxToName=createHashMap();each$f(l,function(T){C.set(s[T].storeDimIndex,T)})}}return r.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var a=this._dimIdxToName.get(n);if(a!=null)return a;var o=this._schema.getSourceDimension(n);if(o)return o.name},r.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var a=this._getDimInfo(t);return a?a.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(isNumber(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(a){return n.hasOwnProperty(a)?n[a]:void 0}:function(a){return n[a]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,n){var a=this._dimSummary;if(n==null)return a.encodeFirstDimNotExtra[t];var o=a.encode[t];return o?o[n]:null},r.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,a=n.encode[t];return(a||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,n,a){var o=this,s;if(t instanceof DataStore&&(s=t),!s){var l=this.dimensions,u=isSourceInstance(t)||isArrayLike(t)?new DefaultDataProvider(t,l.length):t;s=new DataStore;var f=map(l,function(d){return{type:o._dimInfos[d].type,property:d}});s.initData(u,f,a)}this._store=s,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,s.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},r.prototype.appendValues=function(t,n){var a=this._store.appendValues(t,n.length),o=a.start,s=a.end,l=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var u=o;u<s;u++){var f=u-o;this._nameList[u]=n[f],l&&makeIdFromName(this,u)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,a=0;a<n.length;a++){var o=this._dimInfos[n[a]];o.ordinalMeta&&t.collectOrdinalMeta(o.storeDimIndex,o.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!t.fillStorage},r.prototype._doInit=function(t,n){if(!(t>=n)){var a=this._store,o=a.getProvider();this._updateOrdinalMeta();var s=this._nameList,l=this._idList,u=o.getSource().sourceFormat,f=u===SOURCE_FORMAT_ORIGINAL;if(f&&!o.pure)for(var d=[],v=t;v<n;v++){var g=o.getItem(v,d);if(!this.hasItemOption&&isDataItemOption(g)&&(this.hasItemOption=!0),g){var S=g.name;s[v]==null&&S!=null&&(s[v]=convertOptionIdName(S,null));var x=g.id;l[v]==null&&x!=null&&(l[v]=convertOptionIdName(x,null))}}if(this._shouldMakeIdFromName())for(var v=t;v<n;v++)makeIdFromName(this,v);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,n){isObject$2(t)?extend(this._calculationInfo,t):this._calculationInfo[t]=n},r.prototype.getName=function(t){var n=this.getRawIndex(t),a=this._nameList[n];return a==null&&this._nameDimIdx!=null&&(a=getIdNameFromStore(this,this._nameDimIdx,n)),a==null&&(a=""),a},r.prototype._getCategory=function(t,n){var a=this._store.get(t,n),o=this._store.getOrdinalMeta(t);return o?o.categories[a]:a},r.prototype.getId=function(t){return getId(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,n){var a=this._store,o=this._dimInfos[t];if(o)return a.get(o.storeDimIndex,n)},r.prototype.getByRawIndex=function(t,n){var a=this._store,o=this._dimInfos[t];if(o)return a.getByRawIndex(o.storeDimIndex,n)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,n){var a=this,o=this._store;return isArray$1(t)?o.getValues(map(t,function(s){return a._getStoreDimIndex(s)}),n):o.getValues(t)},r.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,a=0,o=n.length;a<o;a++)if(isNaN(this._store.get(n[a],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var n=0,a=this._store.count();n<a;n++)if(this.getName(n)===t)return n;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,n){var a=t&&this._invertedIndicesMap[t],o=a[n];return o==null||isNaN(o)?INDEX_NOT_FOUND:o},r.prototype.indicesOfNearest=function(t,n,a){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,a)},r.prototype.each=function(t,n,a){isFunction(t)&&(a=n,n=t,t=[]);var o=a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.each(s,o?bind$1(n,o):n)},r.prototype.filterSelf=function(t,n,a){isFunction(t)&&(a=n,n=t,t=[]);var o=a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this);return this._store=this._store.filter(s,o?bind$1(n,o):n),this},r.prototype.selectRange=function(t){var n=this,a={},o=keys(t);return each$f(o,function(s){var l=n._getStoreDimIndex(s);a[l]=t[s]}),this._store=this._store.selectRange(a),this},r.prototype.mapArray=function(t,n,a){isFunction(t)&&(a=n,n=t,t=[]),a=a||this;var o=[];return this.each(t,function(){o.push(n&&n.apply(this,arguments))},a),o},r.prototype.map=function(t,n,a,o){var s=a||o||this,l=map(normalizeDimensions(t),this._getStoreDimIndex,this),u=cloneListForMapAndSample(this);return u._store=this._store.map(l,s?bind$1(n,s):n),u},r.prototype.modify=function(t,n,a,o){var s=a||o||this,l=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.modify(l,s?bind$1(n,s):n)},r.prototype.downSample=function(t,n,a,o){var s=cloneListForMapAndSample(this);return s._store=this._store.downSample(this._getStoreDimIndex(t),n,a,o),s},r.prototype.lttbDownSample=function(t,n){var a=cloneListForMapAndSample(this);return a._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),a},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var n=this.hostModel,a=this.getRawDataItem(t);return new Model$1(a,n,n&&n.ecModel)},r.prototype.diff=function(t){var n=this;return new DataDiffer$1(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(a){return getId(t,a)},function(a){return getId(n,a)})},r.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},r.prototype.setVisual=function(t,n){this._visual=this._visual||{},isObject$2(t)?extend(this._visual,t):this._visual[t]=n},r.prototype.getItemVisual=function(t,n){var a=this._itemVisuals[t],o=a&&a[n];return o==null?this.getVisual(n):o},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,n){var a=this._itemVisuals,o=a[t];o||(o=a[t]={});var s=o[n];return s==null&&(s=this.getVisual(n),isArray$1(s)?s=s.slice():isObject$2(s)&&(s=extend({},s)),o[n]=s),s},r.prototype.setItemVisual=function(t,n,a){var o=this._itemVisuals[t]||{};this._itemVisuals[t]=o,isObject$2(n)?extend(o,n):o[n]=a},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,n){isObject$2(t)?extend(this._layout,t):this._layout[t]=n},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,n,a){this._itemLayouts[t]=a?extend(this._itemLayouts[t]||{},n):n},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,n){var a=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(a,this.dataType,t,n),this._graphicEls[t]=n},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,n){each$f(this._graphicEls,function(a,o){a&&t&&t.call(n,a,o)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,n){var a=this[t];!isFunction(a)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var o=a.apply(this,arguments);return n.apply(this,[o].concat(slice(arguments)))})},r.internalField=function(){prepareInvertedIndex=function(t){var n=t._invertedIndicesMap;each$f(n,function(a,o){var s=t._dimInfos[o],l=s.ordinalMeta,u=t._store;if(l){a=n[o]=new CtorInt32Array(l.categories.length);for(var f=0;f<a.length;f++)a[f]=INDEX_NOT_FOUND;for(var f=0;f<u.count();f++)a[u.get(s.storeDimIndex,f)]=f}})},getIdNameFromStore=function(t,n,a){return convertOptionIdName(t._getCategory(n,a),null)},getId=function(t,n){var a=t._idList[n];return a==null&&t._idDimIdx!=null&&(a=getIdNameFromStore(t,t._idDimIdx,n)),a==null&&(a=ID_PREFIX+n),a},normalizeDimensions=function(t){return isArray$1(t)||(t=t!=null?[t]:[]),t},cloneListForMapAndSample=function(t){var n=new r(t._schema?t._schema:map(t.dimensions,t._getDimInfo,t),t.hostModel);return transferProperties(n,t),n},transferProperties=function(t,n){each$f(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods||[]),function(a){n.hasOwnProperty(a)&&(t[a]=n[a])}),t.__wrappedMethods=n.__wrappedMethods,each$f(CLONE_PROPERTIES,function(a){t[a]=clone$4(n[a])}),t._calculationInfo=extend({},n._calculationInfo)},makeIdFromName=function(t,n){var a=t._nameList,o=t._idList,s=t._nameDimIdx,l=t._idDimIdx,u=a[n],f=o[n];if(u==null&&s!=null&&(a[n]=u=getIdNameFromStore(t,s,n)),f==null&&l!=null&&(o[n]=f=getIdNameFromStore(t,l,n)),f==null&&u!=null){var d=t._nameRepeatCount,v=d[u]=(d[u]||0)+1;f=u,v>1&&(f+="__ec__"+v),o[n]=f}}}(),r}(),SeriesData$1=SeriesData;function prepareSeriesDataSchema(r,t){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),t=t||{};var n=t.coordDimensions||[],a=t.dimensionsDefine||r.dimensionsDefine||[],o=createHashMap(),s=[],l=getDimCount(r,n,a,t.dimensionsCount),u=t.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(l),f=a===r.dimensionsDefine,d=f?ensureSourceDimNameMap(r):createDimNameMap(a),v=t.encodeDefine;!v&&t.encodeDefaulter&&(v=t.encodeDefaulter(r,l));for(var g=createHashMap(v),S=new CtorInt32Array$1(l),x=0;x<S.length;x++)S[x]=-1;function _(H){var Y=S[H];if(Y<0){var G=a[H],K=isObject$4(G)?G:{name:G},Z=new SeriesDimensionDefine$1,J=K.name;J!=null&&d.get(J)!=null&&(Z.name=Z.displayName=J),K.type!=null&&(Z.type=K.type),K.displayName!=null&&(Z.displayName=K.displayName);var Q=s.length;return S[H]=Q,Z.storeDimIndex=H,s.push(Z),Z}return s[Y]}if(!u)for(var x=0;x<l;x++)_(x);g.each(function(H,Y){var G=normalizeToArray(H).slice();if(G.length===1&&!isString(G[0])&&G[0]<0){g.set(Y,!1);return}var K=g.set(Y,[]);each$f(G,function(Z,J){var Q=isString(Z)?d.get(Z):Z;Q!=null&&Q<l&&(K[J]=Q,T(_(Q),Y,J))})});var C=0;each$f(n,function(H){var Y,G,K,Z;if(isString(H))Y=H,Z={};else{Z=H,Y=Z.name;var J=Z.ordinalMeta;Z.ordinalMeta=null,Z=extend({},Z),Z.ordinalMeta=J,G=Z.dimsDef,K=Z.otherDims,Z.name=Z.coordDim=Z.coordDimIndex=Z.dimsDef=Z.otherDims=null}var Q=g.get(Y);if(Q!==!1){if(Q=normalizeToArray(Q),!Q.length)for(var te=0;te<(G&&G.length||1);te++){for(;C<l&&_(C).coordDim!=null;)C++;C<l&&Q.push(C++)}each$f(Q,function(ie,ne){var de=_(ie);if(f&&Z.type!=null&&(de.type=Z.type),T(defaults(de,Z),Y,ne),de.name==null&&G){var ve=G[ne];!isObject$4(ve)&&(ve={name:ve}),de.name=de.displayName=ve.name,de.defaultTooltip=ve.defaultTooltip}K&&defaults(de.otherDims,K)})}});function T(H,Y,G){VISUAL_DIMENSIONS.get(Y)!=null?H.otherDims[Y]=G:(H.coordDim=Y,H.coordDimIndex=G,o.set(Y,!0))}var w=t.generateCoord,M=t.generateCoordCount,D=M!=null;M=w?M||1:0;var I=w||"value";function R(H){H.name==null&&(H.name=H.coordDim)}if(u)each$f(s,function(H){R(H)}),s.sort(function(H,Y){return H.storeDimIndex-Y.storeDimIndex});else for(var $=0;$<l;$++){var N=_($),F=N.coordDim;F==null&&(N.coordDim=genCoordDimName(I,o,D),N.coordDimIndex=0,(!w||M<=0)&&(N.isExtraCoord=!0),M--),R(N),N.type==null&&(guessOrdinal(r,$)===BE_ORDINAL.Must||N.isExtraCoord&&(N.otherDims.itemName!=null||N.otherDims.seriesName!=null))&&(N.type="ordinal")}return removeDuplication(s),new SeriesDataSchema({source:r,dimensions:s,fullDimensionCount:l,dimensionOmitted:u})}function removeDuplication(r){for(var t=createHashMap(),n=0;n<r.length;n++){var a=r[n],o=a.name,s=t.get(o)||0;s>0&&(a.name=o+(s-1)),s++,t.set(o,s)}}function getDimCount(r,t,n,a){var o=Math.max(r.dimensionsDetectedCount||1,t.length,n.length,a||0);return each$f(t,function(s){var l;isObject$4(s)&&(l=s.dimsDef)&&(o=Math.max(o,l.length))}),o}function genCoordDimName(r,t,n){var a=t.data;if(n||a.hasOwnProperty(r)){for(var o=0;a.hasOwnProperty(r+o);)o++;r+=o}return t.set(r,!0),r}var CoordSysInfo=function(){function r(t){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=t}return r}();function getCoordSysInfoBySeries(r){var t=r.get("coordinateSystem"),n=new CoordSysInfo(t),a=fetchers[t];if(a)return a(r,n,n.axisMap,n.categoryAxisMap),n}var fetchers={cartesian2d:function(r,t,n,a){var o=r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],s=r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",s),isCategory(o)&&(a.set("x",o),t.firstCategoryDimIndex=0),isCategory(s)&&(a.set("y",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,n,a){var o=r.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["single"],n.set("single",o),isCategory(o)&&(a.set("single",o),t.firstCategoryDimIndex=0)},polar:function(r,t,n,a){var o=r.getReferringComponents("polar",SINGLE_REFERRING).models[0],s=o.findAxisModel("radiusAxis"),l=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",s),n.set("angle",l),isCategory(s)&&(a.set("radius",s),t.firstCategoryDimIndex=0),isCategory(l)&&(a.set("angle",l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,n,a){t.coordSysDims=["lng","lat"]},parallel:function(r,t,n,a){var o=r.ecModel,s=o.getComponent("parallel",r.get("parallelIndex")),l=t.coordSysDims=s.dimensions.slice();each$f(s.parallelAxisIndex,function(u,f){var d=o.getComponent("parallelAxis",u),v=l[f];n.set(v,d),isCategory(d)&&(a.set(v,d),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=f))})}};function isCategory(r){return r.get("type")==="category"}function enableDataStack(r,t,n){n=n||{};var a=n.byIndex,o=n.stackedCoordDimension,s,l,u;isLegacyDimensionsInput(t)?s=t:(l=t.schema,s=l.dimensions,u=t.store);var f=!!(r&&r.get("stack")),d,v,g,S;if(each$f(s,function(M,D){isString(M)&&(s[D]=M={name:M}),f&&!M.isExtraCoord&&(!a&&!d&&M.ordinalMeta&&(d=M),!v&&M.type!=="ordinal"&&M.type!=="time"&&(!o||o===M.coordDim)&&(v=M))}),v&&!a&&!d&&(a=!0),v){g="__\0ecstackresult_"+r.id,S="__\0ecstackedover_"+r.id,d&&(d.createInvertedIndices=!0);var x=v.coordDim,_=v.type,C=0;each$f(s,function(M){M.coordDim===x&&C++});var T={name:g,coordDim:x,coordDimIndex:C,type:_,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length},w={name:S,coordDim:S,coordDimIndex:C+1,type:_,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length+1};l?(u&&(T.storeDimIndex=u.ensureCalculationDimension(S,_),w.storeDimIndex=u.ensureCalculationDimension(g,_)),l.appendCalculationDimension(T),l.appendCalculationDimension(w)):(s.push(T),s.push(w))}return{stackedDimension:v&&v.name,stackedByDimension:d&&d.name,isStackedByIndex:a,stackedOverDimension:S,stackResultDimension:g}}function isLegacyDimensionsInput(r){return!isSeriesDataSchema(r.schema)}function isDimensionStacked(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function getStackedDimension(r,t){return isDimensionStacked(r,t)?r.getCalculationInfo("stackResultDimension"):t}function getCoordSysDimDefs(r,t){var n=r.get("coordinateSystem"),a=CoordinateSystem.get(n),o;return t&&t.coordSysDims&&(o=map$1(t.coordSysDims,function(s){var l={name:s},u=t.axisMap.get(s);if(u){var f=u.get("type");l.type=getDimensionTypeByAxis(f)}return l})),o||(o=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),o}function injectOrdinalMeta(r,t,n){var a,o;return n&&each$f(r,function(s,l){var u=s.coordDim,f=n.categoryAxisMap.get(u);f&&(a==null&&(a=l),s.ordinalMeta=f.getOrdinalMeta(),t&&(s.createInvertedIndices=!0)),s.otherDims.itemName!=null&&(o=!0)}),!o&&a!=null&&(r[a].otherDims.itemName=0),a}function createSeriesData(r,t,n){n=n||{};var a=t.getSourceManager(),o,s=!1;r?(s=!0,o=createSourceFromSeriesDataOption(r)):(o=a.getSource(),s=o.sourceFormat===SOURCE_FORMAT_ORIGINAL);var l=getCoordSysInfoBySeries(t),u=getCoordSysDimDefs(t,l),f=n.useEncodeDefaulter,d=isFunction(f)?f:f?curry$1(makeSeriesEncodeForAxisCoordSys,u,t):null,v={coordDimensions:u,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:d,canOmitUnusedDimensions:!s},g=prepareSeriesDataSchema(o,v),S=injectOrdinalMeta(g.dimensions,n.createInvertedIndices,l),x=s?null:a.getSharedDataStore(g),_=enableDataStack(t,{schema:g,store:x}),C=new SeriesData$1(g,t);C.setCalculationInfo(_);var T=S!=null&&isNeedCompleteOrdinalData(o)?function(w,M,D,I){return I===S?D:this.defaultDimValueGetter(w,M,D,I)}:null;return C.hasItemOption=!1,C.initData(s?o:x,null,T),C}function isNeedCompleteOrdinalData(r){if(r.sourceFormat===SOURCE_FORMAT_ORIGINAL){var t=firstDataNotNull(r.data||[]);return!isArray$1(getDataItemValue(t))}}function firstDataNotNull(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}var Scale=function(){function r(t){this._setting=t||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},r.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,n){var a=this._extent;isNaN(t)||(a[0]=t),isNaN(n)||(a[1]=n)},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r}();enableClassManagement(Scale);var Scale$1=Scale,uidBase=0,OrdinalMeta=function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++uidBase}return r.createByAxisModel=function(t){var n=t.option,a=n.data,o=a&&map$1(a,getName);return new r({categories:o,needCollect:!o,deduplication:n.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var n,a=this._needCollect;if(!isString(t)&&!a)return t;if(a&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var o=this._getOrCreateMap();return n=o.get(t),n==null&&(a?(n=this.categories.length,this.categories[n]=t,o.set(t,n)):n=NaN),n},r.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},r}();function getName(r){return isObject$4(r)&&r.value!=null?r.value:r+""}var OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(r){return r.type==="interval"||r.type==="log"}function intervalScaleNiceTicks(r,t,n,a){var o={},s=r[1]-r[0],l=o.interval=nice(s/t,!0);n!=null&&l<n&&(l=o.interval=n),a!=null&&l>a&&(l=o.interval=a);var u=o.intervalPrecision=getIntervalPrecision(l),f=o.niceTickExtent=[round$3(Math.ceil(r[0]/l)*l,u),round$3(Math.floor(r[1]/l)*l,u)];return fixExtent(f,r),o}function increaseInterval(r){var t=Math.pow(10,quantityExponent(r)),n=r/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,round$3(n*t)}function getIntervalPrecision(r){return getPrecision(r)+2}function clamp(r,t,n){r[t]=Math.max(Math.min(r[t],n[1]),n[0])}function fixExtent(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),clamp(r,0,t),clamp(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function contain$1(r,t){return r>=t[0]&&r<=t[1]}function normalize$2(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function scale(r,t){return r*(t[1]-t[0])+t[0]}var OrdinalScale=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;a.type="ordinal";var o=a.getSetting("ordinalMeta");return o||(o=new OrdinalMeta$1({})),isArray$1(o)&&(o=new OrdinalMeta$1({categories:map$1(o,function(s){return isObject$4(s)?s.value:s})})),a._ordinalMeta=o,a._extent=a.getSetting("extent")||[0,o.categories.length-1],a}return t.prototype.parse=function(n){return n==null?NaN:isString(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),contain$1(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),normalize$2(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(scale(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],a=this._extent,o=a[0];o<=a[1];)n.push({value:o}),o++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var a=n.ordinalNumbers,o=this._ordinalNumbersByTick=[],s=this._ticksByOrdinalNumber=[],l=0,u=this._ordinalMeta.categories.length,f=Math.min(u,a.length);l<f;++l){var d=a[l];o[l]=d,s[d]=l}for(var v=0;l<u;++l){for(;s[v]!=null;)v++;o.push(v),s[v]=l}},t.prototype._getTickNumber=function(n){var a=this._ticksByOrdinalNumber;return a&&n>=0&&n<a.length?a[n]:n},t.prototype.getRawOrdinalNumber=function(n){var a=this._ordinalNumbersByTick;return a&&n>=0&&n<a.length?a[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var a=this.getRawOrdinalNumber(n.value),o=this._ordinalMeta.categories[a];return o==null?"":o+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,a){this.unionExtent(n.getApproximateExtent(a))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Scale$1);Scale$1.registerClass(OrdinalScale);var OrdinalScale$1=OrdinalScale,roundNumber=round$3,IntervalScale=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return contain$1(n,this._extent)},t.prototype.normalize=function(n){return normalize$2(n,this._extent)},t.prototype.scale=function(n){return scale(n,this._extent)},t.prototype.setExtent=function(n,a){var o=this._extent;isNaN(n)||(o[0]=parseFloat(n)),isNaN(a)||(o[1]=parseFloat(a))},t.prototype.unionExtent=function(n){var a=this._extent;n[0]<a[0]&&(a[0]=n[0]),n[1]>a[1]&&(a[1]=n[1]),this.setExtent(a[0],a[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(n)},t.prototype.getTicks=function(n){var a=this._interval,o=this._extent,s=this._niceExtent,l=this._intervalPrecision,u=[];if(!a)return u;var f=1e4;o[0]<s[0]&&(n?u.push({value:roundNumber(s[0]-a,l)}):u.push({value:o[0]}));for(var d=s[0];d<=s[1]&&(u.push({value:d}),d=roundNumber(d+a,l),d!==u[u.length-1].value);)if(u.length>f)return[];var v=u.length?u[u.length-1].value:s[1];return o[1]>v&&(n?u.push({value:roundNumber(v+a,l)}):u.push({value:o[1]})),u},t.prototype.getMinorTicks=function(n){for(var a=this.getTicks(!0),o=[],s=this.getExtent(),l=1;l<a.length;l++){for(var u=a[l],f=a[l-1],d=0,v=[],g=u.value-f.value,S=g/n;d<n-1;){var x=roundNumber(f.value+(d+1)*S);x>s[0]&&x<s[1]&&v.push(x),d++}o.push(v)}return o},t.prototype.getLabel=function(n,a){if(n==null)return"";var o=a&&a.precision;o==null?o=getPrecision(n.value)||0:o==="auto"&&(o=this._intervalPrecision);var s=roundNumber(n.value,o,!0);return addCommas(s)},t.prototype.calcNiceTicks=function(n,a,o){n=n||5;var s=this._extent,l=s[1]-s[0];if(!!isFinite(l)){l<0&&(l=-l,s.reverse());var u=intervalScaleNiceTicks(s,n,a,o);this._intervalPrecision=u.intervalPrecision,this._interval=u.interval,this._niceExtent=u.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var a=this._extent;if(a[0]===a[1])if(a[0]!==0){var o=a[0];n.fixMax||(a[1]+=o/2),a[0]-=o/2}else a[1]=1;var s=a[1]-a[0];isFinite(s)||(a[0]=0,a[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var l=this._interval;n.fixMin||(a[0]=roundNumber(Math.floor(a[0]/l)*l)),n.fixMax||(a[1]=roundNumber(Math.ceil(a[1]/l)*l))},t.prototype.setNiceExtent=function(n,a){this._niceExtent=[n,a]},t.type="interval",t}(Scale$1);Scale$1.registerClass(IntervalScale);var IntervalScale$1=IntervalScale,supportFloat32Array=typeof Float32Array!="undefined",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(r){return isArray$1(r)?supportFloat32Array?new Float32Array(r):r:new Float32ArrayCtor(r)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(r){return r.get("stack")||STACK_PREFIX+r.seriesIndex}function getAxisKey$1(r){return r.dim+r.index}function getLayoutOnAxis(r){var t=[],n=r.axis,a="axis0";if(n.type==="category"){for(var o=n.getBandWidth(),s=0;s<r.count;s++)t.push(defaults({bandWidth:o,axisKey:a,stackId:STACK_PREFIX+s},r));for(var l=doCalBarWidthAndOffset(t),u=[],s=0;s<r.count;s++){var f=l[a][STACK_PREFIX+s];f.offsetCenter=f.offset+f.width/2,u.push(f)}return u}}function prepareLayoutBarSeries(r,t){var n=[];return t.eachSeriesByType(r,function(a){isOnCartesian(a)&&n.push(a)}),n}function getValueAxesMinGaps(r){var t={};each$f(r,function(f){var d=f.coordinateSystem,v=d.getBaseAxis();if(!(v.type!=="time"&&v.type!=="value"))for(var g=f.getData(),S=v.dim+"_"+v.index,x=g.getDimensionIndex(g.mapDimension(v.dim)),_=g.getStore(),C=0,T=_.count();C<T;++C){var w=_.get(x,C);t[S]?t[S].push(w):t[S]=[w]}});var n={};for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];if(o){o.sort(function(f,d){return f-d});for(var s=null,l=1;l<o.length;++l){var u=o[l]-o[l-1];u>0&&(s=s===null?u:Math.min(s,u))}n[a]=s}}return n}function makeColumnLayout(r){var t=getValueAxesMinGaps(r),n=[];return each$f(r,function(a){var o=a.coordinateSystem,s=o.getBaseAxis(),l=s.getExtent(),u;if(s.type==="category")u=s.getBandWidth();else if(s.type==="value"||s.type==="time"){var f=s.dim+"_"+s.index,d=t[f],v=Math.abs(l[1]-l[0]),g=s.scale.getExtent(),S=Math.abs(g[1]-g[0]);u=d?v/S*d:v}else{var x=a.getData();u=Math.abs(l[1]-l[0])/x.count()}var _=parsePercent(a.get("barWidth"),u),C=parsePercent(a.get("barMaxWidth"),u),T=parsePercent(a.get("barMinWidth")||(isInLargeMode(a)?.5:1),u),w=a.get("barGap"),M=a.get("barCategoryGap");n.push({bandWidth:u,barWidth:_,barMaxWidth:C,barMinWidth:T,barGap:w,barCategoryGap:M,axisKey:getAxisKey$1(s),stackId:getSeriesStackId$1(a)})}),doCalBarWidthAndOffset(n)}function doCalBarWidthAndOffset(r){var t={};each$f(r,function(a,o){var s=a.axisKey,l=a.bandWidth,u=t[s]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},f=u.stacks;t[s]=u;var d=a.stackId;f[d]||u.autoWidthCount++,f[d]=f[d]||{width:0,maxWidth:0};var v=a.barWidth;v&&!f[d].width&&(f[d].width=v,v=Math.min(u.remainedWidth,v),u.remainedWidth-=v);var g=a.barMaxWidth;g&&(f[d].maxWidth=g);var S=a.barMinWidth;S&&(f[d].minWidth=S);var x=a.barGap;x!=null&&(u.gap=x);var _=a.barCategoryGap;_!=null&&(u.categoryGap=_)});var n={};return each$f(t,function(a,o){n[o]={};var s=a.stacks,l=a.bandWidth,u=a.categoryGap;if(u==null){var f=keys(s).length;u=Math.max(35-f*4,15)+"%"}var d=parsePercent(u,l),v=parsePercent(a.gap,1),g=a.remainedWidth,S=a.autoWidthCount,x=(g-d)/(S+(S-1)*v);x=Math.max(x,0),each$f(s,function(w){var M=w.maxWidth,D=w.minWidth;if(w.width){var I=w.width;M&&(I=Math.min(I,M)),D&&(I=Math.max(I,D)),w.width=I,g-=I+v*I,S--}else{var I=x;M&&M<I&&(I=Math.min(M,g)),D&&D>I&&(I=D),I!==x&&(w.width=I,g-=I+v*I,S--)}}),x=(g-d)/(S+(S-1)*v),x=Math.max(x,0);var _=0,C;each$f(s,function(w,M){w.width||(w.width=x),C=w,_+=w.width*(1+v)}),C&&(_-=C.width*v);var T=-_/2;each$f(s,function(w,M){n[o][M]=n[o][M]||{bandWidth:l,offset:T,width:w.width},T+=w.width*(1+v)})}),n}function retrieveColumnLayout(r,t,n){if(r&&t){var a=r[getAxisKey$1(t)];return a!=null&&n!=null?a[getSeriesStackId$1(n)]:a}}function layout$3(r,t){var n=prepareLayoutBarSeries(r,t),a=makeColumnLayout(n);each$f(n,function(o){var s=o.getData(),l=o.coordinateSystem,u=l.getBaseAxis(),f=getSeriesStackId$1(o),d=a[getAxisKey$1(u)][f],v=d.offset,g=d.width;s.setLayout({bandWidth:d.bandWidth,offset:v,size:g})})}function createProgressiveLayout(r){return{seriesType:r,plan:createRenderPlanner(),reset:function(t){if(!!isOnCartesian(t)){var n=t.getData(),a=t.coordinateSystem,o=a.getBaseAxis(),s=a.getOtherAxis(o),l=n.getDimensionIndex(n.mapDimension(s.dim)),u=n.getDimensionIndex(n.mapDimension(o.dim)),f=t.get("showBackground",!0),d=n.mapDimension(s.dim),v=n.getCalculationInfo("stackResultDimension"),g=isDimensionStacked(n,d)&&!!n.getCalculationInfo("stackedOnSeries"),S=s.isHorizontal(),x=getValueAxisStart(o,s),_=isInLargeMode(t),C=t.get("barMinHeight")||0,T=v&&n.getDimensionIndex(v),w=n.getLayout("size"),M=n.getLayout("offset");return{progress:function(D,I){for(var R=D.count,$=_&&createFloat32Array(R*3),N=_&&f&&createFloat32Array(R*3),F=_&&createFloat32Array(R),H=a.master.getRect(),Y=S?H.width:H.height,G,K=I.getStore(),Z=0;(G=D.next())!=null;){var J=K.get(g?T:l,G),Q=K.get(u,G),te=x,ie=void 0;g&&(ie=+J-K.get(l,G));var ne=void 0,de=void 0,ve=void 0,pe=void 0;if(S){var $e=a.dataToPoint([J,Q]);if(g){var Re=a.dataToPoint([ie,Q]);te=Re[0]}ne=te,de=$e[1]+M,ve=$e[0]-te,pe=w,Math.abs(ve)<C&&(ve=(ve<0?-1:1)*C)}else{var $e=a.dataToPoint([Q,J]);if(g){var Re=a.dataToPoint([Q,ie]);te=Re[1]}ne=$e[0]+M,de=te,ve=w,pe=$e[1]-te,Math.abs(pe)<C&&(pe=(pe<=0?-1:1)*C)}_?($[Z]=ne,$[Z+1]=de,$[Z+2]=S?ve:pe,N&&(N[Z]=S?H.x:ne,N[Z+1]=S?de:H.y,N[Z+2]=Y),F[G]=G):I.setItemLayout(G,{x:ne,y:de,width:ve,height:pe}),Z+=3}_&&I.setLayout({largePoints:$,largeDataIndices:F,largeBackgroundPoints:N,valueAxisHorizontal:S})}}}}}}function isOnCartesian(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function isInLargeMode(r){return r.pipelineContext&&r.pipelineContext.large}function getValueAxisStart(r,t){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var bisect=function(r,t,n,a){for(;n<a;){var o=n+a>>>1;r[o][1]<t?n=o+1:a=o}return n},TimeScale=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="time",a}return t.prototype.getLabel=function(n){var a=this.getSetting("useUTC");return format(n.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,a,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,a,o){var s=this.getSetting("useUTC"),l=this.getSetting("locale");return leveledFormat(n,a,o,l,s)},t.prototype.getTicks=function(){var n=this._interval,a=this._extent,o=[];if(!n)return o;o.push({value:a[0],level:0});var s=this.getSetting("useUTC"),l=getIntervalTicks(this._minLevelUnit,this._approxInterval,s,a);return o=o.concat(l),o.push({value:a[1],level:0}),o},t.prototype.calcNiceExtent=function(n){var a=this._extent;if(a[0]===a[1]&&(a[0]-=ONE_DAY,a[1]+=ONE_DAY),a[1]===-1/0&&a[0]===1/0){var o=new Date;a[1]=+new Date(o.getFullYear(),o.getMonth(),o.getDate()),a[0]=a[1]-ONE_DAY}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,a,o){n=n||10;var s=this._extent,l=s[1]-s[0];this._approxInterval=l/n,a!=null&&this._approxInterval<a&&(this._approxInterval=a),o!=null&&this._approxInterval>o&&(this._approxInterval=o);var u=scaleIntervals.length,f=Math.min(bisect(scaleIntervals,this._approxInterval,0,u),u-1);this._interval=scaleIntervals[f][1],this._minLevelUnit=scaleIntervals[Math.max(f-1,0)][0]},t.prototype.parse=function(n){return isNumber(n)?n:+parseDate(n)},t.prototype.contain=function(n){return contain$1(this.parse(n),this._extent)},t.prototype.normalize=function(n){return normalize$2(this.parse(n),this._extent)},t.prototype.scale=function(n){return scale(n,this._extent)},t.type="time",t}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(r,t,n,a){var o=parseDate(t),s=parseDate(n),l=function(_){return getUnitValue(o,_,a)===getUnitValue(s,_,a)},u=function(){return l("year")},f=function(){return u()&&l("month")},d=function(){return f()&&l("day")},v=function(){return d()&&l("hour")},g=function(){return v()&&l("minute")},S=function(){return g()&&l("second")},x=function(){return S()&&l("millisecond")};switch(r){case"year":return u();case"month":return f();case"day":return d();case"hour":return v();case"minute":return g();case"second":return S();case"millisecond":return x()}}function getDateInterval(r,t){return r/=ONE_DAY,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function getMonthInterval(r){var t=30*ONE_DAY;return r/=t,r>6?6:r>3?3:r>2?2:1}function getHourInterval(r){return r/=ONE_HOUR,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function getMinutesAndSecondsInterval(r,t){return r/=t?ONE_MINUTE:ONE_SECOND,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function getMillisecondsInterval(r){return nice(r,!0)}function getFirstTimestampOfUnit(r,t,n){var a=new Date(r);switch(getPrimaryTimeUnit(t)){case"year":case"month":a[monthSetterName(n)](0);case"day":a[dateSetterName(n)](1);case"hour":a[hoursSetterName(n)](0);case"minute":a[minutesSetterName(n)](0);case"second":a[secondsSetterName(n)](0),a[millisecondsSetterName(n)](0)}return a.getTime()}function getIntervalTicks(r,t,n,a){var o=1e4,s=timeUnits,l=0;function u(Y,G,K,Z,J,Q,te){for(var ie=new Date(G),ne=G,de=ie[Z]();ne<K&&ne<=a[1];)te.push({value:ne}),de+=Y,ie[J](de),ne=ie.getTime();te.push({value:ne,notAdd:!0})}function f(Y,G,K){var Z=[],J=!G.length;if(!isUnitValueSame(getPrimaryTimeUnit(Y),a[0],a[1],n)){J&&(G=[{value:getFirstTimestampOfUnit(new Date(a[0]),Y,n)},{value:a[1]}]);for(var Q=0;Q<G.length-1;Q++){var te=G[Q].value,ie=G[Q+1].value;if(te!==ie){var ne=void 0,de=void 0,ve=void 0,pe=!1;switch(Y){case"year":ne=Math.max(1,Math.round(t/ONE_DAY/365)),de=fullYearGetterName(n),ve=fullYearSetterName(n);break;case"half-year":case"quarter":case"month":ne=getMonthInterval(t),de=monthGetterName(n),ve=monthSetterName(n);break;case"week":case"half-week":case"day":ne=getDateInterval(t),de=dateGetterName(n),ve=dateSetterName(n),pe=!0;break;case"half-day":case"quarter-day":case"hour":ne=getHourInterval(t),de=hoursGetterName(n),ve=hoursSetterName(n);break;case"minute":ne=getMinutesAndSecondsInterval(t,!0),de=minutesGetterName(n),ve=minutesSetterName(n);break;case"second":ne=getMinutesAndSecondsInterval(t,!1),de=secondsGetterName(n),ve=secondsSetterName(n);break;case"millisecond":ne=getMillisecondsInterval(t),de=millisecondsGetterName(n),ve=millisecondsSetterName(n);break}u(ne,te,ie,de,ve,pe,Z),Y==="year"&&K.length>1&&Q===0&&K.unshift({value:K[0].value-ne})}}for(var Q=0;Q<Z.length;Q++)K.push(Z[Q]);return Z}}for(var d=[],v=[],g=0,S=0,x=0;x<s.length&&l++<o;++x){var _=getPrimaryTimeUnit(s[x]);if(!!isPrimaryTimeUnit(s[x])){f(s[x],d[d.length-1]||[],v);var C=s[x+1]?getPrimaryTimeUnit(s[x+1]):null;if(_!==C){if(v.length){S=g,v.sort(function(Y,G){return Y.value-G.value});for(var T=[],w=0;w<v.length;++w){var M=v[w].value;(w===0||v[w-1].value!==M)&&(T.push(v[w]),M>=a[0]&&M<=a[1]&&g++)}var D=(a[1]-a[0])/t;if(g>D*1.5&&S>D/1.5||(d.push(T),g>D||r===s[x]))break}v=[]}}}for(var I=filter(map$1(d,function(Y){return filter(Y,function(G){return G.value>=a[0]&&G.value<=a[1]&&!G.notAdd})}),function(Y){return Y.length>0}),R=[],$=I.length-1,x=0;x<I.length;++x)for(var N=I[x],F=0;F<N.length;++F)R.push({value:N[F].value,level:$-x});R.sort(function(Y,G){return Y.value-G.value});for(var H=[],x=0;x<R.length;++x)(x===0||R[x].value!==R[x-1].value)&&H.push(R[x]);return H}Scale$1.registerClass(TimeScale);var TimeScale$1=TimeScale,scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new IntervalScale$1,n._interval=0,n}return t.prototype.getTicks=function(n){var a=this._originalScale,o=this._extent,s=a.getExtent(),l=intervalScaleProto.getTicks.call(this,n);return map$1(l,function(u){var f=u.value,d=round$3(mathPow$1(this.base,f));return d=f===o[0]&&this._fixMin?fixRoundingError(d,s[0]):d,d=f===o[1]&&this._fixMax?fixRoundingError(d,s[1]):d,{value:d}},this)},t.prototype.setExtent=function(n,a){var o=this.base;n=mathLog$1(n)/mathLog$1(o),a=mathLog$1(a)/mathLog$1(o),intervalScaleProto.setExtent.call(this,n,a)},t.prototype.getExtent=function(){var n=this.base,a=scaleProto.getExtent.call(this);a[0]=mathPow$1(n,a[0]),a[1]=mathPow$1(n,a[1]);var o=this._originalScale,s=o.getExtent();return this._fixMin&&(a[0]=fixRoundingError(a[0],s[0])),this._fixMax&&(a[1]=fixRoundingError(a[1],s[1])),a},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var a=this.base;n[0]=mathLog$1(n[0])/mathLog$1(a),n[1]=mathLog$1(n[1])/mathLog$1(a),scaleProto.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,a){this.unionExtent(n.getApproximateExtent(a))},t.prototype.calcNiceTicks=function(n){n=n||10;var a=this._extent,o=a[1]-a[0];if(!(o===1/0||o<=0)){var s=quantity(o),l=n/o*s;for(l<=.5&&(s*=10);!isNaN(s)&&Math.abs(s)<1&&Math.abs(s)>0;)s*=10;var u=[round$3(mathCeil$1(a[0]/s)*s),round$3(mathFloor$1(a[1]/s)*s)];this._interval=s,this._niceExtent=u}},t.prototype.calcNiceExtent=function(n){intervalScaleProto.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=mathLog$1(n)/mathLog$1(this.base),contain$1(n,this._extent)},t.prototype.normalize=function(n){return n=mathLog$1(n)/mathLog$1(this.base),normalize$2(n,this._extent)},t.prototype.scale=function(n){return n=scale(n,this._extent),mathPow$1(this.base,n)},t.type="log",t}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(r,t){return roundingErrorFix(r,getPrecision(t))}Scale$1.registerClass(LogScale);var LogScale$1=LogScale,ScaleRawExtentInfo=function(){function r(t,n,a){this._prepareParams(t,n,a)}return r.prototype._prepareParams=function(t,n,a){a[1]<a[0]&&(a=[NaN,NaN]),this._dataMin=a[0],this._dataMax=a[1];var o=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var s=this._modelMinRaw=n.get("min",!0);isFunction(s)?this._modelMinNum=parseAxisModelMinMax(t,s({min:a[0],max:a[1]})):s!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(t,s));var l=this._modelMaxRaw=n.get("max",!0);if(isFunction(l)?this._modelMaxNum=parseAxisModelMinMax(t,l({min:a[0],max:a[1]})):l!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(t,l)),o)this._axisDataLen=n.getCategories().length;else{var u=n.get("boundaryGap"),f=isArray$1(u)?u:[u||0,u||0];typeof f[0]=="boolean"||typeof f[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(f[0],1),parsePercent$1(f[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,a=this._dataMax,o=this._axisDataLen,s=this._boundaryGapInner,l=t?null:a-n||Math.abs(n),u=this._modelMinRaw==="dataMin"?n:this._modelMinNum,f=this._modelMaxRaw==="dataMax"?a:this._modelMaxNum,d=u!=null,v=f!=null;u==null&&(u=t?o?0:NaN:n-s[0]*l),f==null&&(f=t?o?o-1:NaN:a+s[1]*l),(u==null||!isFinite(u))&&(u=NaN),(f==null||!isFinite(f))&&(f=NaN);var g=eqNaN(u)||eqNaN(f)||t&&!o;this._needCrossZero&&(u>0&&f>0&&!d&&(u=0),u<0&&f<0&&!v&&(f=0));var S=this._determinedMin,x=this._determinedMax;return S!=null&&(u=S,d=!0),x!=null&&(f=x,v=!0),{min:u,max:f,minFixed:d,maxFixed:v,isBlank:g}},r.prototype.modifyDataMinMax=function(t,n){this[DATA_MIN_MAX_ATTR[t]]=n},r.prototype.setDeterminedMinMax=function(t,n){var a=DETERMINED_MIN_MAX_ATTR[t];this[a]=n},r.prototype.freeze=function(){this.frozen=!0},r}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(r,t,n){var a=r.rawExtentInfo;return a||(a=new ScaleRawExtentInfo(r,t,n),r.rawExtentInfo=a,a)}function parseAxisModelMinMax(r,t){return t==null?null:eqNaN(t)?NaN:r.parse(t)}function getScaleExtent(r,t){var n=r.type,a=ensureScaleRawExtentInfo(r,t,r.getExtent()).calculate();r.setBlank(a.isBlank);var o=a.min,s=a.max,l=t.ecModel;if(l&&n==="time"){var u=prepareLayoutBarSeries("bar",l),f=!1;if(each$f(u,function(g){f=f||g.getBaseAxis()===t.axis}),f){var d=makeColumnLayout(u),v=adjustScaleForOverflow(o,s,t,d);o=v.min,s=v.max}}return{extent:[o,s],fixMin:a.minFixed,fixMax:a.maxFixed}}function adjustScaleForOverflow(r,t,n,a){var o=n.axis.getExtent(),s=o[1]-o[0],l=retrieveColumnLayout(a,n.axis);if(l===void 0)return{min:r,max:t};var u=1/0;each$f(l,function(x){u=Math.min(x.offset,u)});var f=-1/0;each$f(l,function(x){f=Math.max(x.offset+x.width,f)}),u=Math.abs(u),f=Math.abs(f);var d=u+f,v=t-r,g=1-(u+f)/s,S=v/g-v;return t+=S*(f/d),r-=S*(u/d),{min:r,max:t}}function niceScaleExtent(r,t){var n=t,a=getScaleExtent(r,n),o=a.extent,s=n.get("splitNumber");r instanceof LogScale$1&&(r.base=n.get("logBase"));var l=r.type,u=n.get("interval"),f=l==="interval"||l==="time";r.setExtent(o[0],o[1]),r.calcNiceExtent({splitNumber:s,fixMin:a.fixMin,fixMax:a.fixMax,minInterval:f?n.get("minInterval"):null,maxInterval:f?n.get("maxInterval"):null}),u!=null&&r.setInterval&&r.setInterval(u)}function createScaleByModel$1(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new OrdinalScale$1({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Scale$1.getClass(t)||IntervalScale$1)}}function ifAxisCrossZero(r){var t=r.scale.getExtent(),n=t[0],a=t[1];return!(n>0&&a>0||n<0&&a<0)}function makeLabelFormatter(r){var t=r.getLabelModel().get("formatter"),n=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(a){return function(o,s){return r.scale.getFormattedLabel(o,s,a)}}(t):isString(t)?function(a){return function(o){var s=r.scale.getLabel(o),l=a.replace("{value}",s!=null?s:"");return l}}(t):isFunction(t)?function(a){return function(o,s){return n!=null&&(s=o.value-n),a(getAxisRawValue(r,o),s,o.level!=null?{level:o.level}:null)}}(t):function(a){return r.scale.getLabel(a)}}function getAxisRawValue(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function estimateLabelUnionRect(r){var t=r.model,n=r.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var a,o,s=n.getExtent();n instanceof OrdinalScale$1?o=n.count():(a=n.getTicks(),o=a.length);var l=r.getLabelModel(),u=makeLabelFormatter(r),f,d=1;o>40&&(d=Math.ceil(o/40));for(var v=0;v<o;v+=d){var g=a?a[v]:{value:s[0]+v},S=u(g,v),x=l.getTextRect(S),_=rotateTextRect(x,l.get("rotate")||0);f?f.union(_):f=_}return f}}function rotateTextRect(r,t){var n=t*Math.PI/180,a=r.width,o=r.height,s=a*Math.abs(Math.cos(n))+Math.abs(o*Math.sin(n)),l=a*Math.abs(Math.sin(n))+Math.abs(o*Math.cos(n)),u=new BoundingRect$1(r.x,r.y,s,l);return u}function getOptionCategoryInterval(r){var t=r.get("interval");return t==null?"auto":t}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}function getDataDimensionsOnAxis(r,t){var n={};return each$f(r.mapDimensionsAll(t),function(a){n[getStackedDimension(r,a)]=!0}),keys(n)}function unionAxisExtentFromData(r,t,n){t&&each$f(getDataDimensionsOnAxis(t,n),function(a){var o=t.getApproximateExtent(a);o[0]<r[0]&&(r[0]=o[0]),o[1]>r[1]&&(r[1]=o[1])})}var AxisModelCommonMixin=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r}(),extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(r){ComponentModel$1.registerClass(r)},registerComponentView:function(r){ComponentView$1.registerClass(r)},registerSeriesModel:function(r){SeriesModel$1.registerClass(r)},registerChartView:function(r){ChartView$1.registerClass(r)},registerSubTypeDefaulter:function(r,t){ComponentModel$1.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){registerPainter(r,t)}};function use(r){if(isArray$1(r)){each$f(r,function(t){use(t)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction(r)&&(r={install:r}),r.install(extensionRegisters))}var EPSILON=1e-8;function isAroundEqual(r,t){return Math.abs(r-t)<EPSILON}function contain(r,t,n){var a=0,o=r[0];if(!o)return!1;for(var s=1;s<r.length;s++){var l=r[s];a+=windingLine(o[0],o[1],l[0],l[1],t,n),o=l}var u=r[0];return(!isAroundEqual(o[0],u[0])||!isAroundEqual(o[1],u[1]))&&(a+=windingLine(o[0],o[1],u[0],u[1],t,n)),a!==0}var TMP_TRANSFORM=[];function transformPoints(r,t){for(var n=0;n<r.length;n++)applyTransform$1(r[n],r[n],t)}function updateBBoxFromPoints(r,t,n,a){for(var o=0;o<r.length;o++){var s=r[o];a&&(s=a.project(s)),s&&isFinite(s[0])&&isFinite(s[1])&&(min$1(t,t,s),max$1(n,n,s))}}function centroid$1(r){for(var t=0,n=0,a=0,o=r.length,s=r[o-1][0],l=r[o-1][1],u=0;u<o;u++){var f=r[u][0],d=r[u][1],v=s*d-f*l;t+=v,n+=(s+f)*v,a+=(l+d)*v,s=f,l=d}return t?[n/t/3,a/t/3,t]:[r[0][0]||0,r[0][1]||0]}var Region=function(){function r(t){this.name=t}return r.prototype.setCenter=function(t){this._center=t},r.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},r}(),GeoJSONPolygonGeometry=function(){function r(t,n){this.type="polygon",this.exterior=t,this.interiors=n}return r}(),GeoJSONLineStringGeometry=function(){function r(t){this.type="linestring",this.points=t}return r}(),GeoJSONRegion=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this,n)||this;return s.type="geoJSON",s.geometries=a,s._center=o&&[o[0],o[1]],s}return t.prototype.calcCenter=function(){for(var n=this.geometries,a,o=0,s=0;s<n.length;s++){var l=n[s],u=l.exterior,f=u&&u.length;f>o&&(a=l,o=f)}if(a)return centroid$1(a.exterior);var d=this.getBoundingRect();return[d.x+d.width/2,d.y+d.height/2]},t.prototype.getBoundingRect=function(n){var a=this._rect;if(a&&!n)return a;var o=[1/0,1/0],s=[-1/0,-1/0],l=this.geometries;return each$f(l,function(u){u.type==="polygon"?updateBBoxFromPoints(u.exterior,o,s,n):each$f(u.points,function(f){updateBBoxFromPoints(f,o,s,n)})}),isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])||(o[0]=o[1]=s[0]=s[1]=0),a=new BoundingRect$1(o[0],o[1],s[0]-o[0],s[1]-o[1]),n||(this._rect=a),a},t.prototype.contain=function(n){var a=this.getBoundingRect(),o=this.geometries;if(!a.contain(n[0],n[1]))return!1;e:for(var s=0,l=o.length;s<l;s++){var u=o[s];if(u.type==="polygon"){var f=u.exterior,d=u.interiors;if(contain(f,n[0],n[1])){for(var v=0;v<(d?d.length:0);v++)if(contain(d[v],n[0],n[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(n,a,o,s){var l=this.getBoundingRect(),u=l.width/l.height;o?s||(s=o/u):o=u*s;for(var f=new BoundingRect$1(n,a,o,s),d=l.calculateTransform(f),v=this.geometries,g=0;g<v.length;g++){var S=v[g];S.type==="polygon"?(transformPoints(S.exterior,d),each$f(S.interiors,function(x){transformPoints(x,d)})):each$f(S.points,function(x){transformPoints(x,d)})}l=this._rect,l.copy(f),this._center=[l.x+l.width/2,l.y+l.height/2]},t.prototype.cloneShallow=function(n){n==null&&(n=this.name);var a=new t(n,this.geometries,this._center);return a._rect=this._rect,a.transformTo=null,a},t}(Region),GeoSVGRegion=function(r){__extends$1(t,r);function t(n,a){var o=r.call(this,n)||this;return o.type="geoSVG",o._elOnlyForCalculate=a,o}return t.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,a=n.getBoundingRect(),o=[a.x+a.width/2,a.y+a.height/2],s=identity(TMP_TRANSFORM),l=n;l&&!l.isGeoSVGGraphicRoot;)mul(s,l.getLocalTransform(),s),l=l.parent;return invert(s,s),applyTransform$1(o,o,s),o},t}(Region);function decode(r){if(!r.UTF8Encoding)return r;var t=r,n=t.UTF8Scale;n==null&&(n=1024);var a=t.features;return each$f(a,function(o){var s=o.geometry,l=s.encodeOffsets,u=s.coordinates;if(!!l)switch(s.type){case"LineString":s.coordinates=decodeRing(u,l,n);break;case"Polygon":decodeRings(u,l,n);break;case"MultiLineString":decodeRings(u,l,n);break;case"MultiPolygon":each$f(u,function(f,d){return decodeRings(f,l[d],n)})}}),t.UTF8Encoding=!1,t}function decodeRings(r,t,n){for(var a=0;a<r.length;a++)r[a]=decodeRing(r[a],t[a],n)}function decodeRing(r,t,n){for(var a=[],o=t[0],s=t[1],l=0;l<r.length;l+=2){var u=r.charCodeAt(l)-64,f=r.charCodeAt(l+1)-64;u=u>>1^-(u&1),f=f>>1^-(f&1),u+=o,f+=s,o=u,s=f,a.push([u/n,f/n])}return a}function parseGeoJSON(r,t){return r=decode(r),map$1(filter(r.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var a=n.properties,o=n.geometry,s=[];switch(o.type){case"Polygon":var l=o.coordinates;s.push(new GeoJSONPolygonGeometry(l[0],l.slice(1)));break;case"MultiPolygon":each$f(o.coordinates,function(f){f[0]&&s.push(new GeoJSONPolygonGeometry(f[0],f.slice(1)))});break;case"LineString":s.push(new GeoJSONLineStringGeometry([o.coordinates]));break;case"MultiLineString":s.push(new GeoJSONLineStringGeometry(o.coordinates))}var u=new GeoJSONRegion(a[t||"name"],s,a.cp);return u.properties=a,u})}var inner$g=makeInner();function createAxisLabels(r){return r.type==="category"?makeCategoryLabels(r):makeRealNumberLabels(r)}function createAxisTicks(r,t){return r.type==="category"?makeCategoryTicks(r,t):{ticks:map$1(r.scale.getTicks(),function(n){return n.value})}}function makeCategoryLabels(r){var t=r.getLabelModel(),n=makeCategoryLabelsActually(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function makeCategoryLabelsActually(r,t){var n=getListCache(r,"labels"),a=getOptionCategoryInterval(t),o=listCacheGet(n,a);if(o)return o;var s,l;return isFunction(a)?s=makeLabelsByCustomizedCategoryInterval(r,a):(l=a==="auto"?makeAutoCategoryInterval(r):a,s=makeLabelsByNumericCategoryInterval(r,l)),listCacheSet(n,a,{labels:s,labelCategoryInterval:l})}function makeCategoryTicks(r,t){var n=getListCache(r,"ticks"),a=getOptionCategoryInterval(t),o=listCacheGet(n,a);if(o)return o;var s,l;if((!t.get("show")||r.scale.isBlank())&&(s=[]),isFunction(a))s=makeLabelsByCustomizedCategoryInterval(r,a,!0);else if(a==="auto"){var u=makeCategoryLabelsActually(r,r.getLabelModel());l=u.labelCategoryInterval,s=map$1(u.labels,function(f){return f.tickValue})}else l=a,s=makeLabelsByNumericCategoryInterval(r,l,!0);return listCacheSet(n,a,{ticks:s,tickCategoryInterval:l})}function makeRealNumberLabels(r){var t=r.scale.getTicks(),n=makeLabelFormatter(r);return{labels:map$1(t,function(a,o){return{level:a.level,formattedLabel:n(a,o),rawLabel:r.scale.getLabel(a),tickValue:a.value}})}}function getListCache(r,t){return inner$g(r)[t]||(inner$g(r)[t]=[])}function listCacheGet(r,t){for(var n=0;n<r.length;n++)if(r[n].key===t)return r[n].value}function listCacheSet(r,t,n){return r.push({key:t,value:n}),n}function makeAutoCategoryInterval(r){var t=inner$g(r).autoInterval;return t!=null?t:inner$g(r).autoInterval=r.calculateCategoryInterval()}function calculateCategoryInterval(r){var t=fetchAutoCategoryIntervalCalculationParams(r),n=makeLabelFormatter(r),a=(t.axisRotate-t.labelRotate)/180*Math.PI,o=r.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var f=s[0],d=r.dataToCoord(f+1)-r.dataToCoord(f),v=Math.abs(d*Math.cos(a)),g=Math.abs(d*Math.sin(a)),S=0,x=0;f<=s[1];f+=u){var _=0,C=0,T=getBoundingRect(n({value:f}),t.font,"center","top");_=T.width*1.3,C=T.height*1.3,S=Math.max(S,_,7),x=Math.max(x,C,7)}var w=S/v,M=x/g;isNaN(w)&&(w=1/0),isNaN(M)&&(M=1/0);var D=Math.max(0,Math.floor(Math.min(w,M))),I=inner$g(r.model),R=r.getExtent(),$=I.lastAutoInterval,N=I.lastTickCount;return $!=null&&N!=null&&Math.abs($-D)<=1&&Math.abs(N-l)<=1&&$>D&&I.axisExtent0===R[0]&&I.axisExtent1===R[1]?D=$:(I.lastTickCount=l,I.lastAutoInterval=D,I.axisExtent0=R[0],I.axisExtent1=R[1]),D}function fetchAutoCategoryIntervalCalculationParams(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function makeLabelsByNumericCategoryInterval(r,t,n){var a=makeLabelFormatter(r),o=r.scale,s=o.getExtent(),l=r.getLabelModel(),u=[],f=Math.max((t||0)+1,1),d=s[0],v=o.count();d!==0&&f>1&&v/f>2&&(d=Math.round(Math.ceil(d/f)*f));var g=shouldShowAllLabels(r),S=l.get("showMinLabel")||g,x=l.get("showMaxLabel")||g;S&&d!==s[0]&&C(s[0]);for(var _=d;_<=s[1];_+=f)C(_);x&&_-f!==s[1]&&C(s[1]);function C(T){var w={value:T};u.push(n?T:{formattedLabel:a(w),rawLabel:o.getLabel(w),tickValue:T})}return u}function makeLabelsByCustomizedCategoryInterval(r,t,n){var a=r.scale,o=makeLabelFormatter(r),s=[];return each$f(a.getTicks(),function(l){var u=a.getLabel(l),f=l.value;t(l.value,u)&&s.push(n?f:{formattedLabel:o(l),rawLabel:u,tickValue:f})}),s}var NORMALIZED_EXTENT=[0,1],Axis=function(){function r(t,n,a){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=a||[0,0]}return r.prototype.contain=function(t){var n=this._extent,a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return t>=a&&t<=o},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return getPixelPrecision(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,n){var a=this._extent;a[0]=t,a[1]=n},r.prototype.dataToCoord=function(t,n){var a=this._extent,o=this.scale;return t=o.normalize(t),this.onBand&&o.type==="ordinal"&&(a=a.slice(),fixExtentWithBands(a,o.count())),linearMap$2(t,NORMALIZED_EXTENT,a,n)},r.prototype.coordToData=function(t,n){var a=this._extent,o=this.scale;this.onBand&&o.type==="ordinal"&&(a=a.slice(),fixExtentWithBands(a,o.count()));var s=linearMap$2(t,a,NORMALIZED_EXTENT,n);return this.scale.scale(s)},r.prototype.pointToData=function(t,n){},r.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),a=createAxisTicks(this,n),o=a.ticks,s=map$1(o,function(u){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(u):u),tickValue:u}},this),l=n.get("alignWithLabel");return fixOnBandTicksCoords(this,s,l,t.clamp),s},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var a=this.scale.getMinorTicks(n),o=map$1(a,function(s){return map$1(s,function(l){return{coord:this.dataToCoord(l),tickValue:l}},this)},this);return o},r.prototype.getViewLabels=function(){return createAxisLabels(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),a=n[1]-n[0]+(this.onBand?1:0);a===0&&(a=1);var o=Math.abs(t[1]-t[0]);return Math.abs(o)/a},r.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},r}();function fixExtentWithBands(r,t){var n=r[1]-r[0],a=t,o=n/a/2;r[0]+=o,r[1]-=o}function fixOnBandTicksCoords(r,t,n,a){var o=t.length;if(!r.onBand||n||!o)return;var s=r.getExtent(),l,u;if(o===1)t[0].coord=s[0],l=t[1]={coord:s[0]};else{var f=t[o-1].tickValue-t[0].tickValue,d=(t[o-1].coord-t[0].coord)/f;each$f(t,function(x){x.coord-=d/2});var v=r.scale.getExtent();u=1+v[1]-t[o-1].tickValue,l={coord:t[o-1].coord+d*u},t.push(l)}var g=s[0]>s[1];S(t[0].coord,s[0])&&(a?t[0].coord=s[0]:t.shift()),a&&S(s[0],t[0].coord)&&t.unshift({coord:s[0]}),S(s[1],l.coord)&&(a?l.coord=s[1]:t.pop()),a&&S(l.coord,s[1])&&t.push({coord:s[1]});function S(x,_){return x=round$3(x),_=round$3(_),g?x>_:x<_}}var Axis$1=Axis,PI2$2=Math.PI*2,CMD$1=PathProxy$1.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(r,t,n,a,o){var s=n.width,l=n.height;switch(r){case"top":a.set(n.x+s/2,n.y-t),o.set(0,-1);break;case"bottom":a.set(n.x+s/2,n.y+l+t),o.set(0,1);break;case"left":a.set(n.x-t,n.y+l/2),o.set(-1,0);break;case"right":a.set(n.x+s+t,n.y+l/2),o.set(1,0);break}}function projectPointToArc(r,t,n,a,o,s,l,u,f){l-=r,u-=t;var d=Math.sqrt(l*l+u*u);l/=d,u/=d;var v=l*n+r,g=u*n+t;if(Math.abs(a-o)%PI2$2<1e-4)return f[0]=v,f[1]=g,d-n;if(s){var S=a;a=normalizeRadian(o),o=normalizeRadian(S)}else a=normalizeRadian(a),o=normalizeRadian(o);a>o&&(o+=PI2$2);var x=Math.atan2(u,l);if(x<0&&(x+=PI2$2),x>=a&&x<=o||x+PI2$2>=a&&x+PI2$2<=o)return f[0]=v,f[1]=g,d-n;var _=n*Math.cos(a)+r,C=n*Math.sin(a)+t,T=n*Math.cos(o)+r,w=n*Math.sin(o)+t,M=(_-l)*(_-l)+(C-u)*(C-u),D=(T-l)*(T-l)+(w-u)*(w-u);return M<D?(f[0]=_,f[1]=C,Math.sqrt(M)):(f[0]=T,f[1]=w,Math.sqrt(D))}function projectPointToLine(r,t,n,a,o,s,l,u){var f=o-r,d=s-t,v=n-r,g=a-t,S=Math.sqrt(v*v+g*g);v/=S,g/=S;var x=f*v+d*g,_=x/S;u&&(_=Math.min(Math.max(_,0),1)),_*=S;var C=l[0]=r+_*v,T=l[1]=t+_*g;return Math.sqrt((C-o)*(C-o)+(T-s)*(T-s))}function projectPointToRect(r,t,n,a,o,s,l){n<0&&(r=r+n,n=-n),a<0&&(t=t+a,a=-a);var u=r+n,f=t+a,d=l[0]=Math.min(Math.max(o,r),u),v=l[1]=Math.min(Math.max(s,t),f);return Math.sqrt((d-o)*(d-o)+(v-s)*(v-s))}var tmpPt=[];function nearestPointOnRect(r,t,n){var a=projectPointToRect(t.x,t.y,t.width,t.height,r.x,r.y,tmpPt);return n.set(tmpPt[0],tmpPt[1]),a}function nearestPointOnPath(r,t,n){for(var a=0,o=0,s=0,l=0,u,f,d=1/0,v=t.data,g=r.x,S=r.y,x=0;x<v.length;){var _=v[x++];x===1&&(a=v[x],o=v[x+1],s=a,l=o);var C=d;switch(_){case CMD$1.M:s=v[x++],l=v[x++],a=s,o=l;break;case CMD$1.L:C=projectPointToLine(a,o,v[x],v[x+1],g,S,tmpPt,!0),a=v[x++],o=v[x++];break;case CMD$1.C:C=cubicProjectPoint(a,o,v[x++],v[x++],v[x++],v[x++],v[x],v[x+1],g,S,tmpPt),a=v[x++],o=v[x++];break;case CMD$1.Q:C=quadraticProjectPoint(a,o,v[x++],v[x++],v[x],v[x+1],g,S,tmpPt),a=v[x++],o=v[x++];break;case CMD$1.A:var T=v[x++],w=v[x++],M=v[x++],D=v[x++],I=v[x++],R=v[x++];x+=1;var $=!!(1-v[x++]);u=Math.cos(I)*M+T,f=Math.sin(I)*D+w,x<=1&&(s=u,l=f);var N=(g-T)*D/M+T;C=projectPointToArc(T,w,D,I,I+R,$,N,S,tmpPt),a=Math.cos(I+R)*M+T,o=Math.sin(I+R)*D+w;break;case CMD$1.R:s=a=v[x++],l=o=v[x++];var F=v[x++],H=v[x++];C=projectPointToRect(s,l,F,H,g,S,tmpPt);break;case CMD$1.Z:C=projectPointToLine(a,o,s,l,g,S,tmpPt,!0),a=s,o=l;break}C<d&&(d=C,n.set(tmpPt[0],tmpPt[1]))}return d}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(r,t){if(!!r){var n=r.getTextGuideLine(),a=r.getTextContent();if(!!(a&&n)){var o=r.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],l=o.candidates||DEFAULT_SEARCH_SPACE,u=a.getBoundingRect().clone();u.applyTransform(a.getComputedTransform());var f=1/0,d=o.anchor,v=r.getComputedTransform(),g=v&&invert([],v),S=t.get("length2")||0;d&&pt2.copy(d);for(var x=0;x<l.length;x++){var _=l[x];getCandidateAnchor(_,0,u,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,S),pt1.transform(g);var C=r.getBoundingRect(),T=d?d.distance(pt1):r instanceof Path$1?nearestPointOnPath(pt1,r.path,pt2):nearestPointOnRect(pt1,C,pt2);T<f&&(f=T,pt1.transform(v),pt2.transform(v),pt2.toArray(s[0]),pt1.toArray(s[1]),pt0.toArray(s[2]))}limitTurnAngle(s,t.get("minTurnAngle")),n.setShape({points:s})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(r,t){if(t<=180&&t>0){t=t/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var n=dir.len(),a=dir2.len();if(!(n<.001||a<.001)){dir.scale(1/n),dir2.scale(1/a);var o=dir.dot(dir2),s=Math.cos(t);if(s<o){var l=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,l/Math.tan(Math.PI-t));var u=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(u))return;u<0?Point$1.copy(tmpProjPoint,pt1):u>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(r[1])}}}}function limitSurfaceAngle(r,t,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var a=dir.len(),o=dir2.len();if(!(a<.001||o<.001)){dir.scale(1/a),dir2.scale(1/o);var s=dir.dot(t),l=Math.cos(n);if(s<l){var u=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var f=Math.PI/2,d=Math.acos(dir2.dot(t)),v=f+d-n;if(v>=f)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,u/Math.tan(Math.PI/2-v));var g=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(g))return;g<0?Point$1.copy(tmpProjPoint,pt1):g>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(r[1])}}}}function setLabelLineState(r,t,n,a){var o=n==="normal",s=o?r:r.ensureState(n);s.ignore=t;var l=a.get("smooth");l&&l===!0&&(l=.3),s.shape=s.shape||{},l>0&&(s.shape.smooth=l);var u=a.getModel("lineStyle").getLineStyle();o?r.useStyle(u):s.style=u}function buildLabelLinePath(r,t){var n=t.smooth,a=t.points;if(!!a)if(r.moveTo(a[0][0],a[0][1]),n>0&&a.length>=3){var o=dist$1(a[0],a[1]),s=dist$1(a[1],a[2]);if(!o||!s){r.lineTo(a[1][0],a[1][1]),r.lineTo(a[2][0],a[2][1]);return}var l=Math.min(o,s)*n,u=lerp$1([],a[1],a[0],l/o),f=lerp$1([],a[1],a[2],l/s),d=lerp$1([],u,f,.5);r.bezierCurveTo(u[0],u[1],u[0],u[1],d[0],d[1]),r.bezierCurveTo(f[0],f[1],f[0],f[1],a[2][0],a[2][1])}else for(var v=1;v<a.length;v++)r.lineTo(a[v][0],a[v][1])}function setLabelLineStyle(r,t,n){var a=r.getTextGuideLine(),o=r.getTextContent();if(!o){a&&r.removeTextGuideLine();return}for(var s=t.normal,l=s.get("show"),u=o.ignore,f=0;f<DISPLAY_STATES.length;f++){var d=DISPLAY_STATES[f],v=t[d],g=d==="normal";if(v){var S=v.get("show"),x=g?u:retrieve2(o.states[d]&&o.states[d].ignore,u);if(x||!retrieve2(S,l)){var _=g?a:a&&a.states[d];_&&(_.ignore=!0);continue}a||(a=new Polyline$3,r.setTextGuideLine(a),!g&&(u||!l)&&setLabelLineState(a,!0,"normal",t.normal),r.stateProxy&&(a.stateProxy=r.stateProxy)),setLabelLineState(a,!1,d,v)}}if(a){defaults(a.style,n),a.style.fill=null;var C=s.get("showAbove"),T=r.textGuideLineConfig=r.textGuideLineConfig||{};T.showAbove=C||!1,a.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(r,t){t=t||"labelLine";for(var n={normal:r.getModel(t)},a=0;a<SPECIAL_STATES.length;a++){var o=SPECIAL_STATES[a];n[o]=r.getModel([o,t])}return n}function prepareLayoutList(r){for(var t=[],n=0;n<r.length;n++){var a=r[n];if(!a.defaultAttr.ignore){var o=a.label,s=o.getComputedTransform(),l=o.getBoundingRect(),u=!s||s[1]<1e-5&&s[2]<1e-5,f=o.style.margin||0,d=l.clone();d.applyTransform(s),d.x-=f/2,d.y-=f/2,d.width+=f,d.height+=f;var v=u?new OrientedBoundingRect$1(l,s):null;t.push({label:o,labelLine:a.labelLine,rect:d,localRect:l,obb:v,priority:a.priority,defaultAttr:a.defaultAttr,layoutOption:a.computedLayoutOption,axisAligned:u,transform:s})}}return t}function shiftLayout(r,t,n,a,o,s){var l=r.length;if(l<2)return;r.sort(function(F,H){return F.rect[t]-H.rect[t]});for(var u=0,f,d=!1,v=0,g=0;g<l;g++){var S=r[g],x=S.rect;f=x[t]-u,f<0&&(x[t]-=f,S.label[t]-=f,d=!0);var _=Math.max(-f,0);v+=_,u=x[t]+x[n]}v>0&&s&&R(-v/l,0,l);var C=r[0],T=r[l-1],w,M;D(),w<0&&$(-w,.8),M<0&&$(M,.8),D(),I(w,M,1),I(M,w,-1),D(),w<0&&N(-w),M<0&&N(M);function D(){w=C.rect[t]-a,M=o-T.rect[t]-T.rect[n]}function I(F,H,Y){if(F<0){var G=Math.min(H,-F);if(G>0){R(G*Y,0,l);var K=G+F;K<0&&$(-K*Y,1)}else $(-F*Y,1)}}function R(F,H,Y){F!==0&&(d=!0);for(var G=H;G<Y;G++){var K=r[G],Z=K.rect;Z[t]+=F,K.label[t]+=F}}function $(F,H){for(var Y=[],G=0,K=1;K<l;K++){var Z=r[K-1].rect,J=Math.max(r[K].rect[t]-Z[t]-Z[n],0);Y.push(J),G+=J}if(!!G){var Q=Math.min(Math.abs(F)/G,H);if(F>0)for(var K=0;K<l-1;K++){var te=Y[K]*Q;R(te,0,K+1)}else for(var K=l-1;K>0;K--){var te=Y[K-1]*Q;R(-te,K,l)}}}function N(F){var H=F<0?-1:1;F=Math.abs(F);for(var Y=Math.ceil(F/(l-1)),G=0;G<l-1;G++)if(H>0?R(Y,0,G+1):R(-Y,l-G-1,l),F-=Y,F<=0)return}return d}function shiftLayoutOnX(r,t,n,a){return shiftLayout(r,"x","width",t,n,a)}function shiftLayoutOnY(r,t,n,a){return shiftLayout(r,"y","height",t,n,a)}function hideOverlap(r){var t=[];r.sort(function(C,T){return T.priority-C.priority});var n=new BoundingRect$1(0,0,0,0);function a(C){if(!C.ignore){var T=C.ensureState("emphasis");T.ignore==null&&(T.ignore=!1)}C.ignore=!0}for(var o=0;o<r.length;o++){var s=r[o],l=s.axisAligned,u=s.localRect,f=s.transform,d=s.label,v=s.labelLine;n.copy(s.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var g=s.obb,S=!1,x=0;x<t.length;x++){var _=t[x];if(!!n.intersect(_.rect)){if(l&&_.axisAligned){S=!0;break}if(_.obb||(_.obb=new OrientedBoundingRect$1(_.localRect,_.transform)),g||(g=new OrientedBoundingRect$1(u,f)),g.intersect(_.obb)){S=!0;break}}}S?(a(d),v&&a(v)):(d.attr("ignore",s.defaultAttr.ignore),v&&v.attr("ignore",s.defaultAttr.labelGuideIgnore),t.push(s))}}function cloneArr(r){if(r){for(var t=[],n=0;n<r.length;n++)t.push(r[n].slice());return t}}function prepareLayoutCallbackParams(r,t){var n=r.label,a=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:cloneArr(a&&a.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable$1,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(r,t,n){for(var a=0;a<n.length;a++){var o=n[a];t[o]!=null&&(r[o]=t[o])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(t,n,a,o,s){var l=o.style,u=o.__hostTarget,f=u.textConfig||{},d=o.getComputedTransform(),v=o.getBoundingRect().plain();BoundingRect$1.applyTransform(v,v,d),d?dummyTransformable.setLocalTransform(d):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1);var g=o.__hostTarget,S;if(g){S=g.getBoundingRect().plain();var x=g.getComputedTransform();BoundingRect$1.applyTransform(S,S,x)}var _=S&&g.getTextGuideLine();this._labelList.push({label:o,labelLine:_,seriesModel:a,dataIndex:t,dataType:n,layoutOption:s,computedLayoutOption:null,rect:v,hostRect:S,priority:S?S.width*S.height:0,defaultAttr:{ignore:o.ignore,labelGuideIgnore:_&&_.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:l.x,y:l.y,align:l.align,verticalAlign:l.verticalAlign,width:l.width,height:l.height,fontSize:l.fontSize},cursor:o.cursor,attachedPos:f.position,attachedRot:f.rotation}})},r.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var a=t.__model,o=a.get("labelLayout");!(isFunction(o)||keys(o).length)||t.group.traverse(function(s){if(s.ignore)return!0;var l=s.getTextContent(),u=getECData(s);l&&!l.disableLabelLayout&&n._addLabel(u.dataIndex,u.dataType,a,l,o)})},r.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),a=t.getHeight();function o(D,I){return function(){updateLabelLinePoints(D,I)}}for(var s=0;s<this._labelList.length;s++){var l=this._labelList[s],u=l.label,f=u.__hostTarget,d=l.defaultAttr,v=void 0;isFunction(l.layoutOption)?v=l.layoutOption(prepareLayoutCallbackParams(l,f)):v=l.layoutOption,v=v||{},l.computedLayoutOption=v;var g=Math.PI/180;f&&f.setTextConfig({local:!1,position:v.x!=null||v.y!=null?null:d.attachedPos,rotation:v.rotate!=null?v.rotate*g:d.attachedRot,offset:[v.dx||0,v.dy||0]});var S=!1;if(v.x!=null?(u.x=parsePercent(v.x,n),u.setStyle("x",0),S=!0):(u.x=d.x,u.setStyle("x",d.style.x)),v.y!=null?(u.y=parsePercent(v.y,a),u.setStyle("y",0),S=!0):(u.y=d.y,u.setStyle("y",d.style.y)),v.labelLinePoints){var x=f.getTextGuideLine();x&&(x.setShape({points:v.labelLinePoints}),S=!1)}var _=labelLayoutInnerStore(u);_.needsUpdateLabelLine=S,u.rotation=v.rotate!=null?v.rotate*g:d.rotation,u.scaleX=d.scaleX,u.scaleY=d.scaleY;for(var C=0;C<LABEL_OPTION_TO_STYLE_KEYS.length;C++){var T=LABEL_OPTION_TO_STYLE_KEYS[C];u.setStyle(T,v[T]!=null?v[T]:d.style[T])}if(v.draggable){if(u.draggable=!0,u.cursor="move",f){var w=l.seriesModel;if(l.dataIndex!=null){var M=l.seriesModel.getData(l.dataType);w=M.getItemModel(l.dataIndex)}u.on("drag",o(f,w.getModel("labelLine")))}}else u.off("drag"),u.cursor=d.cursor}},r.prototype.layout=function(t){var n=t.getWidth(),a=t.getHeight(),o=prepareLayoutList(this._labelList),s=filter(o,function(f){return f.layoutOption.moveOverlap==="shiftX"}),l=filter(o,function(f){return f.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(s,0,n),shiftLayoutOnY(l,0,a);var u=filter(o,function(f){return f.layoutOption.hideOverlap});hideOverlap(u)},r.prototype.processLabelsOverall=function(){var t=this;each$f(this._chartViewList,function(n){var a=n.__model,o=n.ignoreLabelLineUpdate,s=a.isAnimationEnabled();n.group.traverse(function(l){if(l.ignore&&!l.forceLabelAnimation)return!0;var u=!o,f=l.getTextContent();!u&&f&&(u=labelLayoutInnerStore(f).needsUpdateLabelLine),u&&t._updateLabelLine(l,a),s&&t._animateLabels(l,a)})})},r.prototype._updateLabelLine=function(t,n){var a=t.getTextContent(),o=getECData(t),s=o.dataIndex;if(a&&s!=null){var l=n.getData(o.dataType),u=l.getItemModel(s),f={},d=l.getItemVisual(s,"style"),v=l.getVisual("drawType");f.stroke=d[v];var g=u.getModel("labelLine");setLabelLineStyle(t,getLabelLineStatesModels(u),f),updateLabelLinePoints(t,g)}},r.prototype._animateLabels=function(t,n){var a=t.getTextContent(),o=t.getTextGuideLine();if(a&&(t.forceLabelAnimation||!a.ignore&&!a.invisible&&!t.disableLabelAnimation&&!isElementRemoved(t))){var s=labelLayoutInnerStore(a),l=s.oldLayout,u=getECData(t),f=u.dataIndex,d={x:a.x,y:a.y,rotation:a.rotation},v=n.getData(u.dataType);if(l){a.attr(l);var S=t.prevStates;S&&(indexOf(S,"select")>=0&&a.attr(s.oldLayoutSelect),indexOf(S,"emphasis")>=0&&a.attr(s.oldLayoutEmphasis)),updateProps$1(a,d,n,f)}else if(a.attr(d),!labelInner(a).valueAnimation){var g=retrieve2(a.style.opacity,1);a.style.opacity=0,initProps(a,{style:{opacity:g}},n,f)}if(s.oldLayout=d,a.states.select){var x=s.oldLayoutSelect={};extendWithKeys(x,d,LABEL_LAYOUT_PROPS),extendWithKeys(x,a.states.select,LABEL_LAYOUT_PROPS)}if(a.states.emphasis){var _=s.oldLayoutEmphasis={};extendWithKeys(_,d,LABEL_LAYOUT_PROPS),extendWithKeys(_,a.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(a,f,v,n,n)}if(o&&!o.ignore&&!o.invisible){var s=labelLineAnimationStore(o),l=s.oldLayout,C={points:o.shape.points};l?(o.attr({shape:l}),updateProps$1(o,{shape:C},n)):(o.setShape(C),o.style.strokePercent=0,initProps(o,{style:{strokePercent:1}},n)),s.oldLayout=C}},r}(),LabelManager$1=LabelManager,getLabelManager=makeInner();function installLabelLayout(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,n,a){var o=getLabelManager(n).labelManager;o||(o=getLabelManager(n).labelManager=new LabelManager$1),o.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(t,n,a){var o=getLabelManager(n).labelManager;a.updatedSeries.forEach(function(s){o.addLabelsOfSeries(n.getViewOfSeriesModel(s))}),o.updateLayoutConfig(n),o.layout(n),o.processLabelsOverall()})}var raf=null;function requestAnimationFrame$1(r){return raf||(raf=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),raf(r)}var caf=null;function cancelAnimationFrame(r){caf||(caf=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),caf(r)}function createStyles(r){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r)),(document.querySelector("head")||document.body).appendChild(t),t}function createElement$1(r,t){t===void 0&&(t={});var n=document.createElement(r);return Object.keys(t).forEach(function(a){n[a]=t[a]}),n}function getComputedStyle$2(r,t,n){var a=window.getComputedStyle(r,n||null)||{display:"none"};return a[t]}function getRenderInfo(r){if(!document.documentElement.contains(r))return{detached:!0,rendered:!1};for(var t=r;t!==document;){if(getComputedStyle$2(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var css_248z='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',total=0,style=null;function addListener(r,t){r.__resize_mutation_handler__||(r.__resize_mutation_handler__=handleMutation.bind(r));var n=r.__resize_listeners__;if(!n){if(r.__resize_listeners__=[],window.ResizeObserver){var a=r.offsetWidth,o=r.offsetHeight,s=new ResizeObserver(function(){!r.__resize_observer_triggered__&&(r.__resize_observer_triggered__=!0,r.offsetWidth===a&&r.offsetHeight===o)||runCallbacks(r)}),l=getRenderInfo(r),u=l.detached,f=l.rendered;r.__resize_observer_triggered__=u===!1&&f===!1,r.__resize_observer__=s,s.observe(r)}else if(r.attachEvent&&r.addEventListener)r.__resize_legacy_resize_handler__=function(){runCallbacks(r)},r.attachEvent("onresize",r.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",r.__resize_mutation_handler__);else if(total||(style=createStyles(css_248z)),initTriggers(r),r.__resize_rendered__=getRenderInfo(r).rendered,window.MutationObserver){var d=new MutationObserver(r.__resize_mutation_handler__);d.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),r.__resize_mutation_observer__=d}}r.__resize_listeners__.push(t),total++}function removeListener(r,t){var n=r.__resize_listeners__;if(!!n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(r.detachEvent&&r.removeEventListener){r.detachEvent("onresize",r.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",r.__resize_mutation_handler__);return}r.__resize_observer__?(r.__resize_observer__.unobserve(r),r.__resize_observer__.disconnect(),r.__resize_observer__=null):(r.__resize_mutation_observer__&&(r.__resize_mutation_observer__.disconnect(),r.__resize_mutation_observer__=null),r.removeEventListener("scroll",handleScroll),r.removeChild(r.__resize_triggers__.triggers),r.__resize_triggers__=null),r.__resize_listeners__=null}!--total&&style&&style.parentNode.removeChild(style)}}function getUpdatedSize(r){var t=r.__resize_last__,n=t.width,a=t.height,o=r.offsetWidth,s=r.offsetHeight;return o!==n||s!==a?{width:o,height:s}:null}function handleMutation(){var r=getRenderInfo(this),t=r.rendered,n=r.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(resetTriggers(this),this.addEventListener("scroll",handleScroll,!0)),this.__resize_rendered__=t,runCallbacks(this))}function handleScroll(){var r=this;resetTriggers(this),this.__resize_raf__&&cancelAnimationFrame(this.__resize_raf__),this.__resize_raf__=requestAnimationFrame$1(function(){var t=getUpdatedSize(r);t&&(r.__resize_last__=t,runCallbacks(r))})}function runCallbacks(r){!r||!r.__resize_listeners__||r.__resize_listeners__.forEach(function(t){t.call(r,r)})}function initTriggers(r){var t=getComputedStyle$2(r,"position");(!t||t==="static")&&(r.style.position="relative"),r.__resize_old_position__=t,r.__resize_last__={};var n=createElement$1("div",{className:"resize-triggers"}),a=createElement$1("div",{className:"resize-expand-trigger"}),o=createElement$1("div"),s=createElement$1("div",{className:"resize-contract-trigger"});a.appendChild(o),n.appendChild(a),n.appendChild(s),r.appendChild(n),r.__resize_triggers__={triggers:n,expand:a,expandChild:o,contract:s},resetTriggers(r),r.addEventListener("scroll",handleScroll,!0),r.__resize_last__={width:r.offsetWidth,height:r.offsetHeight}}function resetTriggers(r){var t=r.__resize_triggers__,n=t.expand,a=t.expandChild,o=t.contract,s=o.scrollWidth,l=o.scrollHeight,u=n.offsetWidth,f=n.offsetHeight,d=n.scrollWidth,v=n.scrollHeight;o.scrollLeft=s,o.scrollTop=l,a.style.width=u+1+"px",a.style.height=f+1+"px",n.scrollLeft=d,n.scrollTop=v}var O=function(){return(O=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)},m=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function b(r){return t=Object.create(null),m.forEach(function(n){t[n]=function(a){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(!r.value)throw new Error("ECharts is not initialized yet.");return r.value[a].apply(r.value,o)}}(n)}),t;var t}var y={autoresize:Boolean},j={loading:Boolean,loadingOptions:Object},E=[],z=[];(function(r,t){if(r&&typeof document!="undefined"){var n,a=t.prepend===!0?"prepend":"append",o=t.singleTag===!0,s=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var l=E.indexOf(s);l===-1&&(l=E.push(s)-1,z[l]={}),n=z[l]&&z[l][a]?z[l][a]:z[l][a]=u()}else n=u();r.charCodeAt(0)===65279&&(r=r.substring(1)),n.styleSheet?n.styleSheet.cssText+=r:n.appendChild(document.createTextNode(r))}function u(){var f=document.createElement("style");if(f.setAttribute("type","text/css"),t.attributes)for(var d=Object.keys(t.attributes),v=0;v<d.length;v++)f.setAttribute(d[v],t.attributes[d[v]]);var g=a==="prepend"?"afterbegin":"beforeend";return s.insertAdjacentElement(g,f),f}})("x-vue-echarts{display:block;width:100%;height:100%}",{});var A=/^on[^a-z]/,L=function(r){return A.test(r)},U=defineComponent({name:"echarts",props:O(O({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},y),j),inheritAttrs:!1,setup:function(r,t){var n=t.attrs,a=t.listeners,o=shallowRef(),s=shallowRef(),l=shallowRef(),u=inject("ecTheme",null),f=inject("ecInitOptions",null),d=inject("ecUpdateOptions",null),v=toRefs(r),g=v.autoresize,S=v.manualUpdate,x=v.loading,_=v.loadingOptions,C=computed(function(){return l.value||r.option||null}),T=computed(function(){return r.theme||unref(u)||{}}),w=computed(function(){return r.initOptions||unref(f)||{}}),M=computed(function(){return r.updateOptions||unref(d)||{}}),D=computed(function(){return function(F){var H={};for(var Y in F)L(Y)||(H[Y]=F[Y]);return H}(n)});function I(F){if(o.value){var H=s.value=init$1(o.value,T.value,w.value);r.group&&(H.group=r.group);var Y=a;Y||(Y={},Object.keys(n).filter(function(K){return K.indexOf("on")===0&&K.length>2}).forEach(function(K){var Z=K.charAt(2).toLowerCase()+K.slice(3);Y[Z]=n[K]})),Object.keys(Y).forEach(function(K){var Z=Y[K];Z&&(K.indexOf("zr:")===0?H.getZr().on(K.slice(3).toLowerCase(),Z):H.on(K.toLowerCase(),Z))}),g.value?nextTick(function(){H&&!H.isDisposed()&&H.resize(),G()}):G()}function G(){var K=F||C.value;K&&H.setOption(K,M.value)}}function R(){s.value&&(s.value.dispose(),s.value=void 0)}var $=null;watch(S,function(F){typeof $=="function"&&($(),$=null),F||($=watch(function(){return r.option},function(H,Y){H&&(s.value?s.value.setOption(H,O({notMerge:H.value!==(Y==null?void 0:Y.value)},M.value)):I())},{deep:!0}))},{immediate:!0}),watch([T,w],function(){R(),I()},{deep:!0}),watchEffect(function(){r.group&&s.value&&(s.value.group=r.group)});var N=b(s);return function(F,H,Y){var G=inject("ecLoadingOptions",{}),K=computed(function(){return O(O({},unref(G)),Y==null?void 0:Y.value)});watchEffect(function(){var Z=F.value;Z&&(H.value?Z.showLoading(K.value):Z.hideLoading())})}(s,x,_),function(F,H,Y){var G=null;watch([Y,F,H],function(K,Z,J){var Q=K[0],te=K[1],ie=K[2];Q&&te&&ie&&(G=throttle(function(){te.resize()},100),addListener(Q,G)),J(function(){G&&Q&&removeListener(Q,G)})})}(s,g,o),onMounted(function(){I()}),onUnmounted(R),O({chart:s,root:o,setOption:function(F,H){r.manualUpdate&&(l.value=F),s.value?s.value.setOption(F,H||{}):I(F)},nonEventAttrs:D},N)},render:function(){var r=O({},this.nonEventAttrs);return r.ref="root",r.class=r.class?["echarts"].concat(r.class):"echarts",h("x-vue-echarts",r)}});function isObject$1(r){return r!==null&&typeof r=="object"}function _defu(r,t,n=".",a){if(!isObject$1(t))return _defu(r,{},n,a);const o=Object.assign({},t);for(const s in r){if(s==="__proto__"||s==="constructor")continue;const l=r[s];l!=null&&(a&&a(o,s,l,n)||(Array.isArray(l)&&Array.isArray(o[s])?o[s]=l.concat(o[s]):isObject$1(l)&&isObject$1(o[s])?o[s]=_defu(l,o[s],(n?`${n}.`:"")+s.toString(),a):o[s]=l))}return o}function createDefu(r){return(...t)=>t.reduce((n,a)=>_defu(n,a,"",r),{})}const defu=createDefu();var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function r(){}return r.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},r.prototype.moveTo=function(t,n){this._add("M",t,n)},r.prototype.lineTo=function(t,n){this._add("L",t,n)},r.prototype.bezierCurveTo=function(t,n,a,o,s,l){this._add("C",t,n,a,o,s,l)},r.prototype.quadraticCurveTo=function(t,n,a,o){this._add("Q",t,n,a,o)},r.prototype.arc=function(t,n,a,o,s,l){this.ellipse(t,n,a,a,0,o,s,l)},r.prototype.ellipse=function(t,n,a,o,s,l,u,f){var d=u-l,v=!f,g=Math.abs(d),S=isAroundZero(g-PI2$1)||(v?d>=PI2$1:-d>=PI2$1),x=d>0?d%PI2$1:d%PI2$1+PI2$1,_=!1;S?_=!0:isAroundZero(g)?_=!1:_=x>=PI$4==!!v;var C=t+a*mathCos(l),T=n+o*mathSin(l);this._start&&this._add("M",C,T);var w=Math.round(s*degree);if(S){var M=1/this._p,D=(v?1:-1)*(PI2$1-M);this._add("A",a,o,w,1,+v,t+a*mathCos(l+D),n+o*mathSin(l+D)),M>.01&&this._add("A",a,o,w,0,+v,C,T)}else{var I=t+a*mathCos(u),R=n+o*mathSin(u);this._add("A",a,o,w,+_,+v,I,R)}},r.prototype.rect=function(t,n,a,o){this._add("M",t,n),this._add("l",a,0),this._add("l",0,o),this._add("l",-a,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(t,n,a,o,s,l,u,f,d){for(var v=[],g=this._p,S=1;S<arguments.length;S++){var x=arguments[S];if(isNaN(x)){this._invalid=!0;return}v.push(Math.round(x*g)/g)}this._d.push(t+v.join(" ")),this._start=t==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),SVGPathRebuilder$1=SVGPathRebuilder,NONE="none",mathRound=Math.round;function pathHasFill(r){var t=r.fill;return t!=null&&t!==NONE}function pathHasStroke(r){var t=r.stroke;return t!=null&&t!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(r){return"stroke-"+r.toLowerCase()});function mapStyleToAttrs(r,t,n,a){var o=t.opacity==null?1:t.opacity;if(n instanceof ZRImage$1){r("opacity",o);return}if(pathHasFill(t)){var s=normalizeColor(t.fill);r("fill",s.color);var l=t.fillOpacity!=null?t.fillOpacity*s.opacity*o:s.opacity*o;(a||l<1)&&r("fill-opacity",l)}else r("fill",NONE);if(pathHasStroke(t)){var u=normalizeColor(t.stroke);r("stroke",u.color);var f=t.strokeNoScale?n.getLineScale():1,d=f?(t.lineWidth||0)/f:0,v=t.strokeOpacity!=null?t.strokeOpacity*u.opacity*o:u.opacity*o,g=t.strokeFirst;if((a||d!==1)&&r("stroke-width",d),(a||g)&&r("paint-order",g?"stroke":"fill"),(a||v<1)&&r("stroke-opacity",v),t.lineDash){var S=getLineDash(n),x=S[0],_=S[1];x&&(_=mathRound(_||0),r("stroke-dasharray",x.join(",")),(_||a)&&r("stroke-dashoffset",_))}else a&&r("stroke-dasharray",NONE);for(var C=0;C<strokeProps.length;C++){var T=strokeProps[C];if(a||t[T]!==DEFAULT_PATH_STYLE[T]){var w=t[T]||DEFAULT_PATH_STYLE[T];w&&r(svgStrokeProps[C],w)}}}else a&&r("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(r){return document.createElementNS(SVGNS,r)}function createVNode(r,t,n,a,o){return{tag:r,attrs:n||{},children:a,text:o,key:t}}function createElementOpen(r,t){var n=[];if(t)for(var a in t){var o=t[a],s=a;o!==!1&&(o!==!0&&o!=null&&(s+='="'+o+'"'),n.push(s))}return"<"+r+" "+n.join(" ")+">"}function createElementClose(r){return"</"+r+">"}function vNodeToString(r,t){t=t||{};var n=t.newline?`
`:"";function a(o){var s=o.children,l=o.tag,u=o.attrs;return createElementOpen(l,u)+(o.text||"")+(s?""+n+map$1(s,function(f){return a(f)}).join(n)+n:"")+createElementClose(l)}return a(r)}function getCssString(r,t,n){n=n||{};var a=n.newline?`
`:"",o=" {"+a,s=a+"}",l=map$1(keys(r),function(f){return f+o+map$1(keys(r[f]),function(d){return d+":"+r[f][d]+";"}).join(a)+s}).join(a),u=map$1(keys(t),function(f){return"@keyframes "+f+o+map$1(keys(t[f]),function(d){return d+o+map$1(keys(t[f][d]),function(v){var g=t[f][d][v];return v==="d"&&(g='path("'+g+'")'),v+":"+g+";"}).join(a)+s}).join(a)+s}).join(a);return!l&&!u?"":["<![CDATA[",l,u,"]]>"].join(a)}function createBrushScope(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(r,t,n,a){return createVNode("svg","root",{width:r,height:t,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:a?"0 0 "+r+" "+t:!1},n)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(r,t,n){var a=extend({},r.shape);extend(a,t),r.buildPath(n,a);var o=new SVGPathRebuilder$1;return o.reset(getPathPrecision(r)),n.rebuildPath(o,1),o.generateStr(),o.getStr()}function setTransformOrigin(r,t){var n=t.originX,a=t.originY;(n||a)&&(r[transformOriginKey]=n+"px "+a+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(r,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=r,n}function createCompoundPathCSSAnimation(r,t,n){var a=r.shape.paths,o={},s,l;if(each$f(a,function(f){var d=createBrushScope(n.zrId);d.animation=!0,createCSSAnimation(f,{},d,!0);var v=d.cssAnims,g=d.cssNodes,S=keys(v),x=S.length;if(!!x){l=S[x-1];var _=v[l];for(var C in _){var T=_[C];o[C]=o[C]||{d:""},o[C].d+=T.d||""}for(var w in g){var M=g[w].animation;M.indexOf(l)>=0&&(s=M)}}}),!!s){t.d=!1;var u=addAnimation(o,n);return s.replace(l,u)}}function getEasingFunc(r){return isString(r)?EASING_MAP[r]?"cubic-bezier("+EASING_MAP[r]+")":createCubicEasingFunc(r)?r:"":""}function createCSSAnimation(r,t,n,a){var o=r.animators,s=o.length,l=[];if(r instanceof CompoundPath$1){var u=createCompoundPathCSSAnimation(r,t,n);if(u)l.push(u);else if(!s)return}else if(!s)return;for(var f={},d=0;d<s;d++){var v=o[d],g=[v.getMaxTime()/1e3+"s"],S=getEasingFunc(v.getClip().easing),x=v.getDelay();S?g.push(S):g.push("linear"),x&&g.push(x/1e3+"s"),v.getLoop()&&g.push("infinite");var _=g.join(" ");f[_]=f[_]||[_,[]],f[_][1].push(v)}function C(M){var D=M[1],I=D.length,R={},$={},N={},F="animation-timing-function";function H(Oe,ke,Ye){for(var ze=Oe.getTracks(),qe=Oe.getMaxTime(),ae=0;ae<ze.length;ae++){var le=ze[ae];if(le.needsAnimate()){var ge=le.keyframes,se=le.propName;if(Ye&&(se=Ye(se)),se)for(var oe=0;oe<ge.length;oe++){var Se=ge[oe],xe=Math.round(Se.time/qe*100)+"%",_e=getEasingFunc(Se.easing),Te=Se.rawValue;(isString(Te)||isNumber(Te))&&(ke[xe]=ke[xe]||{},ke[xe][se]=Se.rawValue,_e&&(ke[xe][F]=_e))}}}}for(var Y=0;Y<I;Y++){var G=D[Y],K=G.targetName;K?K==="shape"&&H(G,$):!a&&H(G,R)}for(var Z in R){var J={};copyTransform(J,r),extend(J,R[Z]);var Q=getSRTTransformString(J),te=R[Z][F];N[Z]=Q?{transform:Q}:{},setTransformOrigin(N[Z],J),te&&(N[Z][F]=te)}var ie,ne=!0;for(var Z in $){N[Z]=N[Z]||{};var de=!ie,te=$[Z][F];de&&(ie=new PathProxy$1);var ve=ie.len();ie.reset(),N[Z].d=buildPathString(r,$[Z],ie);var pe=ie.len();if(!de&&ve!==pe){ne=!1;break}te&&(N[Z][F]=te)}if(!ne)for(var Z in N)delete N[Z].d;if(!a)for(var Y=0;Y<I;Y++){var G=D[Y],K=G.targetName;K==="style"&&H(G,N,function(ze){return ANIMATE_STYLE_MAP[ze]})}for(var $e=keys(N),Re=!0,Ge,Y=1;Y<$e.length;Y++){var Qe=$e[Y-1],Le=$e[Y];if(N[Qe][transformOriginKey]!==N[Le][transformOriginKey]){Re=!1;break}Ge=N[Qe][transformOriginKey]}if(Re&&Ge){for(var Z in N)N[Z][transformOriginKey]&&delete N[Z][transformOriginKey];t[transformOriginKey]=Ge}if(filter($e,function(Oe){return keys(N[Oe]).length>0}).length){var We=addAnimation(N,n);return We+" "+M[0]+" both"}}for(var T in f){var u=C(f[T]);u&&l.push(u)}if(l.length){var w=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+w]={animation:l.join(",")},t.class=w}}var round$1=Math.round;function isImageLike(r){return r&&isString(r.src)}function isCanvasLike(r){return r&&isFunction(r.toDataURL)}function setStyleAttrs(r,t,n,a){mapStyleToAttrs(function(o,s){var l=o==="fill"||o==="stroke";l&&isGradient(s)?setGradient(t,r,o,a):l&&isPattern(s)?setPattern(n,r,o,a):r[o]=s},t,n,!1),setShadow(n,r,a)}function noRotateScale(r){return isAroundZero(r[0]-1)&&isAroundZero(r[1])&&isAroundZero(r[2])&&isAroundZero(r[3]-1)}function noTranslate(r){return isAroundZero(r[4])&&isAroundZero(r[5])}function setTransform(r,t,n){if(t&&!(noTranslate(t)&&noRotateScale(t))){var a=n?10:1e4;r.transform=noRotateScale(t)?"translate("+round$1(t[4]*a)/a+" "+round$1(t[5]*a)/a+")":getMatrixStr(t)}}function convertPolyShape(r,t,n){for(var a=r.points,o=[],s=0;s<a.length;s++)o.push(round$1(a[s][0]*n)/n),o.push(round$1(a[s][1]*n)/n);t.points=o.join(" ")}function validatePolyShape(r){return!r.smooth}function createAttrsConvert(r){var t=map$1(r,function(n){return typeof n=="string"?[n,n]:n});return function(n,a,o){for(var s=0;s<t.length;s++){var l=t[s],u=n[l[0]];u!=null&&(a[l[1]]=round$1(u*o)/o)}}}var buitinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(r){for(var t=r.animators,n=0;n<t.length;n++)if(t[n].targetName==="shape")return!0;return!1}function brushSVGPath(r,t){var n=r.style,a=r.shape,o=buitinShapesDef[r.type],s={},l=t.animation,u="path",f=r.style.strokePercent,d=t.compress&&getPathPrecision(r)||4;if(o&&!t.willUpdate&&!(o[1]&&!o[1](a))&&!(l&&hasShapeAnimation(r))&&!(f<1)){u=r.type;var v=Math.pow(10,d);o[0](a,s,v)}else{r.path||r.createPathProxy();var g=r.path;r.shapeChanged()&&(g.beginPath(),r.buildPath(g,r.shape),r.pathUpdated());var S=g.getVersion(),x=r,_=x.__svgPathBuilder;(x.__svgPathVersion!==S||!_||f!==x.__svgPathStrokePercent)&&(_||(_=x.__svgPathBuilder=new SVGPathRebuilder$1),_.reset(d),g.rebuildPath(_,f),_.generateStr(),x.__svgPathVersion=S,x.__svgPathStrokePercent=f),s.d=_.getStr()}return setTransform(s,r.transform),setStyleAttrs(s,n,r,t),t.animation&&createCSSAnimation(r,s,t),createVNode(u,r.id+"",s)}function brushSVGImage(r,t){var n=r.style,a=n.image;if(a&&!isString(a)&&(isImageLike(a)?a=a.src:isCanvasLike(a)&&(a=a.toDataURL())),!!a){var o=n.x||0,s=n.y||0,l=n.width,u=n.height,f={href:a,width:l,height:u};return o&&(f.x=o),s&&(f.y=s),setTransform(f,r.transform),setStyleAttrs(f,n,r,t),t.animation&&createCSSAnimation(r,f,t),createVNode("image",r.id+"",f)}}function brushSVGTSpan(r,t){var n=r.style,a=n.text;if(a!=null&&(a+=""),!(!a||isNaN(n.x)||isNaN(n.y))){var o=n.font||DEFAULT_FONT,s=n.x||0,l=adjustTextY$1(n.y||0,getLineHeight(o),n.textBaseline),u=TEXT_ALIGN_TO_ANCHOR[n.textAlign]||n.textAlign,f={"dominant-baseline":"central","text-anchor":u};if(hasSeparateFont(n)){var d="",v=n.fontStyle,g=parseFontSize(n.fontSize);if(!parseFloat(g))return;var S=n.fontFamily||DEFAULT_FONT_FAMILY,x=n.fontWeight;d+="font-size:"+g+";font-family:"+S+";",v&&v!=="normal"&&(d+="font-style:"+v+";"),x&&x!=="normal"&&(d+="font-weight:"+x+";"),f.style=d}else f.style="font: "+o;return a.match(/\s/)&&(f["xml:space"]="preserve"),s&&(f.x=s),l&&(f.y=l),setTransform(f,r.transform),setStyleAttrs(f,n,r,t),t.animation&&createCSSAnimation(r,f,t),createVNode("text",r.id+"",f,void 0,a)}}function brush(r,t){if(r instanceof Path$1)return brushSVGPath(r,t);if(r instanceof ZRImage$1)return brushSVGImage(r,t);if(r instanceof TSpan$1)return brushSVGTSpan(r,t)}function setShadow(r,t,n){var a=r.style;if(hasShadow(a)){var o=getShadowKey(r),s=n.shadowCache,l=s[o];if(!l){var u=r.getGlobalScale(),f=u[0],d=u[1];if(!f||!d)return;var v=a.shadowOffsetX||0,g=a.shadowOffsetY||0,S=a.shadowBlur,x=normalizeColor(a.shadowColor),_=x.opacity,C=x.color,T=S/2/f,w=S/2/d,M=T+" "+w;l=n.zrId+"-s"+n.shadowIdx++,n.defs[l]=createVNode("filter",l,{id:l,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:v/f,dy:g/d,stdDeviation:M,"flood-color":C,"flood-opacity":_})]),s[o]=l}t.filter=getIdURL(l)}}function setGradient(r,t,n,a){var o=r[n],s,l={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(o))s="linearGradient",l.x1=o.x,l.y1=o.y,l.x2=o.x2,l.y2=o.y2;else if(isRadialGradient(o))s="radialGradient",l.cx=retrieve2(o.x,.5),l.cy=retrieve2(o.y,.5),l.r=retrieve2(o.r,.5);else return;for(var u=o.colorStops,f=[],d=0,v=u.length;d<v;++d){var g=round4(u[d].offset)*100+"%",S=u[d].color,x=normalizeColor(S),_=x.color,C=x.opacity,T={offset:g};T["stop-color"]=_,C<1&&(T["stop-opacity"]=C),f.push(createVNode("stop",d+"",T))}var w=createVNode(s,"",l,f),M=vNodeToString(w),D=a.gradientCache,I=D[M];I||(I=a.zrId+"-g"+a.gradientIdx++,D[M]=I,l.id=I,a.defs[I]=createVNode(s,I,l,f)),t[n]=getIdURL(I)}function setPattern(r,t,n,a){var o=r.style[n],s={patternUnits:"userSpaceOnUse"},l;if(isImagePattern(o)){var u=o.imageWidth,f=o.imageHeight,d=void 0,v=o.image;if(isString(v)?d=v:isImageLike(v)?d=v.src:isCanvasLike(v)&&(d=v.toDataURL()),typeof Image=="undefined"){var g="Image width/height must been given explictly in svg-ssr renderer.";assert(u,g),assert(f,g)}else if(u==null||f==null){var S=function(M,D){if(M){var I=M.elm,R=M.attrs.width=u||D.width,$=M.attrs.height=f||D.height;I&&(I.setAttribute("width",R),I.setAttribute("height",$))}},x=createOrUpdateImage(d,null,r,function(M){S(_,M),S(l,M)});x&&x.width&&x.height&&(u=u||x.width,f=f||x.height)}l=createVNode("image","img",{href:d,width:u,height:f}),s.width=u,s.height=f}else o.svgElement&&(l=clone$4(o.svgElement),s.width=o.svgWidth,s.height=o.svgHeight);if(!!l){s.patternTransform=getSRTTransformString(o);var _=createVNode("pattern","",s,[l]),C=vNodeToString(_),T=a.patternCache,w=T[C];w||(w=a.zrId+"-p"+a.patternIdx++,T[C]=w,s.id=w,_=a.defs[w]=createVNode("pattern",w,s,[l])),t[n]=getIdURL(w)}}function setClipPath(r,t,n){var a=n.clipPathCache,o=n.defs,s=a[r.id];if(!s){s=n.zrId+"-c"+n.clipPathIdx++;var l={id:s};a[r.id]=s,o[s]=createVNode("clipPath",s,l,[brushSVGPath(r,n)])}t["clip-path"]=getIdURL(s)}function createTextNode(r){return document.createTextNode(r)}function insertBefore(r,t,n){r.insertBefore(t,n)}function removeChild(r,t){r.removeChild(t)}function appendChild(r,t){r.appendChild(t)}function parentNode(r){return r.parentNode}function nextSibling(r){return r.nextSibling}function setTextContent(r,t){r.textContent=t}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(r){return r===void 0}function isDef(r){return r!==void 0}function createKeyToOldIdx(r,t,n){for(var a={},o=t;o<=n;++o){var s=r[o].key;s!==void 0&&(a[s]=o)}return a}function sameVnode(r,t){var n=r.key===t.key,a=r.tag===t.tag;return a&&n}function createElm(r){var t,n=r.children,a=r.tag;if(isDef(a)){var o=r.elm=createElement(a);if(updateAttrs(emptyNode,r),isArray$1(n))for(t=0;t<n.length;++t){var s=n[t];s!=null&&appendChild(o,createElm(s))}else isDef(r.text)&&!isObject$4(r.text)&&appendChild(o,createTextNode(r.text))}else r.elm=createTextNode(r.text);return r.elm}function addVnodes(r,t,n,a,o){for(;a<=o;++a){var s=n[a];s!=null&&insertBefore(r,createElm(s),t)}}function removeVnodes(r,t,n,a){for(;n<=a;++n){var o=t[n];if(o!=null)if(isDef(o.tag)){var s=parentNode(o.elm);removeChild(s,o.elm)}else removeChild(r,o.elm)}}function updateAttrs(r,t){var n,a=t.elm,o=r&&r.attrs||{},s=t.attrs||{};if(o!==s){for(n in s){var l=s[n],u=o[n];u!==l&&(l===!0?a.setAttribute(n,""):l===!1?a.removeAttribute(n):n.charCodeAt(0)!==xChar?a.setAttribute(n,l):n==="xmlns:xlink"||n==="xmlns"?a.setAttributeNS(XMLNS,n,l):n.charCodeAt(3)===colonChar?a.setAttributeNS(XML_NAMESPACE,n,l):n.charCodeAt(5)===colonChar?a.setAttributeNS(XLINKNS,n,l):a.setAttribute(n,l))}for(n in o)n in s||a.removeAttribute(n)}}function updateChildren(r,t,n){for(var a=0,o=0,s=t.length-1,l=t[0],u=t[s],f=n.length-1,d=n[0],v=n[f],g,S,x,_;a<=s&&o<=f;)l==null?l=t[++a]:u==null?u=t[--s]:d==null?d=n[++o]:v==null?v=n[--f]:sameVnode(l,d)?(patchVnode(l,d),l=t[++a],d=n[++o]):sameVnode(u,v)?(patchVnode(u,v),u=t[--s],v=n[--f]):sameVnode(l,v)?(patchVnode(l,v),insertBefore(r,l.elm,nextSibling(u.elm)),l=t[++a],v=n[--f]):sameVnode(u,d)?(patchVnode(u,d),insertBefore(r,u.elm,l.elm),u=t[--s],d=n[++o]):(isUndef(g)&&(g=createKeyToOldIdx(t,a,s)),S=g[d.key],isUndef(S)?insertBefore(r,createElm(d),l.elm):(x=t[S],x.tag!==d.tag?insertBefore(r,createElm(d),l.elm):(patchVnode(x,d),t[S]=void 0,insertBefore(r,x.elm,l.elm))),d=n[++o]);(a<=s||o<=f)&&(a>s?(_=n[f+1]==null?null:n[f+1].elm,addVnodes(r,_,n,o,f)):removeVnodes(r,t,a,s))}function patchVnode(r,t){var n=t.elm=r.elm,a=r.children,o=t.children;r!==t&&(updateAttrs(r,t),isUndef(t.text)?isDef(a)&&isDef(o)?a!==o&&updateChildren(n,a,o):isDef(o)?(isDef(r.text)&&setTextContent(n,""),addVnodes(n,null,o,0,o.length-1)):isDef(a)?removeVnodes(n,a,0,a.length-1):isDef(r.text)&&setTextContent(n,""):r.text!==t.text&&(isDef(a)&&removeVnodes(n,a,0,a.length-1),setTextContent(n,t.text)))}function patch(r,t){if(sameVnode(r,t))patchVnode(r,t);else{var n=r.elm,a=parentNode(n);createElm(t),a!==null&&(insertBefore(a,t.elm,nextSibling(n)),removeVnodes(a,[r],0,0))}return t}var svgId=0,SVGPainter=function(){function r(t,n,a){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=n,this._opts=a=extend({},a),this.root=t,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(a.width,a.height),t&&!a.ssr){var o=this._viewport=document.createElement("div");o.style.cssText="position:relative;overflow:hidden";var s=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),o.appendChild(s),t.appendChild(o)}this.resize(a.width,a.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,t),this._oldVNode=t}},r.prototype.renderOneToVNode=function(t){return brush(t,createBrushScope(this._id))},r.prototype.renderToVNode=function(t){t=t||{};var n=this.storage.getDisplayList(!0),a=this._backgroundColor,o=this._width,s=this._height,l=createBrushScope(this._id);l.animation=t.animation,l.willUpdate=t.willUpdate,l.compress=t.compress;var u=[];if(a&&a!=="none"){var f=normalizeColor(a),d=f.color,v=f.opacity;this._bgVNode=createVNode("rect","bg",{width:o,height:s,x:"0",y:"0",id:"0",fill:d,"fill-opacity":v}),u.push(this._bgVNode)}else this._bgVNode=null;var g=t.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(n,l,g?g.children:u),g&&u.push(g);var S=map$1(keys(l.defs),function(C){return l.defs[C]});if(S.length&&u.push(createVNode("defs","defs",{},S)),t.animation){var x=getCssString(l.cssNodes,l.cssAnims,{newline:!0});if(x){var _=createVNode("style","stl",{},[],x);u.push(_)}}return createSVGVNode(o,s,u,t.useViewBox)},r.prototype.renderToString=function(t){return t=t||{},vNodeToString(this.renderToVNode({animation:retrieve2(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(t.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t;var n=this._bgVNode;if(n&&n.elm){var a=normalizeColor(t),o=a.color,s=a.opacity;n.elm.setAttribute("fill",o),s<1&&n.elm.setAttribute("fill-opacity",s)}},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(t,n,a){for(var o=t.length,s=[],l=0,u,f,d=0,v=0;v<o;v++){var g=t[v];if(!g.invisible){var S=g.__clipPaths,x=S&&S.length||0,_=f&&f.length||0,C=void 0;for(C=Math.max(x-1,_-1);C>=0&&!(S&&f&&S[C]===f[C]);C--);for(var T=_-1;T>C;T--)l--,u=s[l-1];for(var w=C+1;w<x;w++){var M={};setClipPath(S[w],M,n);var D=createVNode("g","clip-g-"+d++,M,[]);(u?u.children:a).push(D),s[l++]=D,u=D}f=S;var I=brush(g,n);I&&(u?u.children:a).push(I)}}},r.prototype.resize=function(t,n){var a=this._opts,o=this.root,s=this._viewport;if(t!=null&&(a.width=t),n!=null&&(a.height=n),o&&s&&(s.style.display="none",t=getSize$1(o,0,a),n=getSize$1(o,1,a),s.style.display=""),this._width!==t||this._height!==n){if(this._width=t,this._height=n,s){var l=s.style;l.width=t+"px",l.height=n+"px"}var u=this._svgDom;u&&(u.setAttribute("width",t),u.setAttribute("height",n))}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(t){var n=encodeURIComponent(this.renderToString()),a="data:image/svg+xml;";return t?(n=encodeBase64(n),n&&a+"base64,"+n):a+"charset=UTF-8,"+n},r}();function createMethodNotSupport(r){return function(){}}var SVGPainter$1=SVGPainter;function install$S(r){r.registerPainter("svg",SVGPainter$1)}function createDom(r,t,n){var a=platformApi.createCanvas(),o=t.getWidth(),s=t.getHeight(),l=a.style;return l&&(l.position="absolute",l.left="0",l.top="0",l.width=o+"px",l.height=s+"px",a.setAttribute("data-zr-dom-id",r)),a.width=o*n,a.height=s*n,a}var Layer=function(r){__extends(t,r);function t(n,a,o){var s=r.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null;var l;o=o||devicePixelRatio$1,typeof n=="string"?l=createDom(n,a,o):isObject$4(n)&&(l=n,n=l.id),s.id=n,s.dom=l;var u=l.style;return u&&(disableUserSelect(l),l.onselectstart=function(){return!1},u.padding="0",u.margin="0",u.borderWidth="0"),s.painter=a,s.dpr=o,s}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,a,o,s){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var l=[],u=this.maxRepaintRectCount,f=!1,d=new BoundingRect$1(0,0,0,0);function v(M){if(!(!M.isFinite()||M.isZero()))if(l.length===0){var D=new BoundingRect$1(0,0,0,0);D.copy(M),l.push(D)}else{for(var I=!1,R=1/0,$=0,N=0;N<l.length;++N){var F=l[N];if(F.intersect(M)){var H=new BoundingRect$1(0,0,0,0);H.copy(F),H.union(M),l[N]=H,I=!0;break}else if(f){d.copy(M),d.union(F);var Y=M.width*M.height,G=F.width*F.height,K=d.width*d.height,Z=K-Y-G;Z<R&&(R=Z,$=N)}}if(f&&(l[$].union(M),I=!0),!I){var D=new BoundingRect$1(0,0,0,0);D.copy(M),l.push(D)}f||(f=l.length>=u)}}for(var g=this.__startIndex;g<this.__endIndex;++g){var S=n[g];if(S){var x=S.shouldBePainted(o,s,!0,!0),_=S.__isRendered&&(S.__dirty&REDRAW_BIT||!x)?S.getPrevPaintRect():null;_&&v(_);var C=x&&(S.__dirty&REDRAW_BIT||!S.__isRendered)?S.getPaintRect():null;C&&v(C)}}for(var g=this.__prevStartIndex;g<this.__prevEndIndex;++g){var S=a[g],x=S.shouldBePainted(o,s,!0,!0);if(S&&(!x||!S.__zr)&&S.__isRendered){var _=S.getPrevPaintRect();_&&v(_)}}var T;do{T=!1;for(var g=0;g<l.length;){if(l[g].isZero()){l.splice(g,1);continue}for(var w=g+1;w<l.length;)l[g].intersect(l[w])?(T=!0,l[g].union(l[w]),l.splice(w,1)):w++;g++}}while(T);return this._paintRects=l,l},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,a){var o=this.dpr,s=this.dom,l=s.style,u=this.domBack;l&&(l.width=n+"px",l.height=a+"px"),s.width=n*o,s.height=a*o,u&&(u.width=n*o,u.height=a*o,o!==1&&this.ctxBack.scale(o,o))},t.prototype.clear=function(n,a,o){var s=this.dom,l=this.ctx,u=s.width,f=s.height;a=a||this.clearColor;var d=this.motionBlur&&!n,v=this.lastFrameAlpha,g=this.dpr,S=this;d&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(s,0,0,u/g,f/g));var x=this.domBack;function _(C,T,w,M){if(l.clearRect(C,T,w,M),a&&a!=="transparent"){var D=void 0;isGradientObject(a)?(D=a.__canvasGradient||getCanvasGradient(l,a,{x:0,y:0,width:w,height:M}),a.__canvasGradient=D):isImagePatternObject(a)&&(D=createCanvasPattern(l,a,{dirty:function(){S.setUnpainted(),S.__painter.refresh()}})),l.save(),l.fillStyle=D||a,l.fillRect(C,T,w,M),l.restore()}d&&(l.save(),l.globalAlpha=v,l.drawImage(x,C,T,w,M),l.restore())}!o||d?_(0,0,u,f):o.length&&each$f(o,function(C){_(C.x*g,C.y*g,C.width*g,C.height*g)})},t}(Eventful$1),Layer$1=Layer,HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function createRoot(r,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var CanvasPainter=function(){function r(t,n,a,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var s=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=a=extend({},a||{}),this.dpr=a.devicePixelRatio||devicePixelRatio$1,this._singleCanvas=s,this.root=t;var l=t.style;l&&(disableUserSelect(t),t.innerHTML=""),this.storage=n;var u=this._zlevelList;this._prevDisplayList=[];var f=this._layers;if(s){var v=t,g=v.width,S=v.height;a.width!=null&&(g=a.width),a.height!=null&&(S=a.height),this.dpr=a.devicePixelRatio||1,v.width=g*this.dpr,v.height=S*this.dpr,this._width=g,this._height=S;var x=new Layer$1(v,this,this.dpr);x.__builtin__=!0,x.initContext(),f[CANVAS_ZLEVEL]=x,x.zlevel=CANVAS_ZLEVEL,u.push(CANVAS_ZLEVEL),this._domRoot=t}else{this._width=getSize$1(t,0,a),this._height=getSize$1(t,1,a);var d=this._domRoot=createRoot(this._width,this._height);t.appendChild(d)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),a=this._prevDisplayList,o=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,a,t,this._redrawId);for(var s=0;s<o.length;s++){var l=o[s],u=this._layers[l];if(!u.__builtin__&&u.refresh){var f=s===0?this._backgroundColor:null;u.refresh(f)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var n=t.length,a=this._hoverlayer;if(a&&a.clear(),!!n){for(var o={inHover:!0,viewWidth:this._width,viewHeight:this._height},s,l=0;l<n;l++){var u=t[l];u.__inHover&&(a||(a=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),s||(s=a.ctx,s.save()),brush$1(s,u,o,l===n-1))}s&&s.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},r.prototype.paintOne=function(t,n){brushSingle(t,n)},r.prototype._paintList=function(t,n,a,o){if(this._redrawId===o){a=a||!1,this._updateLayerStatus(t);var s=this._doPaintList(t,n,a),l=s.finished,u=s.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),u&&this._paintHoverList(t),l)this.eachLayer(function(d){d.afterBrush&&d.afterBrush()});else{var f=this;requestAnimationFrame$3(function(){f._paintList(t,n,a,o)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(CANVAS_ZLEVEL).ctx,n=this._domRoot.width,a=this._domRoot.height;t.clearRect(0,0,n,a),this.eachBuiltinLayer(function(o){o.virtual&&t.drawImage(o.dom,0,0,n,a)})},r.prototype._doPaintList=function(t,n,a){for(var o=this,s=[],l=this._opts.useDirtyRect,u=0;u<this._zlevelList.length;u++){var f=this._zlevelList[u],d=this._layers[f];d.__builtin__&&d!==this._hoverlayer&&(d.__dirty||a)&&s.push(d)}for(var v=!0,g=!1,S=function(C){var T=s[C],w=T.ctx,M=l&&T.createRepaintRects(t,n,x._width,x._height),D=a?T.__startIndex:T.__drawIndex,I=!a&&T.incremental&&Date.now,R=I&&Date.now(),$=T.zlevel===x._zlevelList[0]?x._backgroundColor:null;if(T.__startIndex===T.__endIndex)T.clear(!1,$,M);else if(D===T.__startIndex){var N=t[D];(!N.incremental||!N.notClear||a)&&T.clear(!1,$,M)}D===-1&&(console.error("For some unknown reason. drawIndex is -1"),D=T.__startIndex);var F,H=function(Z){var J={inHover:!1,allClipped:!1,prevEl:null,viewWidth:o._width,viewHeight:o._height};for(F=D;F<T.__endIndex;F++){var Q=t[F];if(Q.__inHover&&(g=!0),o._doPaintEl(Q,T,l,Z,J,F===T.__endIndex-1),I){var te=Date.now()-R;if(te>15)break}}J.prevElClipPaths&&w.restore()};if(M)if(M.length===0)F=T.__endIndex;else for(var Y=x.dpr,G=0;G<M.length;++G){var K=M[G];w.save(),w.beginPath(),w.rect(K.x*Y,K.y*Y,K.width*Y,K.height*Y),w.clip(),H(K),w.restore()}else w.save(),H(),w.restore();T.__drawIndex=F,T.__drawIndex<T.__endIndex&&(v=!1)},x=this,_=0;_<s.length;_++)S(_);return env$1.wxa&&each$f(this._layers,function(C){C&&C.ctx&&C.ctx.draw&&C.ctx.draw()}),{finished:v,needsRefreshHover:g}},r.prototype._doPaintEl=function(t,n,a,o,s,l){var u=n.ctx;if(a){var f=t.getPaintRect();(!o||f&&f.intersect(o))&&(brush$1(u,t,s,l),t.setPrevPaintRect(f))}else brush$1(u,t,s,l)},r.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=CANVAS_ZLEVEL);var a=this._layers[t];return a||(a=new Layer$1("zr_"+t,this,this.dpr),a.zlevel=t,a.__builtin__=!0,this._layerConfig[t]?merge(a,this._layerConfig[t],!0):this._layerConfig[t-EL_AFTER_INCREMENTAL_INC]&&merge(a,this._layerConfig[t-EL_AFTER_INCREMENTAL_INC],!0),n&&(a.virtual=n),this.insertLayer(t,a),a.initContext()),a},r.prototype.insertLayer=function(t,n){var a=this._layers,o=this._zlevelList,s=o.length,l=this._domRoot,u=null,f=-1;if(!a[t]&&!!isLayerValid(n)){if(s>0&&t>o[0]){for(f=0;f<s-1&&!(o[f]<t&&o[f+1]>t);f++);u=a[o[f]]}if(o.splice(f+1,0,t),a[t]=n,!n.virtual)if(u){var d=u.dom;d.nextSibling?l.insertBefore(n.dom,d.nextSibling):l.appendChild(n.dom)}else l.firstChild?l.insertBefore(n.dom,l.firstChild):l.appendChild(n.dom);n.__painter=this}},r.prototype.eachLayer=function(t,n){for(var a=this._zlevelList,o=0;o<a.length;o++){var s=a[o];t.call(n,this._layers[s],s)}},r.prototype.eachBuiltinLayer=function(t,n){for(var a=this._zlevelList,o=0;o<a.length;o++){var s=a[o],l=this._layers[s];l.__builtin__&&t.call(n,l,s)}},r.prototype.eachOtherLayer=function(t,n){for(var a=this._zlevelList,o=0;o<a.length;o++){var s=a[o],l=this._layers[s];l.__builtin__||t.call(n,l,s)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(g,S){g.__dirty=g.__used=!1});function n(g){s&&(s.__endIndex!==g&&(s.__dirty=!0),s.__endIndex=g)}if(this._singleCanvas)for(var a=1;a<t.length;a++){var o=t[a];if(o.zlevel!==t[a-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}}var s=null,l=0,u,f;for(f=0;f<t.length;f++){var o=t[f],d=o.zlevel,v=void 0;u!==d&&(u=d,l=0),o.incremental?(v=this.getLayer(d+INCREMENTAL_INC,this._needsManuallyCompositing),v.incremental=!0,l=1):v=this.getLayer(d+(l>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),v.__builtin__||logError("ZLevel "+d+" has been used by unkown layer "+v.id),v!==s&&(v.__used=!0,v.__startIndex!==f&&(v.__dirty=!0),v.__startIndex=f,v.incremental?v.__drawIndex=-1:v.__drawIndex=f,n(f),s=v),o.__dirty&REDRAW_BIT&&!o.__inHover&&(v.__dirty=!0,v.incremental&&v.__drawIndex<0&&(v.__drawIndex=f))}n(f),this.eachBuiltinLayer(function(g,S){!g.__used&&g.getElementCount()>0&&(g.__dirty=!0,g.__startIndex=g.__endIndex=g.__drawIndex=0),g.__dirty&&g.__drawIndex<0&&(g.__drawIndex=g.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,each$f(this._layers,function(n){n.setUnpainted()})},r.prototype.configLayer=function(t,n){if(n){var a=this._layerConfig;a[t]?merge(a[t],n,!0):a[t]=n;for(var o=0;o<this._zlevelList.length;o++){var s=this._zlevelList[o];if(s===t||s===t+EL_AFTER_INCREMENTAL_INC){var l=this._layers[s];merge(l,a[t],!0)}}}},r.prototype.delLayer=function(t){var n=this._layers,a=this._zlevelList,o=n[t];!o||(o.dom.parentNode.removeChild(o.dom),delete n[t],a.splice(indexOf(a,t),1))},r.prototype.resize=function(t,n){if(this._domRoot.style){var a=this._domRoot;a.style.display="none";var o=this._opts,s=this.root;if(t!=null&&(o.width=t),n!=null&&(o.height=n),t=getSize$1(s,0,o),n=getSize$1(s,1,o),a.style.display="",this._width!==t||n!==this._height){a.style.width=t+"px",a.style.height=n+"px";for(var l in this._layers)this._layers.hasOwnProperty(l)&&this._layers[l].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(CANVAS_ZLEVEL).resize(t,n)}return this},r.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var n=new Layer$1("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var a=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var o=n.dom.width,s=n.dom.height;this.eachLayer(function(g){g.__builtin__?a.drawImage(g.dom,0,0,o,s):g.renderToCanvas&&(a.save(),g.renderToCanvas(a),a.restore())})}else for(var l={inHover:!1,viewWidth:this._width,viewHeight:this._height},u=this.storage.getDisplayList(!0),f=0,d=u.length;f<d;f++){var v=u[f];brush$1(a,v,l,f===d-1)}return n.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}(),CanvasPainter$1=CanvasPainter;function install$R(r){r.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var a=new Group$4,o=createSymbol$1("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);a.add(o),o.setStyle(n.lineStyle);var s=this.getData().getVisual("symbol"),l=this.getData().getVisual("symbolRotate"),u=s==="none"?"circle":s,f=n.itemHeight*.8,d=createSymbol$1(u,(n.itemWidth-f)/2,(n.itemHeight-f)/2,f,f,n.itemStyle.fill);a.add(d),d.setStyle(n.itemStyle);var v=n.iconRotate==="inherit"?l:n.iconRotate||0;return d.rotation=v*Math.PI/180,d.setOrigin([n.itemWidth/2,n.itemHeight/2]),u.indexOf("empty")>-1&&(d.style.stroke=d.style.fill,d.style.fill="#fff",d.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(SeriesModel$1),LineSeries=LineSeriesModel;function getDefaultLabel(r,t){var n=r.mapDimensionsAll("defaultedLabel"),a=n.length;if(a===1){var o=retrieveRawValue(r,t,n[0]);return o!=null?o+"":null}else if(a){for(var s=[],l=0;l<n.length;l++)s.push(retrieveRawValue(r,t,n[l]));return s.join(" ")}}function getDefaultInterpolatedLabel(r,t){var n=r.mapDimensionsAll("defaultedLabel");if(!isArray$1(t))return t+"";for(var a=[],o=0;o<n.length;o++){var s=r.getDimensionIndex(n[o]);s>=0&&a.push(t[s])}return a.join(" ")}var Symbol$1=function(r){__extends$1(t,r);function t(n,a,o,s){var l=r.call(this)||this;return l.updateData(n,a,o,s),l}return t.prototype._createSymbol=function(n,a,o,s,l){this.removeAll();var u=createSymbol$1(n,-1,-1,2,2,null,l);u.attr({z2:100,culling:!0,scaleX:s[0]/2,scaleY:s[1]/2}),u.drift=driftSymbol,this._symbolType=n,this.add(u)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){enterEmphasis(this.childAt(0))},t.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},t.prototype.setZ=function(n,a){var o=this.childAt(0);o.zlevel=n,o.z=a},t.prototype.setDraggable=function(n){var a=this.childAt(0);a.draggable=n,a.cursor=n?"move":a.cursor},t.prototype.updateData=function(n,a,o,s){this.silent=!1;var l=n.getItemVisual(a,"symbol")||"circle",u=n.hostModel,f=t.getSymbolSize(n,a),d=l!==this._symbolType,v=s&&s.disableAnimation;if(d){var g=n.getItemVisual(a,"symbolKeepAspect");this._createSymbol(l,n,a,f,g)}else{var S=this.childAt(0);S.silent=!1;var x={scaleX:f[0]/2,scaleY:f[1]/2};v?S.attr(x):updateProps$1(S,x,u,a),saveOldStyle(S)}if(this._updateCommon(n,a,f,o,s),d){var S=this.childAt(0);if(!v){var x={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:S.style.opacity}};S.scaleX=S.scaleY=0,S.style.opacity=0,initProps(S,x,u,a)}}v&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,a,o,s,l){var u=this.childAt(0),f=n.hostModel,d,v,g,S,x,_,C,T,w;if(s&&(d=s.emphasisItemStyle,v=s.blurItemStyle,g=s.selectItemStyle,S=s.focus,x=s.blurScope,C=s.labelStatesModels,T=s.hoverScale,w=s.cursorStyle,_=s.emphasisDisabled),!s||n.hasItemOption){var M=s&&s.itemModel?s.itemModel:n.getItemModel(a),D=M.getModel("emphasis");d=D.getModel("itemStyle").getItemStyle(),g=M.getModel(["select","itemStyle"]).getItemStyle(),v=M.getModel(["blur","itemStyle"]).getItemStyle(),S=D.get("focus"),x=D.get("blurScope"),_=D.get("disabled"),C=getLabelStatesModels(M),T=D.getShallow("scale"),w=M.getShallow("cursor")}var I=n.getItemVisual(a,"symbolRotate");u.attr("rotation",(I||0)*Math.PI/180||0);var R=normalizeSymbolOffset(n.getItemVisual(a,"symbolOffset"),o);R&&(u.x=R[0],u.y=R[1]),w&&u.attr("cursor",w);var $=n.getItemVisual(a,"style"),N=$.fill;if(u instanceof ZRImage$1){var F=u.style;u.useStyle(extend({image:F.image,x:F.x,y:F.y,width:F.width,height:F.height},$))}else u.__isEmptyBrush?u.useStyle(extend({},$)):u.useStyle($),u.style.decal=null,u.setColor(N,l&&l.symbolInnerColor),u.style.strokeNoScale=!0;var H=n.getItemVisual(a,"liftZ"),Y=this._z2;H!=null?Y==null&&(this._z2=u.z2,u.z2+=H):Y!=null&&(u.z2=Y,this._z2=null);var G=l&&l.useNameLabel;setLabelStyle(u,C,{labelFetcher:f,labelDataIndex:a,defaultText:K,inheritColor:N,defaultOpacity:$.opacity});function K(Q){return G?n.getName(Q):getDefaultLabel(n,Q)}this._sizeX=o[0]/2,this._sizeY=o[1]/2;var Z=u.ensureState("emphasis");if(Z.style=d,u.ensureState("select").style=g,u.ensureState("blur").style=v,T){var J=Math.max(isNumber(T)?T:1.1,3/this._sizeY);Z.scaleX=this._sizeX*J,Z.scaleY=this._sizeY*J}this.setSymbolScale(1),toggleHoverEmphasis(this,S,x,_)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,a,o){var s=this.childAt(0),l=getECData(this).dataIndex,u=o&&o.animation;if(this.silent=s.silent=!0,o&&o.fadeLabel){var f=s.getTextContent();f&&removeElement(f,{style:{opacity:0}},a,{dataIndex:l,removeOpt:u,cb:function(){s.removeTextContent()}})}else s.removeTextContent();removeElement(s,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:l,cb:n,removeOpt:u})},t.getSymbolSize=function(n,a){return normalizeSymbolSize(n.getItemVisual(a,"symbolSize"))},t}(Group$4);function driftSymbol(r,t){this.parent.drift(r,t)}var SymbolClz=Symbol$1;function symbolNeedsDraw$1(r,t,n,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(n))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&r.getItemVisual(n,"symbol")!=="none"}function normalizeUpdateOpt(r){return r!=null&&!isObject$4(r)&&(r={isIgnore:r}),r||{}}function makeSeriesScope$2(r){var t=r.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:getLabelStatesModels(t),cursorStyle:t.get("cursor")}}var SymbolDraw=function(){function r(t){this.group=new Group$4,this._SymbolCtor=t||SymbolClz}return r.prototype.updateData=function(t,n){this._progressiveEls=null,n=normalizeUpdateOpt(n);var a=this.group,o=t.hostModel,s=this._data,l=this._SymbolCtor,u=n.disableAnimation,f=makeSeriesScope$2(t),d={disableAnimation:u},v=n.getSymbolPoint||function(g){return t.getItemLayout(g)};s||a.removeAll(),t.diff(s).add(function(g){var S=v(g);if(symbolNeedsDraw$1(t,S,g,n)){var x=new l(t,g,f,d);x.setPosition(S),t.setItemGraphicEl(g,x),a.add(x)}}).update(function(g,S){var x=s.getItemGraphicEl(S),_=v(g);if(!symbolNeedsDraw$1(t,_,g,n)){a.remove(x);return}var C=t.getItemVisual(g,"symbol")||"circle",T=x&&x.getSymbolType&&x.getSymbolType();if(!x||T&&T!==C)a.remove(x),x=new l(t,g,f,d),x.setPosition(_);else{x.updateData(t,g,f,d);var w={x:_[0],y:_[1]};u?x.attr(w):updateProps$1(x,w,o)}a.add(x),t.setItemGraphicEl(g,x)}).remove(function(g){var S=s.getItemGraphicEl(g);S&&S.fadeOut(function(){a.remove(S)},o)}).execute(),this._getSymbolPoint=v,this._data=t},r.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(a,o){var s=t._getSymbolPoint(o);a.setPosition(s),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope$2(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,n,a){this._progressiveEls=[],a=normalizeUpdateOpt(a);function o(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var s=t.start;s<t.end;s++){var l=n.getItemLayout(s);if(symbolNeedsDraw$1(n,l,s,a)){var u=new this._SymbolCtor(n,s,this._seriesScope);u.traverse(o),u.setPosition(l),this.group.add(u),n.setItemGraphicEl(s,u),this._progressiveEls.push(u)}}},r.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var n=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(o){o.fadeOut(function(){n.remove(o)},a.hostModel)}):n.removeAll()},r}(),SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(r,t,n){var a=r.getBaseAxis(),o=r.getOtherAxis(a),s=getValueStart(o,n),l=a.dim,u=o.dim,f=t.mapDimension(u),d=t.mapDimension(l),v=u==="x"||u==="radius"?1:0,g=map$1(r.dimensions,function(_){return t.mapDimension(_)}),S=!1,x=t.getCalculationInfo("stackResultDimension");return isDimensionStacked(t,g[0])&&(S=!0,g[0]=x),isDimensionStacked(t,g[1])&&(S=!0,g[1]=x),{dataDimsForPoint:g,valueStart:s,valueAxisDim:u,baseAxisDim:l,stacked:!!S,valueDim:f,baseDim:d,baseDataOffset:v,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function getValueStart(r,t){var n=0,a=r.scale.getExtent();return t==="start"?n=a[0]:t==="end"?n=a[1]:isNumber(t)&&!isNaN(t)?n=t:a[0]>0?n=a[0]:a[1]<0&&(n=a[1]),n}function getStackedOnPoint(r,t,n,a){var o=NaN;r.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),a)),isNaN(o)&&(o=r.valueStart);var s=r.baseDataOffset,l=[];return l[s]=n.get(r.baseDim,a),l[1-s]=o,t.dataToPoint(l)}function diffData(r,t){var n=[];return t.diff(r).add(function(a){n.push({cmd:"+",idx:a})}).update(function(a,o){n.push({cmd:"=",idx:o,idx1:a})}).remove(function(a){n.push({cmd:"-",idx:a})}).execute(),n}function lineAnimationDiff(r,t,n,a,o,s,l,u){for(var f=diffData(r,t),d=[],v=[],g=[],S=[],x=[],_=[],C=[],T=prepareDataCoordInfo(o,t,l),w=r.getLayout("points")||[],M=t.getLayout("points")||[],D=0;D<f.length;D++){var I=f[D],R=!0,$=void 0,N=void 0;switch(I.cmd){case"=":$=I.idx*2,N=I.idx1*2;var F=w[$],H=w[$+1],Y=M[N],G=M[N+1];(isNaN(F)||isNaN(H))&&(F=Y,H=G),d.push(F,H),v.push(Y,G),g.push(n[$],n[$+1]),S.push(a[N],a[N+1]),C.push(t.getRawIndex(I.idx1));break;case"+":var K=I.idx,Z=T.dataDimsForPoint,J=o.dataToPoint([t.get(Z[0],K),t.get(Z[1],K)]);N=K*2,d.push(J[0],J[1]),v.push(M[N],M[N+1]);var Q=getStackedOnPoint(T,o,t,K);g.push(Q[0],Q[1]),S.push(a[N],a[N+1]),C.push(t.getRawIndex(K));break;case"-":R=!1}R&&(x.push(I),_.push(_.length))}_.sort(function(Qe,Le){return C[Qe]-C[Le]});for(var te=d.length,ie=createFloat32Array(te),ne=createFloat32Array(te),de=createFloat32Array(te),ve=createFloat32Array(te),pe=[],D=0;D<_.length;D++){var $e=_[D],Re=D*2,Ge=$e*2;ie[Re]=d[Ge],ie[Re+1]=d[Ge+1],ne[Re]=v[Ge],ne[Re+1]=v[Ge+1],de[Re]=g[Ge],de[Re+1]=g[Ge+1],ve[Re]=S[Ge],ve[Re+1]=S[Ge+1],pe[D]=x[$e]}return{current:ie,next:ne,stackedOnCurrent:de,stackedOnNext:ve,status:pe}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(r,t){return isNaN(r)||isNaN(t)}function drawSegment(r,t,n,a,o,s,l,u,f){for(var d,v,g,S,x,_,C=n,T=0;T<a;T++){var w=t[C*2],M=t[C*2+1];if(C>=o||C<0)break;if(isPointNull$1(w,M)){if(f){C+=s;continue}break}if(C===n)r[s>0?"moveTo":"lineTo"](w,M),g=w,S=M;else{var D=w-d,I=M-v;if(D*D+I*I<.5){C+=s;continue}if(l>0){for(var R=C+s,$=t[R*2],N=t[R*2+1];$===w&&N===M&&T<a;)T++,R+=s,C+=s,$=t[R*2],N=t[R*2+1],w=t[C*2],M=t[C*2+1],D=w-d,I=M-v;var F=T+1;if(f)for(;isPointNull$1($,N)&&F<a;)F++,R+=s,$=t[R*2],N=t[R*2+1];var H=.5,Y=0,G=0,K=void 0,Z=void 0;if(F>=a||isPointNull$1($,N))x=w,_=M;else{Y=$-d,G=N-v;var J=w-d,Q=$-w,te=M-v,ie=N-M,ne=void 0,de=void 0;if(u==="x"){ne=Math.abs(J),de=Math.abs(Q);var ve=Y>0?1:-1;x=w-ve*ne*l,_=M,K=w+ve*de*l,Z=M}else if(u==="y"){ne=Math.abs(te),de=Math.abs(ie);var pe=G>0?1:-1;x=w,_=M-pe*ne*l,K=w,Z=M+pe*de*l}else ne=Math.sqrt(J*J+te*te),de=Math.sqrt(Q*Q+ie*ie),H=de/(de+ne),x=w-Y*l*(1-H),_=M-G*l*(1-H),K=w+Y*l*H,Z=M+G*l*H,K=mathMin$5(K,mathMax$5($,w)),Z=mathMin$5(Z,mathMax$5(N,M)),K=mathMax$5(K,mathMin$5($,w)),Z=mathMax$5(Z,mathMin$5(N,M)),Y=K-w,G=Z-M,x=w-Y*ne/de,_=M-G*ne/de,x=mathMin$5(x,mathMax$5(d,w)),_=mathMin$5(_,mathMax$5(v,M)),x=mathMax$5(x,mathMin$5(d,w)),_=mathMax$5(_,mathMin$5(v,M)),Y=w-x,G=M-_,K=w+Y*de/ne,Z=M+G*de/ne}r.bezierCurveTo(g,S,x,_,w,M),g=K,S=Z}else r.lineTo(w,M)}d=w,v=M,C+=s}return T}var ECPolylineShape=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),ECPolyline=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ECPolylineShape},t.prototype.buildPath=function(n,a){var o=a.points,s=0,l=o.length/2;if(a.connectNulls){for(;l>0&&isPointNull$1(o[l*2-2],o[l*2-1]);l--);for(;s<l&&isPointNull$1(o[s*2],o[s*2+1]);s++);}for(;s<l;)s+=drawSegment(n,o,s,l,l,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(n,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o=this.path,s=o.data,l=PathProxy$1.CMD,u,f,d=a==="x",v=[],g=0;g<s.length;){var S=s[g++],x=void 0,_=void 0,C=void 0,T=void 0,w=void 0,M=void 0,D=void 0;switch(S){case l.M:u=s[g++],f=s[g++];break;case l.L:if(x=s[g++],_=s[g++],D=d?(n-u)/(x-u):(n-f)/(_-f),D<=1&&D>=0){var I=d?(_-f)*D+f:(x-u)*D+u;return d?[n,I]:[I,n]}u=x,f=_;break;case l.C:x=s[g++],_=s[g++],C=s[g++],T=s[g++],w=s[g++],M=s[g++];var R=d?cubicRootAt(u,x,C,w,n,v):cubicRootAt(f,_,T,M,n,v);if(R>0)for(var $=0;$<R;$++){var N=v[$];if(N<=1&&N>=0){var I=d?cubicAt(f,_,T,M,N):cubicAt(u,x,C,w,N);return d?[n,I]:[I,n]}}u=w,f=M;break}}},t}(Path$1),ECPolygonShape=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(ECPolylineShape),ECPolygon=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new ECPolygonShape},t.prototype.buildPath=function(n,a){var o=a.points,s=a.stackedOnPoints,l=0,u=o.length/2,f=a.smoothMonotone;if(a.connectNulls){for(;u>0&&isPointNull$1(o[u*2-2],o[u*2-1]);u--);for(;l<u&&isPointNull$1(o[l*2],o[l*2+1]);l++);}for(;l<u;){var d=drawSegment(n,o,l,u,u,1,a.smooth,f,a.connectNulls);drawSegment(n,s,l+d-1,d,u,-1,a.stackedOnSmooth,f,a.connectNulls),l+=d+1,n.closePath()}},t}(Path$1);function createGridClipPath(r,t,n,a,o){var s=r.getArea(),l=s.x,u=s.y,f=s.width,d=s.height,v=n.get(["lineStyle","width"])||2;l-=v/2,u-=v/2,f+=v,d+=v,l=Math.floor(l),f=Math.round(f);var g=new Rect$3({shape:{x:l,y:u,width:f,height:d}});if(t){var S=r.getBaseAxis(),x=S.isHorizontal(),_=S.inverse;x?(_&&(g.shape.x+=f),g.shape.width=0):(_||(g.shape.y+=d),g.shape.height=0);var C=isFunction(o)?function(T){o(T,g)}:null;initProps(g,{shape:{width:f,height:d,x:l,y:u}},n,null,a,C)}return g}function createPolarClipPath(r,t,n){var a=r.getArea(),o=round$3(a.r0,1),s=round$3(a.r,1),l=new Sector$1({shape:{cx:round$3(r.cx,1),cy:round$3(r.cy,1),r0:o,r:s,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var u=r.getBaseAxis().dim==="angle";u?l.shape.endAngle=a.startAngle:l.shape.r=o,initProps(l,{shape:{endAngle:a.endAngle,r:s}},n)}return l}function createClipPath(r,t,n,a,o){if(r){if(r.type==="polar")return createPolarClipPath(r,t,n);if(r.type==="cartesian2d")return createGridClipPath(r,t,n,a,o)}else return null;return null}function isCoordinateSystemType(r,t){return r.type===t}function isPointsSame(r,t){if(r.length===t.length){for(var n=0;n<r.length;n++)if(r[n]!==t[n])return;return!0}}function bboxFromPoints(r){for(var t=1/0,n=1/0,a=-1/0,o=-1/0,s=0;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||(t=Math.min(l,t),a=Math.max(l,a)),isNaN(u)||(n=Math.min(u,n),o=Math.max(u,o))}return[[t,n],[a,o]]}function getBoundingDiff(r,t){var n=bboxFromPoints(r),a=n[0],o=n[1],s=bboxFromPoints(t),l=s[0],u=s[1];return Math.max(Math.abs(a[0]-l[0]),Math.abs(a[1]-l[1]),Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]))}function getSmooth(r){return isNumber(r)?r:r?.5:0}function getStackedOnPoints(r,t,n){if(!n.valueDim)return[];for(var a=t.count(),o=createFloat32Array(a*2),s=0;s<a;s++){var l=getStackedOnPoint(n,r,t,s);o[s*2]=l[0],o[s*2+1]=l[1]}return o}function turnPointsIntoStep(r,t,n,a){var o=t.getBaseAxis(),s=o.dim==="x"||o.dim==="radius"?0:1,l=[],u=0,f=[],d=[],v=[],g=[];if(a){for(u=0;u<r.length;u+=2)!isNaN(r[u])&&!isNaN(r[u+1])&&g.push(r[u],r[u+1]);r=g}for(u=0;u<r.length-2;u+=2)switch(v[0]=r[u+2],v[1]=r[u+3],d[0]=r[u],d[1]=r[u+1],l.push(d[0],d[1]),n){case"end":f[s]=v[s],f[1-s]=d[1-s],l.push(f[0],f[1]);break;case"middle":var S=(d[s]+v[s])/2,x=[];f[s]=x[s]=S,f[1-s]=d[1-s],x[1-s]=v[1-s],l.push(f[0],f[1]),l.push(x[0],x[1]);break;default:f[s]=d[s],f[1-s]=v[1-s],l.push(f[0],f[1])}return l.push(r[u++],r[u++]),l}function clipColorStops(r,t){var n=[],a=r.length,o,s;function l(v,g,S){var x=v.coord,_=(S-x)/(g.coord-x),C=lerp(_,[v.color,g.color]);return{coord:S,color:C}}for(var u=0;u<a;u++){var f=r[u],d=f.coord;if(d<0)o=f;else if(d>t){s?n.push(l(s,f,t)):o&&n.push(l(o,f,0),l(o,f,t));break}else o&&(n.push(l(o,f,0)),o=null),n.push(f),s=f}return n}function getVisualGradient(r,t,n){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var o,s,l=a.length-1;l>=0;l--){var u=r.getDimensionInfo(a[l].dimension);if(o=u&&u.coordDim,o==="x"||o==="y"){s=a[l];break}}if(!!s){var f=t.getAxis(o),d=map$1(s.stops,function(D){return{coord:f.toGlobalCoord(f.dataToCoord(D.value)),color:D.color}}),v=d.length,g=s.outerColors.slice();v&&d[0].coord>d[v-1].coord&&(d.reverse(),g.reverse());var S=clipColorStops(d,o==="x"?n.getWidth():n.getHeight()),x=S.length;if(!x&&v)return d[0].coord<0?g[1]?g[1]:d[v-1].color:g[0]?g[0]:d[0].color;var _=10,C=S[0].coord-_,T=S[x-1].coord+_,w=T-C;if(w<.001)return"transparent";each$f(S,function(D){D.offset=(D.coord-C)/w}),S.push({offset:x?S[x-1].offset:.5,color:g[1]||"transparent"}),S.unshift({offset:x?S[0].offset:.5,color:g[0]||"transparent"});var M=new LinearGradient$1(0,0,0,0,S,!0);return M[o]=C,M[o+"2"]=T,M}}}function getIsIgnoreFunc(r,t,n){var a=r.get("showAllSymbol"),o=a==="auto";if(!(a&&!o)){var s=n.getAxesByScale("ordinal")[0];if(!!s&&!(o&&canShowAllSymbolForCategory(s,t))){var l=t.mapDimension(s.dim),u={};return each$f(s.getViewLabels(),function(f){var d=s.scale.getRawOrdinalNumber(f.tickValue);u[d]=1}),function(f){return!u.hasOwnProperty(t.get(l,f))}}}}function canShowAllSymbolForCategory(r,t){var n=r.getExtent(),a=Math.abs(n[1]-n[0])/r.scale.count();isNaN(a)&&(a=0);for(var o=t.count(),s=Math.max(1,Math.round(o/5)),l=0;l<o;l+=s)if(SymbolClz.getSymbolSize(t,l)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function isPointNull(r,t){return isNaN(r)||isNaN(t)}function getLastIndexNotNull(r){for(var t=r.length/2;t>0&&isPointNull(r[t*2-2],r[t*2-1]);t--);return t-1}function getPointAtIndex(r,t){return[r[t*2],r[t*2+1]]}function getIndexRange(r,t,n){for(var a=r.length/2,o=n==="x"?0:1,s,l,u=0,f=-1,d=0;d<a;d++)if(l=r[d*2+o],!(isNaN(l)||isNaN(r[d*2+1-o]))){if(d===0){s=l;continue}if(s<=t&&l>=t||s>=t&&l<=t){f=d;break}u=d,s=l}return{range:[u,f],t:(t-s)/(l-s)}}function anyStateShowEndLabel(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<SPECIAL_STATES.length;t++)if(r.get([SPECIAL_STATES[t],"endLabel","show"]))return!0;return!1}function createLineClipPath(r,t,n,a){if(isCoordinateSystemType(t,"cartesian2d")){var o=a.getModel("endLabel"),s=o.get("valueAnimation"),l=a.getData(),u={lastFrameIndex:0},f=anyStateShowEndLabel(a)?function(x,_){r._endLabelOnDuring(x,_,l,u,s,o,t)}:null,d=t.getBaseAxis().isHorizontal(),v=createGridClipPath(t,n,a,function(){var x=r._endLabel;x&&n&&u.originalX!=null&&x.attr({x:u.originalX,y:u.originalY})},f);if(!a.get("clip",!0)){var g=v.shape,S=Math.max(g.width,g.height);d?(g.y-=S,g.height+=S*2):(g.x-=S,g.width+=S*2)}return f&&f(1,v),v}else return createPolarClipPath(t,n,a)}function getEndLabelStateSpecified(r,t){var n=t.getBaseAxis(),a=n.isHorizontal(),o=n.inverse,s=a?o?"right":"left":"center",l=a?"middle":o?"top":"bottom";return{normal:{align:r.get("align")||s,verticalAlign:r.get("verticalAlign")||l}}}var LineView=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var n=new Group$4,a=new SymbolDraw$1;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=n},t.prototype.render=function(n,a,o){var s=this,l=n.coordinateSystem,u=this.group,f=n.getData(),d=n.getModel("lineStyle"),v=n.getModel("areaStyle"),g=f.getLayout("points")||[],S=l.type==="polar",x=this._coordSys,_=this._symbolDraw,C=this._polyline,T=this._polygon,w=this._lineGroup,M=n.get("animation"),D=!v.isEmpty(),I=v.get("origin"),R=prepareDataCoordInfo(l,f,I),$=D&&getStackedOnPoints(l,f,R),N=n.get("showSymbol"),F=n.get("connectNulls"),H=N&&!S&&getIsIgnoreFunc(n,f,l),Y=this._data;Y&&Y.eachItemGraphicEl(function(Le,We){Le.__temp&&(u.remove(Le),Y.setItemGraphicEl(We,null))}),N||_.remove(),u.add(w);var G=S?!1:n.get("step"),K;l&&l.getArea&&n.get("clip",!0)&&(K=l.getArea(),K.width!=null?(K.x-=.1,K.y-=.1,K.width+=.2,K.height+=.2):K.r0&&(K.r0-=.5,K.r+=.5)),this._clipShapeForSymbol=K;var Z=getVisualGradient(f,l,o)||f.getVisual("style")[f.getVisual("drawType")];if(!(C&&x.type===l.type&&G===this._step))N&&_.updateData(f,{isIgnore:H,clipShape:K,disableAnimation:!0,getSymbolPoint:function(Le){return[g[Le*2],g[Le*2+1]]}}),M&&this._initSymbolLabelAnimation(f,l,K),G&&(g=turnPointsIntoStep(g,l,G,F),$&&($=turnPointsIntoStep($,l,G,F))),C=this._newPolyline(g),D&&(T=this._newPolygon(g,$)),S||this._initOrUpdateEndLabel(n,l,convertToColorString(Z)),w.setClipPath(createLineClipPath(this,l,!0,n));else{D&&!T?T=this._newPolygon(g,$):T&&!D&&(w.remove(T),T=this._polygon=null),S||this._initOrUpdateEndLabel(n,l,convertToColorString(Z));var J=w.getClipPath();if(J){var Q=createLineClipPath(this,l,!1,n);initProps(J,{shape:Q.shape},n)}else w.setClipPath(createLineClipPath(this,l,!0,n));N&&_.updateData(f,{isIgnore:H,clipShape:K,disableAnimation:!0,getSymbolPoint:function(Le){return[g[Le*2],g[Le*2+1]]}}),(!isPointsSame(this._stackedOnPoints,$)||!isPointsSame(this._points,g))&&(M?this._doUpdateAnimation(f,$,l,o,G,I,F):(G&&(g=turnPointsIntoStep(g,l,G,F),$&&($=turnPointsIntoStep($,l,G,F))),C.setShape({points:g}),T&&T.setShape({points:g,stackedOnPoints:$})))}var te=n.getModel("emphasis"),ie=te.get("focus"),ne=te.get("blurScope"),de=te.get("disabled");if(C.useStyle(defaults(d.getLineStyle(),{fill:"none",stroke:Z,lineJoin:"bevel"})),setStatesStylesFromModel(C,n,"lineStyle"),C.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var ve=C.getState("emphasis").style;ve.lineWidth=+C.style.lineWidth+1}getECData(C).seriesIndex=n.seriesIndex,toggleHoverEmphasis(C,ie,ne,de);var pe=getSmooth(n.get("smooth")),$e=n.get("smoothMonotone");if(C.setShape({smooth:pe,smoothMonotone:$e,connectNulls:F}),T){var Re=f.getCalculationInfo("stackedOnSeries"),Ge=0;T.useStyle(defaults(v.getAreaStyle(),{fill:Z,opacity:.7,lineJoin:"bevel",decal:f.getVisual("style").decal})),Re&&(Ge=getSmooth(Re.get("smooth"))),T.setShape({smooth:pe,stackedOnSmooth:Ge,smoothMonotone:$e,connectNulls:F}),setStatesStylesFromModel(T,n,"areaStyle"),getECData(T).seriesIndex=n.seriesIndex,toggleHoverEmphasis(T,ie,ne,de)}var Qe=function(Le){s._changePolyState(Le)};f.eachItemGraphicEl(function(Le){Le&&(Le.onHoverStateChange=Qe)}),this._polyline.onHoverStateChange=Qe,this._data=f,this._coordSys=l,this._stackedOnPoints=$,this._points=g,this._step=G,this._valueOrigin=I,n.get("triggerLineEvent")&&(this.packEventData(n,C),T&&this.packEventData(n,T))},t.prototype.packEventData=function(n,a){getECData(a).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,a,o,s){var l=n.getData(),u=queryDataIndex(l,s);if(this._changePolyState("emphasis"),!(u instanceof Array)&&u!=null&&u>=0){var f=l.getLayout("points"),d=l.getItemGraphicEl(u);if(!d){var v=f[u*2],g=f[u*2+1];if(isNaN(v)||isNaN(g)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,g))return;var S=n.get("zlevel"),x=n.get("z");d=new SymbolClz(l,u),d.x=v,d.y=g,d.setZ(S,x);var _=d.getSymbolPath().getTextContent();_&&(_.zlevel=S,_.z=x,_.z2=this._polyline.z2+1),d.__temp=!0,l.setItemGraphicEl(u,d),d.stopSymbolAnimation(!0),this.group.add(d)}d.highlight()}else ChartView$1.prototype.highlight.call(this,n,a,o,s)},t.prototype.downplay=function(n,a,o,s){var l=n.getData(),u=queryDataIndex(l,s);if(this._changePolyState("normal"),u!=null&&u>=0){var f=l.getItemGraphicEl(u);f&&(f.__temp?(l.setItemGraphicEl(u,null),this.group.remove(f)):f.downplay())}else ChartView$1.prototype.downplay.call(this,n,a,o,s)},t.prototype._changePolyState=function(n){var a=this._polygon;setStatesFlag(this._polyline,n),a&&setStatesFlag(a,n)},t.prototype._newPolyline=function(n){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new ECPolyline({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(n,a){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new ECPolygon({shape:{points:n,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},t.prototype._initSymbolLabelAnimation=function(n,a,o){var s,l,u=a.getBaseAxis(),f=u.inverse;a.type==="cartesian2d"?(s=u.isHorizontal(),l=!1):a.type==="polar"&&(s=u.dim==="angle",l=!0);var d=n.hostModel,v=d.get("animationDuration");isFunction(v)&&(v=v(null));var g=d.get("animationDelay")||0,S=isFunction(g)?g(null):g;n.eachItemGraphicEl(function(x,_){var C=x;if(C){var T=[x.x,x.y],w=void 0,M=void 0,D=void 0;if(o)if(l){var I=o,R=a.pointToCoord(T);s?(w=I.startAngle,M=I.endAngle,D=-R[1]/180*Math.PI):(w=I.r0,M=I.r,D=R[0])}else{var $=o;s?(w=$.x,M=$.x+$.width,D=x.x):(w=$.y+$.height,M=$.y,D=x.y)}var N=M===w?0:(D-w)/(M-w);f&&(N=1-N);var F=isFunction(g)?g(_):v*N+S,H=C.getSymbolPath(),Y=H.getTextContent();C.attr({scaleX:0,scaleY:0}),C.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:F}),Y&&Y.animateFrom({style:{opacity:0}},{duration:300,delay:F}),H.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,a,o){var s=n.getModel("endLabel");if(anyStateShowEndLabel(n)){var l=n.getData(),u=this._polyline,f=l.getLayout("points");if(!f){u.removeTextContent(),this._endLabel=null;return}var d=this._endLabel;d||(d=this._endLabel=new ZRText$1({z2:200}),d.ignoreClip=!0,u.setTextContent(this._endLabel),u.disableLabelAnimation=!0);var v=getLastIndexNotNull(f);v>=0&&(setLabelStyle(u,getLabelStatesModels(n,"endLabel"),{inheritColor:o,labelFetcher:n,labelDataIndex:v,defaultText:function(g,S,x){return x!=null?getDefaultInterpolatedLabel(l,x):getDefaultLabel(l,g)},enableTextSetter:!0},getEndLabelStateSpecified(s,a)),u.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,a,o,s,l,u,f){var d=this._endLabel,v=this._polyline;if(d){n<1&&s.originalX==null&&(s.originalX=d.x,s.originalY=d.y);var g=o.getLayout("points"),S=o.hostModel,x=S.get("connectNulls"),_=u.get("precision"),C=u.get("distance")||0,T=f.getBaseAxis(),w=T.isHorizontal(),M=T.inverse,D=a.shape,I=M?w?D.x:D.y+D.height:w?D.x+D.width:D.y,R=(w?C:0)*(M?-1:1),$=(w?0:-C)*(M?-1:1),N=w?"x":"y",F=getIndexRange(g,I,N),H=F.range,Y=H[1]-H[0],G=void 0;if(Y>=1){if(Y>1&&!x){var K=getPointAtIndex(g,H[0]);d.attr({x:K[0]+R,y:K[1]+$}),l&&(G=S.getRawValue(H[0]))}else{var K=v.getPointOn(I,N);K&&d.attr({x:K[0]+R,y:K[1]+$});var Z=S.getRawValue(H[0]),J=S.getRawValue(H[1]);l&&(G=interpolateRawValues(o,_,Z,J,F.t))}s.lastFrameIndex=H[0]}else{var Q=n===1||s.lastFrameIndex>0?H[0]:0,K=getPointAtIndex(g,Q);l&&(G=S.getRawValue(Q)),d.attr({x:K[0]+R,y:K[1]+$})}l&&labelInner(d).setLabelText(G)}},t.prototype._doUpdateAnimation=function(n,a,o,s,l,u,f){var d=this._polyline,v=this._polygon,g=n.hostModel,S=lineAnimationDiff(this._data,n,this._stackedOnPoints,a,this._coordSys,o,this._valueOrigin),x=S.current,_=S.stackedOnCurrent,C=S.next,T=S.stackedOnNext;if(l&&(x=turnPointsIntoStep(S.current,o,l,f),_=turnPointsIntoStep(S.stackedOnCurrent,o,l,f),C=turnPointsIntoStep(S.next,o,l,f),T=turnPointsIntoStep(S.stackedOnNext,o,l,f)),getBoundingDiff(x,C)>3e3||v&&getBoundingDiff(_,T)>3e3){d.stopAnimation(),d.setShape({points:C}),v&&(v.stopAnimation(),v.setShape({points:C,stackedOnPoints:T}));return}d.shape.__points=S.current,d.shape.points=x;var w={shape:{points:C}};S.current!==x&&(w.shape.__points=S.next),d.stopAnimation(),updateProps$1(d,w,g),v&&(v.setShape({points:x,stackedOnPoints:_}),v.stopAnimation(),updateProps$1(v,{shape:{stackedOnPoints:T}},g),d.shape.points!==v.shape.points&&(v.shape.points=d.shape.points));for(var M=[],D=S.status,I=0;I<D.length;I++){var R=D[I].cmd;if(R==="="){var $=n.getItemGraphicEl(D[I].idx1);$&&M.push({el:$,ptIdx:I})}}d.animators&&d.animators.length&&d.animators[0].during(function(){v&&v.dirtyShape();for(var N=d.shape.__points,F=0;F<M.length;F++){var H=M[F].el,Y=M[F].ptIdx*2;H.x=N[Y],H.y=N[Y+1],H.markRedraw()}})},t.prototype.remove=function(n){var a=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(s,l){s.__temp&&(a.remove(s),o.setItemGraphicEl(l,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ChartView$1),LineView$1=LineView;function pointsLayout(r,t){return{seriesType:r,plan:createRenderPlanner(),reset:function(n){var a=n.getData(),o=n.coordinateSystem,s=n.pipelineContext,l=t||s.large;if(!!o){var u=map$1(o.dimensions,function(x){return a.mapDimension(x)}).slice(0,2),f=u.length,d=a.getCalculationInfo("stackResultDimension");isDimensionStacked(a,u[0])&&(u[0]=d),isDimensionStacked(a,u[1])&&(u[1]=d);var v=a.getStore(),g=a.getDimensionIndex(u[0]),S=a.getDimensionIndex(u[1]);return f&&{progress:function(x,_){for(var C=x.end-x.start,T=l&&createFloat32Array(C*f),w=[],M=[],D=x.start,I=0;D<x.end;D++){var R=void 0;if(f===1){var $=v.get(g,D);R=o.dataToPoint($,null,M)}else w[0]=v.get(g,D),w[1]=v.get(S,D),R=o.dataToPoint(w,null,M);l?(T[I++]=R[0],T[I++]=R[1]):_.setItemLayout(D,R.slice())}l&&_.setLayout("points",T)}}}}}}var samplers={average:function(r){for(var t=0,n=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],n++);return n===0?NaN:t/n},sum:function(r){for(var t=0,n=0;n<r.length;n++)t+=r[n]||0;return t},max:function(r){for(var t=-1/0,n=0;n<r.length;n++)r[n]>t&&(t=r[n]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,n=0;n<r.length;n++)r[n]<t&&(t=r[n]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},indexSampler=function(r){return Math.round(r.length/2)};function dataSample(r){return{seriesType:r,reset:function(t,n,a){var o=t.getData(),s=t.get("sampling"),l=t.coordinateSystem,u=o.count();if(u>10&&l.type==="cartesian2d"&&s){var f=l.getBaseAxis(),d=l.getOtherAxis(f),v=f.getExtent(),g=a.getDevicePixelRatio(),S=Math.abs(v[1]-v[0])*(g||1),x=Math.round(u/S);if(isFinite(x)&&x>1){s==="lttb"&&t.setData(o.lttbDownSample(o.mapDimension(d.dim),1/x));var _=void 0;isString(s)?_=samplers[s]:isFunction(s)&&(_=s),_&&t.setData(o.downSample(o.mapDimension(d.dim),1/x,_,indexSampler))}}}}}function install$Q(r){r.registerChartView(LineView$1),r.registerSeriesModel(LineSeries),r.registerLayout(pointsLayout("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,a){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.dataToPoint(a.clampData(n)),s=this.getData(),l=s.getLayout("offset"),u=s.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;return o[f]+=l+u/2,o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);var BaseBarSeriesModel$1=BaseBarSeriesModel,BarSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>n&&(n=a),n},t.prototype.brushSelector=function(n,a,o){return o.rect(a.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(BaseBarSeriesModel$1),BarSeries=BarSeriesModel,SausageShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),SausagePath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new SausageShape},t.prototype.buildPath=function(n,a){var o=a.cx,s=a.cy,l=Math.max(a.r0||0,0),u=Math.max(a.r,0),f=(u-l)*.5,d=l+f,v=a.startAngle,g=a.endAngle,S=a.clockwise,x=Math.PI*2,_=S?g-v<x:v-g<x;_||(v=g-(S?x:-x));var C=Math.cos(v),T=Math.sin(v),w=Math.cos(g),M=Math.sin(g);_?(n.moveTo(C*l+o,T*l+s),n.arc(C*d+o,T*d+s,f,-Math.PI+v,v,!S)):n.moveTo(C*u+o,T*u+s),n.arc(o,s,u,v,g,!S),n.arc(w*d+o,M*d+s,f,g-Math.PI*2,g-Math.PI,!S),l!==0&&n.arc(o,s,l,g,v,S)},t}(Path$1),Sausage=SausagePath;function createSectorCalculateTextPosition(r,t){t=t||{};var n=t.isRoundCap;return function(a,o,s){var l=o.position;if(!l||l instanceof Array)return calculateTextPosition(a,o,s);var u=r(l),f=o.distance!=null?o.distance:5,d=this.shape,v=d.cx,g=d.cy,S=d.r,x=d.r0,_=(S+x)/2,C=d.startAngle,T=d.endAngle,w=(C+T)/2,M=n?Math.abs(S-x)/2:0,D=Math.cos,I=Math.sin,R=v+S*D(C),$=g+S*I(C),N="left",F="top";switch(u){case"startArc":R=v+(x-f)*D(w),$=g+(x-f)*I(w),N="center",F="top";break;case"insideStartArc":R=v+(x+f)*D(w),$=g+(x+f)*I(w),N="center",F="bottom";break;case"startAngle":R=v+_*D(C)+adjustAngleDistanceX(C,f+M,!1),$=g+_*I(C)+adjustAngleDistanceY(C,f+M,!1),N="right",F="middle";break;case"insideStartAngle":R=v+_*D(C)+adjustAngleDistanceX(C,-f+M,!1),$=g+_*I(C)+adjustAngleDistanceY(C,-f+M,!1),N="left",F="middle";break;case"middle":R=v+_*D(w),$=g+_*I(w),N="center",F="middle";break;case"endArc":R=v+(S+f)*D(w),$=g+(S+f)*I(w),N="center",F="bottom";break;case"insideEndArc":R=v+(S-f)*D(w),$=g+(S-f)*I(w),N="center",F="top";break;case"endAngle":R=v+_*D(T)+adjustAngleDistanceX(T,f+M,!0),$=g+_*I(T)+adjustAngleDistanceY(T,f+M,!0),N="left",F="middle";break;case"insideEndAngle":R=v+_*D(T)+adjustAngleDistanceX(T,-f+M,!0),$=g+_*I(T)+adjustAngleDistanceY(T,-f+M,!0),N="right",F="middle";break;default:return calculateTextPosition(a,o,s)}return a=a||{},a.x=R,a.y=$,a.align=N,a.verticalAlign=F,a}}function setSectorTextRotation(r,t,n,a){if(isNumber(a)){r.setTextConfig({rotation:a});return}else if(isArray$1(t)){r.setTextConfig({rotation:0});return}var o=r.shape,s=o.clockwise?o.startAngle:o.endAngle,l=o.clockwise?o.endAngle:o.startAngle,u=(s+l)/2,f,d=n(t);switch(d){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":f=u;break;case"startAngle":case"insideStartAngle":f=s;break;case"endAngle":case"insideEndAngle":f=l;break;default:r.setTextConfig({rotation:0});return}var v=Math.PI*1.5-f;d==="middle"&&v>Math.PI/2&&v<Math.PI*1.5&&(v-=Math.PI),r.setTextConfig({rotation:v})}function adjustAngleDistanceX(r,t,n){return t*Math.sin(r)*(n?-1:1)}function adjustAngleDistanceY(r,t,n){return t*Math.cos(r)*(n?1:-1)}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(r,t){var n=r.getArea&&r.getArea();if(isCoordinateSystemType(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var o=t.getLayout("bandWidth");a.isHorizontal()?(n.x-=o,n.width+=o*2):(n.y-=o,n.height+=o*2)}}return n}var BarView=function(r){__extends$1(t,r);function t(){var n=r.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,a,o,s){this._model=n,this._removeOnRenderedListener(o),this._updateDrawMode(n);var l=n.get("coordinateSystem");(l==="cartesian2d"||l==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,a,o):this._renderNormal(n,a,o,s))},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,a){this._progressiveEls=[],this._incrementalRenderLarge(n,a)},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var a=n.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(n,a,o,s){var l=this.group,u=n.getData(),f=this._data,d=n.coordinateSystem,v=d.getBaseAxis(),g;d.type==="cartesian2d"?g=v.isHorizontal():d.type==="polar"&&(g=v.dim==="angle");var S=n.isAnimationEnabled()?n:null,x=shouldRealtimeSort(n,d);x&&this._enableRealtimeSort(x,u,o);var _=n.get("clip",!0)||x,C=getClipArea(d,u);l.removeClipPath();var T=n.get("roundCap",!0),w=n.get("showBackground",!0),M=n.getModel("backgroundStyle"),D=M.get("borderRadius")||0,I=[],R=this._backgroundEls,$=s&&s.isInitSort,N=s&&s.type==="changeAxisOrder";function F(G){var K=getLayout[d.type](u,G),Z=createBackgroundEl(d,g,K);return Z.useStyle(M.getItemStyle()),d.type==="cartesian2d"&&Z.setShape("r",D),I[G]=Z,Z}u.diff(f).add(function(G){var K=u.getItemModel(G),Z=getLayout[d.type](u,G,K);if(w&&F(G),!(!u.hasValue(G)||!isValidLayout[d.type](Z))){var J=!1;_&&(J=clip[d.type](C,Z));var Q=elementCreator[d.type](n,u,G,Z,g,S,v.model,!1,T);x&&(Q.forceLabelAnimation=!0),updateStyle(Q,u,G,K,Z,n,g,d.type==="polar"),$?Q.attr({shape:Z}):x?updateRealtimeAnimation(x,S,Q,Z,G,g,!1,!1):initProps(Q,{shape:Z},n,G),u.setItemGraphicEl(G,Q),l.add(Q),Q.ignore=J}}).update(function(G,K){var Z=u.getItemModel(G),J=getLayout[d.type](u,G,Z);if(w){var Q=void 0;R.length===0?Q=F(K):(Q=R[K],Q.useStyle(M.getItemStyle()),d.type==="cartesian2d"&&Q.setShape("r",D),I[G]=Q);var te=getLayout[d.type](u,G),ie=createBackgroundShape(g,te,d);updateProps$1(Q,{shape:ie},S,G)}var ne=f.getItemGraphicEl(K);if(!u.hasValue(G)||!isValidLayout[d.type](J)){l.remove(ne);return}var de=!1;if(_&&(de=clip[d.type](C,J),de&&l.remove(ne)),ne?saveOldStyle(ne):ne=elementCreator[d.type](n,u,G,J,g,S,v.model,!!ne,T),x&&(ne.forceLabelAnimation=!0),N){var ve=ne.getTextContent();if(ve){var pe=labelInner(ve);pe.prevValue!=null&&(pe.prevValue=pe.value)}}else updateStyle(ne,u,G,Z,J,n,g,d.type==="polar");$?ne.attr({shape:J}):x?updateRealtimeAnimation(x,S,ne,J,G,g,!0,N):updateProps$1(ne,{shape:J},n,G,null),u.setItemGraphicEl(G,ne),ne.ignore=de,l.add(ne)}).remove(function(G){var K=f.getItemGraphicEl(G);K&&removeElementWithFadeOut(K,n,G)}).execute();var H=this._backgroundGroup||(this._backgroundGroup=new Group$4);H.removeAll();for(var Y=0;Y<I.length;++Y)H.add(I[Y]);l.add(H),this._backgroundEls=I,this._data=u},t.prototype._renderLarge=function(n,a,o){this._clear(),createLarge$1(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,a){this._removeBackground(),createLarge$1(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var a=n.get("clip",!0)&&createClipPath(n.coordinateSystem,!1,n),o=this.group;a?o.setClipPath(a):o.removeClipPath()},t.prototype._enableRealtimeSort=function(n,a,o){var s=this;if(!!a.count()){var l=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,n,o),this._isFirstFrame=!1;else{var u=function(f){var d=a.getItemGraphicEl(f),v=d&&d.shape;return v&&Math.abs(l.isHorizontal()?v.height:v.width)||0};this._onRendered=function(){s._updateSortWithinSameData(a,u,l,o)},o.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,a,o){var s=[];return n.each(n.mapDimension(a.dim),function(l,u){var f=o(u);f=f==null?NaN:f,s.push({dataIndex:u,mappedValue:f,ordinalNumber:l})}),s.sort(function(l,u){return u.mappedValue-l.mappedValue}),{ordinalNumbers:map$1(s,function(l){return l.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,a,o){for(var s=o.scale,l=n.mapDimension(o.dim),u=Number.MAX_VALUE,f=0,d=s.getOrdinalMeta().categories.length;f<d;++f){var v=n.rawIndexOf(l,s.getRawOrdinalNumber(f)),g=v<0?Number.MIN_VALUE:a(n.indexOfRawIndex(v));if(g>u)return!0;u=g}return!1},t.prototype._isOrderDifferentInView=function(n,a){for(var o=a.scale,s=o.getExtent(),l=Math.max(0,s[0]),u=Math.min(s[1],o.getOrdinalMeta().categories.length-1);l<=u;++l)if(n.ordinalNumbers[l]!==o.getRawOrdinalNumber(l))return!0},t.prototype._updateSortWithinSameData=function(n,a,o,s){if(!!this._isOrderChangedWithinSameData(n,a,o)){var l=this._dataSort(n,o,a);this._isOrderDifferentInView(l,o)&&(this._removeOnRenderedListener(s),s.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",axisId:o.index,sortInfo:l}))}},t.prototype._dispatchInitSort=function(n,a,o){var s=a.baseAxis,l=this._dataSort(n,s,function(u){return n.get(n.mapDimension(a.otherAxis.dim),u)});o.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",isInitSort:!0,axisId:s.index,sortInfo:l})},t.prototype.remove=function(n,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(n,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var a=this.group,o=this._data;n&&n.isAnimationEnabled()&&o&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],o.eachItemGraphicEl(function(s){removeElementWithFadeOut(s,n,getECData(s).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ChartView$1),clip={cartesian2d:function(r,t){var n=t.width<0?-1:1,a=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var o=r.x+r.width,s=r.y+r.height,l=mathMax$4(t.x,r.x),u=mathMin$4(t.x+t.width,o),f=mathMax$4(t.y,r.y),d=mathMin$4(t.y+t.height,s),v=u<l,g=d<f;return t.x=v&&l>o?u:l,t.y=g&&f>s?d:f,t.width=v?0:u-l,t.height=g?0:d-f,n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),v||g},polar:function(r,t){var n=t.r0<=t.r?1:-1;if(n<0){var a=t.r;t.r=t.r0,t.r0=a}var o=mathMin$4(t.r,r.r),s=mathMax$4(t.r0,r.r0);t.r=o,t.r0=s;var l=o-s<0;if(n<0){var a=t.r;t.r=t.r0,t.r0=a}return l}},elementCreator={cartesian2d:function(r,t,n,a,o,s,l,u,f){var d=new Rect$3({shape:extend({},a),z2:1});if(d.__dataIndex=n,d.name="item",s){var v=d.shape,g=o?"height":"width";v[g]=0}return d},polar:function(r,t,n,a,o,s,l,u,f){var d=!o&&f?Sausage:Sector$1,v=new d({shape:a,z2:1});v.name="item";var g=createPolarPositionMapping(o);if(v.calculateTextPosition=createSectorCalculateTextPosition(g,{isRoundCap:d===Sausage}),s){var S=v.shape,x=o?"r":"endAngle",_={};S[x]=o?0:a.startAngle,_[x]=a[x],(u?updateProps$1:initProps)(v,{shape:_},s)}return v}};function shouldRealtimeSort(r,t){var n=r.get("realtimeSort",!0),a=t.getBaseAxis();if(n&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function updateRealtimeAnimation(r,t,n,a,o,s,l,u){var f,d;s?(d={x:a.x,width:a.width},f={y:a.y,height:a.height}):(d={y:a.y,height:a.height},f={x:a.x,width:a.width}),u||(l?updateProps$1:initProps)(n,{shape:f},t,o,null);var v=t?r.baseAxis.model:null;(l?updateProps$1:initProps)(n,{shape:d},v,o)}function checkPropertiesNotValid(r,t){for(var n=0;n<t.length;n++)if(!isFinite(r[t[n]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(r){return!checkPropertiesNotValid(r,rectPropties)},polar:function(r){return!checkPropertiesNotValid(r,polarPropties)}},getLayout={cartesian2d:function(r,t,n){var a=r.getItemLayout(t),o=n?getLineWidth(n,a):0,s=a.width>0?1:-1,l=a.height>0?1:-1;return{x:a.x+s*o/2,y:a.y+l*o/2,width:a.width-s*o,height:a.height-l*o}},polar:function(r,t,n){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function isZeroOnPolar(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function createPolarPositionMapping(r){return function(t){var n=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+n;default:return a}}}(r)}function updateStyle(r,t,n,a,o,s,l,u){var f=t.getItemVisual(n,"style");u||r.setShape("r",a.get(["itemStyle","borderRadius"])||0),r.useStyle(f);var d=a.getShallow("cursor");d&&r.attr("cursor",d);var v=u?l?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":l?o.height>=0?"bottom":"top":o.width>=0?"right":"left",g=getLabelStatesModels(a);setLabelStyle(r,g,{labelFetcher:s,labelDataIndex:n,defaultText:getDefaultLabel(s.getData(),n),inheritColor:f.fill,defaultOpacity:f.opacity,defaultOutsidePosition:v});var S=r.getTextContent();if(u&&S){var x=a.get(["label","position"]);r.textConfig.inside=x==="middle"?!0:null,setSectorTextRotation(r,x==="outside"?v:x,createPolarPositionMapping(l),a.get(["label","rotate"]))}setLabelValueAnimation(S,g,s.getRawValue(n),function(C){return getDefaultInterpolatedLabel(t,C)});var _=a.getModel(["emphasis"]);toggleHoverEmphasis(r,_.get("focus"),_.get("blurScope"),_.get("disabled")),setStatesStylesFromModel(r,a),isZeroOnPolar(o)&&(r.style.fill="none",r.style.stroke="none",each$f(r.states,function(C){C.style&&(C.style.fill=C.style.stroke="none")}))}function getLineWidth(r,t){var n=r.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,o=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),s=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,o,s)}var LagePathShape=function(){function r(){}return r}(),LargePath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new LagePathShape},t.prototype.buildPath=function(n,a){for(var o=a.points,s=this.baseDimIdx,l=1-this.baseDimIdx,u=[],f=[],d=this.barWidth,v=0;v<o.length;v+=3)f[s]=d,f[l]=o[v+2],u[s]=o[v+s],u[l]=o[v+l],n.rect(u[0],u[1],f[0],f[1])},t}(Path$1);function createLarge$1(r,t,n,a){var o=r.getData(),s=o.getLayout("valueAxisHorizontal")?1:0,l=o.getLayout("largeDataIndices"),u=o.getLayout("size"),f=r.getModel("backgroundStyle"),d=o.getLayout("largeBackgroundPoints");if(d){var v=new LargePath({shape:{points:d},incremental:!!a,silent:!0,z2:0});v.baseDimIdx=s,v.largeDataIndices=l,v.barWidth=u,v.useStyle(f.getItemStyle()),t.add(v),n&&n.push(v)}var g=new LargePath({shape:{points:o.getLayout("largePoints")},incremental:!!a,z2:1});g.baseDimIdx=s,g.largeDataIndices=l,g.barWidth=u,t.add(g),g.useStyle(o.getVisual("style")),getECData(g).seriesIndex=r.seriesIndex,r.get("silent")||(g.on("mousedown",largePathUpdateDataIndex),g.on("mousemove",largePathUpdateDataIndex)),n&&n.push(g)}var largePathUpdateDataIndex=throttle(function(r){var t=this,n=largePathFindDataIndex(t,r.offsetX,r.offsetY);getECData(t).dataIndex=n>=0?n:null},30,!1);function largePathFindDataIndex(r,t,n){for(var a=r.baseDimIdx,o=1-a,s=r.shape.points,l=r.largeDataIndices,u=[],f=[],d=r.barWidth,v=0,g=s.length/3;v<g;v++){var S=v*3;if(f[a]=d,f[o]=s[S+2],u[a]=s[S+a],u[o]=s[S+o],f[o]<0&&(u[o]+=f[o],f[o]=-f[o]),t>=u[0]&&t<=u[0]+f[0]&&n>=u[1]&&n<=u[1]+f[1])return l[v]}return-1}function createBackgroundShape(r,t,n){if(isCoordinateSystemType(n,"cartesian2d")){var a=t,o=n.getArea();return{x:r?a.x:o.x,y:r?o.y:a.y,width:r?a.width:o.width,height:r?o.height:a.height}}else{var o=n.getArea(),s=t;return{cx:o.cx,cy:o.cy,r0:r?o.r0:s.r0,r:r?o.r:s.r,startAngle:r?s.startAngle:0,endAngle:r?s.endAngle:Math.PI*2}}}function createBackgroundEl(r,t,n){var a=r.type==="polar"?Sector$1:Rect$3;return new a({shape:createBackgroundShape(t,n,r),silent:!0,z2:0})}var BarView$1=BarView;function install$P(r){r.registerChartView(BarView$1),r.registerSeriesModel(BarSeries),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var a=t.componentType||"series";n.eachComponent({mainType:a,query:t},function(o){t.sortInfo&&o.axis.setCategorySortInfo(t.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(r,t){return getLayoutRect(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function getBasicPieLayout(r,t){var n=getViewRect$5(r,t),a=r.get("center"),o=r.get("radius");isArray$1(o)||(o=[0,o]),isArray$1(a)||(a=[a,a]);var s=parsePercent(n.width,t.getWidth()),l=parsePercent(n.height,t.getHeight()),u=Math.min(s,l),f=parsePercent(a[0],s)+n.x,d=parsePercent(a[1],l)+n.y,v=parsePercent(o[0],u/2),g=parsePercent(o[1],u/2);return{cx:f,cy:d,r0:v,r:g}}function pieLayout(r,t,n){t.eachSeriesByType(r,function(a){var o=a.getData(),s=o.mapDimension("value"),l=getViewRect$5(a,n),u=getBasicPieLayout(a,n),f=u.cx,d=u.cy,v=u.r,g=u.r0,S=-a.get("startAngle")*RADIAN$2,x=a.get("minAngle")*RADIAN$2,_=0;o.each(s,function(Y){!isNaN(Y)&&_++});var C=o.getSum(s),T=Math.PI/(C||_)*2,w=a.get("clockwise"),M=a.get("roseType"),D=a.get("stillShowZeroSum"),I=o.getDataExtent(s);I[0]=0;var R=PI2,$=0,N=S,F=w?1:-1;if(o.setLayout({viewRect:l,r:v}),o.each(s,function(Y,G){var K;if(isNaN(Y)){o.setItemLayout(G,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:f,cy:d,r0:g,r:M?NaN:v});return}M!=="area"?K=C===0&&D?T:Y*T:K=PI2/_,K<x?(K=x,R-=x):$+=Y;var Z=N+F*K;o.setItemLayout(G,{angle:K,startAngle:N,endAngle:Z,clockwise:w,cx:f,cy:d,r0:g,r:M?linearMap$2(Y,I,[g,v]):v}),N=Z}),R<PI2&&_)if(R<=.001){var H=PI2/_;o.each(s,function(Y,G){if(!isNaN(Y)){var K=o.getItemLayout(G);K.angle=H,K.startAngle=S+F*G*H,K.endAngle=S+F*(G+1)*H}})}else T=R/$,N=S,o.each(s,function(Y,G){if(!isNaN(Y)){var K=o.getItemLayout(G),Z=K.angle===x?x:Y*T;K.startAngle=N,K.endAngle=N+F*Z,N+=F*Z}})})}function dataFilter$1(r){return{seriesType:r,reset:function(t,n){var a=n.findComponents({mainType:"legend"});if(!(!a||!a.length)){var o=t.getData();o.filterSelf(function(s){for(var l=o.getName(s),u=0;u<a.length;u++)if(!a[u].isSelected(l))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(r,t,n,a,o,s,l,u,f,d){if(r.length<2)return;function v(C){for(var T=C.rB,w=T*T,M=0;M<C.list.length;M++){var D=C.list[M],I=Math.abs(D.label.y-n),R=a+D.len,$=R*R,N=Math.sqrt((1-Math.abs(I*I/w))*$),F=t+(N+D.len2)*o,H=F-D.label.x,Y=D.targetTextWidth-H*o;constrainTextWidth(D,Y,!0),D.label.x=F}}function g(C){for(var T={list:[],maxY:0},w={list:[],maxY:0},M=0;M<C.length;M++)if(C[M].labelAlignTo==="none"){var D=C[M],I=D.label.y>n?w:T,R=Math.abs(D.label.y-n);if(R>=I.maxY){var $=D.label.x-t-D.len2*o,N=a+D.len,F=Math.abs($)<N?Math.sqrt(R*R/(1-$*$/N/N)):N;I.rB=F,I.maxY=R}I.list.push(D)}v(T),v(w)}for(var S=r.length,x=0;x<S;x++)if(r[x].position==="outer"&&r[x].labelAlignTo==="labelLine"){var _=r[x].label.x-d;r[x].linePoints[1][0]+=_,r[x].label.x=d}shiftLayoutOnY(r,f,f+l)&&g(r)}function avoidOverlap(r,t,n,a,o,s,l,u){for(var f=[],d=[],v=Number.MAX_VALUE,g=-Number.MAX_VALUE,S=0;S<r.length;S++){var x=r[S].label;isPositionCenter(r[S])||(x.x<t?(v=Math.min(v,x.x),f.push(r[S])):(g=Math.max(g,x.x),d.push(r[S])))}for(var S=0;S<r.length;S++){var _=r[S];if(!isPositionCenter(_)&&_.linePoints){if(_.labelStyleWidth!=null)continue;var x=_.label,C=_.linePoints,T=void 0;_.labelAlignTo==="edge"?x.x<t?T=C[2][0]-_.labelDistance-l-_.edgeDistance:T=l+o-_.edgeDistance-C[2][0]-_.labelDistance:_.labelAlignTo==="labelLine"?x.x<t?T=v-l-_.bleedMargin:T=l+o-g-_.bleedMargin:x.x<t?T=x.x-l-_.bleedMargin:T=l+o-x.x-_.bleedMargin,_.targetTextWidth=T,constrainTextWidth(_,T)}}adjustSingleSide(d,t,n,a,1,o,s,l,u,g),adjustSingleSide(f,t,n,a,-1,o,s,l,u,v);for(var S=0;S<r.length;S++){var _=r[S];if(!isPositionCenter(_)&&_.linePoints){var x=_.label,C=_.linePoints,w=_.labelAlignTo==="edge",M=x.style.padding,D=M?M[1]+M[3]:0,I=x.style.backgroundColor?0:D,R=_.rect.width+I,$=C[1][0]-C[2][0];w?x.x<t?C[2][0]=l+_.edgeDistance+R+_.labelDistance:C[2][0]=l+o-_.edgeDistance-R-_.labelDistance:(x.x<t?C[2][0]=x.x+_.labelDistance:C[2][0]=x.x-_.labelDistance,C[1][0]=C[2][0]+$),C[1][1]=C[2][1]=x.y}}}function constrainTextWidth(r,t,n){if(n===void 0&&(n=!1),r.labelStyleWidth==null){var a=r.label,o=a.style,s=r.rect,l=o.backgroundColor,u=o.padding,f=u?u[1]+u[3]:0,d=o.overflow,v=s.width+(l?0:f);if(t<v||n){var g=s.height;if(d&&d.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-f);var S=a.getBoundingRect();a.setStyle("width",Math.ceil(S.width)),a.setStyle("backgroundColor",l)}else{var x=t-f,_=t<v?x:n?x>r.unconstrainedWidth?null:x:null;a.setStyle("width",_)}var C=a.getBoundingRect();s.width=C.width;var T=(a.style.margin||0)+2.1;s.height=C.height+T,s.y-=(s.height-g)/2}}}function isPositionCenter(r){return r.position==="center"}function pieLabelLayout(r){var t=r.getData(),n=[],a,o,s=!1,l=(r.get("minShowLabelAngle")||0)*RADIAN$1,u=t.getLayout("viewRect"),f=t.getLayout("r"),d=u.width,v=u.x,g=u.y,S=u.height;function x($){$.ignore=!0}function _($){if(!$.ignore)return!0;for(var N in $.states)if($.states[N].ignore===!1)return!0;return!1}t.each(function($){var N=t.getItemGraphicEl($),F=N.shape,H=N.getTextContent(),Y=N.getTextGuideLine(),G=t.getItemModel($),K=G.getModel("label"),Z=K.get("position")||G.get(["emphasis","label","position"]),J=K.get("distanceToLabelLine"),Q=K.get("alignTo"),te=parsePercent(K.get("edgeDistance"),d),ie=K.get("bleedMargin"),ne=G.getModel("labelLine"),de=ne.get("length");de=parsePercent(de,d);var ve=ne.get("length2");if(ve=parsePercent(ve,d),Math.abs(F.endAngle-F.startAngle)<l){each$f(H.states,x),H.ignore=!0;return}if(!!_(H)){var pe=(F.startAngle+F.endAngle)/2,$e=Math.cos(pe),Re=Math.sin(pe),Ge,Qe,Le,We;a=F.cx,o=F.cy;var Oe=Z==="inside"||Z==="inner";if(Z==="center")Ge=F.cx,Qe=F.cy,We="center";else{var ke=(Oe?(F.r+F.r0)/2*$e:F.r*$e)+a,Ye=(Oe?(F.r+F.r0)/2*Re:F.r*Re)+o;if(Ge=ke+$e*3,Qe=Ye+Re*3,!Oe){var ze=ke+$e*(de+f-F.r),qe=Ye+Re*(de+f-F.r),ae=ze+($e<0?-1:1)*ve,le=qe;Q==="edge"?Ge=$e<0?v+te:v+d-te:Ge=ae+($e<0?-J:J),Qe=le,Le=[[ke,Ye],[ze,qe],[ae,le]]}We=Oe?"center":Q==="edge"?$e>0?"right":"left":$e>0?"left":"right"}var ge=Math.PI,se=0,oe=K.get("rotate");if(isNumber(oe))se=oe*(ge/180);else if(Z==="center")se=0;else if(oe==="radial"||oe===!0){var Se=$e<0?-pe+ge:-pe;se=Se}else if(oe==="tangential"&&Z!=="outside"&&Z!=="outer"){var xe=Math.atan2($e,Re);xe<0&&(xe=ge*2+xe);var _e=Re>0;_e&&(xe=ge+xe),se=xe-ge}if(s=!!se,H.x=Ge,H.y=Qe,H.rotation=se,H.setStyle({verticalAlign:"middle"}),Oe){H.setStyle({align:We});var Ee=H.states.select;Ee&&(Ee.x+=H.x,Ee.y+=H.y)}else{var Te=H.getBoundingRect().clone();Te.applyTransform(H.getComputedTransform());var Ce=(H.style.margin||0)+2.1;Te.y-=Ce/2,Te.height+=Ce,n.push({label:H,labelLine:Y,position:Z,len:de,len2:ve,minTurnAngle:ne.get("minTurnAngle"),maxSurfaceAngle:ne.get("maxSurfaceAngle"),surfaceNormal:new Point$1($e,Re),linePoints:Le,textAlign:We,labelDistance:J,labelAlignTo:Q,edgeDistance:te,bleedMargin:ie,rect:Te,unconstrainedWidth:Te.width,labelStyleWidth:H.style.width})}N.setTextConfig({inside:Oe})}}),!s&&r.get("avoidLabelOverlap")&&avoidOverlap(n,a,o,f,d,S,v,g);for(var C=0;C<n.length;C++){var T=n[C],w=T.label,M=T.labelLine,D=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:T.textAlign}),D&&(each$f(w.states,x),w.ignore=!0);var I=w.states.select;I&&(I.x+=w.x,I.y+=w.y)}if(M){var R=T.linePoints;D||!R?(each$f(M.states,x),M.ignore=!0):(limitTurnAngle(R,T.minTurnAngle),limitSurfaceAngle(R,T.surfaceNormal,T.maxSurfaceAngle),M.setShape({points:R}),w.__hostTarget.textGuideLineConfig={anchor:new Point$1(R[0][0],R[0][1])})}}}function getSectorCornerRadius(r,t,n){var a=r.get("borderRadius");if(a==null)return n?{cornerRadius:0}:null;isArray$1(a)||(a=[a,a,a,a]);var o=Math.abs(t.r||0-t.r0||0);return{cornerRadius:map$1(a,function(s){return parsePercent$1(s,o)})}}var PiePiece=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this)||this;s.z2=2;var l=new ZRText$1;return s.setTextContent(l),s.updateData(n,a,o,!0),s}return t.prototype.updateData=function(n,a,o,s){var l=this,u=n.hostModel,f=n.getItemModel(a),d=f.getModel("emphasis"),v=n.getItemLayout(a),g=extend(getSectorCornerRadius(f.getModel("itemStyle"),v,!0),v);if(isNaN(g.startAngle)){l.setShape(g);return}if(s){l.setShape(g);var S=u.getShallow("animationType");u.ecModel.ssr?(initProps(l,{scaleX:0,scaleY:0},u,{dataIndex:a,isFrom:!0}),l.originX=g.cx,l.originY=g.cy):S==="scale"?(l.shape.r=v.r0,initProps(l,{shape:{r:v.r}},u,a)):o!=null?(l.setShape({startAngle:o,endAngle:o}),initProps(l,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},u,a)):(l.shape.endAngle=v.startAngle,updateProps$1(l,{shape:{endAngle:v.endAngle}},u,a))}else saveOldStyle(l),updateProps$1(l,{shape:g},u,a);l.useStyle(n.getItemVisual(a,"style")),setStatesStylesFromModel(l,f);var x=(v.startAngle+v.endAngle)/2,_=u.get("selectedOffset"),C=Math.cos(x)*_,T=Math.sin(x)*_,w=f.getShallow("cursor");w&&l.attr("cursor",w),this._updateLabel(u,n,a),l.ensureState("emphasis").shape=extend({r:v.r+(d.get("scale")&&d.get("scaleSize")||0)},getSectorCornerRadius(d.getModel("itemStyle"),v)),extend(l.ensureState("select"),{x:C,y:T,shape:getSectorCornerRadius(f.getModel(["select","itemStyle"]),v)}),extend(l.ensureState("blur"),{shape:getSectorCornerRadius(f.getModel(["blur","itemStyle"]),v)});var M=l.getTextGuideLine(),D=l.getTextContent();M&&extend(M.ensureState("select"),{x:C,y:T}),extend(D.ensureState("select"),{x:C,y:T}),toggleHoverEmphasis(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(n,a,o){var s=this,l=a.getItemModel(o),u=l.getModel("labelLine"),f=a.getItemVisual(o,"style"),d=f&&f.fill,v=f&&f.opacity;setLabelStyle(s,getLabelStatesModels(l),{labelFetcher:a.hostModel,labelDataIndex:o,inheritColor:d,defaultOpacity:v,defaultText:n.getFormattedLabel(o,"normal")||a.getName(o)});var g=s.getTextContent();s.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var S=n.get(["label","position"]);if(S!=="outside"&&S!=="outer")s.removeTextGuideLine();else{var x=this.getTextGuideLine();x||(x=new Polyline$3,this.setTextGuideLine(x)),setLabelLineStyle(this,getLabelLineStatesModels(l),{stroke:d,opacity:retrieve3(u.get(["lineStyle","opacity"]),v,1)})}},t}(Sector$1),PieView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,a,o,s){var l=n.getData(),u=this._data,f=this.group,d;if(!u&&l.count()>0){for(var v=l.getItemLayout(0),g=1;isNaN(v&&v.startAngle)&&g<l.count();++g)v=l.getItemLayout(g);v&&(d=v.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),l.count()===0&&n.get("showEmptyCircle")){var S=new Sector$1({shape:getBasicPieLayout(n,o)});S.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=S,f.add(S)}l.diff(u).add(function(x){var _=new PiePiece(l,x,d);l.setItemGraphicEl(x,_),f.add(_)}).update(function(x,_){var C=u.getItemGraphicEl(_);C.updateData(l,x,d),C.off("click"),f.add(C),l.setItemGraphicEl(x,C)}).remove(function(x){var _=u.getItemGraphicEl(x);removeElementWithFadeOut(_,n,x)}).execute(),pieLabelLayout(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=l)},t.prototype.dispose=function(){},t.prototype.containPoint=function(n,a){var o=a.getData(),s=o.getItemLayout(0);if(s){var l=n[0]-s.cx,u=n[1]-s.cy,f=Math.sqrt(l*l+u*u);return f<=s.r&&f>=s.r0}},t.type="pie",t}(ChartView$1),PieView$1=PieView;function createSeriesDataSimply(r,t,n){t=isArray$1(t)&&{coordDimensions:t}||extend({encodeDefine:r.getEncode()},t);var a=r.getSource(),o=prepareSeriesDataSchema(a,t).dimensions,s=new SeriesData$1(o,r);return s.initData(a,n),s}var LegendVisualProvider=function(){function r(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var n=this._getRawData();return n.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var n=this._getDataWithEncodedVisual();return n.indexOfName(t)},r.prototype.getItemVisual=function(t,n){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,n)},r}(),LegendVisualProvider$1=LegendVisualProvider,PieSeriesModel=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(n){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},t.prototype.getDataParams=function(n){var a=this.getData(),o=r.prototype.getDataParams.call(this,n),s=[];return a.each(a.mapDimension("value"),function(l){s.push(l)}),o.percent=getPercentWithPrecision(s,n,a.hostModel.get("percentPrecision")),o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var a=n.labelLine,o=n.emphasis.labelLine;a.show=a.show&&n.label.show,o.show=o.show&&n.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(SeriesModel$1),PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(r){return{seriesType:r,reset:function(t,n){var a=t.getData();a.filterSelf(function(o){var s=a.mapDimension("value"),l=a.get(s,o);return!(isNumber(l)&&!isNaN(l)&&l<0)})}}}function install$O(r){r.registerChartView(PieView$1),r.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",r.registerAction),r.registerLayout(curry$1(pieLayout,"pie")),r.registerProcessor(dataFilter$1("pie")),r.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,a){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var n=this.option.progressive;return n==null?this.option.large?5e3:this.get("progressive"):n},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n==null?this.option.large?1e4:this.get("progressiveThreshold"):n},t.prototype.brushSelector=function(n,a,o){return o.point(a.getItemLayout(n))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(SeriesModel$1),ScatterSeriesModel$1=ScatterSeriesModel,BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function r(){}return r}(),LargeSymbolPath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a._off=0,a.hoverDataIdx=-1,a}return t.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(n,a){var o=a.points,s=a.size,l=this.symbolProxy,u=l.shape,f=n.getContext?n.getContext():n,d=f&&s[0]<BOOST_SIZE_THRESHOLD,v=this.softClipShape,g;if(d){this._ctx=f;return}for(this._ctx=null,g=this._off;g<o.length;){var S=o[g++],x=o[g++];isNaN(S)||isNaN(x)||v&&!v.contain(S,x)||(u.x=S-s[0]/2,u.y=x-s[1]/2,u.width=s[0],u.height=s[1],l.buildPath(n,u,!0))}this.incremental&&(this._off=g,this.notClear=!0)},t.prototype.afterBrush=function(){var n=this.shape,a=n.points,o=n.size,s=this._ctx,l=this.softClipShape,u;if(!!s){for(u=this._off;u<a.length;){var f=a[u++],d=a[u++];isNaN(f)||isNaN(d)||l&&!l.contain(f,d)||s.fillRect(f-o[0]/2,d-o[1]/2,o[0],o[1])}this.incremental&&(this._off=u,this.notClear=!0)}},t.prototype.findDataIndex=function(n,a){for(var o=this.shape,s=o.points,l=o.size,u=Math.max(l[0],4),f=Math.max(l[1],4),d=s.length/2-1;d>=0;d--){var v=d*2,g=s[v]-u/2,S=s[v+1]-f/2;if(n>=g&&a>=S&&n<=g+u&&a<=S+f)return d}return-1},t.prototype.contain=function(n,a){var o=this.transformCoordToLocal(n,a),s=this.getBoundingRect();if(n=o[0],a=o[1],s.contain(n,a)){var l=this.hoverDataIdx=this.findDataIndex(n,a);return l>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var a=this.shape,o=a.points,s=a.size,l=s[0],u=s[1],f=1/0,d=1/0,v=-1/0,g=-1/0,S=0;S<o.length;){var x=o[S++],_=o[S++];f=Math.min(x,f),v=Math.max(x,v),d=Math.min(_,d),g=Math.max(_,g)}n=this._rect=new BoundingRect$1(f-l/2,d-u/2,v-f+l,g-d+u)}return n},t}(Path$1),LargeSymbolDraw=function(){function r(){this.group=new Group$4}return r.prototype.updateData=function(t,n){this._clear();var a=this._create();a.setShape({points:t.getLayout("points")}),this._setCommon(a,t,n)},r.prototype.updateLayout=function(t){var n=t.getLayout("points");this.group.eachChild(function(a){if(a.startIndex!=null){var o=(a.endIndex-a.startIndex)*2,s=a.startIndex*4*2;n=new Float32Array(n.buffer,s,o)}a.setShape("points",n),a.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,n,a){var o=this._newAdded[0],s=n.getLayout("points"),l=o&&o.shape.points;if(l&&l.length<2e4){var u=l.length,f=new Float32Array(u+s.length);f.set(l),f.set(s,u),o.endIndex=t.end,o.setShape({points:f})}else{this._newAdded=[];var d=this._create();d.startIndex=t.start,d.endIndex=t.end,d.incremental=!0,d.setShape({points:s}),this._setCommon(d,n,a)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new LargeSymbolPath({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,n,a){var o=n.hostModel;a=a||{};var s=n.getVisual("symbolSize");t.setShape("size",s instanceof Array?s:[s,s]),t.softClipShape=a.clipShape||null,t.symbolProxy=createSymbol$1(n.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var l=t.shape.size[0]<BOOST_SIZE_THRESHOLD;t.useStyle(o.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var u=n.getVisual("style"),f=u&&u.fill;f&&t.setColor(f);var d=getECData(t);d.seriesIndex=o.seriesIndex,t.on("mousemove",function(v){d.dataIndex=null;var g=t.hoverDataIdx;g>=0&&(d.dataIndex=g+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),LargeSymbolDraw$1=LargeSymbolDraw,ScatterView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=n.getData(),l=this._updateSymbolDraw(s,n);l.updateData(s,{clipShape:this._getClipShape(n)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(n,a,o){var s=n.getData(),l=this._updateSymbolDraw(s,n);l.incrementalPrepareUpdate(s),this._finished=!1},t.prototype.incrementalRender=function(n,a,o){this._symbolDraw.incrementalUpdate(n,a.getData(),{clipShape:this._getClipShape(a)}),this._finished=n.end===a.getData().count()},t.prototype.updateTransform=function(n,a,o){var s=n.getData();if(this.group.dirty(),!this._finished||s.count()>1e4)return{update:!0};var l=pointsLayout("").reset(n,a,o);l.progress&&l.progress({start:0,end:s.count(),count:s.count()},s),this._symbolDraw.updateLayout(s)},t.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},t.prototype._getClipShape=function(n){var a=n.coordinateSystem,o=a&&a.getArea&&a.getArea();return n.get("clip",!0)?o:null},t.prototype._updateSymbolDraw=function(n,a){var o=this._symbolDraw,s=a.pipelineContext,l=s.large;return(!o||l!==this._isLargeDraw)&&(o&&o.remove(),o=this._symbolDraw=l?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=l,this.group.removeAll()),this.group.add(o.group),o},t.prototype.remove=function(n,a){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ChartView$1),ScatterView$1=ScatterView,GridModel=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(ComponentModel$1),GridModel$1=GridModel,CartesianAxisModel=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},t.type="cartesian2dAxis",t}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis),axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis},AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(r,t,n,a){each$f(AXIS_TYPES,function(o,s){var l=merge(merge({},axisDefault[s],!0),a,!0),u=function(f){__extends$1(d,f);function d(){var v=f!==null&&f.apply(this,arguments)||this;return v.type=t+"Axis."+s,v}return d.prototype.mergeDefaultAndTheme=function(v,g){var S=fetchLayoutMode(this),x=S?getLayoutParams(v):{},_=g.getTheme();merge(v,_.get(s+"Axis")),merge(v,this.getDefaultOption()),v.type=getAxisType(v),S&&mergeLayoutParam(v,x,S)},d.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},d.prototype.getCategories=function(v){var g=this.option;if(g.type==="category")return v?g.data:this.__ordinalMeta.categories},d.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},d.type=t+"Axis."+s,d.defaultOption=l,d}(n);r.registerComponentModel(u)}),r.registerSubTypeDefaulter(t+"Axis",getAxisType)}function getAxisType(r){return r.type||(r.data?"category":"value")}var Cartesian=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return map$1(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),filter(this.getAxes(),function(n){return n.scale.type===t})},r.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},r}(),Cartesian$1=Cartesian,cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(r){return r.type==="interval"||r.type==="time"}var Cartesian2D=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=cartesian2DDimensions,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(n)||!canCalculateAffineTransform(a))){var o=n.getExtent(),s=a.getExtent(),l=this.dataToPoint([o[0],s[0]]),u=this.dataToPoint([o[1],s[1]]),f=o[1]-o[0],d=s[1]-s[0];if(!(!f||!d)){var v=(u[0]-l[0])/f,g=(u[1]-l[1])/d,S=l[0]-o[0]*v,x=l[1]-s[0]*g,_=this._transform=[v,0,0,g,S,x];this._invTransform=invert([],_)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var a=this.getAxis("x"),o=this.getAxis("y");return a.contain(a.toLocalCoord(n[0]))&&o.contain(o.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.dataToPoint=function(n,a,o){o=o||[];var s=n[0],l=n[1];if(this._transform&&s!=null&&isFinite(s)&&l!=null&&isFinite(l))return applyTransform$1(o,n,this._transform);var u=this.getAxis("x"),f=this.getAxis("y");return o[0]=u.toGlobalCoord(u.dataToCoord(s,a)),o[1]=f.toGlobalCoord(f.dataToCoord(l,a)),o},t.prototype.clampData=function(n,a){var o=this.getAxis("x").scale,s=this.getAxis("y").scale,l=o.getExtent(),u=s.getExtent(),f=o.parse(n[0]),d=s.parse(n[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(l[0],l[1]),f),Math.max(l[0],l[1])),a[1]=Math.min(Math.max(Math.min(u[0],u[1]),d),Math.max(u[0],u[1])),a},t.prototype.pointToData=function(n,a){var o=[];if(this._invTransform)return applyTransform$1(o,n,this._invTransform);var s=this.getAxis("x"),l=this.getAxis("y");return o[0]=s.coordToData(s.toLocalCoord(n[0]),a),o[1]=l.coordToData(l.toLocalCoord(n[1]),a),o},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(){var n=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),o=Math.min(n[0],n[1]),s=Math.min(a[0],a[1]),l=Math.max(n[0],n[1])-o,u=Math.max(a[0],a[1])-s;return new BoundingRect$1(o,s,l,u)},t}(Cartesian$1),Cartesian2D$1=Cartesian2D,Axis2D=function(r){__extends$1(t,r);function t(n,a,o,s,l){var u=r.call(this,n,a,o)||this;return u.index=0,u.type=s||"value",u.position=l||"bottom",u}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),n&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(n,a){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(Axis$1),Axis2D$1=Axis2D;function layout$2(r,t,n){n=n||{};var a=r.coordinateSystem,o=t.axis,s={},l=o.getAxesOnZeroOf()[0],u=o.position,f=l?"onZero":u,d=o.dim,v=a.getRect(),g=[v.x,v.x+v.width,v.y,v.y+v.height],S={left:0,right:1,top:0,bottom:1,onZero:2},x=t.get("offset")||0,_=d==="x"?[g[2]-x,g[3]+x]:[g[0]-x,g[1]+x];if(l){var C=l.toGlobalCoord(l.dataToCoord(0));_[S.onZero]=Math.max(Math.min(C,_[1]),_[0])}s.position=[d==="y"?_[S[f]]:g[0],d==="x"?_[S[f]]:g[3]],s.rotation=Math.PI/2*(d==="x"?0:1);var T={top:-1,bottom:1,left:-1,right:1};s.labelDirection=s.tickDirection=s.nameDirection=T[u],s.labelOffset=l?_[S[u]]-_[S.onZero]:0,t.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),retrieve(n.labelInside,t.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var w=t.get(["axisLabel","rotate"]);return s.labelRotate=f==="top"?-w:w,s.z2=1,s}function isCartesian2DSeries(r){return r.get("coordinateSystem")==="cartesian2d"}function findAxisModels(r){var t={xAxisModel:null,yAxisModel:null};return each$f(t,function(n,a){var o=a.replace(/Model$/,""),s=r.getReferringComponents(o,SINGLE_REFERRING).models[0];t[a]=s}),t}var mathLog=Math.log;function alignScaleTicks(r,t,n){var a=IntervalScale$1.prototype,o=a.getTicks.call(n),s=a.getTicks.call(n,!0),l=o.length-1,u=a.getInterval.call(n),f=getScaleExtent(r,t),d=f.extent,v=f.fixMin,g=f.fixMax;if(r.type==="log"){var S=mathLog(r.base);d=[mathLog(d[0])/S,mathLog(d[1])/S]}r.setExtent(d[0],d[1]),r.calcNiceExtent({splitNumber:l,fixMin:v,fixMax:g});var x=a.getExtent.call(r);v&&(d[0]=x[0]),g&&(d[1]=x[1]);var _=a.getInterval.call(r),C=d[0],T=d[1];if(v&&g)_=(T-C)/l;else if(v)for(T=d[0]+_*l;T<d[1]&&isFinite(T)&&isFinite(d[1]);)_=increaseInterval(_),T=d[0]+_*l;else if(g)for(C=d[1]-_*l;C>d[0]&&isFinite(C)&&isFinite(d[0]);)_=increaseInterval(_),C=d[1]-_*l;else{var w=r.getTicks().length-1;w>l&&(_=increaseInterval(_));var M=_*l;T=Math.ceil(d[1]/_)*_,C=round$3(T-M),C<0&&d[0]>=0?(C=0,T=round$3(M)):T>0&&d[1]<=0&&(T=0,C=-round$3(M))}var D=(o[0].value-s[0].value)/u,I=(o[l].value-s[l].value)/u;a.setExtent.call(r,C+_*D,T+_*I),a.setInterval.call(r,_),(D||I)&&a.setNiceExtent.call(r,C+_,T-_)}var Grid=function(){function r(t,n,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(t,n,a),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,n){var a=this._axesMap;this._updateScale(t,this.model);function o(l){var u,f=keys(l),d=f.length;if(!!d){for(var v=[],g=d-1;g>=0;g--){var S=+f[g],x=l[S],_=x.model,C=x.scale;isIntervalOrLogScale(C)&&_.get("alignTicks")&&_.get("interval")==null?v.push(x):(niceScaleExtent(C,_),isIntervalOrLogScale(C)&&(u=x))}v.length&&(u||(u=v.pop(),niceScaleExtent(u.scale,u.model)),each$f(v,function(T){alignScaleTicks(T.scale,T.model,u.scale)}))}}o(a.x),o(a.y);var s={};each$f(a.x,function(l){fixAxisOnZero(a,"y",l,s)}),each$f(a.y,function(l){fixAxisOnZero(a,"x",l,s)}),this.resize(this.model,n)},r.prototype.resize=function(t,n,a){var o=t.getBoxLayoutParams(),s=!a&&t.get("containLabel"),l=getLayoutRect(o,{width:n.getWidth(),height:n.getHeight()});this._rect=l;var u=this._axesList;f(),s&&(each$f(u,function(d){if(!d.model.get(["axisLabel","inside"])){var v=estimateLabelUnionRect(d);if(v){var g=d.isHorizontal()?"height":"width",S=d.model.get(["axisLabel","margin"]);l[g]-=v[g]+S,d.position==="top"?l.y+=v.height+S:d.position==="left"&&(l.x+=v.width+S)}}}),f()),each$f(this._coordsList,function(d){d.calcAffineTransform()});function f(){each$f(u,function(d){var v=d.isHorizontal(),g=v?[0,l.width]:[0,l.height],S=d.inverse?1:0;d.setExtent(g[S],g[1-S]),updateAxisTransform(d,v?l.x:l.y)})}},r.prototype.getAxis=function(t,n){var a=this._axesMap[t];if(a!=null)return a[n||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var a="x"+t+"y"+n;return this._coordsMap[a]}isObject$4(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var o=0,s=this._coordsList;o<s.length;o++)if(s[o].getAxis("x").index===t||s[o].getAxis("y").index===n)return s[o]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,n,a){var o=this._findConvertTarget(n);return o.cartesian?o.cartesian.dataToPoint(a):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(t,n,a){var o=this._findConvertTarget(n);return o.cartesian?o.cartesian.pointToData(a):o.axis?o.axis.coordToData(o.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(t){var n=t.seriesModel,a=t.xAxisModel||n&&n.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],o=t.yAxisModel||n&&n.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],s=t.gridModel,l=this._coordsList,u,f;if(n)u=n.coordinateSystem,indexOf(l,u)<0&&(u=null);else if(a&&o)u=this.getCartesian(a.componentIndex,o.componentIndex);else if(a)f=this.getAxis("x",a.componentIndex);else if(o)f=this.getAxis("y",o.componentIndex);else if(s){var d=s.coordinateSystem;d===this&&(u=this._coordsList[0])}return{cartesian:u,axis:f}},r.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},r.prototype._initCartesian=function(t,n,a){var o=this,s=this,l={left:!1,right:!1,top:!1,bottom:!1},u={x:{},y:{}},f={x:0,y:0};if(n.eachComponent("xAxis",d("x"),this),n.eachComponent("yAxis",d("y"),this),!f.x||!f.y){this._axesMap={},this._axesList=[];return}this._axesMap=u,each$f(u.x,function(v,g){each$f(u.y,function(S,x){var _="x"+g+"y"+x,C=new Cartesian2D$1(_);C.master=o,C.model=t,o._coordsMap[_]=C,o._coordsList.push(C),C.addAxis(v),C.addAxis(S)})});function d(v){return function(g,S){if(!!isAxisUsedInTheGrid(g,t)){var x=g.get("position");v==="x"?x!=="top"&&x!=="bottom"&&(x=l.bottom?"top":"bottom"):x!=="left"&&x!=="right"&&(x=l.left?"right":"left"),l[x]=!0;var _=new Axis2D$1(v,createScaleByModel$1(g),[0,0],g.get("type"),x),C=_.type==="category";_.onBand=C&&g.get("boundaryGap"),_.inverse=g.get("inverse"),g.axis=_,_.model=g,_.grid=s,_.index=S,s._axesList.push(_),u[v][S]=_,f[v]++}}}},r.prototype._updateScale=function(t,n){each$f(this._axesList,function(o){if(o.scale.setExtent(1/0,-1/0),o.type==="category"){var s=o.model.get("categorySortInfo");o.scale.setSortInfo(s)}}),t.eachSeries(function(o){if(isCartesian2DSeries(o)){var s=findAxisModels(o),l=s.xAxisModel,u=s.yAxisModel;if(!isAxisUsedInTheGrid(l,n)||!isAxisUsedInTheGrid(u,n))return;var f=this.getCartesian(l.componentIndex,u.componentIndex),d=o.getData(),v=f.getAxis("x"),g=f.getAxis("y");a(d,v),a(d,g)}},this);function a(o,s){each$f(getDataDimensionsOnAxis(o,s.dim),function(l){s.scale.unionExtentFromData(o,l)})}},r.prototype.getTooltipAxes=function(t){var n=[],a=[];return each$f(this.getCartesians(),function(o){var s=t!=null&&t!=="auto"?o.getAxis(t):o.getBaseAxis(),l=o.getOtherAxis(s);indexOf(n,s)<0&&n.push(s),indexOf(a,l)<0&&a.push(l)}),{baseAxes:n,otherAxes:a}},r.create=function(t,n){var a=[];return t.eachComponent("grid",function(o,s){var l=new r(o,t,n);l.name="grid_"+s,l.resize(o,n,!0),o.coordinateSystem=l,a.push(l)}),t.eachSeries(function(o){if(!!isCartesian2DSeries(o)){var s=findAxisModels(o),l=s.xAxisModel,u=s.yAxisModel,f=l.getCoordSysModel(),d=f.coordinateSystem;o.coordinateSystem=d.getCartesian(l.componentIndex,u.componentIndex)}}),a},r.dimensions=cartesian2DDimensions,r}();function isAxisUsedInTheGrid(r,t){return r.getCoordSysModel()===t}function fixAxisOnZero(r,t,n,a){n.getAxesOnZeroOf=function(){return s?[s]:[]};var o=r[t],s,l=n.model,u=l.get(["axisLine","onZero"]),f=l.get(["axisLine","onZeroAxisIndex"]);if(!u)return;if(f!=null)canOnZeroToAxis(o[f])&&(s=o[f]);else for(var d in o)if(o.hasOwnProperty(d)&&canOnZeroToAxis(o[d])&&!a[v(o[d])]){s=o[d];break}s&&(a[v(s)]=!0);function v(g){return g.dim+"_"+g.index}}function canOnZeroToAxis(r){return r&&r.type!=="category"&&r.type!=="time"&&ifAxisCrossZero(r)}function updateAxisTransform(r,t){var n=r.getExtent(),a=n[0]+n[1];r.toGlobalCoord=r.dim==="x"?function(o){return o+t}:function(o){return a-o+t},r.toLocalCoord=r.dim==="x"?function(o){return o-t}:function(o){return a-o+t}}var Grid$1=Grid,PI$3=Math.PI,AxisBuilder=function(){function r(t,n){this.group=new Group$4,this.opt=n,this.axisModel=t,defaults(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var a=new Group$4({x:n.position[0],y:n.position[1],rotation:n.rotation});a.updateTransform(),this._transformGroup=a}return r.prototype.hasBuilder=function(t){return!!builders[t]},r.prototype.add=function(t){builders[t](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(t,n,a){var o=remRadian(n-t),s,l;return isRadianAroundZero(o)?(l=a>0?"top":"bottom",s="center"):isRadianAroundZero(o-PI$3)?(l=a>0?"bottom":"top",s="center"):(l="middle",o>0&&o<PI$3?s=a>0?"right":"left":s=a>0?"left":"right"),{rotation:o,textAlign:s,textVerticalAlign:l}},r.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},r.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},r}(),builders={axisLine:function(r,t,n,a){var o=t.get(["axisLine","show"]);if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisLine")),!!o){var s=t.axis.getExtent(),l=a.transform,u=[s[0],0],f=[s[1],0];l&&(applyTransform$1(u,u,l),applyTransform$1(f,f,l));var d=extend({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),v=new Line$3({subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]},style:d,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});v.anid="line",n.add(v);var g=t.get(["axisLine","symbol"]);if(g!=null){var S=t.get(["axisLine","symbolSize"]);isString(g)&&(g=[g,g]),(isString(S)||isNumber(S))&&(S=[S,S]);var x=normalizeSymbolOffset(t.get(["axisLine","symbolOffset"])||0,S),_=S[0],C=S[1];each$f([{rotate:r.rotation+Math.PI/2,offset:x[0],r:0},{rotate:r.rotation-Math.PI/2,offset:x[1],r:Math.sqrt((u[0]-f[0])*(u[0]-f[0])+(u[1]-f[1])*(u[1]-f[1]))}],function(T,w){if(g[w]!=="none"&&g[w]!=null){var M=createSymbol$1(g[w],-_/2,-C/2,_,C,d.stroke,!0),D=T.r+T.offset;M.attr({rotation:T.rotate,x:u[0]+D*Math.cos(r.rotation),y:u[1]-D*Math.sin(r.rotation),silent:!0,z2:11}),n.add(M)}})}}},axisTickLabel:function(r,t,n,a){var o=buildAxisMajorTicks(n,a,t,r),s=buildAxisLabel(n,a,t,r);if(fixMinMaxLabelShow(t,s,o),buildAxisMinorTicks(n,a,t,r.tickDirection),t.get(["axisLabel","hideOverlap"])){var l=prepareLayoutList(map$1(s,function(u){return{label:u,priority:u.z2,defaultAttr:{ignore:u.ignore}}}));hideOverlap(l)}},axisName:function(r,t,n,a){var o=retrieve(r.axisName,t.get("name"));if(!!o){var s=t.get("nameLocation"),l=r.nameDirection,u=t.getModel("nameTextStyle"),f=t.get("nameGap")||0,d=t.axis.getExtent(),v=d[0]>d[1]?-1:1,g=[s==="start"?d[0]-v*f:s==="end"?d[1]+v*f:(d[0]+d[1])/2,isNameLocationCenter(s)?r.labelOffset+l*f:0],S,x=t.get("nameRotate");x!=null&&(x=x*PI$3/180);var _;isNameLocationCenter(s)?S=AxisBuilder.innerTextLayout(r.rotation,x!=null?x:r.rotation,l):(S=endTextLayout(r.rotation,s,x||0,d),_=r.axisNameAvailableWidth,_!=null&&(_=Math.abs(_/Math.sin(S.rotation)),!isFinite(_)&&(_=null)));var C=u.getFont(),T=t.get("nameTruncate",!0)||{},w=T.ellipsis,M=retrieve(r.nameTruncateMaxWidth,T.maxWidth,_),D=new ZRText$1({x:g[0],y:g[1],rotation:S.rotation,silent:AxisBuilder.isLabelSilent(t),style:createTextStyle(u,{text:o,font:C,overflow:"truncate",width:M,ellipsis:w,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||S.textAlign,verticalAlign:u.get("verticalAlign")||S.textVerticalAlign}),z2:1});if(setTooltipConfig({el:D,componentModel:t,itemName:o}),D.__fullText=o,D.anid="name",t.get("triggerEvent")){var I=AxisBuilder.makeAxisEventDataBase(t);I.targetType="axisName",I.name=o,getECData(D).eventData=I}a.add(D),D.updateTransform(),n.add(D),D.decomposeTransform()}}};function endTextLayout(r,t,n,a){var o=remRadian(n-r),s,l,u=a[0]>a[1],f=t==="start"&&!u||t!=="start"&&u;return isRadianAroundZero(o-PI$3/2)?(l=f?"bottom":"top",s="center"):isRadianAroundZero(o-PI$3*1.5)?(l=f?"top":"bottom",s="center"):(l="middle",o<PI$3*1.5&&o>PI$3/2?s=f?"left":"right":s=f?"right":"left"),{rotation:o,textAlign:s,textVerticalAlign:l}}function fixMinMaxLabelShow(r,t,n){if(!shouldShowAllLabels(r.axis)){var a=r.get(["axisLabel","showMinLabel"]),o=r.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var s=t[0],l=t[1],u=t[t.length-1],f=t[t.length-2],d=n[0],v=n[1],g=n[n.length-1],S=n[n.length-2];a===!1?(ignoreEl(s),ignoreEl(d)):isTwoLabelOverlapped(s,l)&&(a?(ignoreEl(l),ignoreEl(v)):(ignoreEl(s),ignoreEl(d))),o===!1?(ignoreEl(u),ignoreEl(g)):isTwoLabelOverlapped(f,u)&&(o?(ignoreEl(f),ignoreEl(S)):(ignoreEl(u),ignoreEl(g)))}}function ignoreEl(r){r&&(r.ignore=!0)}function isTwoLabelOverlapped(r,t){var n=r&&r.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(!(!n||!a)){var o=identity([]);return rotate(o,o,-r.rotation),n.applyTransform(mul([],o,r.getLocalTransform())),a.applyTransform(mul([],o,t.getLocalTransform())),n.intersect(a)}}function isNameLocationCenter(r){return r==="middle"||r==="center"}function createTicks(r,t,n,a,o){for(var s=[],l=[],u=[],f=0;f<r.length;f++){var d=r[f].coord;l[0]=d,l[1]=0,u[0]=d,u[1]=n,t&&(applyTransform$1(l,l,t),applyTransform$1(u,u,t));var v=new Line$3({subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:a,z2:2,autoBatch:!0,silent:!0});v.anid=o+"_"+r[f].tickValue,s.push(v)}return s}function buildAxisMajorTicks(r,t,n,a){var o=n.axis,s=n.getModel("axisTick"),l=s.get("show");if(l==="auto"&&a.handleAutoShown&&(l=a.handleAutoShown("axisTick")),!(!l||o.scale.isBlank())){for(var u=s.getModel("lineStyle"),f=a.tickDirection*s.get("length"),d=o.getTicksCoords(),v=createTicks(d,t.transform,f,defaults(u.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<v.length;g++)r.add(v[g]);return v}}function buildAxisMinorTicks(r,t,n,a){var o=n.axis,s=n.getModel("minorTick");if(!(!s.get("show")||o.scale.isBlank())){var l=o.getMinorTicksCoords();if(!!l.length)for(var u=s.getModel("lineStyle"),f=a*s.get("length"),d=defaults(u.getLineStyle(),defaults(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),v=0;v<l.length;v++)for(var g=createTicks(l[v],t.transform,f,d,"minorticks_"+v),S=0;S<g.length;S++)r.add(g[S])}}function buildAxisLabel(r,t,n,a){var o=n.axis,s=retrieve(a.axisLabelShow,n.get(["axisLabel","show"]));if(!(!s||o.scale.isBlank())){var l=n.getModel("axisLabel"),u=l.get("margin"),f=o.getViewLabels(),d=(retrieve(a.labelRotate,l.get("rotate"))||0)*PI$3/180,v=AxisBuilder.innerTextLayout(a.rotation,d,a.labelDirection),g=n.getCategories&&n.getCategories(!0),S=[],x=AxisBuilder.isLabelSilent(n),_=n.get("triggerEvent");return each$f(f,function(C,T){var w=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(C.tickValue):C.tickValue,M=C.formattedLabel,D=C.rawLabel,I=l;if(g&&g[w]){var R=g[w];isObject$4(R)&&R.textStyle&&(I=new Model$1(R.textStyle,l,n.ecModel))}var $=I.getTextColor()||n.get(["axisLine","lineStyle","color"]),N=o.dataToCoord(w),F=new ZRText$1({x:N,y:a.labelOffset+a.labelDirection*u,rotation:v.rotation,silent:x,z2:10+(C.level||0),style:createTextStyle(I,{text:M,align:I.getShallow("align",!0)||v.textAlign,verticalAlign:I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||v.textVerticalAlign,fill:isFunction($)?$(o.type==="category"?D:o.type==="value"?w+"":w,T):$})});if(F.anid="label_"+w,_){var H=AxisBuilder.makeAxisEventDataBase(n);H.targetType="axisLabel",H.value=D,H.tickIndex=T,o.type==="category"&&(H.dataIndex=w),getECData(F).eventData=H}t.add(F),F.updateTransform(),S.push(F),r.add(F),F.decomposeTransform()}),S}}var AxisBuilder$1=AxisBuilder;function collect(r,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(n,r,t),n.seriesInvolved&&collectSeriesInfo(n,r),n}function collectAxesInfo(r,t,n){var a=t.getComponent("tooltip"),o=t.getComponent("axisPointer"),s=o.get("link",!0)||[],l=[];each$f(n.getCoordinateSystems(),function(u){if(!u.axisPointerEnabled)return;var f=makeKey(u.model),d=r.coordSysAxesInfo[f]={};r.coordSysMap[f]=u;var v=u.model,g=v.getModel("tooltip",a);if(each$f(u.getAxes(),curry$1(C,!1,null)),u.getTooltipAxes&&a&&g.get("show")){var S=g.get("trigger")==="axis",x=g.get(["axisPointer","type"])==="cross",_=u.getTooltipAxes(g.get(["axisPointer","axis"]));(S||x)&&each$f(_.baseAxes,curry$1(C,x?"cross":!0,S)),x&&each$f(_.otherAxes,curry$1(C,"cross",!1))}function C(T,w,M){var D=M.model.getModel("axisPointer",o),I=D.get("show");if(!(!I||I==="auto"&&!T&&!isHandleTrigger(D))){w==null&&(w=D.get("triggerTooltip")),D=T?makeAxisPointerModel(M,g,o,t,T,w):D;var R=D.get("snap"),$=makeKey(M.model),N=w||R||M.type==="category",F=r.axesInfo[$]={key:$,axis:M,coordSys:u,axisPointerModel:D,triggerTooltip:w,involveSeries:N,snap:R,useHandle:isHandleTrigger(D),seriesModels:[],linkGroup:null};d[$]=F,r.seriesInvolved=r.seriesInvolved||N;var H=getLinkGroupIndex(s,M);if(H!=null){var Y=l[H]||(l[H]={axesInfo:{}});Y.axesInfo[$]=F,Y.mapper=s[H].mapper,F.linkGroup=Y}}}})}function makeAxisPointerModel(r,t,n,a,o,s){var l=t.getModel("axisPointer"),u=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],f={};each$f(u,function(S){f[S]=clone$4(l.get(S))}),f.snap=r.type!=="category"&&!!s,l.get("type")==="cross"&&(f.type="line");var d=f.label||(f.label={});if(d.show==null&&(d.show=!1),o==="cross"){var v=l.get(["label","show"]);if(d.show=v!=null?v:!0,!s){var g=f.lineStyle=l.get("crossStyle");g&&defaults(d,g.textStyle)}}return r.model.getModel("axisPointer",new Model$1(f,n,a))}function collectSeriesInfo(r,t){t.eachSeries(function(n){var a=n.coordinateSystem,o=n.get(["tooltip","trigger"],!0),s=n.get(["tooltip","show"],!0);!a||o==="none"||o===!1||o==="item"||s===!1||n.get(["axisPointer","show"],!0)===!1||each$f(r.coordSysAxesInfo[makeKey(a.model)],function(l){var u=l.axis;a.getAxis(u.dim)===u&&(l.seriesModels.push(n),l.seriesDataCount==null&&(l.seriesDataCount=0),l.seriesDataCount+=n.getData().count())})})}function getLinkGroupIndex(r,t){for(var n=t.model,a=t.dim,o=0;o<r.length;o++){var s=r[o]||{};if(checkPropInLink(s[a+"AxisId"],n.id)||checkPropInLink(s[a+"AxisIndex"],n.componentIndex)||checkPropInLink(s[a+"AxisName"],n.name))return o}}function checkPropInLink(r,t){return r==="all"||isArray$1(r)&&indexOf(r,t)>=0||r===t}function fixValue(r){var t=getAxisInfo$1(r);if(!!t){var n=t.axisPointerModel,a=t.axis.scale,o=n.option,s=n.get("status"),l=n.get("value");l!=null&&(l=a.parse(l));var u=isHandleTrigger(n);s==null&&(o.status=u?"show":"hide");var f=a.getExtent().slice();f[0]>f[1]&&f.reverse(),(l==null||l>f[1])&&(l=f[1]),l<f[0]&&(l=f[0]),o.value=l,u&&(o.status=t.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var t=getAxisInfo$1(r);return t&&t.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o,s){this.axisPointerClass&&fixValue(n),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,o,!0)},t.prototype.updateAxisPointer=function(n,a,o,s){this._doUpdateAxisPointerClass(n,o,!1)},t.prototype.remove=function(n,a){var o=this._axisPointer;o&&o.remove(a)},t.prototype.dispose=function(n,a){this._disposeAxisPointer(a),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,a,o){var s=t.getAxisPointerClass(this.axisPointerClass);if(!!s){var l=getAxisPointerModel(n);l?(this._axisPointer||(this._axisPointer=new s)).render(n,l,a,o):this._disposeAxisPointer(a)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,a){axisPointerClazz[n]=a},t.getAxisPointerClass=function(n){return n&&axisPointerClazz[n]},t.type="axis",t}(ComponentView$1),AxisView$1=AxisView,inner$f=makeInner();function rectCoordAxisBuildSplitArea(r,t,n,a){var o=n.axis;if(!o.scale.isBlank()){var s=n.getModel("splitArea"),l=s.getModel("areaStyle"),u=l.get("color"),f=a.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:s,clamp:!0});if(!!d.length){var v=u.length,g=inner$f(r).splitAreaColors,S=createHashMap(),x=0;if(g)for(var _=0;_<d.length;_++){var C=g.get(d[_].tickValue);if(C!=null){x=(C+(v-1)*_)%v;break}}var T=o.toGlobalCoord(d[0].coord),w=l.getAreaStyle();u=isArray$1(u)?u:[u];for(var _=1;_<d.length;_++){var M=o.toGlobalCoord(d[_].coord),D=void 0,I=void 0,R=void 0,$=void 0;o.isHorizontal()?(D=T,I=f.y,R=M-D,$=f.height,T=D+R):(D=f.x,I=T,R=f.width,$=M-I,T=I+$);var N=d[_-1].tickValue;N!=null&&S.set(N,x),t.add(new Rect$3({anid:N!=null?"area_"+N:null,shape:{x:D,y:I,width:R,height:$},style:defaults({fill:u[x]},w),autoBatch:!0,silent:!0})),x=(x+1)%v}inner$f(r).splitAreaColors=S}}}function rectCoordAxisHandleRemove(r){inner$f(r).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,a,o,s){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!n.get("show")){var u=n.getCoordSysModel(),f=layout$2(u,n),d=new AxisBuilder$1(n,extend({handleAutoShown:function(g){for(var S=u.coordinateSystem.getCartesians(),x=0;x<S.length;x++)if(isIntervalOrLogScale(S[x].getOtherAxis(n.axis).scale))return!0;return!1}},f));each$f(axisBuilderAttrs$3,d.add,d),this._axisGroup.add(d.getGroup()),each$f(selfBuilderAttrs$2,function(g){n.get([g,"show"])&&axisElementBuilders$2[g](this,this._axisGroup,n,u)},this);var v=s&&s.type==="changeAxisOrder"&&s.isInitSort;v||groupTransition(l,this._axisGroup,n),r.prototype.render.call(this,n,a,o,s)}},t.prototype.remove=function(){rectCoordAxisHandleRemove(this)},t.type="cartesianAxis",t}(AxisView$1),axisElementBuilders$2={splitLine:function(r,t,n,a){var o=n.axis;if(!o.scale.isBlank()){var s=n.getModel("splitLine"),l=s.getModel("lineStyle"),u=l.get("color");u=isArray$1(u)?u:[u];for(var f=a.coordinateSystem.getRect(),d=o.isHorizontal(),v=0,g=o.getTicksCoords({tickModel:s}),S=[],x=[],_=l.getLineStyle(),C=0;C<g.length;C++){var T=o.toGlobalCoord(g[C].coord);d?(S[0]=T,S[1]=f.y,x[0]=T,x[1]=f.y+f.height):(S[0]=f.x,S[1]=T,x[0]=f.x+f.width,x[1]=T);var w=v++%u.length,M=g[C].tickValue;t.add(new Line$3({anid:M!=null?"line_"+g[C].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:S[0],y1:S[1],x2:x[0],y2:x[1]},style:defaults({stroke:u[w]},_),silent:!0}))}}},minorSplitLine:function(r,t,n,a){var o=n.axis,s=n.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=a.coordinateSystem.getRect(),f=o.isHorizontal(),d=o.getMinorTicksCoords();if(!!d.length)for(var v=[],g=[],S=l.getLineStyle(),x=0;x<d.length;x++)for(var _=0;_<d[x].length;_++){var C=o.toGlobalCoord(d[x][_].coord);f?(v[0]=C,v[1]=u.y,g[0]=C,g[1]=u.y+u.height):(v[0]=u.x,v[1]=C,g[0]=u.x+u.width,g[1]=C),t.add(new Line$3({anid:"minor_line_"+d[x][_].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:g[0],y2:g[1]},style:S,silent:!0}))}},splitArea:function(r,t,n,a){rectCoordAxisBuildSplitArea(r,t,n,a)}},CartesianXAxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(CartesianAxisView),CartesianYAxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=CartesianXAxisView.type,n}return t.type="yAxis",t}(CartesianAxisView),GridView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,a){this.group.removeAll(),n.get("show")&&this.group.add(new Rect$3({shape:n.coordinateSystem.getRect(),style:defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ComponentView$1),extraOption={offset:0};function install$N(r){r.registerComponentView(GridView),r.registerComponentModel(GridModel$1),r.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(r,"x",CartesianAxisModel,extraOption),axisModelCreator(r,"y",CartesianAxisModel,extraOption),r.registerComponentView(CartesianXAxisView),r.registerComponentView(CartesianYAxisView),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function install$M(r){use(install$N),r.registerSeriesModel(ScatterSeriesModel$1),r.registerChartView(ScatterView$1),r.registerLayout(pointsLayout("scatter"))}function radarLayout(r){r.eachSeriesByType("radar",function(t){var n=t.getData(),a=[],o=t.coordinateSystem;if(!!o){var s=o.getIndicatorAxes();each$f(s,function(l,u){n.each(n.mapDimension(s[u].dim),function(f,d){a[d]=a[d]||[];var v=o.dataToPoint(f,u);a[d][u]=isValidPoint(v)?v:getValueMissingPoint(o)})}),n.each(function(l){var u=find(a[l],function(f){return isValidPoint(f)})||getValueMissingPoint(o);a[l].push(u.slice()),n.setItemLayout(l,a[l])})}})}function isValidPoint(r){return!isNaN(r[0])&&!isNaN(r[1])}function getValueMissingPoint(r){return[r.cx,r.cy]}function radarBackwardCompat(r){var t=r.polar;if(t){isArray$1(t)||(t=[t]);var n=[];each$f(t,function(a,o){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],isArray$1(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):n.push(a)}),r.polar=n}each$f(r.series,function(a){a&&a.type==="radar"&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var RadarView$2=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=n.coordinateSystem,l=this.group,u=n.getData(),f=this._data;function d(S,x){var _=S.getItemVisual(x,"symbol")||"circle";if(_!=="none"){var C=normalizeSymbolSize(S.getItemVisual(x,"symbolSize")),T=createSymbol$1(_,-1,-1,2,2),w=S.getItemVisual(x,"symbolRotate")||0;return T.attr({style:{strokeNoScale:!0},z2:100,scaleX:C[0]/2,scaleY:C[1]/2,rotation:w*Math.PI/180||0}),T}}function v(S,x,_,C,T,w){_.removeAll();for(var M=0;M<x.length-1;M++){var D=d(C,T);D&&(D.__dimIdx=M,S[M]?(D.setPosition(S[M]),graphic[w?"initProps":"updateProps"](D,{x:x[M][0],y:x[M][1]},n,T)):D.setPosition(x[M]),_.add(D))}}function g(S){return map$1(S,function(x){return[s.cx,s.cy]})}u.diff(f).add(function(S){var x=u.getItemLayout(S);if(!!x){var _=new Polygon$1,C=new Polyline$3,T={shape:{points:x}};_.shape.points=g(x),C.shape.points=g(x),initProps(_,T,n,S),initProps(C,T,n,S);var w=new Group$4,M=new Group$4;w.add(C),w.add(_),w.add(M),v(C.shape.points,x,M,u,S,!0),u.setItemGraphicEl(S,w)}}).update(function(S,x){var _=f.getItemGraphicEl(x),C=_.childAt(0),T=_.childAt(1),w=_.childAt(2),M={shape:{points:u.getItemLayout(S)}};!M.shape.points||(v(C.shape.points,M.shape.points,w,u,S,!1),saveOldStyle(T),saveOldStyle(C),updateProps$1(C,M,n),updateProps$1(T,M,n),u.setItemGraphicEl(S,_))}).remove(function(S){l.remove(f.getItemGraphicEl(S))}).execute(),u.eachItemGraphicEl(function(S,x){var _=u.getItemModel(x),C=S.childAt(0),T=S.childAt(1),w=S.childAt(2),M=u.getItemVisual(x,"style"),D=M.fill;l.add(S),C.useStyle(defaults(_.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:D})),setStatesStylesFromModel(C,_,"lineStyle"),setStatesStylesFromModel(T,_,"areaStyle");var I=_.getModel("areaStyle"),R=I.isEmpty()&&I.parentModel.isEmpty();T.ignore=R,each$f(["emphasis","select","blur"],function(F){var H=_.getModel([F,"areaStyle"]),Y=H.isEmpty()&&H.parentModel.isEmpty();T.ensureState(F).ignore=Y&&R}),T.useStyle(defaults(I.getAreaStyle(),{fill:D,opacity:.7,decal:M.decal}));var $=_.getModel("emphasis"),N=$.getModel("itemStyle").getItemStyle();w.eachChild(function(F){if(F instanceof ZRImage$1){var H=F.style;F.useStyle(extend({image:H.image,x:H.x,y:H.y,width:H.width,height:H.height},M))}else F.useStyle(M),F.setColor(D),F.style.strokeNoScale=!0;var Y=F.ensureState("emphasis");Y.style=clone$4(N);var G=u.getStore().get(u.getDimensionIndex(F.__dimIdx),x);(G==null||isNaN(G))&&(G=""),setLabelStyle(F,getLabelStatesModels(_),{labelFetcher:u.hostModel,labelDataIndex:x,labelDimIndex:F.__dimIdx,defaultText:G,inheritColor:D,defaultOpacity:M.opacity})}),toggleHoverEmphasis(S,$.get("focus"),$.get("blurScope"),$.get("disabled"))}),this._data=u},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ChartView$1),RadarView$3=RadarView$2,RadarSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},t.prototype.getInitialData=function(n,a){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(n,a,o){var s=this.getData(),l=this.coordinateSystem,u=l.getIndicatorAxes(),f=this.getData().getName(n),d=f===""?this.name:f,v=retrieveVisualColorForTooltipMarker(this,n);return createTooltipMarkup("section",{header:d,sortBlocks:!0,blocks:map$1(u,function(g){var S=s.get(s.mapDimension(g.dim),n);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:v,name:g.name,value:S,sortParam:S})})})},t.prototype.getTooltipPosition=function(n){if(n!=null){for(var a=this.getData(),o=this.coordinateSystem,s=a.getValues(map$1(o.dimensions,function(d){return a.mapDimension(d)}),n),l=0,u=s.length;l<u;l++)if(!isNaN(s[l])){var f=o.getIndicatorAxes();return o.coordToPoint(f[l].dataToCoord(s[l]),l)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(SeriesModel$1),RadarSeriesModel$1=RadarSeriesModel,valueAxisDefault=axisDefault.value;function defaultsShow(r,t){return defaults({show:t},r)}var RadarModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),a=this.get("splitNumber"),o=this.get("scale"),s=this.get("axisLine"),l=this.get("axisTick"),u=this.get("axisLabel"),f=this.get("axisName"),d=this.get(["axisName","show"]),v=this.get(["axisName","formatter"]),g=this.get("axisNameGap"),S=this.get("triggerEvent"),x=map$1(this.get("indicator")||[],function(_){_.max!=null&&_.max>0&&!_.min?_.min=0:_.min!=null&&_.min<0&&!_.max&&(_.max=0);var C=f;_.color!=null&&(C=defaults({color:_.color},f));var T=merge(clone$4(_),{boundaryGap:n,splitNumber:a,scale:o,axisLine:s,axisTick:l,axisLabel:u,name:_.text,showName:d,nameLocation:"end",nameGap:g,nameTextStyle:C,triggerEvent:S},!1);if(d||(T.name=""),isString(v)){var w=T.name;T.name=v.replace("{value}",w!=null?w:"")}else isFunction(v)&&(T.name=v(T.name,T));var M=new Model$1(T,null,this.ecModel);return mixin(M,AxisModelCommonMixin.prototype),M.mainType="radar",M.componentIndex=this.componentIndex,M},this);this._indicatorModels=x},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},t}(ComponentModel$1),RadarModel$1=RadarModel,axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=this.group;s.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},t.prototype._buildAxes=function(n){var a=n.coordinateSystem,o=a.getIndicatorAxes(),s=map$1(o,function(l){var u=l.model.get("showName")?l.name:"",f=new AxisBuilder$1(l.model,{axisName:u,position:[a.cx,a.cy],rotation:l.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return f});each$f(s,function(l){each$f(axisBuilderAttrs$2,l.add,l),this.group.add(l.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(n){var a=n.coordinateSystem,o=a.getIndicatorAxes();if(!o.length)return;var s=n.get("shape"),l=n.getModel("splitLine"),u=n.getModel("splitArea"),f=l.getModel("lineStyle"),d=u.getModel("areaStyle"),v=l.get("show"),g=u.get("show"),S=f.get("color"),x=d.get("color"),_=isArray$1(S)?S:[S],C=isArray$1(x)?x:[x],T=[],w=[];function M(Q,te,ie){var ne=ie%te.length;return Q[ne]=Q[ne]||[],ne}if(s==="circle")for(var D=o[0].getTicksCoords(),I=a.cx,R=a.cy,$=0;$<D.length;$++){if(v){var N=M(T,_,$);T[N].push(new Circle$1({shape:{cx:I,cy:R,r:D[$].coord}}))}if(g&&$<D.length-1){var N=M(w,C,$);w[N].push(new Ring$1({shape:{cx:I,cy:R,r0:D[$].coord,r:D[$+1].coord}}))}}else for(var F,H=map$1(o,function(Q,te){var ie=Q.getTicksCoords();return F=F==null?ie.length-1:Math.min(ie.length-1,F),map$1(ie,function(ne){return a.coordToPoint(ne.coord,te)})}),Y=[],$=0;$<=F;$++){for(var G=[],K=0;K<o.length;K++)G.push(H[K][$]);if(G[0]&&G.push(G[0].slice()),v){var N=M(T,_,$);T[N].push(new Polyline$3({shape:{points:G}}))}if(g&&Y){var N=M(w,C,$-1);w[N].push(new Polygon$1({shape:{points:G.concat(Y)}}))}Y=G.slice().reverse()}var Z=f.getLineStyle(),J=d.getAreaStyle();each$f(w,function(Q,te){this.group.add(mergePath(Q,{style:defaults({stroke:"none",fill:C[te%C.length]},J),silent:!0}))},this),each$f(T,function(Q,te){this.group.add(mergePath(Q,{style:defaults({fill:"none",stroke:_[te%_.length]},Z),silent:!0}))},this)},t.type="radar",t}(ComponentView$1),RadarView$1=RadarView,IndicatorAxis=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this,n,a,o)||this;return s.type="value",s.angle=0,s.name="",s}return t}(Axis$1),IndicatorAxis$1=IndicatorAxis,Radar=function(){function r(t,n,a){this.dimensions=[],this._model=t,this._indicatorAxes=map$1(t.getIndicatorModels(),function(o,s){var l="indicator_"+s,u=new IndicatorAxis$1(l,new IntervalScale$1);return u.name=o.get("name"),u.model=o,o.axis=u,this.dimensions.push(l),u},this),this.resize(t,a)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,n){var a=this._indicatorAxes[n];return this.coordToPoint(a.dataToCoord(t),n)},r.prototype.coordToPoint=function(t,n){var a=this._indicatorAxes[n],o=a.angle,s=this.cx+t*Math.cos(o),l=this.cy-t*Math.sin(o);return[s,l]},r.prototype.pointToData=function(t){var n=t[0]-this.cx,a=t[1]-this.cy,o=Math.sqrt(n*n+a*a);n/=o,a/=o;for(var s=Math.atan2(-a,n),l=1/0,u,f=-1,d=0;d<this._indicatorAxes.length;d++){var v=this._indicatorAxes[d],g=Math.abs(s-v.angle);g<l&&(u=v,f=d,l=g)}return[f,+(u&&u.coordToData(o))]},r.prototype.resize=function(t,n){var a=t.get("center"),o=n.getWidth(),s=n.getHeight(),l=Math.min(o,s)/2;this.cx=parsePercent(a[0],o),this.cy=parsePercent(a[1],s),this.startAngle=t.get("startAngle")*Math.PI/180;var u=t.get("radius");(isString(u)||isNumber(u))&&(u=[0,u]),this.r0=parsePercent(u[0],l),this.r=parsePercent(u[1],l),each$f(this._indicatorAxes,function(f,d){f.setExtent(this.r0,this.r);var v=this.startAngle+d*Math.PI*2/this._indicatorAxes.length;v=Math.atan2(Math.sin(v),Math.cos(v)),f.angle=v},this)},r.prototype.update=function(t,n){var a=this._indicatorAxes,o=this._model;each$f(a,function(u){u.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(u,f){if(!(u.get("coordinateSystem")!=="radar"||t.getComponent("radar",u.get("radarIndex"))!==o)){var d=u.getData();each$f(a,function(v){v.scale.unionExtentFromData(d,d.mapDimension(v.dim))})}},this);var s=o.get("splitNumber"),l=new IntervalScale$1;l.setExtent(0,s),l.setInterval(1),each$f(a,function(u,f){alignScaleTicks(u.scale,u.model,l)})},r.prototype.convertToPixel=function(t,n,a){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,n,a){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,n){var a=[];return t.eachComponent("radar",function(o){var s=new r(o,t,n);a.push(s),o.coordinateSystem=s}),t.eachSeriesByType("radar",function(o){o.get("coordinateSystem")==="radar"&&(o.coordinateSystem=a[o.get("radarIndex")||0])}),a},r.dimensions=[],r}(),Radar$1=Radar;function install$L(r){r.registerCoordinateSystem("radar",Radar$1),r.registerComponentModel(RadarModel$1),r.registerComponentView(RadarView$1),r.registerVisual({seriesType:"radar",reset:function(t){var n=t.getData();n.each(function(a){n.setItemVisual(a,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function install$K(r){use(install$L),r.registerChartView(RadarView$3),r.registerSeriesModel(RadarSeriesModel$1),r.registerLayout(radarLayout),r.registerProcessor(dataFilter$1("radar")),r.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(r,t,n){var a=getStore(r);a[t]=n}function release(r,t,n){var a=getStore(r),o=a[t];o===n&&(a[t]=null)}function isTaken(r,t){return!!getStore(r)[t]}function getStore(r){return r[ATTR]||(r[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(r){__extends$1(t,r);function t(n){var a=r.call(this)||this;a._zr=n;var o=bind$1(a._mousedownHandler,a),s=bind$1(a._mousemoveHandler,a),l=bind$1(a._mouseupHandler,a),u=bind$1(a._mousewheelHandler,a),f=bind$1(a._pinchHandler,a);return a.enable=function(d,v){this.disable(),this._opt=defaults(clone$4(v)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),d==null&&(d=!0),(d===!0||d==="move"||d==="pan")&&(n.on("mousedown",o),n.on("mousemove",s),n.on("mouseup",l)),(d===!0||d==="scale"||d==="zoom")&&(n.on("mousewheel",u),n.on("pinch",f))},a.disable=function(){n.off("mousedown",o),n.off("mousemove",s),n.off("mouseup",l),n.off("mousewheel",u),n.off("pinch",f)},a}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!(isMiddleOrRightButtonOnMouseUpDown(n)||n.target&&n.target.draggable)){var a=n.offsetX,o=n.offsetY;this.pointerChecker&&this.pointerChecker(n,a,o)&&(this._x=a,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var a=n.offsetX,o=n.offsetY,s=this._x,l=this._y,u=a-s,f=o-l;this._x=a,this._y=o,this._opt.preventDefaultMouseMove&&stop(n.event),trigger$1(this,"pan","moveOnMouseMove",n,{dx:u,dy:f,oldX:s,oldY:l,newX:a,newY:o,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){isMiddleOrRightButtonOnMouseUpDown(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var a=isAvailableBehavior("zoomOnMouseWheel",n,this._opt),o=isAvailableBehavior("moveOnMouseWheel",n,this._opt),s=n.wheelDelta,l=Math.abs(s),u=n.offsetX,f=n.offsetY;if(!(s===0||!a&&!o)){if(a){var d=l>3?1.4:l>1?1.2:1.1,v=s>0?d:1/d;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",n,{scale:v,originX:u,originY:f,isAvailableBehavior:null})}if(o){var g=Math.abs(s),S=(s>0?1:-1)*(g>3?.4:g>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:S,originX:u,originY:f,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!isTaken(this._zr,"globalPan")){var a=n.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,n,{scale:a,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}(Eventful$1);function checkPointerAndTrigger(r,t,n,a,o){r.pointerChecker&&r.pointerChecker(a,o.originX,o.originY)&&(stop(a.event),trigger$1(r,t,n,a,o))}function trigger$1(r,t,n,a,o){o.isAvailableBehavior=bind$1(isAvailableBehavior,null,n,a),r.trigger(t,o)}function isAvailableBehavior(r,t,n){var a=n[r];return!r||a&&(!isString(a)||t.event[a+"Key"])}var RoamController$1=RoamController;function updateViewOnPan(r,t,n){var a=r.target;a.x+=t,a.y+=n,a.dirty()}function updateViewOnZoom(r,t,n,a){var o=r.target,s=r.zoomLimit,l=r.zoom=r.zoom||1;if(l*=t,s){var u=s.min||0,f=s.max||1/0;l=Math.max(Math.min(f,l),u)}var d=l/r.zoom;r.zoom=l,o.x-=(n-o.x)*(d-1),o.y-=(a-o.y)*(d-1),o.scaleX*=d,o.scaleY*=d,o.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(r,t,n){var a=t.getComponentByElement(r.topTarget),o=a&&a.coordinateSystem;return a&&a!==n&&!IRRELEVANT_EXCLUDES.hasOwnProperty(a.mainType)&&o&&o.model!==n}function parseXML(r){if(isString(r)){var t=new DOMParser;r=t.parseFromString(r,"text/xml")}var n=r;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(t,n){n=n||{};var a=parseXML(t);this._defsUsePending=[];var o=new Group$4;this._root=o;var s=[],l=a.getAttribute("viewBox")||"",u=parseFloat(a.getAttribute("width")||n.width),f=parseFloat(a.getAttribute("height")||n.height);isNaN(u)&&(u=null),isNaN(f)&&(f=null),parseAttributes(a,o,null,!0,!1);for(var d=a.firstChild;d;)this._parseNode(d,o,s,null,!1,!1),d=d.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var v,g;if(l){var S=splitNumberSequence(l);S.length>=4&&(v={x:parseFloat(S[0]||0),y:parseFloat(S[1]||0),width:parseFloat(S[2]),height:parseFloat(S[3])})}if(v&&u!=null&&f!=null&&(g=makeViewBoxTransform(v,{x:0,y:0,width:u,height:f}),!n.ignoreViewBox)){var x=o;o=new Group$4,o.add(x),x.scaleX=x.scaleY=g.scale,x.x=g.x,x.y=g.y}return!n.ignoreRootClip&&u!=null&&f!=null&&o.setClipPath(new Rect$3({shape:{x:0,y:0,width:u,height:f}})),{root:o,width:u,height:f,viewBoxRect:v,viewBoxTransform:g,named:s}},r.prototype._parseNode=function(t,n,a,o,s,l){var u=t.nodeName.toLowerCase(),f,d=o;if(u==="defs"&&(s=!0),u==="text"&&(l=!0),u==="defs"||u==="switch")f=n;else{if(!s){var v=nodeParsers[u];if(v&&hasOwn(nodeParsers,u)){f=v.call(this,t,n);var g=t.getAttribute("name");if(g){var S={name:g,namedFrom:null,svgNodeTagLower:u,el:f};a.push(S),u==="g"&&(d=S)}else o&&a.push({name:o.name,namedFrom:o,svgNodeTagLower:u,el:f});n.add(f)}}var x=paintServerParsers[u];if(x&&hasOwn(paintServerParsers,u)){var _=x.call(this,t),C=t.getAttribute("id");C&&(this._defs[C]=_)}}if(f&&f.isGroup)for(var T=t.firstChild;T;)T.nodeType===1?this._parseNode(T,f,a,d,s,l):T.nodeType===3&&l&&this._parseText(T,f),T=T.nextSibling},r.prototype._parseText=function(t,n){var a=new TSpan$1({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(n,a),parseAttributes(t,a,this._defsUsePending,!1,!1),applyTextAlignment(a,n);var o=a.style,s=o.fontSize;s&&s<9&&(o.fontSize=9,a.scaleX*=s/9,a.scaleY*=s/9);var l=(o.fontSize||o.fontFamily)&&[o.fontStyle,o.fontWeight,(o.fontSize||12)+"px",o.fontFamily||"sans-serif"].join(" ");o.font=l;var u=a.getBoundingRect();return this._textX+=u.width,n.add(a),a},r.internalField=function(){nodeParsers={g:function(t,n){var a=new Group$4;return inheritStyle(n,a),parseAttributes(t,a,this._defsUsePending,!1,!1),a},rect:function(t,n){var a=new Rect$3;return inheritStyle(n,a),parseAttributes(t,a,this._defsUsePending,!1,!1),a.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),a.silent=!0,a},circle:function(t,n){var a=new Circle$1;return inheritStyle(n,a),parseAttributes(t,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),a.silent=!0,a},line:function(t,n){var a=new Line$3;return inheritStyle(n,a),parseAttributes(t,a,this._defsUsePending,!1,!1),a.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),a.silent=!0,a},ellipse:function(t,n){var a=new Ellipse$1;return inheritStyle(n,a),parseAttributes(t,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),a.silent=!0,a},polygon:function(t,n){var a=t.getAttribute("points"),o;a&&(o=parsePoints(a));var s=new Polygon$1({shape:{points:o||[]},silent:!0});return inheritStyle(n,s),parseAttributes(t,s,this._defsUsePending,!1,!1),s},polyline:function(t,n){var a=t.getAttribute("points"),o;a&&(o=parsePoints(a));var s=new Polyline$3({shape:{points:o||[]},silent:!0});return inheritStyle(n,s),parseAttributes(t,s,this._defsUsePending,!1,!1),s},image:function(t,n){var a=new ZRImage$1;return inheritStyle(n,a),parseAttributes(t,a,this._defsUsePending,!1,!1),a.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),a.silent=!0,a},text:function(t,n){var a=t.getAttribute("x")||"0",o=t.getAttribute("y")||"0",s=t.getAttribute("dx")||"0",l=t.getAttribute("dy")||"0";this._textX=parseFloat(a)+parseFloat(s),this._textY=parseFloat(o)+parseFloat(l);var u=new Group$4;return inheritStyle(n,u),parseAttributes(t,u,this._defsUsePending,!1,!0),u},tspan:function(t,n){var a=t.getAttribute("x"),o=t.getAttribute("y");a!=null&&(this._textX=parseFloat(a)),o!=null&&(this._textY=parseFloat(o));var s=t.getAttribute("dx")||"0",l=t.getAttribute("dy")||"0",u=new Group$4;return inheritStyle(n,u),parseAttributes(t,u,this._defsUsePending,!1,!0),this._textX+=parseFloat(s),this._textY+=parseFloat(l),u},path:function(t,n){var a=t.getAttribute("d")||"",o=createFromString(a);return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o.silent=!0,o}}}(),r}(),paintServerParsers={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10),n=parseInt(r.getAttribute("y1")||"0",10),a=parseInt(r.getAttribute("x2")||"10",10),o=parseInt(r.getAttribute("y2")||"0",10),s=new LinearGradient$1(t,n,a,o);return parsePaintServerUnit(r,s),parseGradientColorStops(r,s),s},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10),n=parseInt(r.getAttribute("cy")||"0",10),a=parseInt(r.getAttribute("r")||"0",10),o=new RadialGradient$1(t,n,a);return parsePaintServerUnit(r,o),parseGradientColorStops(r,o),o}};function parsePaintServerUnit(r,t){var n=r.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(t.global=!0)}function parseGradientColorStops(r,t){for(var n=r.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var a=n.getAttribute("offset"),o=void 0;a&&a.indexOf("%")>0?o=parseInt(a,10)/100:a?o=parseFloat(a):o=0;var s={};parseInlineStyle(n,s,s);var l=s.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:o,color:l})}n=n.nextSibling}}function inheritStyle(r,t){r&&r.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),defaults(t.__inheritedStyle,r.__inheritedStyle))}function parsePoints(r){for(var t=splitNumberSequence(r),n=[],a=0;a<t.length;a+=2){var o=parseFloat(t[a]),s=parseFloat(t[a+1]);n.push([o,s])}return n}function parseAttributes(r,t,n,a,o){var s=t,l=s.__inheritedStyle=s.__inheritedStyle||{},u={};r.nodeType===1&&(parseTransformAttribute(r,t),parseInlineStyle(r,l,u),a||parseAttributeStyle(r,l,u)),s.style=s.style||{},l.fill!=null&&(s.style.fill=getFillStrokeStyle(s,"fill",l.fill,n)),l.stroke!=null&&(s.style.stroke=getFillStrokeStyle(s,"stroke",l.stroke,n)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(f){l[f]!=null&&(s.style[f]=parseFloat(l[f]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(f){l[f]!=null&&(s.style[f]=l[f])}),o&&(s.__selfStyle=u),l.lineDash&&(s.style.lineDash=map$1(splitNumberSequence(l.lineDash),function(f){return parseFloat(f)})),(l.visibility==="hidden"||l.visibility==="collapse")&&(s.invisible=!0),l.display==="none"&&(s.ignore=!0)}function applyTextAlignment(r,t){var n=t.__selfStyle;if(n){var a=n.textBaseline,o=a;!a||a==="auto"||a==="baseline"?o="alphabetic":a==="before-edge"||a==="text-before-edge"?o="top":a==="after-edge"||a==="text-after-edge"?o="bottom":(a==="central"||a==="mathematical")&&(o="middle"),r.style.textBaseline=o}var s=t.__inheritedStyle;if(s){var l=s.textAlign,u=l;l&&(l==="middle"&&(u="center"),r.style.textAlign=u)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(r,t,n,a){var o=n&&n.match(urlRegex);if(o){var s=trim$1(o[1]);a.push([r,t,s]);return}return n==="none"&&(n=null),n}function applyDefs(r,t){for(var n=0;n<t.length;n++){var a=t[n];a[0].style[a[1]]=r[a[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(r){return r.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(r,t){var n=r.getAttribute("transform");if(n){n=n.replace(/,/g," ");var a=[],o=null;n.replace(transformRegex,function(g,S,x){return a.push(S,x),""});for(var s=a.length-1;s>0;s-=2){var l=a[s],u=a[s-1],f=splitNumberSequence(l);switch(o=o||create$1(),u){case"translate":translate(o,o,[parseFloat(f[0]),parseFloat(f[1]||"0")]);break;case"scale":scale$1(o,o,[parseFloat(f[0]),parseFloat(f[1]||f[0])]);break;case"rotate":rotate(o,o,-parseFloat(f[0])*DEGREE_TO_ANGLE);break;case"skewX":var d=Math.tan(parseFloat(f[0])*DEGREE_TO_ANGLE);mul(o,[1,0,d,1,0,0],o);break;case"skewY":var v=Math.tan(parseFloat(f[0])*DEGREE_TO_ANGLE);mul(o,[1,v,0,1,0,0],o);break;case"matrix":o[0]=parseFloat(f[0]),o[1]=parseFloat(f[1]),o[2]=parseFloat(f[2]),o[3]=parseFloat(f[3]),o[4]=parseFloat(f[4]),o[5]=parseFloat(f[5]);break}}t.setLocalTransform(o)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(r,t,n){var a=r.getAttribute("style");if(!!a){styleRegex.lastIndex=0;for(var o;(o=styleRegex.exec(a))!=null;){var s=o[1],l=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,s)?INHERITABLE_STYLE_ATTRIBUTES_MAP[s]:null;l&&(t[l]=o[2]);var u=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,s)?SELF_STYLE_ATTRIBUTES_MAP[s]:null;u&&(n[u]=o[2])}}}function parseAttributeStyle(r,t,n){for(var a=0;a<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;a++){var o=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[a],s=r.getAttribute(o);s!=null&&(t[INHERITABLE_STYLE_ATTRIBUTES_MAP[o]]=s)}for(var a=0;a<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;a++){var o=SELF_STYLE_ATTRIBUTES_MAP_KEYS[a],s=r.getAttribute(o);s!=null&&(n[SELF_STYLE_ATTRIBUTES_MAP[o]]=s)}}function makeViewBoxTransform(r,t){var n=t.width/r.width,a=t.height/r.height,o=Math.min(n,a);return{scale:o,x:-(r.x+r.width/2)*o+(t.x+t.width/2),y:-(r.y+r.height/2)*o+(t.y+t.height/2)}}function parseSVG(r,t){var n=new SVGParser;return n.parse(r,t)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function r(t,n){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=t,this._parsedXML=parseXML(n)}return r.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=createRegions(t.named),a=n.regions,o=n.regionsMap;this._regions=a,this._regionsMap=o}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(t){var n,a;try{n=t&&parseSVG(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},a=n.root,assert(a!=null)}catch(T){throw new Error(`Invalid svg format
`+T.message)}var o=new Group$4;o.add(a),o.isGeoSVGGraphicRoot=!0;var s=n.width,l=n.height,u=n.viewBoxRect,f=this._boundingRect;if(!f){var d=void 0,v=void 0,g=void 0,S=void 0;if(s!=null?(d=0,g=s):u&&(d=u.x,g=u.width),l!=null?(v=0,S=l):u&&(v=u.y,S=u.height),d==null||v==null){var x=a.getBoundingRect();d==null&&(d=x.x,g=x.width),v==null&&(v=x.y,S=x.height)}f=this._boundingRect=new BoundingRect$1(d,v,g,S)}if(u){var _=makeViewBoxTransform(u,f);a.scaleX=a.scaleY=_.scale,a.x=_.x,a.y=_.y}o.setClipPath(new Rect$3({shape:f.plain()}));var C=[];return each$f(n.named,function(T){REGION_AVAILABLE_SVG_TAG_MAP.get(T.svgNodeTagLower)!=null&&(C.push(T),setSilent(T.el))}),{root:o,boundingRect:f,named:C}},r.prototype.useGraphic=function(t){var n=this._usedGraphicMap,a=n.get(t);return a||(a=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(t,a),a)},r.prototype.freeGraphic=function(t){var n=this._usedGraphicMap,a=n.get(t);a&&(n.removeKey(t),this._freedGraphics.push(a))},r}();function setSilent(r){r.silent=!1,r.isGroup&&r.traverse(function(t){t.silent=!1})}function createRegions(r){var t=[],n=createHashMap();return each$f(r,function(a){if(a.namedFrom==null){var o=new GeoSVGRegion(a.name,a.el);t.push(o),n.set(a.name,o)}}),{regions:t,regionsMap:n}}var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(r,t){if(r==="china"){for(var n=0;n<t.length;n++)if(t[n].name===nanhaiName)return;t.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(a){return{type:"polygon",exterior:a}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords(r,t){if(r==="china"){var n=coordsOffsetMap[t.name];if(n){var a=t.getCenter();a[0]+=n[0]/10.5,a[1]+=-n[1]/(10.5/.75),t.setCenter(a)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(r,t){r==="china"&&t.name==="\u53F0\u6E7E"&&t.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function r(t,n,a){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=t,this._specialAreas=a,this._geoJSON=parseInput(n)}return r.prototype.load=function(t,n){n=n||DEFAULT_NAME_PROPERTY;var a=this._parsedMap.get(n);if(!a){var o=this._parseToRegions(n);a=this._parsedMap.set(n,{regions:o,boundingRect:calculateBoundingRect(o)})}var s=createHashMap(),l=[];return each$f(a.regions,function(u){var f=u.name;t&&hasOwn(t,f)&&(u=u.cloneShallow(f=t[f])),l.push(u),s.set(f,u)}),{regions:l,boundingRect:a.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:s}},r.prototype._parseToRegions=function(t){var n=this._mapName,a=this._geoJSON,o;try{o=a?parseGeoJSON(a,t):[]}catch(s){throw new Error(`Invalid geoJson format
`+s.message)}return fixNanhai(n,o),each$f(o,function(s){var l=s.name;fixTextCoords(n,s),fixDiaoyuIsland(n,s);var u=this._specialAreas&&this._specialAreas[l];u&&s.transformTo(u.left,u.top,u.width,u.height)},this),o},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function calculateBoundingRect(r){for(var t,n=0;n<r.length;n++){var a=r[n].getBoundingRect();t=t||a.clone(),t.union(a)}return t}function parseInput(r){return isString(r)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var storage=createHashMap(),geoSourceManager={registerMap:function(r,t,n){if(t.svg){var a=new GeoSVGResource(r,t.svg);storage.set(r,a)}else{var o=t.geoJson||t.geoJSON;o&&!t.features?n=t.specialAreas:o=t;var a=new GeoJSONResource(r,o,n);storage.set(r,a)}},getGeoResource:function(r){return storage.get(r)},getMapForUser:function(r){var t=storage.get(r);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(r,t,n){var a=storage.get(r);if(!!a)return a.load(t,n)}},OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(r){var t=r.getItemStyle(),n=r.get("areaColor");return n!=null&&(t.fill=n),t}function fixLineStyle(r){var t=r.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var MapDraw=function(){function r(t){var n=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(t.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new Group$4),n.add(this._svgGroup=new Group$4)}return r.prototype.draw=function(t,n,a,o,s){var l=t.mainType==="geo",u=t.getData&&t.getData();l&&n.eachComponent({mainType:"series",subType:"map"},function(w){!u&&w.getHostGeoModel()===t&&(u=w.getData())});var f=t.coordinateSystem,d=this._regionsGroup,v=this.group,g=f.getTransformInfo(),S=g.raw,x=g.roam,_=!d.childAt(0)||s;_?(v.x=x.x,v.y=x.y,v.scaleX=x.scaleX,v.scaleY=x.scaleY,v.dirty()):updateProps$1(v,x,t);var C=u&&u.getVisual("visualMeta")&&u.getVisual("visualMeta").length>0,T={api:a,geo:f,mapOrGeoModel:t,data:u,isVisualEncodedByVisualMap:C,isGeo:l,transformInfoRaw:S};f.resourceType==="geoJSON"?this._buildGeoJSON(T):f.resourceType==="geoSVG"&&this._buildSVG(T),this._updateController(t,n,a),this._updateMapSelectHandler(t,d,a,o)},r.prototype._buildGeoJSON=function(t){var n=this._regionsGroupByName=createHashMap(),a=createHashMap(),o=this._regionsGroup,s=t.transformInfoRaw,l=t.mapOrGeoModel,u=t.data,f=t.geo.projection,d=f&&f.stream;function v(x,_){return _&&(x=_(x)),x&&[x[0]*s.scaleX+s.x,x[1]*s.scaleY+s.y]}function g(x){for(var _=[],C=!d&&f&&f.project,T=0;T<x.length;++T){var w=v(x[T],C);w&&_.push(w)}return _}function S(x){return{shape:{points:g(x)}}}o.removeAll(),each$f(t.geo.regions,function(x){var _=x.name,C=n.get(_),T=a.get(_)||{},w=T.dataIdx,M=T.regionModel;C||(C=n.set(_,new Group$4),o.add(C),w=u?u.indexOfName(_):null,M=t.isGeo?l.getRegionModel(_):u?u.getItemModel(w):null,a.set(_,{dataIdx:w,regionModel:M}));var D=[],I=[];each$f(x.geometries,function(N){if(N.type==="polygon"){var F=[N.exterior].concat(N.interiors||[]);d&&(F=projectPolys(F,d)),each$f(F,function(Y){D.push(new Polygon$1(S(Y)))})}else{var H=N.points;d&&(H=projectPolys(H,d,!0)),each$f(H,function(Y){I.push(new Polyline$3(S(Y)))})}});var R=v(x.getCenter(),f&&f.project);function $(N,F){if(!!N.length){var H=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:N}});C.add(H),applyOptionStyleForRegion(t,H,w,M),resetLabelForRegion(t,H,_,M,l,w,R),F&&(fixLineStyle(H),each$f(H.states,fixLineStyle))}}$(D),$(I,!0)}),n.each(function(x,_){var C=a.get(_),T=C.dataIdx,w=C.regionModel;resetEventTriggerForRegion(t,x,_,w,l,T),resetTooltipForRegion(t,x,_,w,l),resetStateTriggerForRegion(t,x,_,w,l)},this)},r.prototype._buildSVG=function(t){var n=t.geo.map,a=t.transformInfoRaw;this._svgGroup.x=a.x,this._svgGroup.y=a.y,this._svgGroup.scaleX=a.scaleX,this._svgGroup.scaleY=a.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var o=this._svgDispatcherMap=createHashMap(),s=!1;each$f(this._svgGraphicRecord.named,function(l){var u=l.name,f=t.mapOrGeoModel,d=t.data,v=l.svgNodeTagLower,g=l.el,S=d?d.indexOfName(u):null,x=f.getRegionModel(u);if(OPTION_STYLE_ENABLED_TAG_MAP.get(v)!=null&&g instanceof Displayable$1&&applyOptionStyleForRegion(t,g,S,x),g instanceof Displayable$1&&(g.culling=!0),g.z2EmphasisLift=0,!l.namedFrom&&(LABEL_HOST_MAP.get(v)!=null&&resetLabelForRegion(t,g,u,x,f,S,null),resetEventTriggerForRegion(t,g,u,x,f,S),resetTooltipForRegion(t,g,u,x,f),STATE_TRIGGER_TAG_MAP.get(v)!=null)){var _=resetStateTriggerForRegion(t,g,u,x,f);_==="self"&&(s=!0);var C=o.get(u)||o.set(u,[]);C.push(g)}},this),this._enableBlurEntireSVG(s,t)},r.prototype._enableBlurEntireSVG=function(t,n){if(t&&n.isGeo){var a=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),o=a.opacity;this._svgGraphicRecord.root.traverse(function(s){if(!s.isGroup){setDefaultStateProxy(s);var l=s.ensureState("blur").style||{};l.opacity==null&&o!=null&&(l.opacity=o),s.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(t,n){if(t==null)return[];var a=n.coordinateSystem;if(a.resourceType==="geoJSON"){var o=this._regionsGroupByName;if(o){var s=o.get(t);return s?[s]:[]}}else if(a.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},r.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},r.prototype._useSVG=function(t){var n=geoSourceManager.getGeoResource(t);if(n&&n.type==="geoSVG"){var a=n.useGraphic(this.uid);this._svgGroup.add(a.root),this._svgGraphicRecord=a,this._svgMapName=t}},r.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var n=geoSourceManager.getGeoResource(t);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(t,n,a){var o=t.coordinateSystem,s=this._controller,l=this._controllerHost;l.zoomLimit=t.get("scaleLimit"),l.zoom=o.getZoom(),s.enable(t.get("roam")||!1);var u=t.mainType;function f(){var d={type:"geoRoam",componentType:u};return d[u+"Id"]=t.id,d}s.off("pan").on("pan",function(d){this._mouseDownFlag=!1,updateViewOnPan(l,d.dx,d.dy),a.dispatchAction(extend(f(),{dx:d.dx,dy:d.dy,animation:{duration:0}}))},this),s.off("zoom").on("zoom",function(d){this._mouseDownFlag=!1,updateViewOnZoom(l,d.scale,d.originX,d.originY),a.dispatchAction(extend(f(),{zoom:d.scale,originX:d.originX,originY:d.originY,animation:{duration:0}}))},this),s.setPointerChecker(function(d,v,g){return o.containPoint([v,g])&&!onIrrelevantElement(d,a,t)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var n=t.getTextContent();n&&(n.ignore=mapLabelRaw(n).ignore)})},r.prototype._updateMapSelectHandler=function(t,n,a,o){var s=this;n.off("mousedown"),n.off("click"),t.get("selectedMode")&&(n.on("mousedown",function(){s._mouseDownFlag=!0}),n.on("click",function(l){!s._mouseDownFlag||(s._mouseDownFlag=!1)}))},r}();function applyOptionStyleForRegion(r,t,n,a){var o=a.getModel("itemStyle"),s=a.getModel(["emphasis","itemStyle"]),l=a.getModel(["blur","itemStyle"]),u=a.getModel(["select","itemStyle"]),f=getFixedItemStyle(o),d=getFixedItemStyle(s),v=getFixedItemStyle(u),g=getFixedItemStyle(l),S=r.data;if(S){var x=S.getItemVisual(n,"style"),_=S.getItemVisual(n,"decal");r.isVisualEncodedByVisualMap&&x.fill&&(f.fill=x.fill),_&&(f.decal=createOrUpdatePatternFromDecal(_,r.api))}t.setStyle(f),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=d,t.ensureState("select").style=v,t.ensureState("blur").style=g,setDefaultStateProxy(t)}function resetLabelForRegion(r,t,n,a,o,s,l){var u=r.data,f=r.isGeo,d=u&&isNaN(u.get(u.mapDimension("value"),s)),v=u&&u.getItemLayout(s);if(f||d||v&&v.showLabel){var g=f?n:s,S=void 0;(!u||s>=0)&&(S=o);var x=l?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(t,getLabelStatesModels(a),{labelFetcher:S,labelDataIndex:g,defaultText:n},x);var _=t.getTextContent();if(_&&(mapLabelRaw(_).ignore=_.ignore,t.textConfig&&l)){var C=t.getBoundingRect().clone();t.textConfig.layoutRect=C,t.textConfig.position=[(l[0]-C.x)/C.width*100+"%",(l[1]-C.y)/C.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function resetEventTriggerForRegion(r,t,n,a,o,s){r.data?r.data.setItemGraphicEl(s,t):getECData(t).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:n,region:a&&a.option||{}}}function resetTooltipForRegion(r,t,n,a,o){r.data||setTooltipConfig({el:t,componentModel:o,itemName:n,itemTooltipOption:a.get("tooltip")})}function resetStateTriggerForRegion(r,t,n,a,o){t.highDownSilentOnTouch=!!o.get("selectedMode");var s=a.getModel("emphasis"),l=s.get("focus");return toggleHoverEmphasis(t,l,s.get("blurScope"),s.get("disabled")),r.isGeo&&enableComponentHighDownFeatures(t,o,n),l}function projectPolys(r,t,n){var a=[],o;function s(){o=[]}function l(){o.length&&(a.push(o),o=[])}var u=t({polygonStart:s,polygonEnd:l,lineStart:s,lineEnd:l,point:function(f,d){isFinite(f)&&isFinite(d)&&o.push([f,d])},sphere:function(){}});return!n&&u.polygonStart(),each$f(r,function(f){u.lineStart();for(var d=0;d<f.length;d++)u.point(f[d][0],f[d][1]);u.lineEnd()}),!n&&u.polygonEnd(),a}var MapDraw$1=MapDraw,MapView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o,s){if(!(s&&s.type==="mapToggleSelect"&&s.from===this.uid)){var l=this.group;if(l.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&s&&s.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),s&&s.type==="geoRoam"&&s.componentType==="series"&&s.seriesId===n.id){var u=this._mapDraw;u&&l.add(u.group)}else if(n.needsDrawMap){var u=this._mapDraw||new MapDraw$1(o);l.add(u.group),u.draw(n,a,o,this,s),this._mapDraw=u}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&a.getComponent("legend")&&this._renderSymbols(n,a,o)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(n,a,o){var s=n.originalData,l=this.group;s.each(s.mapDimension("value"),function(u,f){if(!isNaN(u)){var d=s.getItemLayout(f);if(!(!d||!d.point)){var v=d.point,g=d.offset,S=new Circle$1({style:{fill:n.getData().getVisual("style").fill},shape:{cx:v[0]+g*9,cy:v[1],r:3},silent:!0,z2:8+(g?0:Z2_EMPHASIS_LIFT+1)});if(!g){var x=n.mainSeries.getData(),_=s.getName(f),C=x.indexOfName(_),T=s.getItemModel(f),w=T.getModel("label"),M=x.getItemGraphicEl(C);setLabelStyle(S,getLabelStatesModels(T),{labelFetcher:{getFormattedLabel:function(D,I){return n.getFormattedLabel(C,I)}},defaultText:_}),S.disableLabelAnimation=!0,w.get("position")||S.setTextConfig({position:"bottom"}),M.onHoverStateChange=function(D){setStatesFlag(S,D)}}l.add(S)}}})},t.type="map",t}(ChartView$1),MapView$1=MapView,MapSeries=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(a){if(a!=null){var o=this.getData().getName(a),s=this.coordinateSystem,l=s.getRegion(o);return l&&s.dataToPoint(l.getCenter())}},n}return t.prototype.getInitialData=function(n){for(var a=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),o=createHashMap(),s=[],l=0,u=a.count();l<u;l++){var f=a.getName(l);o.set(f,!0)}var d=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(d.regions,function(v){var g=v.name;o.get(g)||s.push(g)}),a.appendValues([],s),a},t.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(n){var a=this.getData();return a.get(a.mapDimension("value"),n)},t.prototype.getRegionModel=function(n){var a=this.getData();return a.getItemModel(a.indexOfName(n))},t.prototype.formatTooltip=function(n,a,o){for(var s=this.getData(),l=this.getRawValue(n),u=s.getName(n),f=this.seriesGroup,d=[],v=0;v<f.length;v++){var g=f[v].originalData.indexOfName(u),S=s.mapDimension("value");isNaN(f[v].originalData.get(S,g))||d.push(f[v].name)}return createTooltipMarkup("section",{header:d.join(", "),noHeader:!d.length,blocks:[createTooltipMarkup("nameValue",{name:u,value:l})]})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.getLegendIcon=function(n){var a=n.icon||"roundRect",o=createSymbol$1(a,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return o.setStyle(n.itemStyle),o.style.stroke="none",a.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(SeriesModel$1),MapSeries$1=MapSeries;function dataStatistics(r,t){var n={};return each$f(r,function(a){a.each(a.mapDimension("value"),function(o,s){var l="ec-"+a.getName(s);n[l]=n[l]||[],isNaN(o)||n[l].push(o)})}),r[0].map(r[0].mapDimension("value"),function(a,o){for(var s="ec-"+r[0].getName(o),l=0,u=1/0,f=-1/0,d=n[s].length,v=0;v<d;v++)u=Math.min(u,n[s][v]),f=Math.max(f,n[s][v]),l+=n[s][v];var g;return t==="min"?g=u:t==="max"?g=f:t==="average"?g=l/d:g=l,d===0?NaN:g})}function mapDataStatistic(r){var t={};r.eachSeriesByType("map",function(n){var a=n.getHostGeoModel(),o=a?"o"+a.id:"i"+n.getMapType();(t[o]=t[o]||[]).push(n)}),each$f(t,function(n,a){for(var o=dataStatistics(map$1(n,function(l){return l.getData()}),n[0].get("mapValueCalculation")),s=0;s<n.length;s++)n[s].originalData=n[s].getData();for(var s=0;s<n.length;s++)n[s].seriesGroup=n,n[s].needsDrawMap=s===0&&!n[s].getHostGeoModel(),n[s].setData(o.cloneShallow()),n[s].mainSeries=n[0]})}function mapSymbolLayout(r){var t={};r.eachSeriesByType("map",function(n){var a=n.getMapType();if(!(n.getHostGeoModel()||t[a])){var o={};each$f(n.seriesGroup,function(l){var u=l.coordinateSystem,f=l.originalData;l.get("showLegendSymbol")&&r.getComponent("legend")&&f.each(f.mapDimension("value"),function(d,v){var g=f.getName(v),S=u.getRegion(g);if(!(!S||isNaN(d))){var x=o[g]||0,_=u.dataToPoint(S.getCenter());o[g]=x+1,f.setItemLayout(v,{point:_,offset:x})}})});var s=n.getData();s.each(function(l){var u=s.getName(l),f=s.getItemLayout(l)||{};f.showLabel=!o[u],s.setItemLayout(l,f)}),t[a]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(r){__extends$1(t,r);function t(n){var a=r.call(this)||this;return a.type="view",a.dimensions=["x","y"],a._roamTransformable=new Transformable$1,a._rawTransformable=new Transformable$1,a.name=n,a}return t.prototype.setBoundingRect=function(n,a,o,s){return this._rect=new BoundingRect$1(n,a,o,s),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(n,a,o,s){this._transformTo(n,a,o,s),this._viewRect=new BoundingRect$1(n,a,o,s)},t.prototype._transformTo=function(n,a,o,s){var l=this.getBoundingRect(),u=this._rawTransformable;u.transform=l.calculateTransform(new BoundingRect$1(n,a,o,s));var f=u.parent;u.parent=null,u.decomposeTransform(),u.parent=f,this._updateTransform()},t.prototype.setCenter=function(n){!n||(this._center=n,this._updateCenterAndZoom())},t.prototype.setZoom=function(n){n=n||1;var a=this.zoomLimit;a&&(a.max!=null&&(n=Math.min(a.max,n)),a.min!=null&&(n=Math.max(a.min,n))),this._zoom=n,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),a=n.x+n.width/2,o=n.y+n.height/2;return[a,o]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),s=this.getCenter(),l=this.getZoom();s=applyTransform$1([],s,n),o=applyTransform$1([],o,n),a.originX=s[0],a.originY=s[1],a.x=o[0]-s[0],a.y=o[1]-s[1],a.scaleX=a.scaleY=l,this._updateTransform()},t.prototype._updateTransform=function(){var n=this._roamTransformable,a=this._rawTransformable;a.parent=n,n.updateTransform(),a.updateTransform(),copy(this.transform||(this.transform=[]),a.transform||create$1()),this._rawTransform=a.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var n=this._rawTransformable,a=this._roamTransformable,o=new Transformable$1;return o.transform=a.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},t.prototype.dataToPoint=function(n,a,o){var s=a?this._rawTransform:this.transform;return o=o||[],s?v2ApplyTransform(o,n,s):copy$1(o,n)},t.prototype.pointToData=function(n){var a=this.invTransform;return a?v2ApplyTransform([],n,a):[n[0],n[1]]},t.prototype.convertToPixel=function(n,a,o){var s=getCoordSys$4(a);return s===this?s.dataToPoint(o):null},t.prototype.convertFromPixel=function(n,a,o){var s=getCoordSys$4(a);return s===this?s.pointToData(o):null},t.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},t.dimensions=["x","y"],t}(Transformable$1);function getCoordSys$4(r){var t=r.seriesModel;return t?t.coordinateSystem:null}var View$1=View,GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this,n)||this;s.dimensions=geo2DDimensions,s.type="geo",s._nameCoordMap=createHashMap(),s.map=a;var l=o.projection,u=geoSourceManager.load(a,o.nameMap,o.nameProperty),f=geoSourceManager.getGeoResource(a);s.resourceType=f?f.type:null;var d=s.regions=u.regions,v=GEO_DEFAULT_PARAMS[f.type];s._regionsMap=u.regionsMap,s.regions=u.regions,s.projection=l;var g;if(l)for(var S=0;S<d.length;S++){var x=d[S].getBoundingRect(l);g=g||x.clone(),g.union(x)}else g=u.boundingRect;return s.setBoundingRect(g.x,g.y,g.width,g.height),s.aspectScale=l?1:retrieve2(o.aspectScale,v.aspectScale),s._invertLongitute=l?!1:v.invertLongitute,s}return t.prototype._transformTo=function(n,a,o,s){var l=this.getBoundingRect(),u=this._invertLongitute;l=l.clone(),u&&(l.y=-l.y-l.height);var f=this._rawTransformable;f.transform=l.calculateTransform(new BoundingRect$1(n,a,o,s));var d=f.parent;f.parent=null,f.decomposeTransform(),f.parent=d,u&&(f.scaleY=-f.scaleY),this._updateTransform()},t.prototype.getRegion=function(n){return this._regionsMap.get(n)},t.prototype.getRegionByCoord=function(n){for(var a=this.regions,o=0;o<a.length;o++){var s=a[o];if(s.type==="geoJSON"&&s.contain(n))return a[o]}},t.prototype.addGeoCoord=function(n,a){this._nameCoordMap.set(n,a)},t.prototype.getGeoCoord=function(n){var a=this._regionsMap.get(n);return this._nameCoordMap.get(n)||a&&a.getCenter()},t.prototype.dataToPoint=function(n,a,o){if(isString(n)&&(n=this.getGeoCoord(n)),n){var s=this.projection;return s&&(n=s.project(n)),n&&this.projectedToPoint(n)}},t.prototype.pointToData=function(n){var a=this.projection;return a&&(n=a.unproject(n)),n&&this.pointToProjected(n)},t.prototype.pointToProjected=function(n){return r.prototype.pointToData.call(this,n)},t.prototype.projectedToPoint=function(n,a,o){return r.prototype.dataToPoint.call(this,n,a,o)},t.prototype.convertToPixel=function(n,a,o){var s=getCoordSys$3(a);return s===this?s.dataToPoint(o):null},t.prototype.convertFromPixel=function(n,a,o){var s=getCoordSys$3(a);return s===this?s.pointToData(o):null},t}(View$1);mixin(Geo,View$1);function getCoordSys$3(r){var t=r.geoModel,n=r.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}var Geo$1=Geo;function resizeGeo(r,t){var n=r.get("boundingCoords");if(n!=null){var a=n[0],o=n[1];if(isFinite(a[0])&&isFinite(a[1])&&isFinite(o[0])&&isFinite(o[1])){var s=this.projection;if(s){var l=a[0],u=a[1],f=o[0],d=o[1];a=[1/0,1/0],o=[-1/0,-1/0];var v=function($,N,F,H){for(var Y=F-$,G=H-N,K=0;K<=100;K++){var Z=K/100,J=s.project([$+Y*Z,N+G*Z]);min$1(a,a,J),max$1(o,o,J)}};v(l,u,f,u),v(f,u,f,d),v(f,d,l,d),v(l,d,f,u)}this.setBoundingRect(a[0],a[1],o[0]-a[0],o[1]-a[1])}}var g=this.getBoundingRect(),S=r.get("layoutCenter"),x=r.get("layoutSize"),_=t.getWidth(),C=t.getHeight(),T=g.width/g.height*this.aspectScale,w=!1,M,D;S&&x&&(M=[parsePercent(S[0],_),parsePercent(S[1],C)],D=parsePercent(x,Math.min(_,C)),!isNaN(M[0])&&!isNaN(M[1])&&!isNaN(D)&&(w=!0));var I;if(w)I={},T>1?(I.width=D,I.height=D/T):(I.height=D,I.width=D*T),I.y=M[1]-I.height/2,I.x=M[0]-I.width/2;else{var R=r.getBoxLayoutParams();R.aspect=T,I=getLayoutRect(R,{width:_,height:C})}this.setViewRect(I.x,I.y,I.width,I.height),this.setCenter(r.get("center")),this.setZoom(r.get("zoom"))}function setGeoCoords(r,t){each$f(t.get("geoCoord"),function(n,a){r.addGeoCoord(a,n)})}var GeoCreator=function(){function r(){this.dimensions=geo2DDimensions}return r.prototype.create=function(t,n){var a=[];function o(l){return{nameProperty:l.get("nameProperty"),aspectScale:l.get("aspectScale"),projection:l.get("projection")}}t.eachComponent("geo",function(l,u){var f=l.get("map"),d=new Geo$1(f+u,f,extend({nameMap:l.get("nameMap")},o(l)));d.zoomLimit=l.get("scaleLimit"),a.push(d),l.coordinateSystem=d,d.model=l,d.resize=resizeGeo,d.resize(l,n)}),t.eachSeries(function(l){var u=l.get("coordinateSystem");if(u==="geo"){var f=l.get("geoIndex")||0;l.coordinateSystem=a[f]}});var s={};return t.eachSeriesByType("map",function(l){if(!l.getHostGeoModel()){var u=l.getMapType();s[u]=s[u]||[],s[u].push(l)}}),each$f(s,function(l,u){var f=map$1(l,function(v){return v.get("nameMap")}),d=new Geo$1(u,u,extend({nameMap:mergeAll(f)},o(l[0])));d.zoomLimit=retrieve.apply(null,map$1(l,function(v){return v.get("scaleLimit")})),a.push(d),d.resize=resizeGeo,d.resize(l[0],n),each$f(l,function(v){v.coordinateSystem=d,setGeoCoords(d,v)})}),a},r.prototype.getFilledRegions=function(t,n,a,o){for(var s=(t||[]).slice(),l=createHashMap(),u=0;u<s.length;u++)l.set(s[u].name,s[u]);var f=geoSourceManager.load(n,a,o);return each$f(f.regions,function(d){var v=d.name;!l.get(v)&&s.push({name:v})}),s},r}(),geoCreator=new GeoCreator,geoCreator$1=geoCreator,GeoModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a,o){var s=geoSourceManager.getGeoResource(n.map);if(s&&s.type==="geoJSON"){var l=n.itemStyle=n.itemStyle||{};"color"in l||(l.color="#eee")}this.mergeDefaultAndTheme(n,o),defaultEmphasis(n,"label",["show"])},t.prototype.optionUpdated=function(){var n=this,a=this.option;a.regions=geoCreator$1.getFilledRegions(a.regions,a.map,a.nameMap,a.nameProperty);var o={};this._optionModelMap=reduce(a.regions||[],function(s,l){var u=l.name;return u&&(s.set(u,new Model$1(l,n,n.ecModel)),l.selected&&(o[u]=!0)),s},createHashMap()),a.selectedMap||(a.selectedMap=o)},t.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new Model$1(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(n,a){var o=this.getRegionModel(n),s=a==="normal"?o.get(["label","formatter"]):o.get(["emphasis","label","formatter"]),l={name:n};if(isFunction(s))return l.status=a,s(l);if(isString(s))return s.replace("{a}",n!=null?n:"")},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.select=function(n){var a=this.option,o=a.selectedMode;if(!!o){o!=="multiple"&&(a.selectedMap=null);var s=a.selectedMap||(a.selectedMap={});s[n]=!0}},t.prototype.unSelect=function(n){var a=this.option.selectedMap;a&&(a[n]=!1)},t.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},t.prototype.isSelected=function(n){var a=this.option.selectedMap;return!!(a&&a[n])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(ComponentModel$1),GeoModel$1=GeoModel;function getCenterCoord(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function updateCenterAndZoom(r,t,n){var a=r.getZoom(),o=r.getCenter(),s=t.zoom,l=r.projectedToPoint?r.projectedToPoint(o):r.dataToPoint(o);if(t.dx!=null&&t.dy!=null&&(l[0]-=t.dx,l[1]-=t.dy,r.setCenter(getCenterCoord(r,l))),s!=null){if(n){var u=n.min||0,f=n.max||1/0;s=Math.max(Math.min(a*s,f),u)/a}r.scaleX*=s,r.scaleY*=s;var d=(t.originX-r.x)*(s-1),v=(t.originY-r.y)*(s-1);r.x-=d,r.y-=v,r.updateTransform(),r.setCenter(getCenterCoord(r,l)),r.setZoom(s*a)}return{center:r.getCenter(),zoom:r.getZoom()}}var GeoView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return t.prototype.init=function(n,a){this._api=a},t.prototype.render=function(n,a,o,s){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(o));var l=this._mapDraw;l.draw(n,a,o,this,s),l.group.on("click",this._handleRegionClick,this),l.group.silent=n.get("silent"),this.group.add(l.group),this.updateSelectStatus(n,a,o)},t.prototype._handleRegionClick=function(n){var a;findEventDispatcher(n.target,function(o){return(a=getECData(o).eventData)!=null},!0),a&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:a.name})},t.prototype.updateSelectStatus=function(n,a,o){var s=this;this._mapDraw.group.traverse(function(l){var u=getECData(l).eventData;if(u)return s._model.isSelected(u.name)?o.enterSelect(l):o.leaveSelect(l),!0})},t.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(ComponentView$1),GeoView$1=GeoView;function registerMap(r,t,n){geoSourceManager.registerMap(r,t,n)}function install$J(r){r.registerCoordinateSystem("geo",geoCreator$1),r.registerComponentModel(GeoModel$1),r.registerComponentView(GeoView$1),r.registerImpl("registerMap",registerMap),r.registerImpl("getMap",function(n){return geoSourceManager.getMapForUser(n)});function t(n,a){a.update="geo:updateSelectStatus",r.registerAction(a,function(o,s){var l={},u=[];return s.eachComponent({mainType:"geo",query:o},function(f){f[n](o.name);var d=f.coordinateSystem;each$f(d.regions,function(g){l[g.name]=f.isSelected(g.name)||!1});var v=[];each$f(l,function(g,S){l[S]&&v.push(S)}),u.push({geoIndex:f.componentIndex,name:v})}),{selected:l,allSelected:u,name:o.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,a){var o=n.componentType||"series";a.eachComponent({mainType:o,query:n},function(s){var l=s.coordinateSystem;if(l.type==="geo"){var u=updateCenterAndZoom(l,n,s.get("scaleLimit"));s.setCenter&&s.setCenter(u.center),s.setZoom&&s.setZoom(u.zoom),o==="series"&&each$f(s.seriesGroup,function(f){f.setCenter(u.center),f.setZoom(u.zoom)})}})})}function install$I(r){use(install$J),r.registerChartView(MapView$1),r.registerSeriesModel(MapSeries$1),r.registerLayout(mapSymbolLayout),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",r.registerAction)}function init(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[t],a,o;a=n.pop();)if(o=a.children,a.isExpand&&o.length)for(var s=o.length,l=s-1;l>=0;l--){var u=o[l];u.hierNode={defaultAncestor:null,ancestor:u,prelim:0,modifier:0,change:0,shift:0,i:l,thread:null},n.push(u)}}function firstWalk(r,t){var n=r.isExpand?r.children:[],a=r.parentNode.children,o=r.hierNode.i?a[r.hierNode.i-1]:null;if(n.length){executeShifts(r);var s=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(r.hierNode.prelim=o.hierNode.prelim+t(r,o),r.hierNode.modifier=r.hierNode.prelim-s):r.hierNode.prelim=s}else o&&(r.hierNode.prelim=o.hierNode.prelim+t(r,o));r.parentNode.hierNode.defaultAncestor=apportion(r,o,r.parentNode.hierNode.defaultAncestor||a[0],t)}function secondWalk(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function separation(r){return arguments.length?r:defaultSeparation}function radialCoordinate(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function getViewRect$4(r,t){return getLayoutRect(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function executeShifts(r){for(var t=r.children,n=t.length,a=0,o=0;--n>=0;){var s=t[n];s.hierNode.prelim+=a,s.hierNode.modifier+=a,o+=s.hierNode.change,a+=s.hierNode.shift+o}}function apportion(r,t,n,a){if(t){for(var o=r,s=r,l=s.parentNode.children[0],u=t,f=o.hierNode.modifier,d=s.hierNode.modifier,v=l.hierNode.modifier,g=u.hierNode.modifier;u=nextRight(u),s=nextLeft(s),u&&s;){o=nextRight(o),l=nextLeft(l),o.hierNode.ancestor=r;var S=u.hierNode.prelim+g-s.hierNode.prelim-d+a(u,s);S>0&&(moveSubtree(nextAncestor(u,r,n),r,S),d+=S,f+=S),g+=u.hierNode.modifier,d+=s.hierNode.modifier,f+=o.hierNode.modifier,v+=l.hierNode.modifier}u&&!nextRight(o)&&(o.hierNode.thread=u,o.hierNode.modifier+=g-f),s&&!nextLeft(l)&&(l.hierNode.thread=s,l.hierNode.modifier+=d-v,n=r)}return n}function nextRight(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function nextLeft(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function nextAncestor(r,t,n){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:n}function moveSubtree(r,t,n){var a=n/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=a,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,r.hierNode.change+=a}function defaultSeparation(r,t){return r.parentNode===t.parentNode?1:2}var TreeEdgeShape=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),TreePath=function(r){__extends$1(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new TreeEdgeShape},t.prototype.buildPath=function(n,a){var o=a.childPoints,s=o.length,l=a.parentPoint,u=o[0],f=o[s-1];if(s===1){n.moveTo(l[0],l[1]),n.lineTo(u[0],u[1]);return}var d=a.orient,v=d==="TB"||d==="BT"?0:1,g=1-v,S=parsePercent(a.forkPosition,1),x=[];x[v]=l[v],x[g]=l[g]+(f[g]-l[g])*S,n.moveTo(l[0],l[1]),n.lineTo(x[0],x[1]),n.moveTo(u[0],u[1]),x[v]=u[v],n.lineTo(x[0],x[1]),x[v]=f[v],n.lineTo(x[0],x[1]),n.lineTo(f[0],f[1]);for(var _=1;_<s-1;_++){var C=o[_];n.moveTo(C[0],C[1]),x[v]=C[v],n.lineTo(x[0],x[1])}},t}(Path$1),TreeView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new Group$4,n}return t.prototype.init=function(n,a){this._controller=new RoamController$1(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(n,a,o){var s=n.getData(),l=n.layoutInfo,u=this._mainGroup,f=n.get("layout");f==="radial"?(u.x=l.x+l.width/2,u.y=l.y+l.height/2):(u.x=l.x,u.y=l.y),this._updateViewCoordSys(n),this._updateController(n,a,o);var d=this._data;s.diff(d).add(function(v){symbolNeedsDraw(s,v)&&updateNode(s,v,null,u,n)}).update(function(v,g){var S=d.getItemGraphicEl(g);if(!symbolNeedsDraw(s,v)){S&&removeNode(d,g,S,u,n);return}updateNode(s,v,S,u,n)}).remove(function(v){var g=d.getItemGraphicEl(v);g&&removeNode(d,v,g,u,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&s.eachItemGraphicEl(function(v,g){v.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:g})})}),this._data=s},t.prototype._updateViewCoordSys=function(n){var a=n.getData(),o=[];a.each(function(v){var g=a.getItemLayout(v);g&&!isNaN(g.x)&&!isNaN(g.y)&&o.push([+g.x,+g.y])});var s=[],l=[];fromPoints(o,s,l);var u=this._min,f=this._max;l[0]-s[0]===0&&(s[0]=u?u[0]:s[0]-1,l[0]=f?f[0]:l[0]+1),l[1]-s[1]===0&&(s[1]=u?u[1]:s[1]-1,l[1]=f?f[1]:l[1]+1);var d=n.coordinateSystem=new View$1;d.zoomLimit=n.get("scaleLimit"),d.setBoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1]),d.setCenter(n.get("center")),d.setZoom(n.get("zoom")),this.group.attr({x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY}),this._min=s,this._max=l},t.prototype._updateController=function(n,a,o){var s=this,l=this._controller,u=this._controllerHost,f=this.group;l.setPointerChecker(function(d,v,g){var S=f.getBoundingRect();return S.applyTransform(f.transform),S.contain(v,g)&&!onIrrelevantElement(d,o,n)}),l.enable(n.get("roam")),u.zoomLimit=n.get("scaleLimit"),u.zoom=n.coordinateSystem.getZoom(),l.off("pan").off("zoom").on("pan",function(d){updateViewOnPan(u,d.dx,d.dy),o.dispatchAction({seriesId:n.id,type:"treeRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){updateViewOnZoom(u,d.scale,d.originX,d.originY),o.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),s._updateNodeAndLinkScale(n),o.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(n){var a=n.getData(),o=this._getNodeGlobalScale(n);a.eachItemGraphicEl(function(s,l){s.setSymbolScale(o)})},t.prototype._getNodeGlobalScale=function(n){var a=n.coordinateSystem;if(a.type!=="view")return 1;var o=this._nodeScaleRatio,s=a.scaleX||1,l=a.getZoom(),u=(l-1)*o+1;return u/s},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ChartView$1);function symbolNeedsDraw(r,t){var n=r.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function updateNode(r,t,n,a,o){var s=!n,l=r.tree.getNodeByDataIndex(t),u=l.getModel(),f=l.getVisual("style").fill,d=l.isExpand===!1&&l.children.length!==0?f:"#fff",v=r.tree.root,g=l.parentNode===v?l:l.parentNode||l,S=r.getItemGraphicEl(g.dataIndex),x=g.getLayout(),_=S?{x:S.__oldX,y:S.__oldY,rawX:S.__radialOldRawX,rawY:S.__radialOldRawY}:x,C=l.getLayout();s?(n=new SymbolClz(r,t,null,{symbolInnerColor:d,useNameLabel:!0}),n.x=_.x,n.y=_.y):n.updateData(r,t,null,{symbolInnerColor:d,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=C.rawX,n.__radialRawY=C.rawY,a.add(n),r.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,updateProps$1(n,{x:C.x,y:C.y},o);var T=n.getSymbolPath();if(o.get("layout")==="radial"){var w=v.children[0],M=w.getLayout(),D=w.children.length,I=void 0,R=void 0;if(C.x===M.x&&l.isExpand===!0){var $={x:(w.children[0].getLayout().x+w.children[D-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[D-1].getLayout().y)/2};I=Math.atan2($.y-M.y,$.x-M.x),I<0&&(I=Math.PI*2+I),R=$.x<M.x,R&&(I=I-Math.PI)}else I=Math.atan2(C.y-M.y,C.x-M.x),I<0&&(I=Math.PI*2+I),l.children.length===0||l.children.length!==0&&l.isExpand===!1?(R=C.x<M.x,R&&(I=I-Math.PI)):(R=C.x>M.x,R||(I=I-Math.PI));var N=R?"left":"right",F=u.getModel("label"),H=F.get("rotate"),Y=H*(Math.PI/180),G=T.getTextContent();G&&(T.setTextConfig({position:F.get("position")||N,rotation:H==null?-I:Y,origin:"center"}),G.setStyle("verticalAlign","middle"))}var K=u.get(["emphasis","focus"]),Z=K==="ancestor"?l.getAncestorsIndices():K==="descendant"?l.getDescendantIndices():null;Z&&(getECData(n).focus=Z),drawEdge(o,l,v,n,_,x,C,a),n.__edge&&(n.onHoverStateChange=function(J){if(J!=="blur"){var Q=l.parentNode&&r.getItemGraphicEl(l.parentNode.dataIndex);Q&&Q.hoverState===HOVER_STATE_BLUR||setStatesFlag(n.__edge,J)}})}function drawEdge(r,t,n,a,o,s,l,u){var f=t.getModel(),d=r.get("edgeShape"),v=r.get("layout"),g=r.getOrient(),S=r.get(["lineStyle","curveness"]),x=r.get("edgeForkPosition"),_=f.getModel("lineStyle").getLineStyle(),C=a.__edge;if(d==="curve")t.parentNode&&t.parentNode!==n&&(C||(C=a.__edge=new BezierCurve$1({shape:getEdgeShape(v,g,S,o,o)})),updateProps$1(C,{shape:getEdgeShape(v,g,S,s,l)},r));else if(d==="polyline"&&v==="orthogonal"&&t!==n&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var T=t.children,w=[],M=0;M<T.length;M++){var D=T[M].getLayout();w.push([D.x,D.y])}C||(C=a.__edge=new TreePath({shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]],orient:g,forkPosition:x}})),updateProps$1(C,{shape:{parentPoint:[l.x,l.y],childPoints:w}},r)}C&&(C.useStyle(defaults({strokeNoScale:!0,fill:null},_)),setStatesStylesFromModel(C,f,"lineStyle"),setDefaultStateProxy(C),u.add(C))}function removeNodeEdge(r,t,n,a,o){var s=t.tree.root,l=getSourceNode(s,r),u=l.source,f=l.sourceLayout,d=t.getItemGraphicEl(r.dataIndex);if(!!d){var v=t.getItemGraphicEl(u.dataIndex),g=v.__edge,S=d.__edge||(u.isExpand===!1||u.children.length===1?g:void 0),x=a.get("edgeShape"),_=a.get("layout"),C=a.get("orient"),T=a.get(["lineStyle","curveness"]);S&&(x==="curve"?removeElement(S,{shape:getEdgeShape(_,C,T,f,f),style:{opacity:0}},a,{cb:function(){n.remove(S)},removeOpt:o}):x==="polyline"&&a.get("layout")==="orthogonal"&&removeElement(S,{shape:{parentPoint:[f.x,f.y],childPoints:[[f.x,f.y]]},style:{opacity:0}},a,{cb:function(){n.remove(S)},removeOpt:o}))}}function getSourceNode(r,t){for(var n=t.parentNode===r?t:t.parentNode||t,a;a=n.getLayout(),a==null;)n=n.parentNode===r?n:n.parentNode||n;return{source:n,sourceLayout:a}}function removeNode(r,t,n,a,o){var s=r.tree.getNodeByDataIndex(t),l=r.tree.root,u=getSourceNode(l,s).sourceLayout,f={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};removeElement(n,{x:u.x+1,y:u.y+1},o,{cb:function(){a.remove(n),r.setItemGraphicEl(t,null)},removeOpt:f}),n.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:f}),s.children.forEach(function(d){removeNodeEdge(d,r,a,o,f)}),removeNodeEdge(s,r,a,o,f)}function getEdgeShape(r,t,n,a,o){var s,l,u,f,d,v,g,S;if(r==="radial"){d=a.rawX,g=a.rawY,v=o.rawX,S=o.rawY;var x=radialCoordinate(d,g),_=radialCoordinate(d,g+(S-g)*n),C=radialCoordinate(v,S+(g-S)*n),T=radialCoordinate(v,S);return{x1:x.x||0,y1:x.y||0,x2:T.x||0,y2:T.y||0,cpx1:_.x||0,cpy1:_.y||0,cpx2:C.x||0,cpy2:C.y||0}}else d=a.x,g=a.y,v=o.x,S=o.y,(t==="LR"||t==="RL")&&(s=d+(v-d)*n,l=g,u=v+(d-v)*n,f=S),(t==="TB"||t==="BT")&&(s=d,l=g+(S-g)*n,u=v,f=S+(g-S)*n);return{x1:d,y1:g,x2:v,y2:S,cpx1:s,cpy1:l,cpx2:u,cpy2:f}}var TreeView$1=TreeView,inner$e=makeInner();function linkSeriesData(r){var t=r.mainData,n=r.datas;n||(n={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,linkAll(t,n,r),each$f(n,function(a){each$f(t.TRANSFERABLE_METHODS,function(o){a.wrapMethod(o,curry$1(transferInjection,r))})}),t.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,r)),each$f(t.CHANGABLE_METHODS,function(a){t.wrapMethod(a,curry$1(changeInjection,r))}),assert(n[t.dataType]===t)}function transferInjection(r,t){if(isMainData(this)){var n=extend({},inner$e(this).datas);n[this.dataType]=t,linkAll(t,n,r)}else linkSingle(t,this.dataType,inner$e(this).mainData,r);return t}function changeInjection(r,t){return r.struct&&r.struct.update(),t}function cloneShallowInjection(r,t){return each$f(inner$e(t).datas,function(n,a){n!==t&&linkSingle(n.cloneShallow(),a,t,r)}),t}function getLinkedData(r){var t=inner$e(this).mainData;return r==null||t==null?t:inner$e(t).datas[r]}function getLinkedDataAll(){var r=inner$e(this).mainData;return r==null?[{data:r}]:map$1(keys(inner$e(r).datas),function(t){return{type:t,data:inner$e(r).datas[t]}})}function isMainData(r){return inner$e(r).mainData===r}function linkAll(r,t,n){inner$e(r).datas={},each$f(t,function(a,o){linkSingle(a,o,r,n)})}function linkSingle(r,t,n,a){inner$e(n).datas[t]=r,inner$e(r).mainData=n,r.dataType=t,a.struct&&(r[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=r),r.getLinkedData=getLinkedData,r.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function r(t,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=n}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,n,a){isFunction(t)&&(a=n,n=t,t=null),t=t||{},isString(t)&&(t={order:t});var o=t.order||"preorder",s=this[t.attr||"children"],l;o==="preorder"&&(l=n.call(a,this));for(var u=0;!l&&u<s.length;u++)s[u].eachNode(t,n,a);o==="postorder"&&n.call(a,this)},r.prototype.updateDepthAndHeight=function(t){var n=0;this.depth=t;for(var a=0;a<this.children.length;a++){var o=this.children[a];o.updateDepthAndHeight(t+1),o.height>n&&(n=o.height)}this.height=n+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var n=0,a=this.children,o=a.length;n<o;n++){var s=a[n].getNodeById(t);if(s)return s}},r.prototype.contains=function(t){if(t===this)return!0;for(var n=0,a=this.children,o=a.length;n<o;n++){var s=a[n].contains(t);if(s)return s}},r.prototype.getAncestors=function(t){for(var n=[],a=t?this:this.parentNode;a;)n.push(a),a=a.parentNode;return n.reverse(),n},r.prototype.getAncestorsIndices=function(){for(var t=[],n=this;n;)t.push(n.dataIndex),n=n.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(n){t.push(n.dataIndex)}),t},r.prototype.getValue=function(t){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,n)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostTree,a=n.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,n)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,n=0;n<t.length;++n)if(t[n]===this)return n;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var n=t.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r}(),Tree=function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,n,a){this.root.eachNode(t,n,a)},r.prototype.getNodeByDataIndex=function(t){var n=this.data.getRawIndex(t);return this._nodes[n]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,n=this._nodes,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)n[t.getRawIndex(a)].dataIndex=a},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,n,a){var o=new r(n),s=[],l=1;u(t);function u(v,g){var S=v.value;l=Math.max(l,isArray$1(S)?S.length:1),s.push(v);var x=new TreeNode(convertOptionIdName(v.name,""),o);g?addChild(x,g):o.root=x,o._nodes.push(x);var _=v.children;if(_)for(var C=0;C<_.length;C++)u(_[C],x)}o.root.updateDepthAndHeight(0);var f=prepareSeriesDataSchema(s,{coordDimensions:["value"],dimensionsCount:l}).dimensions,d=new SeriesData$1(f,n);return d.initData(s),a&&a(d),linkSeriesData({mainData:d,struct:o,structAttr:"tree"}),o.update(),o},r}();function addChild(r,t){var n=t.children;r.parentNode!==t&&(n.push(r),r.parentNode=t)}var Tree$1=Tree;function retrieveTargetInfo(r,t,n){if(r&&indexOf(t,r.type)>=0){var a=n.getData().tree.root,o=r.targetNode;if(isString(o)&&(o=a.getNodeById(o)),o&&a.contains(o))return{node:o};var s=r.targetNodeId;if(s!=null&&(o=a.getNodeById(s)))return{node:o}}}function getPathToRoot(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function aboveViewRoot(r,t){var n=getPathToRoot(r);return indexOf(n,t)>=0}function wrapTreePathInfo(r,t){for(var n=[];r;){var a=r.dataIndex;n.push({name:r.name,dataIndex:a,value:t.getRawValue(a)}),r=r.parentNode}return n.reverse(),n}var TreeSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n){var a={name:n.name,children:n.data},o=n.leaves||{},s=new Model$1(o,this,this.ecModel),l=Tree$1.createTree(a,this,u);function u(g){g.wrapMethod("getItemModel",function(S,x){var _=l.getNodeByDataIndex(x);return _&&_.children.length&&_.isExpand||(S.parentModel=s),S})}var f=0;l.eachNode("preorder",function(g){g.depth>f&&(f=g.depth)});var d=n.expandAndCollapse,v=d&&n.initialTreeDepth>=0?n.initialTreeDepth:f;return l.root.eachNode("preorder",function(g){var S=g.hostTree.data.getRawDataItem(g.dataIndex);g.isExpand=S&&S.collapsed!=null?!S.collapsed:g.depth<=v}),l.data},t.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.formatTooltip=function(n,a,o){for(var s=this.getData().tree,l=s.root.children[0],u=s.getNodeByDataIndex(n),f=u.getValue(),d=u.name;u&&u!==l;)d=u.parentNode.name+"."+d,u=u.parentNode;return createTooltipMarkup("nameValue",{name:d,value:f,noValue:isNaN(f)||f==null})},t.prototype.getDataParams=function(n){var a=r.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(n);return a.treeAncestors=wrapTreePathInfo(o,this),a.collapsed=!o.isExpand,a},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(SeriesModel$1),TreeSeriesModel$1=TreeSeriesModel;function eachAfter(r,t,n){for(var a=[r],o=[],s;s=a.pop();)if(o.push(s),s.isExpand){var l=s.children;if(l.length)for(var u=0;u<l.length;u++)a.push(l[u])}for(;s=o.pop();)t(s,n)}function eachBefore(r,t){for(var n=[r],a;a=n.pop();)if(t(a),a.isExpand){var o=a.children;if(o.length)for(var s=o.length-1;s>=0;s--)n.push(o[s])}}function treeLayout(r,t){r.eachSeriesByType("tree",function(n){commonLayout(n,t)})}function commonLayout(r,t){var n=getViewRect$4(r,t);r.layoutInfo=n;var a=r.get("layout"),o=0,s=0,l=null;a==="radial"?(o=2*Math.PI,s=Math.min(n.height,n.width)/2,l=separation(function(D,I){return(D.parentNode===I.parentNode?1:2)/D.depth})):(o=n.width,s=n.height,l=separation());var u=r.getData().tree.root,f=u.children[0];if(f){init(u),eachAfter(f,firstWalk,l),u.hierNode.modifier=-f.hierNode.prelim,eachBefore(f,secondWalk);var d=f,v=f,g=f;eachBefore(f,function(D){var I=D.getLayout().x;I<d.getLayout().x&&(d=D),I>v.getLayout().x&&(v=D),D.depth>g.depth&&(g=D)});var S=d===v?1:l(d,v)/2,x=S-d.getLayout().x,_=0,C=0,T=0,w=0;if(a==="radial")_=o/(v.getLayout().x+S+x),C=s/(g.depth-1||1),eachBefore(f,function(D){T=(D.getLayout().x+x)*_,w=(D.depth-1)*C;var I=radialCoordinate(T,w);D.setLayout({x:I.x,y:I.y,rawX:T,rawY:w},!0)});else{var M=r.getOrient();M==="RL"||M==="LR"?(C=s/(v.getLayout().x+S+x),_=o/(g.depth-1||1),eachBefore(f,function(D){w=(D.getLayout().x+x)*C,T=M==="LR"?(D.depth-1)*_:o-(D.depth-1)*_,D.setLayout({x:T,y:w},!0)})):(M==="TB"||M==="BT")&&(_=o/(v.getLayout().x+S+x),C=s/(g.depth-1||1),eachBefore(f,function(D){T=(D.getLayout().x+x)*_,w=M==="TB"?(D.depth-1)*C:s-(D.depth-1)*C,D.setLayout({x:T,y:w},!0)}))}}}function treeVisual(r){r.eachSeriesByType("tree",function(t){var n=t.getData(),a=n.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle(),u=n.ensureUniqueItemVisual(o.dataIndex,"style");extend(u,l)})})}function installTreeAction(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var o=t.dataIndex,s=a.getData().tree,l=s.getNodeByDataIndex(o);l.isExpand=!l.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,n){n.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var o=a.coordinateSystem,s=updateCenterAndZoom(o,t);a.setCenter&&a.setCenter(s.center),a.setZoom&&a.setZoom(s.zoom)})})}function install$H(r){r.registerChartView(TreeView$1),r.registerSeriesModel(TreeSeriesModel$1),r.registerLayout(treeLayout),r.registerVisual(treeVisual),installTreeAction(r)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(r){for(var t=0;t<actionTypes.length;t++)r.registerAction({type:actionTypes[t],update:"updateView"},noop);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,a){a.eachComponent({mainType:"series",subType:"treemap",query:n},o);function o(s,l){var u=["treemapZoomToNode","treemapRootToNode"],f=retrieveTargetInfo(n,u,s);if(f){var d=s.getViewRoot();d&&(n.direction=aboveViewRoot(d,f.node)?"rollUp":"drillDown"),s.resetViewRoot(f.node)}}})}function enableAriaDecalForTree(r){var t=r.getData(),n=t.tree,a={};n.eachNode(function(o){for(var s=o;s&&s.depth>1;)s=s.parentNode;var l=getDecalFromPalette(r.ecModel,s.name||s.dataIndex+"",a);o.setVisual("decal",l)})}var TreemapSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return t.prototype.getInitialData=function(n,a){var o={name:n.name,children:n.data};completeTreeValue$1(o);var s=n.levels||[],l=this.designatedVisualItemStyle={},u=new Model$1({itemStyle:l},this,a);s=n.levels=setDefault(s,a);var f=map$1(s||[],function(g){return new Model$1(g,u,a)},this),d=Tree$1.createTree(o,this,v);function v(g){g.wrapMethod("getItemModel",function(S,x){var _=d.getNodeByDataIndex(x),C=_?f[_.depth]:null;return S.parentModel=C||u,S})}return d.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(n,a,o){var s=this.getData(),l=this.getRawValue(n),u=s.getName(n);return createTooltipMarkup("nameValue",{name:u,value:l})},t.prototype.getDataParams=function(n){var a=r.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(n);return a.treeAncestors=wrapTreePathInfo(o,this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,n)},t.prototype.mapIdToIndex=function(n){var a=this._idIndexMap;a||(a=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var o=a.get(n);return o==null&&a.set(n,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var a=this.getRawData().tree.root;(!n||n!==a&&!a.contains(n))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(SeriesModel$1);function completeTreeValue$1(r){var t=0;each$f(r.children,function(a){completeTreeValue$1(a);var o=a.value;isArray$1(o)&&(o=o[0]),t+=o});var n=r.value;isArray$1(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),isArray$1(r.value)?r.value[0]=n:r.value=n}function setDefault(r,t){var n=normalizeToArray(t.get("color")),a=normalizeToArray(t.get(["aria","decal","decals"]));if(!!n){r=r||[];var o,s;each$f(r,function(u){var f=new Model$1(u),d=f.get("color"),v=f.get("decal");(f.get(["itemStyle","color"])||d&&d!=="none")&&(o=!0),(f.get(["itemStyle","decal"])||v&&v!=="none")&&(s=!0)});var l=r[0]||(r[0]={});return o||(l.color=n.slice()),!s&&a&&(l.decal=a.slice()),r}}var TreemapSeriesModel$1=TreemapSeriesModel,TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function r(t){this.group=new Group$4,t.add(this.group)}return r.prototype.render=function(t,n,a,o){var s=t.getModel("breadcrumb"),l=this.group;if(l.removeAll(),!(!s.get("show")||!a)){var u=s.getModel("itemStyle"),f=u.getModel("textStyle"),d={pos:{left:s.get("left"),right:s.get("right"),top:s.get("top"),bottom:s.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:s.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,d,f),this._renderContent(t,d,u,f,o),positionElement(l,d.pos,d.box)}},r.prototype._prepare=function(t,n,a){for(var o=t;o;o=o.parentNode){var s=convertOptionIdName(o.getModel().get("name"),""),l=a.getTextRect(s),u=Math.max(l.width+TEXT_PADDING*2,n.emptyItemWidth);n.totalWidth+=u+ITEM_GAP,n.renderList.push({node:o,text:s,width:u})}},r.prototype._renderContent=function(t,n,a,o,s){for(var l=0,u=n.emptyItemWidth,f=t.get(["breadcrumb","height"]),d=getAvailableSize(n.pos,n.box),v=n.totalWidth,g=n.renderList,S=g.length-1;S>=0;S--){var x=g[S],_=x.node,C=x.width,T=x.text;v>d.width&&(v-=C-u,C=u,T=null);var w=new Polygon$1({shape:{points:makeItemPoints(l,0,C,f,S===g.length-1,S===0)},style:defaults(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:{text:T,fill:o.getTextColor(),font:o.getFont()}}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(s,_)});w.disableLabelAnimation=!0,this.group.add(w),packEventData(w,t,_),l+=C+ITEM_GAP}},r.prototype.remove=function(){this.group.removeAll()},r}();function makeItemPoints(r,t,n,a,o,s){var l=[[o?r:r-ARRAY_LENGTH,t],[r+n,t],[r+n,t+a],[o?r:r-ARRAY_LENGTH,t+a]];return!s&&l.splice(2,0,[r+n+ARRAY_LENGTH,t+a/2]),!o&&l.push([r,t+a/2]),l}function packEventData(r,t,n){getECData(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&wrapTreePathInfo(n,t)}}var Breadcrumb$1=Breadcrumb,AnimationWrap=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,n,a,o,s){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:n,duration:a,delay:o,easing:s}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,n=this._storage.length,a=function(){n--,n<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},o=0,s=this._storage.length;o<s;o++){var l=this._storage[o];l.el.animateTo(l.target,{duration:l.duration,delay:l.delay,easing:l.easing,setToFinal:!0,done:a,aborted:a})}return this},r}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(r){var t=getStateItemStyle(r);return t.stroke=t.fill=t.lineWidth=null,t},inner$d=makeInner(),TreemapView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage=createStorage(),n}return t.prototype.render=function(n,a,o,s){var l=a.findComponents({mainType:"series",subType:"treemap",query:s});if(!(indexOf(l,n)<0)){this.seriesModel=n,this.api=o,this.ecModel=a;var u=["treemapZoomToNode","treemapRootToNode"],f=retrieveTargetInfo(s,u,n),d=s&&s.type,v=n.layoutInfo,g=!this._oldTree,S=this._storage,x=d==="treemapRootToNode"&&f&&S?{rootNodeGroup:S.nodeGroup[f.node.getRawIndex()],direction:s.direction}:null,_=this._giveContainerGroup(v),C=n.get("animation"),T=this._doRender(_,n,x);C&&!g&&(!d||d==="treemapZoomToNode"||d==="treemapRootToNode")?this._doAnimation(_,T,n,x):T.renderFinally(),this._resetController(o),this._renderBreadcrumb(n,o,f)}},t.prototype._giveContainerGroup=function(n){var a=this._containerGroup;return a||(a=this._containerGroup=new Group$2,this._initEvents(a),this.group.add(a)),a.x=n.x,a.y=n.y,a},t.prototype._doRender=function(n,a,o){var s=a.getData().tree,l=this._oldTree,u=createStorage(),f=createStorage(),d=this._storage,v=[];function g(T,w,M,D){return renderNode(a,f,d,o,u,v,T,w,M,D)}x(s.root?[s.root]:[],l&&l.root?[l.root]:[],n,s===l||!l,0);var S=_(d);return this._oldTree=s,this._storage=f,{lastsForAnimation:u,willDeleteEls:S,renderFinally:C};function x(T,w,M,D,I){D?(w=T,each$f(T,function(N,F){!N.isRemoved()&&$(F,F)})):new DataDiffer$1(w,T,R,R).add($).update($).remove(curry$1($,null)).execute();function R(N){return N.getId()}function $(N,F){var H=N!=null?T[N]:null,Y=F!=null?w[F]:null,G=g(H,Y,M,I);G&&x(H&&H.viewChildren||[],Y&&Y.viewChildren||[],G,D,I+1)}}function _(T){var w=createStorage();return T&&each$f(T,function(M,D){var I=w[D];each$f(M,function(R){R&&(I.push(R),inner$d(R).willDelete=!0)})}),w}function C(){each$f(S,function(T){each$f(T,function(w){w.parent&&w.parent.remove(w)})}),each$f(v,function(T){T.invisible=!0,T.dirty()})}},t.prototype._doAnimation=function(n,a,o,s){var l=o.get("animationDurationUpdate"),u=o.get("animationEasing"),f=(isFunction(l)?0:l)||0,d=(isFunction(u)?null:u)||"cubicOut",v=createWrap();each$f(a.willDeleteEls,function(g,S){each$f(g,function(x,_){if(!x.invisible){var C=x.parent,T,w=inner$d(C);if(s&&s.direction==="drillDown")T=C===s.rootNodeGroup?{shape:{x:0,y:0,width:w.nodeWidth,height:w.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var M=0,D=0;w.willDelete||(M=w.nodeWidth/2,D=w.nodeHeight/2),T=S==="nodeGroup"?{x:M,y:D,style:{opacity:0}}:{shape:{x:M,y:D,width:0,height:0},style:{opacity:0}}}T&&v.add(x,T,f,0,d)}})}),each$f(this._storage,function(g,S){each$f(g,function(x,_){var C=a.lastsForAnimation[S][_],T={};!C||(x instanceof Group$4?C.oldX!=null&&(T.x=x.x,T.y=x.y,x.x=C.oldX,x.y=C.oldY):(C.oldShape&&(T.shape=extend({},x.shape),x.setShape(C.oldShape)),C.fadein?(x.setStyle("opacity",0),T.style={opacity:1}):x.style.opacity!==1&&(T.style={opacity:1})),v.add(x,T,f,0,d))})},this),this._state="animating",v.finished(bind$1(function(){this._state="ready",a.renderFinally()},this)).start()},t.prototype._resetController=function(n){var a=this._controller;a||(a=this._controller=new RoamController$1(n.getZr()),a.enable(this.seriesModel.get("roam")),a.on("pan",bind$1(this._onPan,this)),a.on("zoom",bind$1(this._onZoom,this)));var o=new BoundingRect$1(0,0,n.getWidth(),n.getHeight());a.setPointerChecker(function(s,l,u){return o.contain(l,u)})},t.prototype._clearController=function(){var n=this._controller;n&&(n.dispose(),n=null)},t.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>DRAG_THRESHOLD||Math.abs(n.dy)>DRAG_THRESHOLD)){var a=this.seriesModel.getData().tree.root;if(!a)return;var o=a.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+n.dx,y:o.y+n.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(n){var a=n.originX,o=n.originY;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var l=s.getLayout();if(!l)return;var u=new BoundingRect$1(l.x,l.y,l.width,l.height),f=this.seriesModel.layoutInfo;a-=f.x,o-=f.y;var d=create$1();translate(d,d,[-a,-o]),scale$1(d,d,[n.scale,n.scale]),translate(d,d,[a,o]),u.applyTransform(d),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:u.x,y:u.y,width:u.width,height:u.height}})}},t.prototype._initEvents=function(n){var a=this;n.on("click",function(o){if(a._state==="ready"){var s=a.seriesModel.get("nodeClick",!0);if(!!s){var l=a.findTarget(o.offsetX,o.offsetY);if(!!l){var u=l.node;if(u.getLayout().isLeafRoot)a._rootToNode(l);else if(s==="zoomToNode")a._zoomToNode(l);else if(s==="link"){var f=u.hostTree.data.getItemModel(u.dataIndex),d=f.get("link",!0),v=f.get("target",!0)||"blank";d&&windowOpen(d,v)}}}}},this)},t.prototype._renderBreadcrumb=function(n,a,o){var s=this;o||(o=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(a.getWidth()/2,a.getHeight()/2),o||(o={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(n,a,o.node,function(l){s._state!=="animating"&&(aboveViewRoot(n.getViewRoot(),l)?s._rootToNode({node:l}):s._zoomToNode({node:l}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype.findTarget=function(n,a){var o,s=this.seriesModel.getViewRoot();return s.eachNode({attr:"viewChildren",order:"preorder"},function(l){var u=this._storage.background[l.getRawIndex()];if(u){var f=u.transformCoordToLocal(n,a),d=u.shape;if(d.x<=f[0]&&f[0]<=d.x+d.width&&d.y<=f[1]&&f[1]<=d.y+d.height)o={node:l,offsetX:f[0],offsetY:f[1]};else return!1}},this),o},t.type="treemap",t}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(r,t,n,a,o,s,l,u,f,d){if(!l)return;var v=l.getLayout(),g=r.getData(),S=l.getModel();if(g.setItemGraphicEl(l.dataIndex,null),!v||!v.isInView)return;var x=v.width,_=v.height,C=v.borderWidth,T=v.invisible,w=l.getRawIndex(),M=u&&u.getRawIndex(),D=l.viewChildren,I=v.upperHeight,R=D&&D.length,$=S.getModel("itemStyle"),N=S.getModel(["emphasis","itemStyle"]),F=S.getModel(["blur","itemStyle"]),H=S.getModel(["select","itemStyle"]),Y=$.get("borderRadius")||0,G=Ge("nodeGroup",Group$2);if(!G)return;if(f.add(G),G.x=v.x||0,G.y=v.y||0,G.markRedraw(),inner$d(G).nodeWidth=x,inner$d(G).nodeHeight=_,v.isAboveViewRoot)return G;var K=Ge("background",Rect$1,d,Z2_BG);K&&de(G,K,R&&v.upperLabelHeight);var Z=S.getModel("emphasis"),J=Z.get("focus"),Q=Z.get("blurScope"),te=Z.get("disabled"),ie=J==="ancestor"?l.getAncestorsIndices():J==="descendant"?l.getDescendantIndices():J;if(R)isHighDownDispatcher(G)&&setAsHighDownDispatcher(G,!1),K&&(setAsHighDownDispatcher(K,!te),g.setItemGraphicEl(l.dataIndex,K),enableHoverFocus(K,ie,Q));else{var ne=Ge("content",Rect$1,d,Z2_CONTENT);ne&&ve(G,ne),K.disableMorphing=!0,K&&isHighDownDispatcher(K)&&setAsHighDownDispatcher(K,!1),setAsHighDownDispatcher(G,!te),g.setItemGraphicEl(l.dataIndex,G),enableHoverFocus(G,ie,Q)}return G;function de(We,Oe,ke){var Ye=getECData(Oe);if(Ye.dataIndex=l.dataIndex,Ye.seriesIndex=r.seriesIndex,Oe.setShape({x:0,y:0,width:x,height:_,r:Y}),T)pe(Oe);else{Oe.invisible=!1;var ze=l.getVisual("style"),qe=ze.stroke,ae=getItemStyleNormal($);ae.fill=qe;var le=getStateItemStyle(N);le.fill=N.get("borderColor");var ge=getStateItemStyle(F);ge.fill=F.get("borderColor");var se=getStateItemStyle(H);if(se.fill=H.get("borderColor"),ke){var oe=x-2*C;$e(Oe,qe,ze.opacity,{x:C,y:0,width:oe,height:I})}else Oe.removeTextContent();Oe.setStyle(ae),Oe.ensureState("emphasis").style=le,Oe.ensureState("blur").style=ge,Oe.ensureState("select").style=se,setDefaultStateProxy(Oe)}We.add(Oe)}function ve(We,Oe){var ke=getECData(Oe);ke.dataIndex=l.dataIndex,ke.seriesIndex=r.seriesIndex;var Ye=Math.max(x-2*C,0),ze=Math.max(_-2*C,0);if(Oe.culling=!0,Oe.setShape({x:C,y:C,width:Ye,height:ze,r:Y}),T)pe(Oe);else{Oe.invisible=!1;var qe=l.getVisual("style"),ae=qe.fill,le=getItemStyleNormal($);le.fill=ae,le.decal=qe.decal;var ge=getStateItemStyle(N),se=getStateItemStyle(F),oe=getStateItemStyle(H);$e(Oe,ae,qe.opacity,null),Oe.setStyle(le),Oe.ensureState("emphasis").style=ge,Oe.ensureState("blur").style=se,Oe.ensureState("select").style=oe,setDefaultStateProxy(Oe)}We.add(Oe)}function pe(We){!We.invisible&&s.push(We)}function $e(We,Oe,ke,Ye){var ze=S.getModel(Ye?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),qe=convertOptionIdName(S.get("name"),null),ae=ze.getShallow("show");setLabelStyle(We,getLabelStatesModels(S,Ye?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:ae?qe:null,inheritColor:Oe,defaultOpacity:ke,labelFetcher:r,labelDataIndex:l.dataIndex});var le=We.getTextContent();if(!!le){var ge=le.style,se=normalizeCssArray$1(ge.padding||0);Ye&&(We.setTextConfig({layoutRect:Ye}),le.disableLabelLayout=!0),le.beforeUpdate=function(){var Se=Math.max((Ye?Ye.width:We.shape.width)-se[1]-se[3],0),xe=Math.max((Ye?Ye.height:We.shape.height)-se[0]-se[2],0);(ge.width!==Se||ge.height!==xe)&&le.setStyle({width:Se,height:xe})},ge.truncateMinChar=2,ge.lineOverflow="truncate",Re(ge,Ye,v);var oe=le.getState("emphasis");Re(oe?oe.style:null,Ye,v)}}function Re(We,Oe,ke){var Ye=We?We.text:null;if(!Oe&&ke.isLeafRoot&&Ye!=null){var ze=r.get("drillDownIcon",!0);We.text=ze?ze+" "+Ye:Ye}}function Ge(We,Oe,ke,Ye){var ze=M!=null&&n[We][M],qe=o[We];return ze?(n[We][M]=null,Qe(qe,ze)):T||(ze=new Oe,ze instanceof Displayable$1&&(ze.z2=calculateZ2(ke,Ye)),Le(qe,ze)),t[We][w]=ze}function Qe(We,Oe){var ke=We[w]={};Oe instanceof Group$2?(ke.oldX=Oe.x,ke.oldY=Oe.y):ke.oldShape=extend({},Oe.shape)}function Le(We,Oe){var ke=We[w]={},Ye=l.parentNode,ze=Oe instanceof Group$4;if(Ye&&(!a||a.direction==="drillDown")){var qe=0,ae=0,le=o.background[Ye.getRawIndex()];!a&&le&&le.oldShape&&(qe=le.oldShape.width,ae=le.oldShape.height),ze?(ke.oldX=0,ke.oldY=ae):ke.oldShape={x:qe,y:ae,width:0,height:0}}ke.fadein=!ze}}function calculateZ2(r,t){return r*Z2_BASE+t}var TreemapView$1=TreemapView,each$c=each$f,isObject=isObject$4,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function r(t){var n=t.mappingMethod,a=t.type,o=this.option=clone$4(t);this.type=a,this.mappingMethod=n,this._normalizeData=normalizers[n];var s=r.visualHandlers[a];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._normalizedToVisual=s._normalizedToVisual[n],n==="piecewise"?(normalizeVisualRange(o),preprocessForPiecewise(o)):n==="category"?o.categories?preprocessForSpecifiedCategory(o):normalizeVisualRange(o,!0):(assert(n!=="linear"||o.dataExtent),normalizeVisualRange(o))}return r.prototype.mapValueToVisual=function(t){var n=this._normalizeData(t);return this._normalizedToVisual(n,t)},r.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},r.listVisualTypes=function(){return keys(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,n,a){isObject$4(t)?each$f(t,n,a):n.call(a,t)},r.mapVisual=function(t,n,a){var o,s=isArray$1(t)?[]:isObject$4(t)?{}:(o=!0,null);return r.eachVisual(t,function(l,u){var f=n.call(a,l,u);o?s=f:s[u]=f}),s},r.retrieveVisuals=function(t){var n={},a;return t&&each$c(r.visualHandlers,function(o,s){t.hasOwnProperty(s)&&(n[s]=t[s],a=!0)}),a?n:null},r.prepareVisualTypes=function(t){if(isArray$1(t))t=t.slice();else if(isObject(t)){var n=[];each$c(t,function(a,o){n.push(o)}),t=n}else return[];return t.sort(function(a,o){return o==="color"&&a!=="color"&&a.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,n){return n==="color"?!!(t&&t.indexOf(n)===0):t===n},r.findPieceIndex=function(t,n,a){for(var o,s=1/0,l=0,u=n.length;l<u;l++){var f=n[l].value;if(f!=null){if(f===t||isString(f)&&f===t+"")return l;a&&S(f,l)}}for(var l=0,u=n.length;l<u;l++){var d=n[l],v=d.interval,g=d.close;if(v){if(v[0]===-1/0){if(littleThan(g[1],t,v[1]))return l}else if(v[1]===1/0){if(littleThan(g[0],v[0],t))return l}else if(littleThan(g[0],v[0],t)&&littleThan(g[1],t,v[1]))return l;a&&S(v[0],l),a&&S(v[1],l)}}if(a)return t===1/0?n.length-1:t===-1/0?0:o;function S(x,_){var C=Math.abs(x-t);C<s&&(s=C,o=_)}},r.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var t=this.option;return bind$1(t.mappingMethod==="category"?function(n,a){return!a&&(n=this._normalizeData(n)),doMapCategory.call(this,n)}:function(n,a,o){var s=!!o;return!a&&(n=this._normalizeData(n)),o=fastLerp(n,t.parsedVisual,o),s?o:stringify(o,"rgba")},this)},_normalizedToVisual:{linear:function(t){return stringify(fastLerp(t,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(t,n){var a=getSpecifiedVisual.call(this,n);return a==null&&(a=stringify(fastLerp(t,this.option.parsedVisual),"rgba")),a},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,n)}),colorSaturation:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,null,n)}),colorLightness:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,null,null,n)}),colorAlpha:makePartialColorVisualHandler(function(t,n){return modifyAlpha(t,n)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(t,n,a){var o=this.mapValueToVisual(t);a("symbol",o)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(t,n){var a=getSpecifiedVisual.call(this,n);return a==null&&(a=doMapToArray.call(this,t)),a},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},r}();function preprocessForPiecewise(r){var t=r.pieceList;r.hasSpecialVisual=!1,each$f(t,function(n,a){n.originIndex=a,n.visual!=null&&(r.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(r){var t=r.categories,n=r.categoryMap={},a=r.visual;if(each$c(t,function(l,u){n[l]=u}),!isArray$1(a)){var o=[];isObject$4(a)?each$c(a,function(l,u){var f=n[u];o[f!=null?f:CATEGORY_DEFAULT_VISUAL_INDEX]=l}):o[CATEGORY_DEFAULT_VISUAL_INDEX]=a,a=setVisualToOption(r,o)}for(var s=t.length-1;s>=0;s--)a[s]==null&&(delete n[t[s]],t.pop())}function normalizeVisualRange(r,t){var n=r.visual,a=[];isObject$4(n)?each$c(n,function(s){a.push(s)}):n!=null&&a.push(n);var o={color:1,symbol:1};!t&&a.length===1&&!o.hasOwnProperty(r.type)&&(a[1]=a[0]),setVisualToOption(r,a)}function makePartialColorVisualHandler(r){return{applyVisual:function(t,n,a){var o=this.mapValueToVisual(t);a("color",r(n("color"),o))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(r){var t=this.option.visual;return t[Math.round(linearMap$2(r,[0,1],[0,t.length-1],!0))]||{}}function makeApplyVisual(r){return function(t,n,a){a(r,this.mapValueToVisual(t))}}function doMapCategory(r){var t=this.option.visual;return t[this.option.loop&&r!==CATEGORY_DEFAULT_VISUAL_INDEX?r%t.length:r]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(r){return{linear:function(t){return linearMap$2(t,r,this.option.visual,!0)},category:doMapCategory,piecewise:function(t,n){var a=getSpecifiedVisual.call(this,n);return a==null&&(a=linearMap$2(t,r,this.option.visual,!0)),a},fixed:doMapFixed}}function getSpecifiedVisual(r){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var a=VisualMapping.findPieceIndex(r,n),o=n[a];if(o&&o.visual)return o.visual[this.type]}}function setVisualToOption(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=map$1(t,function(n){var a=parse(n);return a||[0,0,0,1]})),t}var normalizers={linear:function(r){return linearMap$2(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,n=VisualMapping.findPieceIndex(r,t,!0);if(n!=null)return linearMap$2(n,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t==null?CATEGORY_DEFAULT_VISUAL_INDEX:t},fixed:noop};function littleThan(r,t,n){return r?t<=n:t<n}var VisualMapping$1=VisualMapping,ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner(),treemapVisual={seriesType:"treemap",reset:function(r){var t=r.getData().tree,n=t.root;n.isRemoved()||travelTree(n,{},r.getViewRoot().getAncestors(),r)}};function travelTree(r,t,n,a){var o=r.getModel(),s=r.getLayout(),l=r.hostTree.data;if(!(!s||s.invisible||!s.isInView)){var u=o.getModel(ITEM_STYLE_NORMAL),f=buildVisuals(u,t,a),d=l.ensureUniqueItemVisual(r.dataIndex,"style"),v=u.get("borderColor"),g=u.get("borderColorSaturation"),S;g!=null&&(S=calculateColor(f),v=calculateBorderColor(g,S)),d.stroke=v;var x=r.viewChildren;if(!x||!x.length)S=calculateColor(f),d.fill=S;else{var _=buildVisualMapping(r,o,s,u,f,x);each$f(x,function(C,T){if(C.depth>=n.length||C===n[C.depth]){var w=mapVisual$1(o,f,C,T,_,a);travelTree(C,w,n,a)}})}}}function buildVisuals(r,t,n){var a=extend({},t),o=n.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(s){o[s]=t[s];var l=r.get(s);o[s]=null,l!=null&&(a[s]=l)}),a}function calculateColor(r){var t=getValueVisualDefine(r,"color");if(t){var n=getValueVisualDefine(r,"colorAlpha"),a=getValueVisualDefine(r,"colorSaturation");return a&&(t=modifyHSL(t,null,null,a)),n&&(t=modifyAlpha(t,n)),t}}function calculateBorderColor(r,t){return t!=null?modifyHSL(t,null,null,r):null}function getValueVisualDefine(r,t){var n=r[t];if(n!=null&&n!=="none")return n}function buildVisualMapping(r,t,n,a,o,s){if(!(!s||!s.length)){var l=getRangeVisual(t,"color")||o.color!=null&&o.color!=="none"&&(getRangeVisual(t,"colorAlpha")||getRangeVisual(t,"colorSaturation"));if(!!l){var u=t.get("visualMin"),f=t.get("visualMax"),d=n.dataExtent.slice();u!=null&&u<d[0]&&(d[0]=u),f!=null&&f>d[1]&&(d[1]=f);var v=t.get("colorMappingBy"),g={type:l.name,dataExtent:d,visual:l.range};g.type==="color"&&(v==="index"||v==="id")?(g.mappingMethod="category",g.loop=!0):g.mappingMethod="linear";var S=new VisualMapping$1(g);return inner$c(S).drColorMappingBy=v,S}}}function getRangeVisual(r,t){var n=r.get(t);return isArray$1(n)&&n.length?{name:t,range:n}:null}function mapVisual$1(r,t,n,a,o,s){var l=extend({},t);if(o){var u=o.type,f=u==="color"&&inner$c(o).drColorMappingBy,d=f==="index"?a:f==="id"?s.mapIdToIndex(n.getId()):n.getValue(r.get("visualDimension"));l[u]=o.mapValueToVisual(d)}return l}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"],treemapLayout={seriesType:"treemap",reset:function(r,t,n,a){var o=n.getWidth(),s=n.getHeight(),l=r.option,u=getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),f=l.size||[],d=parsePercent(retrieveValue(u.width,f[0]),o),v=parsePercent(retrieveValue(u.height,f[1]),s),g=a&&a.type,S=["treemapZoomToNode","treemapRootToNode"],x=retrieveTargetInfo(a,S,r),_=g==="treemapRender"||g==="treemapMove"?a.rootRect:null,C=r.getViewRoot(),T=getPathToRoot(C);if(g!=="treemapMove"){var w=g==="treemapZoomToNode"?estimateRootSize(r,x,C,d,v):_?[_.width,_.height]:[d,v],M=l.sort;M&&M!=="asc"&&M!=="desc"&&(M="desc");var D={squareRatio:l.squareRatio,sort:M,leafDepth:l.leafDepth};C.hostTree.clearLayouts();var I={x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]};C.setLayout(I),squarify(C,D,!1,0),I=C.getLayout(),each$b(T,function($,N){var F=(T[N+1]||C).getValue();$.setLayout(extend({dataExtent:[F,F],borderWidth:0,upperHeight:0},I))})}var R=r.getData().tree.root;R.setLayout(calculateRootPosition(u,_,x),!0),r.setLayoutInfo(u),prunning(R,new BoundingRect$1(-u.x,-u.y,o,s),T,C,0)}};function squarify(r,t,n,a){var o,s;if(!r.isRemoved()){var l=r.getLayout();o=l.width,s=l.height;var u=r.getModel(),f=u.get(PATH_BORDER_WIDTH),d=u.get(PATH_GAP_WIDTH)/2,v=getUpperLabelHeight(u),g=Math.max(f,v),S=f-d,x=g-d;r.setLayout({borderWidth:f,upperHeight:g,upperLabelHeight:v},!0),o=mathMax$3(o-2*S,0),s=mathMax$3(s-S-x,0);var _=o*s,C=initChildren$1(r,u,_,t,n,a);if(!!C.length){var T={x:S,y:x,width:o,height:s},w=mathMin$3(o,s),M=1/0,D=[];D.area=0;for(var I=0,R=C.length;I<R;){var $=C[I];D.push($),D.area+=$.getLayout().area;var N=worst(D,w,t.squareRatio);N<=M?(I++,M=N):(D.area-=D.pop().getLayout().area,position(D,w,T,d,!1),w=mathMin$3(T.width,T.height),D.length=D.area=0,M=1/0)}if(D.length&&position(D,w,T,d,!0),!n){var F=u.get("childrenVisibleMin");F!=null&&_<F&&(n=!0)}for(var I=0,R=C.length;I<R;I++)squarify(C[I],t,n,a+1)}}}function initChildren$1(r,t,n,a,o,s){var l=r.children||[],u=a.sort;u!=="asc"&&u!=="desc"&&(u=null);var f=a.leafDepth!=null&&a.leafDepth<=s;if(o&&!f)return r.viewChildren=[];l=filter(l,function(x){return!x.isRemoved()}),sort$1(l,u);var d=statistic(t,l,u);if(d.sum===0)return r.viewChildren=[];if(d.sum=filterByThreshold(t,n,d.sum,u,l),d.sum===0)return r.viewChildren=[];for(var v=0,g=l.length;v<g;v++){var S=l[v].getValue()/d.sum*n;l[v].setLayout({area:S})}return f&&(l.length&&r.setLayout({isLeafRoot:!0},!0),l.length=0),r.viewChildren=l,r.setLayout({dataExtent:d.dataExtent},!0),l}function filterByThreshold(r,t,n,a,o){if(!a)return n;for(var s=r.get("visibleMin"),l=o.length,u=l,f=l-1;f>=0;f--){var d=o[a==="asc"?l-f-1:f].getValue();d/n*t<s&&(u=f,n-=d)}return a==="asc"?o.splice(0,l-u):o.splice(u,l-u),n}function sort$1(r,t){return t&&r.sort(function(n,a){var o=t==="asc"?n.getValue()-a.getValue():a.getValue()-n.getValue();return o===0?t==="asc"?n.dataIndex-a.dataIndex:a.dataIndex-n.dataIndex:o}),r}function statistic(r,t,n){for(var a=0,o=0,s=t.length;o<s;o++)a+=t[o].getValue();var l=r.get("visualDimension"),u;return!t||!t.length?u=[NaN,NaN]:l==="value"&&n?(u=[t[t.length-1].getValue(),t[0].getValue()],n==="asc"&&u.reverse()):(u=[1/0,-1/0],each$b(t,function(f){var d=f.getValue(l);d<u[0]&&(u[0]=d),d>u[1]&&(u[1]=d)})),{sum:a,dataExtent:u}}function worst(r,t,n){for(var a=0,o=1/0,s=0,l=void 0,u=r.length;s<u;s++)l=r[s].getLayout().area,l&&(l<o&&(o=l),l>a&&(a=l));var f=r.area*r.area,d=t*t*n;return f?mathMax$3(d*a/f,f/(d*o)):1/0}function position(r,t,n,a,o){var s=t===n.width?0:1,l=1-s,u=["x","y"],f=["width","height"],d=n[u[s]],v=t?r.area/t:0;(o||v>n[f[l]])&&(v=n[f[l]]);for(var g=0,S=r.length;g<S;g++){var x=r[g],_={},C=v?x.getLayout().area/v:0,T=_[f[l]]=mathMax$3(v-2*a,0),w=n[u[s]]+n[f[s]]-d,M=g===S-1||w<C?w:C,D=_[f[s]]=mathMax$3(M-2*a,0);_[u[l]]=n[u[l]]+mathMin$3(a,T/2),_[u[s]]=d+mathMin$3(a,D/2),d+=M,x.setLayout(_,!0)}n[u[l]]+=v,n[f[l]]-=v}function estimateRootSize(r,t,n,a,o){var s=(t||{}).node,l=[a,o];if(!s||s===n)return l;for(var u,f=a*o,d=f*r.option.zoomToNodeRatio;u=s.parentNode;){for(var v=0,g=u.children,S=0,x=g.length;S<x;S++)v+=g[S].getValue();var _=s.getValue();if(_===0)return l;d*=v/_;var C=u.getModel(),T=C.get(PATH_BORDER_WIDTH),w=Math.max(T,getUpperLabelHeight(C));d+=4*T*T+(3*T+w)*Math.pow(d,.5),d>MAX_SAFE_INTEGER&&(d=MAX_SAFE_INTEGER),s=u}d<f&&(d=f);var M=Math.pow(d/f,.5);return[a*M,o*M]}function calculateRootPosition(r,t,n){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!n)return a;var o=n.node,s=o.getLayout();if(!s)return a;for(var l=[s.width/2,s.height/2],u=o;u;){var f=u.getLayout();l[0]+=f.x,l[1]+=f.y,u=u.parentNode}return{x:r.width/2-l[0],y:r.height/2-l[1]}}function prunning(r,t,n,a,o){var s=r.getLayout(),l=n[o],u=l&&l===r;if(!(l&&!u||o===n.length&&r!==a)){r.setLayout({isInView:!0,invisible:!u&&!t.intersect(s),isAboveViewRoot:u},!0);var f=new BoundingRect$1(t.x-s.x,t.y-s.y,t.width,t.height);each$b(r.viewChildren||[],function(d){prunning(d,f,n,a,o+1)})}}function getUpperLabelHeight(r){return r.get(PATH_UPPER_LABEL_SHOW)?r.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(r){r.registerSeriesModel(TreemapSeriesModel$1),r.registerChartView(TreemapView$1),r.registerVisual(treemapVisual),r.registerLayout(treemapLayout),installTreemapAction(r)}function categoryFilter(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(n){var a=n.getCategoriesData(),o=n.getGraph(),s=o.data,l=a.mapArray(a.getName);s.filterSelf(function(u){var f=s.getItemModel(u),d=f.getShallow("category");if(d!=null){isNumber(d)&&(d=l[d]);for(var v=0;v<t.length;v++)if(!t[v].isSelected(d))return!1}return!0})})}function categoryVisual(r){var t={};r.eachSeriesByType("graph",function(n){var a=n.getCategoriesData(),o=n.getData(),s={};a.each(function(l){var u=a.getName(l);s["ec-"+u]=l;var f=a.getItemModel(l),d=f.getModel("itemStyle").getItemStyle();d.fill||(d.fill=n.getColorFromPalette(u,t)),a.setItemVisual(l,"style",d);for(var v=["symbol","symbolSize","symbolKeepAspect"],g=0;g<v.length;g++){var S=f.getShallow(v[g],!0);S!=null&&a.setItemVisual(l,v[g],S)}}),a.count()&&o.each(function(l){var u=o.getItemModel(l),f=u.getShallow("category");if(f!=null){isString(f)&&(f=s["ec-"+f]);var d=a.getItemVisual(f,"style"),v=o.ensureUniqueItemVisual(l,"style");extend(v,d);for(var g=["symbol","symbolSize","symbolKeepAspect"],S=0;S<g.length;S++)o.setItemVisual(l,g[S],a.getItemVisual(f,g[S]))}})})}function normalize$1(r){return r instanceof Array||(r=[r,r]),r}function graphEdgeVisual(r){r.eachSeriesByType("graph",function(t){var n=t.getGraph(),a=t.getEdgeData(),o=normalize$1(t.get("edgeSymbol")),s=normalize$1(t.get("edgeSymbolSize"));a.setVisual("fromSymbol",o&&o[0]),a.setVisual("toSymbol",o&&o[1]),a.setVisual("fromSymbolSize",s&&s[0]),a.setVisual("toSymbolSize",s&&s[1]),a.setVisual("style",t.getModel("lineStyle").getLineStyle()),a.each(function(l){var u=a.getItemModel(l),f=n.getEdgeByIndex(l),d=normalize$1(u.getShallow("symbol",!0)),v=normalize$1(u.getShallow("symbolSize",!0)),g=u.getModel("lineStyle").getLineStyle(),S=a.ensureUniqueItemVisual(l,"style");switch(extend(S,g),S.stroke){case"source":{var x=f.node1.getVisual("style");S.stroke=x&&x.fill;break}case"target":{var x=f.node2.getVisual("style");S.stroke=x&&x.fill;break}}d[0]&&f.setVisual("fromSymbol",d[0]),d[1]&&f.setVisual("toSymbol",d[1]),v[0]&&f.setVisual("fromSymbolSize",v[0]),v[1]&&f.setVisual("toSymbolSize",v[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(r){return r.get("autoCurveness")||null},createCurveness=function(r,t){var n=getAutoCurvenessParams(r),a=20,o=[];if(isNumber(n))a=n;else if(isArray$1(n)){r.__curvenessList=n;return}t>a&&(a=t);var s=a%2?a+2:a+3;o=[];for(var l=0;l<s;l++)o.push((l%2?l+1:l)/10*(l%2?-1:1));r.__curvenessList=o},getKeyOfEdges=function(r,t,n){var a=[r.id,r.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[n.uid,a,o].join(KEY_DELIMITER)},getOppositeKey=function(r){var t=r.split(KEY_DELIMITER);return[t[0],t[2],t[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(r,t){var n=getKeyOfEdges(r.node1,r.node2,t);return t.__edgeMap[n]},getTotalLengthBetweenNodes=function(r,t){var n=getEdgeMapLengthWithKey(getKeyOfEdges(r.node1,r.node2,t),t),a=getEdgeMapLengthWithKey(getKeyOfEdges(r.node2,r.node1,t),t);return n+a},getEdgeMapLengthWithKey=function(r,t){var n=t.__edgeMap;return n[r]?n[r].length:0};function initCurvenessList(r){!getAutoCurvenessParams(r)||(r.__curvenessList=[],r.__edgeMap={},createCurveness(r))}function createEdgeMapForCurveness(r,t,n,a){if(!!getAutoCurvenessParams(n)){var o=getKeyOfEdges(r,t,n),s=n.__edgeMap,l=s[getOppositeKey(o)];s[o]&&!l?s[o].isForward=!0:l&&s[o]&&(l.isForward=!0,s[o].isForward=!1),s[o]=s[o]||[],s[o].push(a)}}function getCurvenessForEdge(r,t,n,a){var o=getAutoCurvenessParams(t),s=isArray$1(o);if(!o)return null;var l=getEdgeFromMap(r,t);if(!l)return null;for(var u=-1,f=0;f<l.length;f++)if(l[f]===n){u=f;break}var d=getTotalLengthBetweenNodes(r,t);createCurveness(t,d),r.lineStyle=r.lineStyle||{};var v=getKeyOfEdges(r.node1,r.node2,t),g=t.__curvenessList,S=s||d%2?0:1;if(l.isForward)return g[S+u];var x=getOppositeKey(v),_=getEdgeMapLengthWithKey(x,t),C=g[u+_+S];return a?s?o&&o[0]===0?(_+S)%2?C:-C:((_%2?0:1)+S)%2?C:-C:(_+S)%2?C:-C:g[u+_+S]}function simpleLayout(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var n=r.getGraph();n.eachNode(function(a){var o=a.getModel();a.setLayout([+o.get("x"),+o.get("y")])}),simpleLayoutEdge(n,r)}}function simpleLayoutEdge(r,t){r.eachEdge(function(n,a){var o=retrieve3(n.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(n,t,a,!0),0),s=clone$3(n.node1.getLayout()),l=clone$3(n.node2.getLayout()),u=[s,l];+o&&u.push([(s[0]+l[0])/2-(s[1]-l[1])*o,(s[1]+l[1])/2-(l[0]-s[0])*o]),n.setLayout(u)})}function graphSimpleLayout(r,t){r.eachSeriesByType("graph",function(n){var a=n.get("layout"),o=n.coordinateSystem;if(o&&o.type!=="view"){var s=n.getData(),l=[];each$f(o.dimensions,function(S){l=l.concat(s.mapDimensionsAll(S))});for(var u=0;u<s.count();u++){for(var f=[],d=!1,v=0;v<l.length;v++){var g=s.get(l[v],u);isNaN(g)||(d=!0),f.push(g)}d?s.setItemLayout(u,o.dataToPoint(f)):s.setItemLayout(u,[NaN,NaN])}simpleLayoutEdge(s.graph,n)}else(!a||a==="none")&&simpleLayout(n)})}function getNodeGlobalScale(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var n=r.option.nodeScaleRatio,a=t.scaleX,o=t.getZoom(),s=(o-1)*n+1;return s/a}function getSymbolSize(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(r,t){var n=r.coordinateSystem;if(!(n&&n.type!=="view")){var a=n.getBoundingRect(),o=r.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,f=Math.min(a.width,a.height)/2,d=o.count();o.setLayout({cx:l,cy:u}),d&&(_layoutNodesBasedOn[t](r,s,o,f,l,u,d),s.eachEdge(function(v,g){var S=retrieve3(v.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(v,r,g),0),x=clone$3(v.node1.getLayout()),_=clone$3(v.node2.getLayout()),C,T=(x[0]+_[0])/2,w=(x[1]+_[1])/2;+S&&(S*=3,C=[l*S+T*(1-S),u*S+w*(1-S)]),v.setLayout([x,_,C])}))}}var _layoutNodesBasedOn={value:function(r,t,n,a,o,s,l){var u=0,f=n.getSum("value"),d=Math.PI*2/(f||l);t.eachNode(function(v){var g=v.getValue("value"),S=d*(f?g:1)/2;u+=S,v.setLayout([a*Math.cos(u)+o,a*Math.sin(u)+s]),u+=S})},symbolSize:function(r,t,n,a,o,s,l){var u=0;_symbolRadiansHalf.length=l;var f=getNodeGlobalScale(r);t.eachNode(function(g){var S=getSymbolSize(g);isNaN(S)&&(S=2),S<0&&(S=0),S*=f;var x=Math.asin(S/2/a);isNaN(x)&&(x=PI$2/2),_symbolRadiansHalf[g.dataIndex]=x,u+=x*2});var d=(2*PI$2-u)/l/2,v=0;t.eachNode(function(g){var S=d+_symbolRadiansHalf[g.dataIndex];v+=S,g.setLayout([a*Math.cos(v)+o,a*Math.sin(v)+s]),v+=S})}};function graphCircularLayout(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&circularLayout(t,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(r,t,n){for(var a=r,o=t,s=n.rect,l=s.width,u=s.height,f=[s.x+l/2,s.y+u/2],d=n.gravity==null?.1:n.gravity,v=0;v<a.length;v++){var g=a[v];g.p||(g.p=create$2(l*(Math.random()-.5)+f[0],u*(Math.random()-.5)+f[1])),g.pp=clone$3(g.p),g.edges=null}var S=n.friction==null?.6:n.friction,x=S,_,C;return{warmUp:function(){x=S*.8},setFixed:function(T){a[T].fixed=!0},setUnfixed:function(T){a[T].fixed=!1},beforeStep:function(T){_=T},afterStep:function(T){C=T},step:function(T){_&&_(a,o);for(var w=[],M=a.length,D=0;D<o.length;D++){var I=o[D];if(!I.ignoreForceLayout){var R=I.n1,$=I.n2;sub(w,$.p,R.p);var N=len(w)-I.d,F=$.w/(R.w+$.w);isNaN(F)&&(F=0),normalize$3(w,w),!R.fixed&&scaleAndAdd(R.p,R.p,w,F*N*x),!$.fixed&&scaleAndAdd($.p,$.p,w,-(1-F)*N*x)}}for(var D=0;D<M;D++){var H=a[D];H.fixed||(sub(w,f,H.p),scaleAndAdd(H.p,H.p,w,d*x))}for(var D=0;D<M;D++)for(var R=a[D],Y=D+1;Y<M;Y++){var $=a[Y];sub(w,$.p,R.p);var N=len(w);N===0&&(set$1(w,Math.random()-.5,Math.random()-.5),N=1);var G=(R.rep+$.rep)/N/N;!R.fixed&&scaleAndAdd(R.pp,R.pp,w,G),!$.fixed&&scaleAndAdd($.pp,$.pp,w,-G)}for(var K=[],D=0;D<M;D++){var H=a[D];H.fixed||(sub(K,H.p,H.pp),scaleAndAdd(H.p,H.p,K,x),copy$1(H.pp,H.p))}x=x*.992;var Z=x<.01;C&&C(a,o,Z),T&&T(Z)}}}function graphForceLayout(r){r.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!(n&&n.type!=="view"))if(t.get("layout")==="force"){var a=t.preservedPoints||{},o=t.getGraph(),s=o.data,l=o.edgeData,u=t.getModel("force"),f=u.get("initLayout");t.preservedPoints?s.each(function(D){var I=s.getId(D);s.setItemLayout(D,a[I]||[NaN,NaN])}):!f||f==="none"?simpleLayout(t):f==="circular"&&circularLayout(t,"value");var d=s.getDataExtent("value"),v=l.getDataExtent("value"),g=u.get("repulsion"),S=u.get("edgeLength"),x=isArray$1(g)?g:[g,g],_=isArray$1(S)?S:[S,S];_=[_[1],_[0]];var C=s.mapArray("value",function(D,I){var R=s.getItemLayout(I),$=linearMap$2(D,d,x);return isNaN($)&&($=(x[0]+x[1])/2),{w:$,rep:$,fixed:s.getItemModel(I).get("fixed"),p:!R||isNaN(R[0])||isNaN(R[1])?null:R}}),T=l.mapArray("value",function(D,I){var R=o.getEdgeByIndex(I),$=linearMap$2(D,v,_);isNaN($)&&($=(_[0]+_[1])/2);var N=R.getModel(),F=retrieve3(R.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(R,t,I,!0),0);return{n1:C[R.node1.dataIndex],n2:C[R.node2.dataIndex],d:$,curveness:F,ignoreForceLayout:N.get("ignoreForceLayout")}}),w=n.getBoundingRect(),M=forceLayout(C,T,{rect:w,gravity:u.get("gravity"),friction:u.get("friction")});M.beforeStep(function(D,I){for(var R=0,$=D.length;R<$;R++)D[R].fixed&&copy$1(D[R].p,o.getNodeByIndex(R).getLayout())}),M.afterStep(function(D,I,R){for(var $=0,N=D.length;$<N;$++)D[$].fixed||o.getNodeByIndex($).setLayout(D[$].p),a[s.getId($)]=D[$].p;for(var $=0,N=I.length;$<N;$++){var F=I[$],H=o.getEdgeByIndex($),Y=F.n1.p,G=F.n2.p,K=H.getLayout();K=K?K.slice():[],K[0]=K[0]||[],K[1]=K[1]||[],copy$1(K[0],Y),copy$1(K[1],G),+F.curveness&&(K[2]=[(Y[0]+G[0])/2-(Y[1]-G[1])*F.curveness,(Y[1]+G[1])/2-(G[0]-Y[0])*F.curveness]),H.setLayout(K)}}),t.forceLayout=M,t.preservedPoints=a,M.step()}else t.forceLayout=null})}function getViewRect$3(r,t,n){var a=extend(r.getBoxLayoutParams(),{aspect:n});return getLayoutRect(a,{width:t.getWidth(),height:t.getHeight()})}function createViewCoordSys(r,t){var n=[];return r.eachSeriesByType("graph",function(a){var o=a.get("coordinateSystem");if(!o||o==="view"){var s=a.getData(),l=s.mapArray(function(T){var w=s.getItemModel(T);return[+w.get("x"),+w.get("y")]}),u=[],f=[];fromPoints(l,u,f),f[0]-u[0]===0&&(f[0]+=1,u[0]-=1),f[1]-u[1]===0&&(f[1]+=1,u[1]-=1);var d=(f[0]-u[0])/(f[1]-u[1]),v=getViewRect$3(a,t,d);isNaN(d)&&(u=[v.x,v.y],f=[v.x+v.width,v.y+v.height]);var g=f[0]-u[0],S=f[1]-u[1],x=v.width,_=v.height,C=a.coordinateSystem=new View$1;C.zoomLimit=a.get("scaleLimit"),C.setBoundingRect(u[0],u[1],g,S),C.setViewRect(v.x,v.y,x,_),C.setCenter(a.get("center")),C.setZoom(a.get("zoom")),n.push(C)}}),n}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(StraightLineShape);function isStraightLine(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var ECLinePath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="ec-line",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new StraightLineShape},t.prototype.buildPath=function(n,a){isStraightLine(a)?straightLineProto.buildPath.call(this,n,a):bezierCurveProto.buildPath.call(this,n,a)},t.prototype.pointAt=function(n){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,n):bezierCurveProto.pointAt.call(this,n)},t.prototype.tangentAt=function(n){var a=this.shape,o=isStraightLine(a)?[a.x2-a.x1,a.y2-a.y1]:bezierCurveProto.tangentAt.call(this,n);return normalize$3(o,o)},t}(Path$1),ECLinePath$1=ECLinePath,SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(r){return"_"+r+"Type"}function createSymbol(r,t,n){var a=t.getItemVisual(n,r);if(!(!a||a==="none")){var o=t.getItemVisual(n,r+"Size"),s=t.getItemVisual(n,r+"Rotate"),l=t.getItemVisual(n,r+"Offset"),u=t.getItemVisual(n,r+"KeepAspect"),f=normalizeSymbolSize(o),d=normalizeSymbolOffset(l||0,f),v=createSymbol$1(a,-f[0]/2+d[0],-f[1]/2+d[1],f[0],f[1],null,u);return v.__specifiedRotation=s==null||isNaN(s)?void 0:+s*Math.PI/180||0,v.name=r,v}}function createLine(r){var t=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(t.shape,r),t}function setLinePoints(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var n=t[2];n?(r.cpx1=n[0],r.cpy1=n[1]):(r.cpx1=NaN,r.cpy1=NaN)}var Line=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this)||this;return s._createLine(n,a,o),s}return t.prototype._createLine=function(n,a,o){var s=n.hostModel,l=n.getItemLayout(a),u=createLine(l);u.shape.percent=0,initProps(u,{shape:{percent:1}},s,a),this.add(u),each$f(SYMBOL_CATEGORIES,function(f){var d=createSymbol(f,n,a);this.add(d),this[makeSymbolTypeKey(f)]=n.getItemVisual(a,f)},this),this._updateCommonStl(n,a,o)},t.prototype.updateData=function(n,a,o){var s=n.hostModel,l=this.childOfName("line"),u=n.getItemLayout(a),f={shape:{}};setLinePoints(f.shape,u),updateProps$1(l,f,s,a),each$f(SYMBOL_CATEGORIES,function(d){var v=n.getItemVisual(a,d),g=makeSymbolTypeKey(d);if(this[g]!==v){this.remove(this.childOfName(d));var S=createSymbol(d,n,a);this.add(S)}this[g]=v},this),this._updateCommonStl(n,a,o)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(n,a,o){var s=n.hostModel,l=this.childOfName("line"),u=o&&o.emphasisLineStyle,f=o&&o.blurLineStyle,d=o&&o.selectLineStyle,v=o&&o.labelStatesModels,g=o&&o.emphasisDisabled,S=o&&o.focus,x=o&&o.blurScope;if(!o||n.hasItemOption){var _=n.getItemModel(a),C=_.getModel("emphasis");u=C.getModel("lineStyle").getLineStyle(),f=_.getModel(["blur","lineStyle"]).getLineStyle(),d=_.getModel(["select","lineStyle"]).getLineStyle(),g=C.get("disabled"),S=C.get("focus"),x=C.get("blurScope"),v=getLabelStatesModels(_)}var T=n.getItemVisual(a,"style"),w=T.stroke;l.useStyle(T),l.style.fill=null,l.style.strokeNoScale=!0,l.ensureState("emphasis").style=u,l.ensureState("blur").style=f,l.ensureState("select").style=d,each$f(SYMBOL_CATEGORIES,function($){var N=this.childOfName($);if(N){N.setColor(w),N.style.opacity=T.opacity;for(var F=0;F<SPECIAL_STATES.length;F++){var H=SPECIAL_STATES[F],Y=l.getState(H);if(Y){var G=Y.style||{},K=N.ensureState(H),Z=K.style||(K.style={});G.stroke!=null&&(Z[N.__isEmptyBrush?"stroke":"fill"]=G.stroke),G.opacity!=null&&(Z.opacity=G.opacity)}}N.markRedraw()}},this);var M=s.getRawValue(a);setLabelStyle(this,v,{labelDataIndex:a,labelFetcher:{getFormattedLabel:function($,N){return s.getFormattedLabel($,N,n.dataType)}},inheritColor:w||"#000",defaultOpacity:T.opacity,defaultText:(M==null?n.getName(a):isFinite(M)?round$3(M):M)+""});var D=this.getTextContent();if(D){var I=v.normal;D.__align=D.style.align,D.__verticalAlign=D.style.verticalAlign,D.__position=I.get("position")||"middle";var R=I.get("distance");isArray$1(R)||(R=[R,R]),D.__labelDistance=R}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,S,x,g)},t.prototype.highlight=function(){enterEmphasis(this)},t.prototype.downplay=function(){leaveEmphasis(this)},t.prototype.updateLayout=function(n,a){this.setLinePoints(n.getItemLayout(a))},t.prototype.setLinePoints=function(n){var a=this.childOfName("line");setLinePoints(a.shape,n),a.dirty()},t.prototype.beforeUpdate=function(){var n=this,a=n.childOfName("fromSymbol"),o=n.childOfName("toSymbol"),s=n.getTextContent();if(!a&&!o&&(!s||s.ignore))return;for(var l=1,u=this.parent;u;)u.scaleX&&(l/=u.scaleX),u=u.parent;var f=n.childOfName("line");if(!this.__dirty&&!f.__dirty)return;var d=f.shape.percent,v=f.pointAt(0),g=f.pointAt(d),S=sub([],g,v);normalize$3(S,S);function x(Y,G){var K=Y.__specifiedRotation;if(K==null){var Z=f.tangentAt(G);Y.attr("rotation",(G===1?-1:1)*Math.PI/2-Math.atan2(Z[1],Z[0]))}else Y.attr("rotation",K)}if(a&&(a.setPosition(v),x(a,0),a.scaleX=a.scaleY=l*d,a.markRedraw()),o&&(o.setPosition(g),x(o,1),o.scaleX=o.scaleY=l*d,o.markRedraw()),s&&!s.ignore){s.x=s.y=0,s.originX=s.originY=0;var _=void 0,C=void 0,T=s.__labelDistance,w=T[0]*l,M=T[1]*l,D=d/2,I=f.tangentAt(D),R=[I[1],-I[0]],$=f.pointAt(D);R[1]>0&&(R[0]=-R[0],R[1]=-R[1]);var N=I[0]<0?-1:1;if(s.__position!=="start"&&s.__position!=="end"){var F=-Math.atan2(I[1],I[0]);g[0]<v[0]&&(F=Math.PI+F),s.rotation=F}var H=void 0;switch(s.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":H=-M,C="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":H=M,C="top";break;default:H=0,C="middle"}switch(s.__position){case"end":s.x=S[0]*w+g[0],s.y=S[1]*M+g[1],_=S[0]>.8?"left":S[0]<-.8?"right":"center",C=S[1]>.8?"top":S[1]<-.8?"bottom":"middle";break;case"start":s.x=-S[0]*w+v[0],s.y=-S[1]*M+v[1],_=S[0]>.8?"right":S[0]<-.8?"left":"center",C=S[1]>.8?"bottom":S[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":s.x=w*N+v[0],s.y=v[1]+H,_=I[0]<0?"right":"left",s.originX=-w*N,s.originY=-H;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":s.x=$[0],s.y=$[1]+H,_="center",s.originY=-H;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":s.x=-w*N+g[0],s.y=g[1]+H,_=I[0]>=0?"right":"left",s.originX=w*N,s.originY=-H;break}s.scaleX=s.scaleY=l,s.setStyle({verticalAlign:s.__verticalAlign||C,align:s.__align||_})}},t}(Group$4),Line$1=Line,LineDraw=function(){function r(t){this.group=new Group$4,this._LineCtor=t||Line$1}return r.prototype.updateData=function(t){var n=this;this._progressiveEls=null;var a=this,o=a.group,s=a._lineData;a._lineData=t,s||o.removeAll();var l=makeSeriesScope$1(t);t.diff(s).add(function(u){n._doAdd(t,u,l)}).update(function(u,f){n._doUpdate(s,t,f,u,l)}).remove(function(u){o.remove(s.getItemGraphicEl(u))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;!t||t.eachItemGraphicEl(function(n,a){n.updateLayout(t,a)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope$1(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,n){this._progressiveEls=[];function a(u){!u.isGroup&&!isEffectObject(u)&&(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=n.getItemLayout(o);if(lineNeedsDraw(s)){var l=new this._LineCtor(n,o,this._seriesScope);l.traverse(a),this.group.add(l),n.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,n,a){var o=t.getItemLayout(n);if(!!lineNeedsDraw(o)){var s=new this._LineCtor(t,n,a);t.setItemGraphicEl(n,s),this.group.add(s)}},r.prototype._doUpdate=function(t,n,a,o,s){var l=t.getItemGraphicEl(a);if(!lineNeedsDraw(n.getItemLayout(o))){this.group.remove(l);return}l?l.updateData(n,o,s):l=new this._LineCtor(n,o,s),n.setItemGraphicEl(o,l),this.group.add(l)},r}();function isEffectObject(r){return r.animators&&r.animators.length>0}function makeSeriesScope$1(r){var t=r.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:getLabelStatesModels(t)}}function isPointNaN(r){return isNaN(r[0])||isNaN(r[1])}function lineNeedsDraw(r){return r&&!isPointNaN(r[0])&&!isPointNaN(r[1])}var LineDraw$1=LineDraw,v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(r,t,n){for(var a=r[0],o=r[1],s=r[2],l=1/0,u,f=n*n,d=.1,v=.1;v<=.9;v+=.1){v1[0]=quadraticAt(a[0],o[0],s[0],v),v1[1]=quadraticAt(a[1],o[1],s[1],v);var g=mathAbs(v2DistSquare(v1,t)-f);g<l&&(l=g,u=v)}for(var S=0;S<32;S++){var x=u+d;v2[0]=quadraticAt(a[0],o[0],s[0],u),v2[1]=quadraticAt(a[1],o[1],s[1],u),v3[0]=quadraticAt(a[0],o[0],s[0],x),v3[1]=quadraticAt(a[1],o[1],s[1],x);var g=v2DistSquare(v2,t)-f;if(mathAbs(g)<.01)break;var _=v2DistSquare(v3,t)-f;d/=2,g<0?_>=0?u=u+d:u=u-d:_>=0?u=u-d:u=u+d}return u}function adjustEdge(r,t){var n=[],a=quadraticSubdivide,o=[[],[],[]],s=[[],[]],l=[];t/=2,r.eachEdge(function(u,f){var d=u.getLayout(),v=u.getVisual("fromSymbol"),g=u.getVisual("toSymbol");d.__original||(d.__original=[clone$3(d[0]),clone$3(d[1])],d[2]&&d.__original.push(clone$3(d[2])));var S=d.__original;if(d[2]!=null){if(copy$1(o[0],S[0]),copy$1(o[1],S[2]),copy$1(o[2],S[1]),v&&v!=="none"){var x=getSymbolSize(u.node1),_=intersectCurveCircle(o,S[0],x*t);a(o[0][0],o[1][0],o[2][0],_,n),o[0][0]=n[3],o[1][0]=n[4],a(o[0][1],o[1][1],o[2][1],_,n),o[0][1]=n[3],o[1][1]=n[4]}if(g&&g!=="none"){var x=getSymbolSize(u.node2),_=intersectCurveCircle(o,S[1],x*t);a(o[0][0],o[1][0],o[2][0],_,n),o[1][0]=n[1],o[2][0]=n[2],a(o[0][1],o[1][1],o[2][1],_,n),o[1][1]=n[1],o[2][1]=n[2]}copy$1(d[0],o[0]),copy$1(d[1],o[2]),copy$1(d[2],o[1])}else{if(copy$1(s[0],S[0]),copy$1(s[1],S[1]),sub(l,s[1],s[0]),normalize$3(l,l),v&&v!=="none"){var x=getSymbolSize(u.node1);scaleAndAdd$1(s[0],s[0],l,x*t)}if(g&&g!=="none"){var x=getSymbolSize(u.node2);scaleAndAdd$1(s[1],s[1],l,-x*t)}copy$1(d[0],s[0]),copy$1(d[1],s[1])}})}function isViewCoordSys(r){return r.type==="view"}var GraphView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a){var o=new SymbolDraw$1,s=new LineDraw$1,l=this.group;this._controller=new RoamController$1(a.getZr()),this._controllerHost={target:l},l.add(o.group),l.add(s.group),this._symbolDraw=o,this._lineDraw=s,this._firstRender=!0},t.prototype.render=function(n,a,o){var s=this,l=n.coordinateSystem;this._model=n;var u=this._symbolDraw,f=this._lineDraw,d=this.group;if(isViewCoordSys(l)){var v={x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY};this._firstRender?d.attr(v):updateProps$1(d,v,n)}adjustEdge(n.getGraph(),getNodeGlobalScale(n));var g=n.getData();u.updateData(g);var S=n.getEdgeData();f.updateData(S),this._updateNodeAndLinkScale(),this._updateController(n,a,o),clearTimeout(this._layoutTimeout);var x=n.forceLayout,_=n.get(["force","layoutAnimation"]);x&&this._startForceLayoutIteration(x,_),g.graph.eachNode(function(M){var D=M.dataIndex,I=M.getGraphicEl(),R=M.getModel();if(!!I){I.off("drag").off("dragend");var $=R.get("draggable");$&&I.on("drag",function(){x&&(x.warmUp(),!s._layouting&&s._startForceLayoutIteration(x,_),x.setFixed(D),g.setItemLayout(D,[I.x,I.y]))}).on("dragend",function(){x&&x.setUnfixed(D)}),I.setDraggable($&&!!x);var N=R.get(["emphasis","focus"]);N==="adjacency"&&(getECData(I).focus=M.getAdjacentDataIndices())}}),g.graph.eachEdge(function(M){var D=M.getGraphicEl(),I=M.getModel().get(["emphasis","focus"]);!D||I==="adjacency"&&(getECData(D).focus={edge:[M.dataIndex],node:[M.node1.dataIndex,M.node2.dataIndex]})});var C=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),T=g.getLayout("cx"),w=g.getLayout("cy");g.eachItemGraphicEl(function(M,D){var I=g.getItemModel(D),R=I.get(["label","rotate"])||0,$=M.getSymbolPath();if(C){var N=g.getItemLayout(D),F=Math.atan2(N[1]-w,N[0]-T);F<0&&(F=Math.PI*2+F);var H=N[0]<T;H&&(F=F-Math.PI);var Y=H?"left":"right";$.setTextConfig({rotation:-F,position:Y,origin:"center"});var G=$.ensureState("emphasis");extend(G.textConfig||(G.textConfig={}),{position:Y})}else $.setTextConfig({rotation:R*=Math.PI/180})}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(n,a){var o=this;(function s(){n.step(function(l){o.updateLayout(o._model),(o._layouting=!l)&&(a?o._layoutTimeout=setTimeout(s,16):s())})})()},t.prototype._updateController=function(n,a,o){var s=this,l=this._controller,u=this._controllerHost,f=this.group;if(l.setPointerChecker(function(d,v,g){var S=f.getBoundingRect();return S.applyTransform(f.transform),S.contain(v,g)&&!onIrrelevantElement(d,o,n)}),!isViewCoordSys(n.coordinateSystem)){l.disable();return}l.enable(n.get("roam")),u.zoomLimit=n.get("scaleLimit"),u.zoom=n.coordinateSystem.getZoom(),l.off("pan").off("zoom").on("pan",function(d){updateViewOnPan(u,d.dx,d.dy),o.dispatchAction({seriesId:n.id,type:"graphRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){updateViewOnZoom(u,d.scale,d.originX,d.originY),o.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),s._updateNodeAndLinkScale(),adjustEdge(n.getGraph(),getNodeGlobalScale(n)),s._lineDraw.updateLayout(),o.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var n=this._model,a=n.getData(),o=getNodeGlobalScale(n);a.eachItemGraphicEl(function(s,l){s&&s.setSymbolScale(o)})},t.prototype.updateLayout=function(n){adjustEdge(n.getGraph(),getNodeGlobalScale(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(n,a){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ChartView$1),GraphView$1=GraphView;function generateNodeKey(r){return"_EC_"+r}var Graph=function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,n){t=t==null?""+n:""+t;var a=this._nodesMap;if(!a[generateNodeKey(t)]){var o=new GraphNode(t,n);return o.hostGraph=this,this.nodes.push(o),a[generateNodeKey(t)]=o,o}},r.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},r.prototype.getNodeById=function(t){return this._nodesMap[generateNodeKey(t)]},r.prototype.addEdge=function(t,n,a){var o=this._nodesMap,s=this._edgesMap;if(isNumber(t)&&(t=this.nodes[t]),isNumber(n)&&(n=this.nodes[n]),t instanceof GraphNode||(t=o[generateNodeKey(t)]),n instanceof GraphNode||(n=o[generateNodeKey(n)]),!(!t||!n)){var l=t.id+"-"+n.id,u=new GraphEdge(t,n,a);return u.hostGraph=this,this._directed&&(t.outEdges.push(u),n.inEdges.push(u)),t.edges.push(u),t!==n&&n.edges.push(u),this.edges.push(u),s[l]=u,u}},r.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},r.prototype.getEdge=function(t,n){t instanceof GraphNode&&(t=t.id),n instanceof GraphNode&&(n=n.id);var a=this._edgesMap;return this._directed?a[t+"-"+n]:a[t+"-"+n]||a[n+"-"+t]},r.prototype.eachNode=function(t,n){for(var a=this.nodes,o=a.length,s=0;s<o;s++)a[s].dataIndex>=0&&t.call(n,a[s],s)},r.prototype.eachEdge=function(t,n){for(var a=this.edges,o=a.length,s=0;s<o;s++)a[s].dataIndex>=0&&a[s].node1.dataIndex>=0&&a[s].node2.dataIndex>=0&&t.call(n,a[s],s)},r.prototype.breadthFirstTraverse=function(t,n,a,o){if(n instanceof GraphNode||(n=this._nodesMap[generateNodeKey(n)]),!!n){for(var s=a==="out"?"outEdges":a==="in"?"inEdges":"edges",l=0;l<this.nodes.length;l++)this.nodes[l].__visited=!1;if(!t.call(o,n,null))for(var u=[n];u.length;)for(var f=u.shift(),d=f[s],l=0;l<d.length;l++){var v=d[l],g=v.node1===f?v.node2:v.node1;if(!g.__visited){if(t.call(o,g,f))return;u.push(g),g.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,n=this.edgeData,a=this.nodes,o=this.edges,s=0,l=a.length;s<l;s++)a[s].dataIndex=-1;for(var s=0,l=t.count();s<l;s++)a[t.getRawIndex(s)].dataIndex=s;n.filterSelf(function(u){var f=o[n.getRawIndex(u)];return f.node1.dataIndex>=0&&f.node2.dataIndex>=0});for(var s=0,l=o.length;s<l;s++)o[s].dataIndex=-1;for(var s=0,l=n.count();s<l;s++)o[n.getRawIndex(s)].dataIndex=s},r.prototype.clone=function(){for(var t=new r(this._directed),n=this.nodes,a=this.edges,o=0;o<n.length;o++)t.addNode(n[o].id,n[o].dataIndex);for(var o=0;o<a.length;o++){var s=a[o];t.addEdge(s.node1.id,s.node2.id,s.dataIndex)}return t},r}(),GraphNode=function(){function r(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t==null?"":t,this.dataIndex=n==null?-1:n}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,a=n.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var a=this.edges[n];a.dataIndex<0||(t.edge.push(a.dataIndex),t.node.push(a.node1.dataIndex,a.node2.dataIndex))}return t},r}(),GraphEdge=function(){function r(t,n,a){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=a==null?-1:a}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,a=n.edgeData.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r}();function createGraphDataProxyMixin(r,t){return{getValue:function(n){var a=this[r][t];return a.getStore().get(a.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,a){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,n,a)},getVisual:function(n){return this[r][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,a){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,n,a)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));var Graph$1=Graph;function createGraphFromNodeEdge(r,t,n,a,o){for(var s=new Graph$1(a),l=0;l<r.length;l++)s.addNode(retrieve(r[l].id,r[l].name,l),l);for(var u=[],f=[],d=0,l=0;l<t.length;l++){var v=t[l],g=v.source,S=v.target;s.addEdge(g,S,d)&&(f.push(v),u.push(retrieve(convertOptionIdName(v.id,null),g+" > "+S)),d++)}var x=n.get("coordinateSystem"),_;if(x==="cartesian2d"||x==="polar")_=createSeriesData(r,n);else{var C=CoordinateSystem.get(x),T=C?C.dimensions||[]:[];indexOf(T,"value")<0&&T.concat(["value"]);var w=prepareSeriesDataSchema(r,{coordDimensions:T,encodeDefine:n.getEncode()}).dimensions;_=new SeriesData$1(w,n),_.initData(r)}var M=new SeriesData$1(["value"],n);return M.initData(f,u),o&&o(_,M),linkSeriesData({mainData:_,struct:s,structAttr:"graph",datas:{node:_,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}var GraphSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){r.prototype.init.apply(this,arguments);var a=this;function o(){return a._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(o,o),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeOption=function(n){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(n){r.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(n,"edgeLabel",["show"])},t.prototype.getInitialData=function(n,a){var o=n.edges||n.links||[],s=n.data||n.nodes||[],l=this;if(s&&o){initCurvenessList(this);var u=createGraphFromNodeEdge(s,o,this,!0,f);return each$f(u.edges,function(d){createEdgeMapForCurveness(d.node1,d.node2,this,d.dataIndex)},this),u.data}function f(d,v){d.wrapMethod("getItemModel",function(_){var C=l._categoriesModels,T=_.getShallow("category"),w=C[T];return w&&(w.parentModel=_.parentModel,_.parentModel=w),_});var g=Model$1.prototype.getModel;function S(_,C){var T=g.call(this,_,C);return T.resolveParentPath=x,T}v.wrapMethod("getItemModel",function(_){return _.resolveParentPath=x,_.getModel=S,_});function x(_){if(_&&(_[0]==="label"||_[1]==="label")){var C=_.slice();return _[0]==="label"?C[0]="edgeLabel":_[1]==="label"&&(C[1]="edgeLabel"),C}return _}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(n,a,o){if(o==="edge"){var s=this.getData(),l=this.getDataParams(n,o),u=s.graph.getEdgeByIndex(n),f=s.getName(u.node1.dataIndex),d=s.getName(u.node2.dataIndex),v=[];return f!=null&&v.push(f),d!=null&&v.push(d),createTooltipMarkup("nameValue",{name:v.join(" > "),value:l.value,noValue:l.value==null})}var g=defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:a});return g},t.prototype._updateCategoriesData=function(){var n=map$1(this.option.categories||[],function(o){return o.value!=null?o:extend({value:0},o)}),a=new SeriesData$1(["value"],this);a.initData(n),this._categoriesData=a,this._categoriesModels=a.mapArray(function(o){return a.getItemModel(o)})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(SeriesModel$1),GraphSeriesModel$1=GraphSeriesModel,actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(r){r.registerChartView(GraphView$1),r.registerSeriesModel(GraphSeriesModel$1),r.registerProcessor(categoryFilter),r.registerVisual(categoryVisual),r.registerVisual(graphEdgeVisual),r.registerLayout(graphSimpleLayout),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),r.registerLayout(graphForceLayout),r.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),r.registerAction(actionInfo$1,function(t,n){n.eachComponent({mainType:"series",query:t},function(a){var o=a.coordinateSystem,s=updateCenterAndZoom(o,t);a.setCenter&&a.setCenter(s.center),a.setZoom&&a.setZoom(s.zoom)})})}var PointerShape=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),PointerPath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="pointer",a}return t.prototype.getDefaultShape=function(){return new PointerShape},t.prototype.buildPath=function(n,a){var o=Math.cos,s=Math.sin,l=a.r,u=a.width,f=a.angle,d=a.x-o(f)*u*(u>=l/3?1:2),v=a.y-s(f)*u*(u>=l/3?1:2);f=a.angle-Math.PI/2,n.moveTo(d,v),n.lineTo(a.x+o(f)*u,a.y+s(f)*u),n.lineTo(a.x+o(a.angle)*l,a.y+s(a.angle)*l),n.lineTo(a.x-o(f)*u,a.y-s(f)*u),n.lineTo(d,v)},t}(Path$1),PointerPath$1=PointerPath;function parsePosition(r,t){var n=r.get("center"),a=t.getWidth(),o=t.getHeight(),s=Math.min(a,o),l=parsePercent(n[0],t.getWidth()),u=parsePercent(n[1],t.getHeight()),f=parsePercent(r.get("radius"),s/2);return{cx:l,cy:u,r:f}}function formatLabel(r,t){var n=r==null?"":r+"";return t&&(isString(t)?n=t.replace("{value}",n):isFunction(t)&&(n=t(r))),n}var GaugeView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){this.group.removeAll();var s=n.get(["axisLine","lineStyle","color"]),l=parsePosition(n,o);this._renderMain(n,a,o,s,l),this._data=n.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(n,a,o,s,l){var u=this.group,f=n.get("clockwise"),d=-n.get("startAngle")/180*Math.PI,v=-n.get("endAngle")/180*Math.PI,g=n.getModel("axisLine"),S=g.get("roundCap"),x=S?Sausage:Sector$1,_=g.get("show"),C=g.getModel("lineStyle"),T=C.get("width"),w=[d,v];normalizeArcAngles(w,!f),d=w[0],v=w[1];for(var M=v-d,D=d,I=0;_&&I<s.length;I++){var R=Math.min(Math.max(s[I][0],0),1);v=d+M*R;var $=new x({shape:{startAngle:D,endAngle:v,cx:l.cx,cy:l.cy,clockwise:f,r0:l.r-T,r:l.r},silent:!0});$.setStyle({fill:s[I][1]}),$.setStyle(C.getLineStyle(["color","width"])),u.add($),D=v}var N=function(F){if(F<=0)return s[0][1];var H;for(H=0;H<s.length;H++)if(s[H][0]>=F&&(H===0?0:s[H-1][0])<F)return s[H][1];return s[H-1][1]};this._renderTicks(n,a,o,N,l,d,v,f,T),this._renderTitleAndDetail(n,a,o,N,l),this._renderAnchor(n,l),this._renderPointer(n,a,o,N,l,d,v,f,T)},t.prototype._renderTicks=function(n,a,o,s,l,u,f,d,v){for(var g=this.group,S=l.cx,x=l.cy,_=l.r,C=+n.get("min"),T=+n.get("max"),w=n.getModel("splitLine"),M=n.getModel("axisTick"),D=n.getModel("axisLabel"),I=n.get("splitNumber"),R=M.get("splitNumber"),$=parsePercent(w.get("length"),_),N=parsePercent(M.get("length"),_),F=u,H=(f-u)/I,Y=H/R,G=w.getModel("lineStyle").getLineStyle(),K=M.getModel("lineStyle").getLineStyle(),Z=w.get("distance"),J,Q,te=0;te<=I;te++){if(J=Math.cos(F),Q=Math.sin(F),w.get("show")){var ie=Z?Z+v:v,ne=new Line$3({shape:{x1:J*(_-ie)+S,y1:Q*(_-ie)+x,x2:J*(_-$-ie)+S,y2:Q*(_-$-ie)+x},style:G,silent:!0});G.stroke==="auto"&&ne.setStyle({stroke:s(te/I)}),g.add(ne)}if(D.get("show")){var ie=D.get("distance")+Z,de=formatLabel(round$3(te/I*(T-C)+C),D.get("formatter")),ve=s(te/I);g.add(new ZRText$1({style:createTextStyle(D,{text:de,x:J*(_-$-ie)+S,y:Q*(_-$-ie)+x,verticalAlign:Q<-.8?"top":Q>.8?"bottom":"middle",align:J<-.4?"left":J>.4?"right":"center"},{inheritColor:ve}),silent:!0}))}if(M.get("show")&&te!==I){var ie=M.get("distance");ie=ie?ie+v:v;for(var pe=0;pe<=R;pe++){J=Math.cos(F),Q=Math.sin(F);var $e=new Line$3({shape:{x1:J*(_-ie)+S,y1:Q*(_-ie)+x,x2:J*(_-N-ie)+S,y2:Q*(_-N-ie)+x},silent:!0,style:K});K.stroke==="auto"&&$e.setStyle({stroke:s((te+pe/R)/I)}),g.add($e),F+=Y}F-=Y}else F+=H}},t.prototype._renderPointer=function(n,a,o,s,l,u,f,d,v){var g=this.group,S=this._data,x=this._progressEls,_=[],C=n.get(["pointer","show"]),T=n.getModel("progress"),w=T.get("show"),M=n.getData(),D=M.mapDimension("value"),I=+n.get("min"),R=+n.get("max"),$=[I,R],N=[u,f];function F(Y,G){var K=M.getItemModel(Y),Z=K.getModel("pointer"),J=parsePercent(Z.get("width"),l.r),Q=parsePercent(Z.get("length"),l.r),te=n.get(["pointer","icon"]),ie=Z.get("offsetCenter"),ne=parsePercent(ie[0],l.r),de=parsePercent(ie[1],l.r),ve=Z.get("keepAspect"),pe;return te?pe=createSymbol$1(te,ne-J/2,de-Q,J,Q,null,ve):pe=new PointerPath$1({shape:{angle:-Math.PI/2,width:J,r:Q,x:ne,y:de}}),pe.rotation=-(G+Math.PI/2),pe.x=l.cx,pe.y=l.cy,pe}function H(Y,G){var K=T.get("roundCap"),Z=K?Sausage:Sector$1,J=T.get("overlap"),Q=J?T.get("width"):v/M.count(),te=J?l.r-Q:l.r-(Y+1)*Q,ie=J?l.r:l.r-Y*Q,ne=new Z({shape:{startAngle:u,endAngle:G,cx:l.cx,cy:l.cy,clockwise:d,r0:te,r:ie}});return J&&(ne.z2=R-M.get(D,Y)%R),ne}(w||C)&&(M.diff(S).add(function(Y){var G=M.get(D,Y);if(C){var K=F(Y,u);initProps(K,{rotation:-((isNaN(+G)?N[0]:linearMap$2(G,$,N,!0))+Math.PI/2)},n),g.add(K),M.setItemGraphicEl(Y,K)}if(w){var Z=H(Y,u),J=T.get("clip");initProps(Z,{shape:{endAngle:linearMap$2(G,$,N,J)}},n),g.add(Z),setCommonECData(n.seriesIndex,M.dataType,Y,Z),_[Y]=Z}}).update(function(Y,G){var K=M.get(D,Y);if(C){var Z=S.getItemGraphicEl(G),J=Z?Z.rotation:u,Q=F(Y,J);Q.rotation=J,updateProps$1(Q,{rotation:-((isNaN(+K)?N[0]:linearMap$2(K,$,N,!0))+Math.PI/2)},n),g.add(Q),M.setItemGraphicEl(Y,Q)}if(w){var te=x[G],ie=te?te.shape.endAngle:u,ne=H(Y,ie),de=T.get("clip");updateProps$1(ne,{shape:{endAngle:linearMap$2(K,$,N,de)}},n),g.add(ne),setCommonECData(n.seriesIndex,M.dataType,Y,ne),_[Y]=ne}}).execute(),M.each(function(Y){var G=M.getItemModel(Y),K=G.getModel("emphasis"),Z=K.get("focus"),J=K.get("blurScope"),Q=K.get("disabled");if(C){var te=M.getItemGraphicEl(Y),ie=M.getItemVisual(Y,"style"),ne=ie.fill;if(te instanceof ZRImage$1){var de=te.style;te.useStyle(extend({image:de.image,x:de.x,y:de.y,width:de.width,height:de.height},ie))}else te.useStyle(ie),te.type!=="pointer"&&te.setColor(ne);te.setStyle(G.getModel(["pointer","itemStyle"]).getItemStyle()),te.style.fill==="auto"&&te.setStyle("fill",s(linearMap$2(M.get(D,Y),$,[0,1],!0))),te.z2EmphasisLift=0,setStatesStylesFromModel(te,G),toggleHoverEmphasis(te,Z,J,Q)}if(w){var ve=_[Y];ve.useStyle(M.getItemVisual(Y,"style")),ve.setStyle(G.getModel(["progress","itemStyle"]).getItemStyle()),ve.z2EmphasisLift=0,setStatesStylesFromModel(ve,G),toggleHoverEmphasis(ve,Z,J,Q)}}),this._progressEls=_)},t.prototype._renderAnchor=function(n,a){var o=n.getModel("anchor"),s=o.get("show");if(s){var l=o.get("size"),u=o.get("icon"),f=o.get("offsetCenter"),d=o.get("keepAspect"),v=createSymbol$1(u,a.cx-l/2+parsePercent(f[0],a.r),a.cy-l/2+parsePercent(f[1],a.r),l,l,null,d);v.z2=o.get("showAbove")?1:0,v.setStyle(o.getModel("itemStyle").getItemStyle()),this.group.add(v)}},t.prototype._renderTitleAndDetail=function(n,a,o,s,l){var u=this,f=n.getData(),d=f.mapDimension("value"),v=+n.get("min"),g=+n.get("max"),S=new Group$4,x=[],_=[],C=n.isAnimationEnabled(),T=n.get(["pointer","showAbove"]);f.diff(this._data).add(function(w){x[w]=new ZRText$1({silent:!0}),_[w]=new ZRText$1({silent:!0})}).update(function(w,M){x[w]=u._titleEls[M],_[w]=u._detailEls[M]}).execute(),f.each(function(w){var M=f.getItemModel(w),D=f.get(d,w),I=new Group$4,R=s(linearMap$2(D,[v,g],[0,1],!0)),$=M.getModel("title");if($.get("show")){var N=$.get("offsetCenter"),F=l.cx+parsePercent(N[0],l.r),H=l.cy+parsePercent(N[1],l.r),Y=x[w];Y.attr({z2:T?0:2,style:createTextStyle($,{x:F,y:H,text:f.getName(w),align:"center",verticalAlign:"middle"},{inheritColor:R})}),I.add(Y)}var G=M.getModel("detail");if(G.get("show")){var K=G.get("offsetCenter"),Z=l.cx+parsePercent(K[0],l.r),J=l.cy+parsePercent(K[1],l.r),Q=parsePercent(G.get("width"),l.r),te=parsePercent(G.get("height"),l.r),ie=n.get(["progress","show"])?f.getItemVisual(w,"style").fill:R,Y=_[w],ne=G.get("formatter");Y.attr({z2:T?0:2,style:createTextStyle(G,{x:Z,y:J,text:formatLabel(D,ne),width:isNaN(Q)?null:Q,height:isNaN(te)?null:te,align:"center",verticalAlign:"middle"},{inheritColor:ie})}),setLabelValueAnimation(Y,{normal:G},D,function(ve){return formatLabel(ve,ne)}),C&&animateLabelValue(Y,w,f,n,{getFormattedLabel:function(ve,pe,$e,Re,Ge,Qe){return formatLabel(Qe?Qe.interpolatedValue:D,ne)}}),I.add(Y)}S.add(I)}),this.group.add(S),this._titleEls=x,this._detailEls=_},t.type="gauge",t}(ChartView$1),GaugeView$1=GaugeView,GaugeSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return t.prototype.getInitialData=function(n,a){return createSeriesDataSimply(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(SeriesModel$1),GaugeSeriesModel$1=GaugeSeriesModel;function install$E(r){r.registerChartView(GaugeView$1),r.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(r){__extends$1(t,r);function t(n,a){var o=r.call(this)||this,s=o,l=new Polyline$3,u=new ZRText$1;return s.setTextContent(u),o.setTextGuideLine(l),o.updateData(n,a,!0),o}return t.prototype.updateData=function(n,a,o){var s=this,l=n.hostModel,u=n.getItemModel(a),f=n.getItemLayout(a),d=u.getModel("emphasis"),v=u.get(opacityAccessPath$1);v=v==null?1:v,o||saveOldStyle(s),s.useStyle(n.getItemVisual(a,"style")),s.style.lineJoin="round",o?(s.setShape({points:f.points}),s.style.opacity=0,initProps(s,{style:{opacity:v}},l,a)):updateProps$1(s,{style:{opacity:v},shape:{points:f.points}},l,a),setStatesStylesFromModel(s,u),this._updateLabel(n,a),toggleHoverEmphasis(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(n,a){var o=this,s=this.getTextGuideLine(),l=o.getTextContent(),u=n.hostModel,f=n.getItemModel(a),d=n.getItemLayout(a),v=d.label,g=n.getItemVisual(a,"style"),S=g.fill;setLabelStyle(l,getLabelStatesModels(f),{labelFetcher:n.hostModel,labelDataIndex:a,defaultOpacity:g.opacity,defaultText:n.getName(a)},{normal:{align:v.textAlign,verticalAlign:v.verticalAlign}}),o.setTextConfig({local:!0,inside:!!v.inside,insideStroke:S,outsideFill:S});var x=v.linePoints;s.setShape({points:x}),o.textGuideLineConfig={anchor:x?new Point$1(x[0][0],x[0][1]):null},updateProps$1(l,{style:{x:v.x,y:v.y}},u,a),l.attr({rotation:v.rotation,originX:v.x,originY:v.y,z2:10}),setLabelLineStyle(o,getLabelLineStatesModels(f),{stroke:S})},t}(Polygon$1),FunnelView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,a,o){var s=n.getData(),l=this._data,u=this.group;s.diff(l).add(function(f){var d=new FunnelPiece(s,f);s.setItemGraphicEl(f,d),u.add(d)}).update(function(f,d){var v=l.getItemGraphicEl(d);v.updateData(s,f),u.add(v),s.setItemGraphicEl(f,v)}).remove(function(f){var d=l.getItemGraphicEl(f);removeElementWithFadeOut(d,n,f)}).execute(),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ChartView$1),FunnelView$1=FunnelView,FunnelSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.getInitialData=function(n,a){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},t.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var a=n.labelLine,o=n.emphasis.labelLine;a.show=a.show&&n.label.show,o.show=o.show&&n.emphasis.label.show},t.prototype.getDataParams=function(n){var a=this.getData(),o=r.prototype.getDataParams.call(this,n),s=a.mapDimension("value"),l=a.getSum(s);return o.percent=l?+(a.get(s,n)/l*100).toFixed(2):0,o.$vars.push("percent"),o},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(SeriesModel$1),FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(r,t){return getLayoutRect(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function getSortedIndices(r,t){for(var n=r.mapDimension("value"),a=r.mapArray(n,function(f){return f}),o=[],s=t==="ascending",l=0,u=r.count();l<u;l++)o[l]=l;return isFunction(t)?o.sort(t):t!=="none"&&o.sort(function(f,d){return s?a[f]-a[d]:a[d]-a[f]}),o}function labelLayout(r){var t=r.hostModel,n=t.get("orient");r.each(function(a){var o=r.getItemModel(a),s=o.getModel("label"),l=s.get("position"),u=o.getModel("labelLine"),f=r.getItemLayout(a),d=f.points,v=l==="inner"||l==="inside"||l==="center"||l==="insideLeft"||l==="insideRight",g,S,x,_;if(v)l==="insideLeft"?(S=(d[0][0]+d[3][0])/2+5,x=(d[0][1]+d[3][1])/2,g="left"):l==="insideRight"?(S=(d[1][0]+d[2][0])/2-5,x=(d[1][1]+d[2][1])/2,g="right"):(S=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,x=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,g="center"),_=[[S,x],[S,x]];else{var C=void 0,T=void 0,w=void 0,M=void 0,D=u.get("length");l==="left"?(C=(d[3][0]+d[0][0])/2,T=(d[3][1]+d[0][1])/2,w=C-D,S=w-5,g="right"):l==="right"?(C=(d[1][0]+d[2][0])/2,T=(d[1][1]+d[2][1])/2,w=C+D,S=w+5,g="left"):l==="top"?(C=(d[3][0]+d[0][0])/2,T=(d[3][1]+d[0][1])/2,M=T-D,x=M-5,g="center"):l==="bottom"?(C=(d[1][0]+d[2][0])/2,T=(d[1][1]+d[2][1])/2,M=T+D,x=M+5,g="center"):l==="rightTop"?(C=n==="horizontal"?d[3][0]:d[1][0],T=n==="horizontal"?d[3][1]:d[1][1],n==="horizontal"?(M=T-D,x=M-5,g="center"):(w=C+D,S=w+5,g="top")):l==="rightBottom"?(C=d[2][0],T=d[2][1],n==="horizontal"?(M=T+D,x=M+5,g="center"):(w=C+D,S=w+5,g="bottom")):l==="leftTop"?(C=d[0][0],T=n==="horizontal"?d[0][1]:d[1][1],n==="horizontal"?(M=T-D,x=M-5,g="center"):(w=C-D,S=w-5,g="right")):l==="leftBottom"?(C=n==="horizontal"?d[1][0]:d[3][0],T=n==="horizontal"?d[1][1]:d[2][1],n==="horizontal"?(M=T+D,x=M+5,g="center"):(w=C-D,S=w-5,g="right")):(C=(d[1][0]+d[2][0])/2,T=(d[1][1]+d[2][1])/2,n==="horizontal"?(M=T+D,x=M+5,g="center"):(w=C+D,S=w+5,g="left")),n==="horizontal"?(w=C,S=w):(M=T,x=M),_=[[C,T],[w,M]]}f.label={linePoints:_,x:S,y:x,verticalAlign:"middle",textAlign:g,inside:v}})}function funnelLayout(r,t){r.eachSeriesByType("funnel",function(n){var a=n.getData(),o=a.mapDimension("value"),s=n.get("sort"),l=getViewRect$2(n,t),u=n.get("orient"),f=l.width,d=l.height,v=getSortedIndices(a,s),g=l.x,S=l.y,x=u==="horizontal"?[parsePercent(n.get("minSize"),d),parsePercent(n.get("maxSize"),d)]:[parsePercent(n.get("minSize"),f),parsePercent(n.get("maxSize"),f)],_=a.getDataExtent(o),C=n.get("min"),T=n.get("max");C==null&&(C=Math.min(_[0],0)),T==null&&(T=_[1]);var w=n.get("funnelAlign"),M=n.get("gap"),D=u==="horizontal"?f:d,I=(D-M*(a.count()-1))/a.count(),R=function(J,Q){if(u==="horizontal"){var te=a.get(o,J)||0,ie=linearMap$2(te,[C,T],x,!0),ne=void 0;switch(w){case"top":ne=S;break;case"center":ne=S+(d-ie)/2;break;case"bottom":ne=S+(d-ie);break}return[[Q,ne],[Q,ne+ie]]}var de=a.get(o,J)||0,ve=linearMap$2(de,[C,T],x,!0),pe;switch(w){case"left":pe=g;break;case"center":pe=g+(f-ve)/2;break;case"right":pe=g+f-ve;break}return[[pe,Q],[pe+ve,Q]]};s==="ascending"&&(I=-I,M=-M,u==="horizontal"?g+=f:S+=d,v=v.reverse());for(var $=0;$<v.length;$++){var N=v[$],F=v[$+1],H=a.getItemModel(N);if(u==="horizontal"){var Y=H.get(["itemStyle","width"]);Y==null?Y=I:(Y=parsePercent(Y,f),s==="ascending"&&(Y=-Y));var G=R(N,g),K=R(F,g+Y);g+=Y+M,a.setItemLayout(N,{points:G.concat(K.slice().reverse())})}else{var Z=H.get(["itemStyle","height"]);Z==null?Z=I:(Z=parsePercent(Z,d),s==="ascending"&&(Z=-Z));var G=R(N,S),K=R(F,S+Z);S+=Z+M,a.setItemLayout(N,{points:G.concat(K.slice().reverse())})}}labelLayout(a)})}function install$D(r){r.registerChartView(FunnelView$1),r.registerSeriesModel(FunnelSeriesModel$1),r.registerLayout(funnelLayout),r.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new Group$4,n._initialized=!1,n}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(n,a,o,s){this._progressiveEls=null;var l=this._dataGroup,u=n.getData(),f=this._data,d=n.coordinateSystem,v=d.dimensions,g=makeSeriesScope(n);u.diff(f).add(S).update(x).remove(_).execute();function S(T){var w=addEl(u,l,T,v,d);updateElCommon(w,u,T,g)}function x(T,w){var M=f.getItemGraphicEl(w),D=createLinePoints(u,T,v,d);u.setItemGraphicEl(T,M),updateProps$1(M,{shape:{points:D}},n,T),saveOldStyle(M),updateElCommon(M,u,T,g)}function _(T){var w=f.getItemGraphicEl(T);l.remove(w)}if(!this._initialized){this._initialized=!0;var C=createGridClipShape$2(d,n,function(){setTimeout(function(){l.removeClipPath()})});l.setClipPath(C)}this._data=u},t.prototype.incrementalPrepareRender=function(n,a,o){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(n,a,o){for(var s=a.getData(),l=a.coordinateSystem,u=l.dimensions,f=makeSeriesScope(a),d=this._progressiveEls=[],v=n.start;v<n.end;v++){var g=addEl(s,this._dataGroup,v,u,l);g.incremental=!0,updateElCommon(g,s,v,f),d.push(g)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ChartView$1);function createGridClipShape$2(r,t,n){var a=r.model,o=r.getRect(),s=new Rect$3({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),l=a.get("layout")==="horizontal"?"width":"height";return s.setShape(l,0),initProps(s,{shape:{width:o.width,height:o.height}},t,n),s}function createLinePoints(r,t,n,a){for(var o=[],s=0;s<n.length;s++){var l=n[s],u=r.get(r.mapDimension(l),t);isEmptyValue(u,a.getAxis(l).type)||o.push(a.dataToPoint(u,l))}return o}function addEl(r,t,n,a,o){var s=createLinePoints(r,n,a,o),l=new Polyline$3({shape:{points:s},z2:10});return t.add(l),r.setItemGraphicEl(n,l),l}function makeSeriesScope(r){var t=r.get("smooth",!0);return t===!0&&(t=DEFAULT_SMOOTH),t=numericToNumber(t),eqNaN(t)&&(t=0),{smooth:t}}function updateElCommon(r,t,n,a){r.useStyle(t.getItemVisual(n,"style")),r.style.fill=null,r.setShape("smooth",a.smooth);var o=t.getItemModel(n),s=o.getModel("emphasis");setStatesStylesFromModel(r,o,"lineStyle"),toggleHoverEmphasis(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function isEmptyValue(r,t){return t==="category"?r==null:r==null||isNaN(r)}var ParallelView$3=ParallelView$2,ParallelSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.getInitialData=function(n,a){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},t.prototype.getRawIndicesByActiveState=function(n){var a=this.coordinateSystem,o=this.getData(),s=[];return a.eachActiveState(o,function(l,u){n===l&&s.push(o.getRawIndex(u))}),s},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(SeriesModel$1);function makeDefaultEncode(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(!!t){var n={};return each$f(t.dimensions,function(a){var o=convertDimNameToNumber(a);n[a]=o}),n}}function convertDimNameToNumber(r){return+r.replace("dim","")}var ParallelSeriesModel$1=ParallelSeriesModel,opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(r,t){var n=r.coordinateSystem,a={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(o,s){n.eachActiveState(s,function(l,u){var f=a[l];if(l==="normal"&&s.hasItemOption){var d=s.getItemModel(u).get(opacityAccessPath,!0);d!=null&&(f=d)}var v=s.ensureUniqueItemVisual(u,"style");v.opacity=f},o.start,o.end)}}}},parallelVisual$1=parallelVisual;function parallelPreprocessor(r){createParallelIfNeeded(r),mergeAxisOptionFromParallel(r)}function createParallelIfNeeded(r){if(!r.parallel){var t=!1;each$f(r.series,function(n){n&&n.type==="parallel"&&(t=!0)}),t&&(r.parallel=[{}])}}function mergeAxisOptionFromParallel(r){var t=normalizeToArray(r.parallelAxis);each$f(t,function(n){if(!!isObject$4(n)){var a=n.parallelIndex||0,o=normalizeToArray(r.parallel)[a];o&&o.parallelAxisDefault&&merge(n,o.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){this._model=n,this._api=o,this._handlers||(this._handlers={},each$f(handlers$1,function(s,l){o.getZr().on(l,this._handlers[l]=bind$1(s,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(n,a){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(o,s){a.getZr().off(s,o)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},t.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},n))},t.type="parallel",t}(ComponentView$1),handlers$1={mousedown:function(r){checkTrigger(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var t=this._mouseDownPoint;if(checkTrigger(this,"click")&&t){var n=[r.offsetX,r.offsetY],a=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2);if(a>CLICK_THRESHOLD)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);o.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),a=n.behavior;a==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(a==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:a==="jump"?null:{duration:0}})}}};function checkTrigger(r,t){var n=r._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var ParallelView$1=ParallelView,ParallelModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(n){var a=this.option;n&&merge(a,n,!0),this._initDimensions()},t.prototype.contains=function(n,a){var o=n.get("parallelIndex");return o!=null&&a.getComponent("parallel",o)===this},t.prototype.setAxisExpand=function(n){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(a){n.hasOwnProperty(a)&&(this.option[a]=n[a])},this)},t.prototype._initDimensions=function(){var n=this.dimensions=[],a=this.parallelAxisIndex=[],o=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(s){return(s.get("parallelIndex")||0)===this.componentIndex},this);each$f(o,function(s){n.push("dim"+s.get("dim")),a.push(s.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(ComponentModel$1),ParallelModel$1=ParallelModel,ParallelAxis=function(r){__extends$1(t,r);function t(n,a,o,s,l){var u=r.call(this,n,a,o)||this;return u.type=s||"value",u.axisIndex=l,u}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Axis$1),ParallelAxis$1=ParallelAxis;function sliderMove(r,t,n,a,o,s){r=r||0;var l=n[1]-n[0];if(o!=null&&(o=restrict$1(o,[0,l])),s!=null&&(s=Math.max(s,o!=null?o:0)),a==="all"){var u=Math.abs(t[1]-t[0]);u=restrict$1(u,[0,l]),o=s=restrict$1(u,[o,s]),a=0}t[0]=restrict$1(t[0],n),t[1]=restrict$1(t[1],n);var f=getSpanSign(t,a);t[a]+=r;var d=o||0,v=n.slice();f.sign<0?v[0]+=d:v[1]-=d,t[a]=restrict$1(t[a],v);var g;return g=getSpanSign(t,a),o!=null&&(g.sign!==f.sign||g.span<o)&&(t[1-a]=t[a]+f.sign*o),g=getSpanSign(t,a),s!=null&&g.span>s&&(t[1-a]=t[a]+g.sign*s),t}function getSpanSign(r,t){var n=r[t]-r[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function restrict$1(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function r(t,n,a){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,n,a)}return r.prototype._init=function(t,n,a){var o=t.dimensions,s=t.parallelAxisIndex;each$a(o,function(l,u){var f=s[u],d=n.getComponent("parallelAxis",f),v=this._axesMap.set(l,new ParallelAxis$1(l,createScaleByModel$1(d),[0,0],d.get("type"),f)),g=v.type==="category";v.onBand=g&&d.get("boundaryGap"),v.inverse=d.get("inverse"),d.axis=v,v.model=d,v.coordinateSystem=d.coordinateSystem=this},this)},r.prototype.update=function(t,n){this._updateAxesFromSeries(this._model,t)},r.prototype.containPoint=function(t){var n=this._makeLayoutInfo(),a=n.axisBase,o=n.layoutBase,s=n.pixelDimIndex,l=t[1-s],u=t[s];return l>=a&&l<=a+n.axisLength&&u>=o&&u<=o+n.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(t,n){n.eachSeries(function(a){if(!!t.contains(a,n)){var o=a.getData();each$a(this.dimensions,function(s){var l=this._axesMap.get(s);l.scale.unionExtentFromData(o,o.mapDimension(s)),niceScaleExtent(l.scale,l.model)},this)}},this)},r.prototype.resize=function(t,n){this._rect=getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var t=this._model,n=this._rect,a=["x","y"],o=["width","height"],s=t.get("layout"),l=s==="horizontal"?0:1,u=n[o[l]],f=[0,u],d=this.dimensions.length,v=restrict(t.get("axisExpandWidth"),f),g=restrict(t.get("axisExpandCount")||0,[0,d]),S=t.get("axisExpandable")&&d>3&&d>g&&g>1&&v>0&&u>0,x=t.get("axisExpandWindow"),_;if(x)_=restrict(x[1]-x[0],f),x[1]=x[0]+_;else{_=restrict(v*(g-1),f);var C=t.get("axisExpandCenter")||mathFloor(d/2);x=[v*C-_/2],x[1]=x[0]+_}var T=(u-_)/(d-g);T<3&&(T=0);var w=[mathFloor(round(x[0]/v,1))+1,mathCeil(round(x[1]/v,1))-1],M=T/v*x[0];return{layout:s,pixelDimIndex:l,layoutBase:n[a[l]],layoutLength:u,axisBase:n[a[1-l]],axisLength:n[o[1-l]],axisExpandable:S,axisExpandWidth:v,axisCollapseWidth:T,axisExpandWindow:x,axisCount:d,winInnerIndices:w,axisExpandWindow0Pos:M}},r.prototype._layoutAxes=function(){var t=this._rect,n=this._axesMap,a=this.dimensions,o=this._makeLayoutInfo(),s=o.layout;n.each(function(l){var u=[0,o.axisLength],f=l.inverse?1:0;l.setExtent(u[f],u[1-f])}),each$a(a,function(l,u){var f=(o.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(u,o),d={horizontal:{x:f.position,y:o.axisLength},vertical:{x:0,y:f.position}},v={horizontal:PI$1/2,vertical:0},g=[d[s].x+t.x,d[s].y+t.y],S=v[s],x=create$1();rotate(x,x,S),translate(x,x,g),this._axesLayout[l]={position:g,rotation:S,transform:x,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(t){return this._axesMap.get(t)},r.prototype.dataToPoint=function(t,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(t),n)},r.prototype.eachActiveState=function(t,n,a,o){a==null&&(a=0),o==null&&(o=t.count());var s=this._axesMap,l=this.dimensions,u=[],f=[];each$f(l,function(T){u.push(t.mapDimension(T)),f.push(s.get(T).model)});for(var d=this.hasAxisBrushed(),v=a;v<o;v++){var g=void 0;if(!d)g="normal";else{g="active";for(var S=t.getValues(u,v),x=0,_=l.length;x<_;x++){var C=f[x].getActiveState(S[x]);if(C==="inactive"){g="inactive";break}}}n(g,v)}},r.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,n=this._axesMap,a=!1,o=0,s=t.length;o<s;o++)n.get(t[o]).model.getActiveState()!=="normal"&&(a=!0);return a},r.prototype.axisCoordToPoint=function(t,n){var a=this._axesLayout[n];return applyTransform([t,0],a.transform)},r.prototype.getAxisLayout=function(t){return clone$4(this._axesLayout[t])},r.prototype.getSlidedAxisExpandWindow=function(t){var n=this._makeLayoutInfo(),a=n.pixelDimIndex,o=n.axisExpandWindow.slice(),s=o[1]-o[0],l=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:o};var u=t[a]-n.layoutBase-n.axisExpandWindow0Pos,f,d="slide",v=n.axisCollapseWidth,g=this._model.get("axisExpandSlideTriggerArea"),S=g[0]!=null;if(v)S&&v&&u<s*g[0]?(d="jump",f=u-s*g[2]):S&&v&&u>s*(1-g[0])?(d="jump",f=u-s*(1-g[2])):(f=u-s*g[1])>=0&&(f=u-s*(1-g[1]))<=0&&(f=0),f*=n.axisExpandWidth/v,f?sliderMove(f,o,l,"all"):d="none";else{var x=o[1]-o[0],_=l[1]*u/x;o=[mathMax$2(0,_-x/2)],o[1]=mathMin$2(l[1],o[0]+x),o[0]=o[1]-x}return{axisExpandWindow:o,behavior:d}},r}();function restrict(r,t){return mathMin$2(mathMax$2(r,t[0]),t[1])}function layoutAxisWithoutExpand(r,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*r,axisNameAvailableWidth:n,axisLabelShow:!0}}function layoutAxisWithExpand(r,t){var n=t.layoutLength,a=t.axisExpandWidth,o=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u,f=s,d=!1,v;return r<l[0]?(u=r*s,v=s):r<=l[1]?(u=t.axisExpandWindow0Pos+r*a-t.axisExpandWindow[0],f=a,d=!0):(u=n-(o-1-r)*s,v=s),{position:u,axisNameAvailableWidth:f,axisLabelShow:d,nameTruncateMaxWidth:v}}var Parallel$1=Parallel;function createParallelCoordSys(r,t){var n=[];return r.eachComponent("parallel",function(a,o){var s=new Parallel$1(a,r,t);s.name="parallel_"+o,s.resize(a,t),a.coordinateSystem=s,s.model=a,n.push(s)}),r.eachSeries(function(a){if(a.get("coordinateSystem")==="parallel"){var o=a.getReferringComponents("parallel",SINGLE_REFERRING).models[0];a.coordinateSystem=o.coordinateSystem}}),n}var parallelCoordSysCreator={create:createParallelCoordSys},parallelCoordSysCreator$1=parallelCoordSysCreator,ParallelAxisModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return t.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(n){var a=this.activeIntervals=clone$4(n);if(a)for(var o=a.length-1;o>=0;o--)asc$2(a[o])},t.prototype.getActiveState=function(n){var a=this.activeIntervals;if(!a.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(a.length===1){var o=a[0];if(o[0]<=n&&n<=o[1])return"active"}else for(var s=0,l=a.length;s<l;s++)if(a[s][0]<=n&&n<=a[s][1])return"active";return"inactive"},t}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);var ParallelAxisModel$1=ParallelAxisModel,BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(r){__extends$1(t,r);function t(n){var a=r.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=n,a.group=new Group$4,a._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(o,s){this._handlers[s]=bind$1(o,this)},a),a}return t.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},t.prototype._doEnableBrush=function(n){var a=this._zr;this._enableGlobalPan||take(a,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(o,s){a.on(s,o)}),this._brushType=n.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),n,!0)},t.prototype._doDisableBrush=function(){var n=this._zr;release(n,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(a,o){n.off(o,a)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(n){if(n&&n.length){var a=this._panels={};each$f(n,function(o){a[o.panelId]=clone$4(o)})}else this._panels=null;return this},t.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var a=this.group;return this._zr.add(a),a.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=a.getLocalTransform(),this},t.prototype.updateCovers=function(n){n=map$1(n,function(S){return merge(clone$4(DEFAULT_BRUSH_OPT),S,!0)});var a="\0-brush-index-",o=this._covers,s=this._covers=[],l=this,u=this._creatingCover;return new DataDiffer$1(o,n,d,f).add(v).update(v).remove(g).execute(),this;function f(S,x){return(S.id!=null?S.id:a+x)+"-"+S.brushType}function d(S,x){return f(S.__brushOption,x)}function v(S,x){var _=n[S];if(x!=null&&o[x]===u)s[S]=o[x];else{var C=s[S]=x!=null?(o[x].__brushOption=_,o[x]):endCreating(l,createCover(l,_));updateCoverAfterCreation(l,C)}}function g(S){o[S]!==u&&l.group.remove(o[S])}},t.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Eventful$1);function createCover(r,t){var n=coverRenderers[t.brushType].createCover(r,t);return n.__brushOption=t,updateZ$1(n,t),r.group.add(n),n}function endCreating(r,t){var n=getCoverRenderer(t);return n.endCreating&&(n.endCreating(r,t),updateZ$1(t,t.__brushOption)),t}function updateCoverShape(r,t){var n=t.__brushOption;getCoverRenderer(t).updateCoverShape(r,t,n.range,n)}function updateZ$1(r,t){var n=t.z;n==null&&(n=COVER_Z),r.traverse(function(a){a.z=n,a.z2=n})}function updateCoverAfterCreation(r,t){getCoverRenderer(t).updateCommon(r,t),updateCoverShape(r,t)}function getCoverRenderer(r){return coverRenderers[r.__brushOption.brushType]}function getPanelByPoint(r,t,n){var a=r._panels;if(!a)return BRUSH_PANEL_GLOBAL;var o,s=r._transform;return each$f(a,function(l){l.isTargetByCursor(t,n,s)&&(o=l)}),o}function getPanelByCover(r,t){var n=r._panels;if(!n)return BRUSH_PANEL_GLOBAL;var a=t.__brushOption.panelId;return a!=null?n[a]:BRUSH_PANEL_GLOBAL}function clearCovers(r){var t=r._covers,n=t.length;return each$f(t,function(a){r.group.remove(a)},r),t.length=0,!!n}function trigger(r,t){var n=map$1(r._covers,function(a){var o=a.__brushOption,s=clone$4(o.range);return{brushType:o.brushType,panelId:o.panelId,range:s}});r.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function shouldShowCover(r){var t=r._track;if(!t.length)return!1;var n=t[t.length-1],a=t[0],o=n[0]-a[0],s=n[1]-a[1],l=mathPow(o*o+s*s,.5);return l>UNSELECT_THRESHOLD}function getTrackEnds(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function createBaseRectCover(r,t,n,a){var o=new Group$4;return o.add(new Rect$3({name:"main",style:makeStyle(n),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,r,t,o,["n","s","w","e"]),ondragend:curry$1(trigger,t,{isEnd:!0})})),each$f(a,function(s){o.add(new Rect$3({name:s.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,r,t,o,s),ondragend:curry$1(trigger,t,{isEnd:!0})}))}),o}function updateBaseRect(r,t,n,a){var o=a.brushStyle.lineWidth||0,s=mathMax$1(o,MIN_RESIZE_LINE_WIDTH),l=n[0][0],u=n[1][0],f=l-o/2,d=u-o/2,v=n[0][1],g=n[1][1],S=v-s+o/2,x=g-s+o/2,_=v-l,C=g-u,T=_+o,w=C+o;updateRectShape(r,t,"main",l,u,_,C),a.transformable&&(updateRectShape(r,t,"w",f,d,s,w),updateRectShape(r,t,"e",S,d,s,w),updateRectShape(r,t,"n",f,d,T,s),updateRectShape(r,t,"s",f,x,T,s),updateRectShape(r,t,"nw",f,d,s,s),updateRectShape(r,t,"ne",S,d,s,s),updateRectShape(r,t,"sw",f,x,s,s),updateRectShape(r,t,"se",S,x,s,s))}function updateCommon$1(r,t){var n=t.__brushOption,a=n.transformable,o=t.childAt(0);o.useStyle(makeStyle(n)),o.attr({silent:!a,cursor:a?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(s){var l=t.childOfName(s.join("")),u=s.length===1?getGlobalDirection1(r,s[0]):getGlobalDirection2(r,s);l&&l.attr({silent:!a,invisible:!a,cursor:a?CURSOR_MAP[u]+"-resize":null})})}function updateRectShape(r,t,n,a,o,s,l){var u=t.childOfName(n);u&&u.setShape(pointsToRect(clipByPanel(r,t,[[a,o],[a+s,o+l]])))}function makeStyle(r){return defaults({strokeNoScale:!0},r.brushStyle)}function formatRectRange(r,t,n,a){var o=[mathMin$1(r,n),mathMin$1(t,a)],s=[mathMax$1(r,n),mathMax$1(t,a)];return[[o[0],s[0]],[o[1],s[1]]]}function getTransform(r){return getTransform$1(r.group)}function getGlobalDirection1(r,t){var n={w:"left",e:"right",n:"top",s:"bottom"},a={left:"w",right:"e",top:"n",bottom:"s"},o=transformDirection(n[t],getTransform(r));return a[o]}function getGlobalDirection2(r,t){var n=[getGlobalDirection1(r,t[0]),getGlobalDirection1(r,t[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function driftRect(r,t,n,a,o,s){var l=n.__brushOption,u=r.toRectRange(l.range),f=toLocalDelta(t,o,s);each$f(a,function(d){var v=DIRECTION_MAP[d];u[v[0]][v[1]]+=f[v[0]]}),l.range=r.fromRectRange(formatRectRange(u[0][0],u[1][0],u[0][1],u[1][1])),updateCoverAfterCreation(t,n),trigger(t,{isEnd:!1})}function driftPolygon(r,t,n,a){var o=t.__brushOption.range,s=toLocalDelta(r,n,a);each$f(o,function(l){l[0]+=s[0],l[1]+=s[1]}),updateCoverAfterCreation(r,t),trigger(r,{isEnd:!1})}function toLocalDelta(r,t,n){var a=r.group,o=a.transformCoordToLocal(t,n),s=a.transformCoordToLocal(0,0);return[o[0]-s[0],o[1]-s[1]]}function clipByPanel(r,t,n){var a=getPanelByCover(r,t);return a&&a!==BRUSH_PANEL_GLOBAL?a.clipPath(n,r._transform):clone$4(n)}function pointsToRect(r){var t=mathMin$1(r[0][0],r[1][0]),n=mathMin$1(r[0][1],r[1][1]),a=mathMax$1(r[0][0],r[1][0]),o=mathMax$1(r[0][1],r[1][1]);return{x:t,y:n,width:a-t,height:o-n}}function resetCursor(r,t,n){if(!(!r._brushType||isOutsideZrArea(r,t.offsetX,t.offsetY))){var a=r._zr,o=r._covers,s=getPanelByPoint(r,t,n);if(!r._dragging)for(var l=0;l<o.length;l++){var u=o[l].__brushOption;if(s&&(s===BRUSH_PANEL_GLOBAL||u.panelId===s.panelId)&&coverRenderers[u.brushType].contain(o[l],n[0],n[1]))return}s&&a.setCursorStyle("crosshair")}}function preventDefault(r){var t=r.event;t.preventDefault&&t.preventDefault()}function mainShapeContain(r,t,n){return r.childOfName("main").contain(t,n)}function updateCoverByMouse(r,t,n,a){var o=r._creatingCover,s=r._creatingPanel,l=r._brushOption,u;if(r._track.push(n.slice()),shouldShowCover(r)||o){if(s&&!o){l.brushMode==="single"&&clearCovers(r);var f=clone$4(l);f.brushType=determineBrushType(f.brushType,s),f.panelId=s===BRUSH_PANEL_GLOBAL?null:s.panelId,o=r._creatingCover=createCover(r,f),r._covers.push(o)}if(o){var d=coverRenderers[determineBrushType(r._brushType,s)],v=o.__brushOption;v.range=d.getCreatingRange(clipByPanel(r,o,r._track)),a&&(endCreating(r,o),d.updateCommon(r,o)),updateCoverShape(r,o),u={isEnd:a}}}else a&&l.brushMode==="single"&&l.removeOnClick&&getPanelByPoint(r,t,n)&&clearCovers(r)&&(u={isEnd:a,removeOnClick:!0});return u}function determineBrushType(r,t){return r==="auto"?t.defaultBrushType:r}var pointerHandlers={mousedown:function(r){if(this._dragging)handleDragEnd(this,r);else if(!r.target||!r.target.draggable){preventDefault(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var n=this._creatingPanel=getPanelByPoint(this,r,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,n=r.offsetY,a=this.group.transformCoordToLocal(t,n);if(resetCursor(this,r,a),this._dragging){preventDefault(r);var o=updateCoverByMouse(this,r,a,!1);o&&trigger(this,o)}},mouseup:function(r){handleDragEnd(this,r)}};function handleDragEnd(r,t){if(r._dragging){preventDefault(t);var n=t.offsetX,a=t.offsetY,o=r.group.transformCoordToLocal(n,a),s=updateCoverByMouse(r,t,o,!0);r._dragging=!1,r._track=[],r._creatingCover=null,s&&trigger(r,s)}}function isOutsideZrArea(r,t,n){var a=r._zr;return t<0||t>a.getWidth()||n<0||n>a.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(r,t){function n(a){return a}return createBaseRectCover({toRectRange:n,fromRectRange:n},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=getTrackEnds(r);return formatRectRange(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,n,a){updateBaseRect(r,t,n,a)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(r,t){var n=new Group$4;return n.add(new Polyline$3({name:"main",style:makeStyle(t),silent:!0})),n},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,r,t),ondragend:curry$1(trigger,r,{isEnd:!0})}))},updateCoverShape:function(r,t,n,a){t.childAt(0).setShape({points:clipByPanel(r,t,n)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(r){return{createCover:function(t,n){return createBaseRectCover({toRectRange:function(a){var o=[a,[0,100]];return r&&o.reverse(),o},fromRectRange:function(a){return a[r]}},t,n,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var n=getTrackEnds(t),a=mathMin$1(n[0][r],n[1][r]),o=mathMax$1(n[0][r],n[1][r]);return[a,o]},updateCoverShape:function(t,n,a,o){var s,l=getPanelByCover(t,n);if(l!==BRUSH_PANEL_GLOBAL&&l.getLinearBrushOtherExtent)s=l.getLinearBrushOtherExtent(r);else{var u=t._zr;s=[0,[u.getWidth(),u.getHeight()][1-r]]}var f=[a,s];r&&f.reverse(),updateBaseRect(t,n,f,o)},updateCommon:updateCommon$1,contain:mainShapeContain}}var BrushController$1=BrushController;function makeRectPanelClipPath(r){return r=normalizeRect(r),function(t){return clipPointsByRect(t,r)}}function makeLinearBrushOtherExtent(r,t){return r=normalizeRect(r),function(n){var a=t!=null?t:n,o=a?r.width:r.height,s=a?r.x:r.y;return[s,s+(o||0)]}}function makeRectIsTargetByCursor(r,t,n){var a=normalizeRect(r);return function(o,s){return a.contain(s[0],s[1])&&!onIrrelevantElement(o,t,n)}}function normalizeRect(r){return BoundingRect$1.create(r)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a){r.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1(a.getZr())).on("brush",bind$1(this._onBrush,this))},t.prototype.render=function(n,a,o,s){if(!fromAxisAreaSelect(n,a,s)){this.axisModel=n,this.api=o,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!n.get("show")){var u=getCoordSysModel(n,a),f=u.coordinateSystem,d=n.getAreaSelectStyle(),v=d.width,g=n.axis.dim,S=f.getAxisLayout(g),x=extend({strokeContainThreshold:v},S),_=new AxisBuilder$1(n,x);each$f(elementList$1,_.add,_),this._axisGroup.add(_.getGroup()),this._refreshBrushController(x,d,n,u,v,o),groupTransition(l,this._axisGroup,n)}}},t.prototype._refreshBrushController=function(n,a,o,s,l,u){var f=o.axis.getExtent(),d=f[1]-f[0],v=Math.min(30,Math.abs(d)*.1),g=BoundingRect$1.create({x:f[0],y:-l/2,width:d,height:l});g.x-=v,g.width+=2*v,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(g),isTargetByCursor:makeRectIsTargetByCursor(g,u,s),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(g,0)}]).enableBrush({brushType:"lineX",brushStyle:a,removeOnClick:!0}).updateCovers(getCoverInfoList(o))},t.prototype._onBrush=function(n){var a=n.areas,o=this.axisModel,s=o.axis,l=map$1(a,function(u){return[s.coordToData(u.range[0],!0),s.coordToData(u.range[1],!0)]});(!o.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:o.id,intervals:l})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(ComponentView$1);function fromAxisAreaSelect(r,t,n){return n&&n.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:n})[0]===r}function getCoverInfoList(r){var t=r.axis;return map$1(r.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function getCoordSysModel(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}var ParallelAxisView$1=ParallelAxisView,actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(r){r.registerAction(actionInfo,function(t,n){n.eachComponent({mainType:"parallelAxis",query:t},function(a){a.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,n){n.eachComponent({mainType:"parallel",query:t},function(a){a.setAxisExpand(t)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(r){r.registerComponentView(ParallelView$1),r.registerComponentModel(ParallelModel$1),r.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),r.registerPreprocessor(parallelPreprocessor),r.registerComponentModel(ParallelAxisModel$1),r.registerComponentView(ParallelAxisView$1),axisModelCreator(r,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(r)}function install$B(r){use(install$C),r.registerChartView(ParallelView$3),r.registerSeriesModel(ParallelSeriesModel$1),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),SankeyPath=function(r){__extends$1(t,r);function t(n){return r.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new SankeyPathShape},t.prototype.buildPath=function(n,a){var o=a.extent;n.moveTo(a.x1,a.y1),n.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),a.orient==="vertical"?(n.lineTo(a.x2+o,a.y2),n.bezierCurveTo(a.cpx2+o,a.cpy2,a.cpx1+o,a.cpy1,a.x1+o,a.y1)):(n.lineTo(a.x2,a.y2+o),n.bezierCurveTo(a.cpx2,a.cpy2+o,a.cpx1,a.cpy1+o,a.x1,a.y1+o)),n.closePath()},t.prototype.highlight=function(){enterEmphasis(this)},t.prototype.downplay=function(){leaveEmphasis(this)},t}(Path$1),SankeyView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return t.prototype.render=function(n,a,o){var s=this,l=n.getGraph(),u=this.group,f=n.layoutInfo,d=f.width,v=f.height,g=n.getData(),S=n.getData("edge"),x=n.get("orient");this._model=n,u.removeAll(),u.x=f.x,u.y=f.y,l.eachEdge(function(_){var C=new SankeyPath,T=getECData(C);T.dataIndex=_.dataIndex,T.seriesIndex=n.seriesIndex,T.dataType="edge";var w=_.getModel(),M=w.getModel("lineStyle"),D=M.get("curveness"),I=_.node1.getLayout(),R=_.node1.getModel(),$=R.get("localX"),N=R.get("localY"),F=_.node2.getLayout(),H=_.node2.getModel(),Y=H.get("localX"),G=H.get("localY"),K=_.getLayout(),Z,J,Q,te,ie,ne,de,ve;switch(C.shape.extent=Math.max(1,K.dy),C.shape.orient=x,x==="vertical"?(Z=($!=null?$*d:I.x)+K.sy,J=(N!=null?N*v:I.y)+I.dy,Q=(Y!=null?Y*d:F.x)+K.ty,te=G!=null?G*v:F.y,ie=Z,ne=J*(1-D)+te*D,de=Q,ve=J*D+te*(1-D)):(Z=($!=null?$*d:I.x)+I.dx,J=(N!=null?N*v:I.y)+K.sy,Q=Y!=null?Y*d:F.x,te=(G!=null?G*v:F.y)+K.ty,ie=Z*(1-D)+Q*D,ne=J,de=Z*D+Q*(1-D),ve=te),C.setShape({x1:Z,y1:J,x2:Q,y2:te,cpx1:ie,cpy1:ne,cpx2:de,cpy2:ve}),C.useStyle(M.getItemStyle()),C.style.fill){case"source":C.style.fill=_.node1.getVisual("color"),C.style.decal=_.node1.getVisual("style").decal;break;case"target":C.style.fill=_.node2.getVisual("color"),C.style.decal=_.node2.getVisual("style").decal;break;case"gradient":var pe=_.node1.getVisual("color"),$e=_.node2.getVisual("color");isString(pe)&&isString($e)&&(C.style.fill=new LinearGradient$1(0,0,+(x==="horizontal"),+(x==="vertical"),[{color:pe,offset:0},{color:$e,offset:1}]))}var Re=w.getModel("emphasis");setStatesStylesFromModel(C,w,"lineStyle",function(Qe){return Qe.getItemStyle()}),u.add(C),S.setItemGraphicEl(_.dataIndex,C);var Ge=Re.get("focus");toggleHoverEmphasis(C,Ge==="adjacency"?_.getAdjacentDataIndices():Ge,Re.get("blurScope"),Re.get("disabled")),getECData(C).dataType="edge"}),l.eachNode(function(_){var C=_.getLayout(),T=_.getModel(),w=T.get("localX"),M=T.get("localY"),D=T.getModel("emphasis"),I=new Rect$3({shape:{x:w!=null?w*d:C.x,y:M!=null?M*v:C.y,width:C.dx,height:C.dy},style:T.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(I,getLabelStatesModels(T),{labelFetcher:n,labelDataIndex:_.dataIndex,defaultText:_.id}),I.disableLabelAnimation=!0,I.setStyle("fill",_.getVisual("color")),I.setStyle("decal",_.getVisual("style").decal),setStatesStylesFromModel(I,T),u.add(I),g.setItemGraphicEl(_.dataIndex,I),getECData(I).dataType="node";var R=D.get("focus");toggleHoverEmphasis(I,R==="adjacency"?_.getAdjacentDataIndices():R,D.get("blurScope"),D.get("disabled"))}),g.eachItemGraphicEl(function(_,C){var T=g.getItemModel(C);T.get("draggable")&&(_.drift=function(w,M){s._focusAdjacencyDisabled=!0,this.shape.x+=w,this.shape.y+=M,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:g.getRawIndex(C),localX:this.shape.x/d,localY:this.shape.y/v})},_.ondragend=function(){s._focusAdjacencyDisabled=!1},_.draggable=!0,_.cursor="move")}),!this._data&&n.isAnimationEnabled()&&u.setClipPath(createGridClipShape$1(u.getBoundingRect(),n,function(){u.removeClipPath()})),this._data=n.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ChartView$1);function createGridClipShape$1(r,t,n){var a=new Rect$3({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps(a,{shape:{width:r.width+20}},t,n),a}var SankeyView$1=SankeyView,SankeySeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,a){var o=n.edges||n.links,s=n.data||n.nodes,l=n.levels;this.levelModels=[];for(var u=this.levelModels,f=0;f<l.length;f++)l[f].depth!=null&&l[f].depth>=0&&(u[l[f].depth]=new Model$1(l[f],this,a));if(s&&o){var d=createGraphFromNodeEdge(s,o,this,!0,v);return d.data}function v(g,S){g.wrapMethod("getItemModel",function(x,_){var C=x.parentModel,T=C.getData().getItemLayout(_);if(T){var w=T.depth,M=C.levelModels[w];M&&(x.parentModel=M)}return x}),S.wrapMethod("getItemModel",function(x,_){var C=x.parentModel,T=C.getGraph().getEdgeByIndex(_),w=T.node1.getLayout();if(w){var M=w.depth,D=C.levelModels[M];D&&(x.parentModel=D)}return x})}},t.prototype.setNodePosition=function(n,a){var o=this.option.data||this.option.nodes,s=o[n];s.localX=a[0],s.localY=a[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(n,a,o){function s(x){return isNaN(x)||x==null}if(o==="edge"){var l=this.getDataParams(n,o),u=l.data,f=l.value,d=u.source+" -- "+u.target;return createTooltipMarkup("nameValue",{name:d,value:f,noValue:s(f)})}else{var v=this.getGraph().getNodeByIndex(n),g=v.getLayout().value,S=this.getDataParams(n,o).data.name;return createTooltipMarkup("nameValue",{name:S!=null?S+"":null,value:g,noValue:s(g)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(n,a){var o=r.prototype.getDataParams.call(this,n,a);if(o.value==null&&a==="node"){var s=this.getGraph().getNodeByIndex(n),l=s.getLayout().value;o.value=l}return o},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(SeriesModel$1),SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(r,t){r.eachSeriesByType("sankey",function(n){var a=n.get("nodeWidth"),o=n.get("nodeGap"),s=getViewRect$1(n,t);n.layoutInfo=s;var l=s.width,u=s.height,f=n.getGraph(),d=f.nodes,v=f.edges;computeNodeValues(d);var g=filter(d,function(C){return C.getLayout().value===0}),S=g.length!==0?0:n.get("layoutIterations"),x=n.get("orient"),_=n.get("nodeAlign");layoutSankey(d,v,a,o,l,u,S,x,_)})}function getViewRect$1(r,t){return getLayoutRect(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function layoutSankey(r,t,n,a,o,s,l,u,f){computeNodeBreadths(r,t,n,o,s,u,f),computeNodeDepths(r,t,s,o,a,l,u),computeEdgeDepths(r,u)}function computeNodeValues(r){each$f(r,function(t){var n=sum(t.outEdges,getEdgeValue),a=sum(t.inEdges,getEdgeValue),o=t.getValue()||0,s=Math.max(n,a,o);t.setLayout({value:s},!0)})}function computeNodeBreadths(r,t,n,a,o,s,l){for(var u=[],f=[],d=[],v=[],g=0,S=0;S<t.length;S++)u[S]=1;for(var S=0;S<r.length;S++)f[S]=r[S].inEdges.length,f[S]===0&&d.push(r[S]);for(var x=-1;d.length;){for(var _=0;_<d.length;_++){var C=d[_],T=C.hostGraph.data.getRawDataItem(C.dataIndex),w=T.depth!=null&&T.depth>=0;w&&T.depth>x&&(x=T.depth),C.setLayout({depth:w?T.depth:g},!0),s==="vertical"?C.setLayout({dy:n},!0):C.setLayout({dx:n},!0);for(var M=0;M<C.outEdges.length;M++){var D=C.outEdges[M],I=t.indexOf(D);u[I]=0;var R=D.node2,$=r.indexOf(R);--f[$]===0&&v.indexOf(R)<0&&v.push(R)}}++g,d=v,v=[]}for(var S=0;S<u.length;S++)if(u[S]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var N=x>g-1?x:g-1;l&&l!=="left"&&adjustNodeWithNodeAlign(r,l,s,N);var F=s==="vertical"?(o-n)/N:(a-n)/N;scaleNodeBreadths(r,F,s)}function isNodeDepth(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function adjustNodeWithNodeAlign(r,t,n,a){if(t==="right"){for(var o=[],s=r,l=0;s.length;){for(var u=0;u<s.length;u++){var f=s[u];f.setLayout({skNodeHeight:l},!0);for(var d=0;d<f.inEdges.length;d++){var v=f.inEdges[d];o.indexOf(v.node1)<0&&o.push(v.node1)}}s=o,o=[],++l}each$f(r,function(g){isNodeDepth(g)||g.setLayout({depth:Math.max(0,a-g.getLayout().skNodeHeight)},!0)})}else t==="justify"&&moveSinksRight(r,a)}function moveSinksRight(r,t){each$f(r,function(n){!isNodeDepth(n)&&!n.outEdges.length&&n.setLayout({depth:t},!0)})}function scaleNodeBreadths(r,t,n){each$f(r,function(a){var o=a.getLayout().depth*t;n==="vertical"?a.setLayout({y:o},!0):a.setLayout({x:o},!0)})}function computeNodeDepths(r,t,n,a,o,s,l){var u=prepareNodesByBreadth(r,l);initializeNodeDepth(u,t,n,a,o,l),resolveCollisions(u,o,n,a,l);for(var f=1;s>0;s--)f*=.99,relaxRightToLeft(u,f,l),resolveCollisions(u,o,n,a,l),relaxLeftToRight(u,f,l),resolveCollisions(u,o,n,a,l)}function prepareNodesByBreadth(r,t){var n=[],a=t==="vertical"?"y":"x",o=groupData(r,function(s){return s.getLayout()[a]});return o.keys.sort(function(s,l){return s-l}),each$f(o.keys,function(s){n.push(o.buckets.get(s))}),n}function initializeNodeDepth(r,t,n,a,o,s){var l=1/0;each$f(r,function(u){var f=u.length,d=0;each$f(u,function(g){d+=g.getLayout().value});var v=s==="vertical"?(a-(f-1)*o)/d:(n-(f-1)*o)/d;v<l&&(l=v)}),each$f(r,function(u){each$f(u,function(f,d){var v=f.getLayout().value*l;s==="vertical"?(f.setLayout({x:d},!0),f.setLayout({dx:v},!0)):(f.setLayout({y:d},!0),f.setLayout({dy:v},!0))})}),each$f(t,function(u){var f=+u.getValue()*l;u.setLayout({dy:f},!0)})}function resolveCollisions(r,t,n,a,o){var s=o==="vertical"?"x":"y";each$f(r,function(l){l.sort(function(C,T){return C.getLayout()[s]-T.getLayout()[s]});for(var u,f,d,v=0,g=l.length,S=o==="vertical"?"dx":"dy",x=0;x<g;x++)f=l[x],d=v-f.getLayout()[s],d>0&&(u=f.getLayout()[s]+d,o==="vertical"?f.setLayout({x:u},!0):f.setLayout({y:u},!0)),v=f.getLayout()[s]+f.getLayout()[S]+t;var _=o==="vertical"?a:n;if(d=v-t-_,d>0){u=f.getLayout()[s]-d,o==="vertical"?f.setLayout({x:u},!0):f.setLayout({y:u},!0),v=u;for(var x=g-2;x>=0;--x)f=l[x],d=f.getLayout()[s]+f.getLayout()[S]+t-v,d>0&&(u=f.getLayout()[s]-d,o==="vertical"?f.setLayout({x:u},!0):f.setLayout({y:u},!0)),v=f.getLayout()[s]}})}function relaxRightToLeft(r,t,n){each$f(r.slice().reverse(),function(a){each$f(a,function(o){if(o.outEdges.length){var s=sum(o.outEdges,weightedTarget,n)/sum(o.outEdges,getEdgeValue);if(isNaN(s)){var l=o.outEdges.length;s=l?sum(o.outEdges,centerTarget,n)/l:0}if(n==="vertical"){var u=o.getLayout().x+(s-center(o,n))*t;o.setLayout({x:u},!0)}else{var f=o.getLayout().y+(s-center(o,n))*t;o.setLayout({y:f},!0)}}})})}function weightedTarget(r,t){return center(r.node2,t)*r.getValue()}function centerTarget(r,t){return center(r.node2,t)}function weightedSource(r,t){return center(r.node1,t)*r.getValue()}function centerSource(r,t){return center(r.node1,t)}function center(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function getEdgeValue(r){return r.getValue()}function sum(r,t,n){for(var a=0,o=r.length,s=-1;++s<o;){var l=+t(r[s],n);isNaN(l)||(a+=l)}return a}function relaxLeftToRight(r,t,n){each$f(r,function(a){each$f(a,function(o){if(o.inEdges.length){var s=sum(o.inEdges,weightedSource,n)/sum(o.inEdges,getEdgeValue);if(isNaN(s)){var l=o.inEdges.length;s=l?sum(o.inEdges,centerSource,n)/l:0}if(n==="vertical"){var u=o.getLayout().x+(s-center(o,n))*t;o.setLayout({x:u},!0)}else{var f=o.getLayout().y+(s-center(o,n))*t;o.setLayout({y:f},!0)}}})})}function computeEdgeDepths(r,t){var n=t==="vertical"?"x":"y";each$f(r,function(a){a.outEdges.sort(function(o,s){return o.node2.getLayout()[n]-s.node2.getLayout()[n]}),a.inEdges.sort(function(o,s){return o.node1.getLayout()[n]-s.node1.getLayout()[n]})}),each$f(r,function(a){var o=0,s=0;each$f(a.outEdges,function(l){l.setLayout({sy:o},!0),o+=l.getLayout().dy}),each$f(a.inEdges,function(l){l.setLayout({ty:s},!0),s+=l.getLayout().dy})})}function sankeyVisual(r){r.eachSeriesByType("sankey",function(t){var n=t.getGraph(),a=n.nodes;if(a.length){var o=1/0,s=-1/0;each$f(a,function(l){var u=l.getLayout().value;u<o&&(o=u),u>s&&(s=u)}),each$f(a,function(l){var u=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[o,s],visual:t.get("color")}),f=u.mapValueToVisual(l.getLayout().value),d=l.getModel().get(["itemStyle","color"]);d!=null?(l.setVisual("color",d),l.setVisual("style",{fill:d})):(l.setVisual("color",f),l.setVisual("style",{fill:f}))})}})}function install$A(r){r.registerChartView(SankeyView$1),r.registerSeriesModel(SankeySeriesModel$1),r.registerLayout(sankeyLayout),r.registerVisual(sankeyVisual),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var WhiskerBoxCommonMixin=function(){function r(){}return r.prototype.getInitialData=function(t,n){var a,o=n.getComponent("xAxis",this.get("xAxisIndex")),s=n.getComponent("yAxis",this.get("yAxisIndex")),l=o.get("type"),u=s.get("type"),f;l==="category"?(t.layout="horizontal",a=o.getOrdinalMeta(),f=!0):u==="category"?(t.layout="vertical",a=s.getOrdinalMeta(),f=!0):t.layout=t.layout||"horizontal";var d=["x","y"],v=t.layout==="horizontal"?0:1,g=this._baseAxisDim=d[v],S=d[1-v],x=[o,s],_=x[v].get("type"),C=x[1-v].get("type"),T=t.data;if(T&&f){var w=[];each$f(T,function(I,R){var $;isArray$1(I)?($=I.slice(),I.unshift(R)):isArray$1(I.value)?($=extend({},I),$.value=$.value.slice(),I.value.unshift(R)):$=I,w.push($)}),t.data=w}var M=this.defaultValueDimensions,D=[{name:g,type:getDimensionTypeByAxis(_),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:S,type:getDimensionTypeByAxis(C),dimsDef:M.slice()}];return createSeriesDataSimply(this,{coordDimensions:D,dimensionsCount:M.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,D,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r}(),BoxplotSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotSeriesModel$1=BoxplotSeriesModel,BoxplotView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=n.getData(),l=this.group,u=this._data;this._data||l.removeAll();var f=n.get("layout")==="horizontal"?1:0;s.diff(u).add(function(d){if(s.hasValue(d)){var v=s.getItemLayout(d),g=createNormalBox$1(v,s,d,f,!0);s.setItemGraphicEl(d,g),l.add(g)}}).update(function(d,v){var g=u.getItemGraphicEl(v);if(!s.hasValue(d)){l.remove(g);return}var S=s.getItemLayout(d);g?(saveOldStyle(g),updateNormalBoxData(S,g,s,d)):g=createNormalBox$1(S,s,d,f),l.add(g),s.setItemGraphicEl(d,g)}).remove(function(d){var v=u.getItemGraphicEl(d);v&&l.remove(v)}).execute(),this._data=s},t.prototype.remove=function(n){var a=this.group,o=this._data;this._data=null,o&&o.eachItemGraphicEl(function(s){s&&a.remove(s)})},t.type="boxplot",t}(ChartView$1),BoxPathShape=function(){function r(){}return r}(),BoxPath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="boxplotBoxPath",a}return t.prototype.getDefaultShape=function(){return new BoxPathShape},t.prototype.buildPath=function(n,a){var o=a.points,s=0;for(n.moveTo(o[s][0],o[s][1]),s++;s<4;s++)n.lineTo(o[s][0],o[s][1]);for(n.closePath();s<o.length;s++)n.moveTo(o[s][0],o[s][1]),s++,n.lineTo(o[s][0],o[s][1])},t}(Path$1);function createNormalBox$1(r,t,n,a,o){var s=r.ends,l=new BoxPath({shape:{points:o?transInit$1(s,a,r):s}});return updateNormalBoxData(r,l,t,n,o),l}function updateNormalBoxData(r,t,n,a,o){var s=n.hostModel,l=graphic[o?"initProps":"updateProps"];l(t,{shape:{points:r.ends}},s,a),t.useStyle(n.getItemVisual(a,"style")),t.style.strokeNoScale=!0,t.z2=100;var u=n.getItemModel(a),f=u.getModel("emphasis");setStatesStylesFromModel(t,u),toggleHoverEmphasis(t,f.get("focus"),f.get("blurScope"),f.get("disabled"))}function transInit$1(r,t,n){return map$1(r,function(a){return a=a.slice(),a[t]=n.initBaseline,a})}var BoxplotView$1=BoxplotView;function boxplotVisual(r,t){}var each$9=each$f;function boxplotLayout(r){var t=groupSeriesByAxis(r);each$9(t,function(n){var a=n.seriesModels;!a.length||(calculateBase(n),each$9(a,function(o,s){layoutSingleSeries(o,n.boxOffsetList[s],n.boxWidthList[s])}))})}function groupSeriesByAxis(r){var t=[],n=[];return r.eachSeriesByType("boxplot",function(a){var o=a.getBaseAxis(),s=indexOf(n,o);s<0&&(s=n.length,n[s]=o,t[s]={axis:o,seriesModels:[]}),t[s].seriesModels.push(a)}),t}function calculateBase(r){var t=r.axis,n=r.seriesModels,a=n.length,o=r.boxWidthList=[],s=r.boxOffsetList=[],l=[],u;if(t.type==="category")u=t.getBandWidth();else{var f=0;each$9(n,function(_){f=Math.max(f,_.getData().count())});var d=t.getExtent();u=Math.abs(d[1]-d[0])/f}each$9(n,function(_){var C=_.get("boxWidth");isArray$1(C)||(C=[C,C]),l.push([parsePercent(C[0],u)||0,parsePercent(C[1],u)||0])});var v=u*.8-2,g=v/a*.3,S=(v-g*(a-1))/a,x=S/2-v/2;each$9(n,function(_,C){s.push(x),x+=g+S,o.push(Math.min(Math.max(S,l[C][0]),l[C][1]))})}function layoutSingleSeries(r,t,n){var a=r.coordinateSystem,o=r.getData(),s=n/2,l=r.get("layout")==="horizontal"?0:1,u=1-l,f=["x","y"],d=o.mapDimension(f[l]),v=o.mapDimensionsAll(f[u]);if(d==null||v.length<5)return;for(var g=0;g<o.count();g++){var S=o.get(d,g),x=D(S,v[2],g),_=D(S,v[0],g),C=D(S,v[1],g),T=D(S,v[3],g),w=D(S,v[4],g),M=[];I(M,C,!1),I(M,T,!0),M.push(_,C,w,T),R(M,_),R(M,w),R(M,x),o.setItemLayout(g,{initBaseline:x[u],ends:M})}function D($,N,F){var H=o.get(N,F),Y=[];Y[l]=$,Y[u]=H;var G;return isNaN($)||isNaN(H)?G=[NaN,NaN]:(G=a.dataToPoint(Y),G[l]+=t),G}function I($,N,F){var H=N.slice(),Y=N.slice();H[l]+=s,Y[l]-=s,F?$.push(H,Y):$.push(Y,H)}function R($,N){var F=N.slice(),H=N.slice();F[l]-=s,H[l]+=s,$.push(F,H)}}function prepareBoxplotData(r,t){t=t||{};for(var n=[],a=[],o=t.boundIQR,s=o==="none"||o===0,l=0;l<r.length;l++){var u=asc$2(r[l].slice()),f=quantile(u,.25),d=quantile(u,.5),v=quantile(u,.75),g=u[0],S=u[u.length-1],x=(o==null?1.5:o)*(v-f),_=s?g:Math.max(g,f-x),C=s?S:Math.min(S,v+x),T=t.itemNameFormatter,w=isFunction(T)?T({value:l}):isString(T)?T.replace("{value}",l+""):l+"";n.push([w,_,f,d,v,C]);for(var M=0;M<u.length;M++){var D=u[M];if(D<_||D>C){var I=[w,D];a.push(I)}}}return{boxData:n,outliers:a}}var boxplotTransform={type:"echarts:boxplot",transform:function(t){var n=t.upstream;if(n.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var a="";throwError(a)}var o=prepareBoxplotData(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:o.boxData},{data:o.outliers}]}};function install$z(r){r.registerSeriesModel(BoxplotSeriesModel$1),r.registerChartView(BoxplotView$1),r.registerVisual(boxplotVisual),r.registerLayout(boxplotLayout),r.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},t.prototype.incrementalPrepareRender=function(n,a,o){this._clear(),this._updateDrawMode(n)},t.prototype.incrementalRender=function(n,a,o,s){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,a):this._incrementalRenderNormal(n,a)},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var a=n.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(n){var a=n.getData(),o=this._data,s=this.group,l=a.getLayout("isSimpleBox"),u=n.get("clip",!0),f=n.coordinateSystem,d=f.getArea&&f.getArea();this._data||s.removeAll(),a.diff(o).add(function(v){if(a.hasValue(v)){var g=a.getItemLayout(v);if(u&&isNormalBoxClipped(d,g))return;var S=createNormalBox(g,v,!0);initProps(S,{shape:{points:g.ends}},n,v),setBoxCommon(S,a,v,l),s.add(S),a.setItemGraphicEl(v,S)}}).update(function(v,g){var S=o.getItemGraphicEl(g);if(!a.hasValue(v)){s.remove(S);return}var x=a.getItemLayout(v);if(u&&isNormalBoxClipped(d,x)){s.remove(S);return}S?(updateProps$1(S,{shape:{points:x.ends}},n,v),saveOldStyle(S)):S=createNormalBox(x),setBoxCommon(S,a,v,l),s.add(S),a.setItemGraphicEl(v,S)}).remove(function(v){var g=o.getItemGraphicEl(v);g&&s.remove(g)}).execute(),this._data=a},t.prototype._renderLarge=function(n){this._clear(),createLarge(n,this.group);var a=n.get("clip",!0)?createClipPath(n.coordinateSystem,!1,n):null;a?this.group.setClipPath(a):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(n,a){for(var o=a.getData(),s=o.getLayout("isSimpleBox"),l;(l=n.next())!=null;){var u=o.getItemLayout(l),f=createNormalBox(u);setBoxCommon(f,o,l,s),f.incremental=!0,this.group.add(f),this._progressiveEls.push(f)}},t.prototype._incrementalRenderLarge=function(n,a){createLarge(a,this.group,this._progressiveEls,!0)},t.prototype.remove=function(n){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ChartView$1),NormalBoxPathShape=function(){function r(){}return r}(),NormalBoxPath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="normalCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new NormalBoxPathShape},t.prototype.buildPath=function(n,a){var o=a.points;this.__simpleBox?(n.moveTo(o[4][0],o[4][1]),n.lineTo(o[6][0],o[6][1])):(n.moveTo(o[0][0],o[0][1]),n.lineTo(o[1][0],o[1][1]),n.lineTo(o[2][0],o[2][1]),n.lineTo(o[3][0],o[3][1]),n.closePath(),n.moveTo(o[4][0],o[4][1]),n.lineTo(o[5][0],o[5][1]),n.moveTo(o[6][0],o[6][1]),n.lineTo(o[7][0],o[7][1]))},t}(Path$1);function createNormalBox(r,t,n){var a=r.ends;return new NormalBoxPath({shape:{points:n?transInit(a,r):a},z2:100})}function isNormalBoxClipped(r,t){for(var n=!0,a=0;a<t.ends.length;a++)if(r.contain(t.ends[a][0],t.ends[a][1])){n=!1;break}return n}function setBoxCommon(r,t,n,a){var o=t.getItemModel(n);r.useStyle(t.getItemVisual(n,"style")),r.style.strokeNoScale=!0,r.__simpleBox=a,setStatesStylesFromModel(r,o)}function transInit(r,t){return map$1(r,function(n){return n=n.slice(),n[1]=t.initBaseline,n})}var LargeBoxPathShape=function(){function r(){}return r}(),LargeBoxPath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a.type="largeCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new LargeBoxPathShape},t.prototype.buildPath=function(n,a){for(var o=a.points,s=0;s<o.length;)if(this.__sign===o[s++]){var l=o[s++];n.moveTo(l,o[s++]),n.lineTo(l,o[s++])}else s+=3},t}(Path$1);function createLarge(r,t,n,a){var o=r.getData(),s=o.getLayout("largePoints"),l=new LargeBoxPath({shape:{points:s},__sign:1});t.add(l);var u=new LargeBoxPath({shape:{points:s},__sign:-1});t.add(u),setLargeStyle(1,l,r),setLargeStyle(-1,u,r),a&&(l.incremental=!0,u.incremental=!0),n&&n.push(l,u)}function setLargeStyle(r,t,n,a){var o=n.get(["itemStyle",r>0?"borderColor":"borderColor0"])||n.get(["itemStyle",r>0?"color":"color0"]),s=n.getModel("itemStyle").getItemStyle(SKIP_PROPS);t.useStyle(s),t.style.fill=null,t.style.stroke=o}var CandlestickView$1=CandlestickView,CandlestickSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(n,a,o){var s=a.getItemLayout(n);return s&&o.rect(s.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);var CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(r){!r||!isArray$1(r.series)||each$f(r.series,function(t){isObject$4(t)&&t.type==="k"&&(t.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(r,t){function n(s,l){return l.get(s>0?positiveColorQuery:negativeColorQuery)}function a(s,l){return l.get(s>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!t.isSeriesFiltered(r)){var o=r.pipelineContext.large;return!o&&{progress:function(s,l){for(var u;(u=s.next())!=null;){var f=l.getItemModel(u),d=l.getItemLayout(u).sign,v=f.getItemStyle();v.fill=n(d,f),v.stroke=a(d,f)||v.fill;var g=l.ensureUniqueItemVisual(u,"style");extend(g,v)}}}}}},candlestickVisual$1=candlestickVisual,candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(r){var t=r.coordinateSystem,n=r.getData(),a=calculateCandleWidth(r,n),o=0,s=1,l=["x","y"],u=n.getDimensionIndex(n.mapDimension(l[o])),f=map$1(n.mapDimensionsAll(l[s]),n.getDimensionIndex,n),d=f[0],v=f[1],g=f[2],S=f[3];if(n.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),u<0||f.length<4)return;return{progress:r.pipelineContext.large?_:x};function x(C,T){for(var w,M=T.getStore();(w=C.next())!=null;){var D=M.get(u,w),I=M.get(d,w),R=M.get(v,w),$=M.get(g,w),N=M.get(S,w),F=Math.min(I,R),H=Math.max(I,R),Y=Q(F,D),G=Q(H,D),K=Q($,D),Z=Q(N,D),J=[];te(J,G,0),te(J,Y,1),J.push(ne(Z),ne(G),ne(K),ne(Y)),T.setItemLayout(w,{sign:getSign(M,w,I,R,v),initBaseline:I>R?G[s]:Y[s],ends:J,brushRect:ie($,N,D)})}function Q(de,ve){var pe=[];return pe[o]=ve,pe[s]=de,isNaN(ve)||isNaN(de)?[NaN,NaN]:t.dataToPoint(pe)}function te(de,ve,pe){var $e=ve.slice(),Re=ve.slice();$e[o]=subPixelOptimize($e[o]+a/2,1,!1),Re[o]=subPixelOptimize(Re[o]-a/2,1,!0),pe?de.push($e,Re):de.push(Re,$e)}function ie(de,ve,pe){var $e=Q(de,pe),Re=Q(ve,pe);return $e[o]-=a/2,Re[o]-=a/2,{x:$e[0],y:$e[1],width:a,height:Re[1]-$e[1]}}function ne(de){return de[o]=subPixelOptimize(de[o],1),de}}function _(C,T){for(var w=createFloat32Array(C.count*4),M=0,D,I=[],R=[],$,N=T.getStore();($=C.next())!=null;){var F=N.get(u,$),H=N.get(d,$),Y=N.get(v,$),G=N.get(g,$),K=N.get(S,$);if(isNaN(F)||isNaN(G)||isNaN(K)){w[M++]=NaN,M+=3;continue}w[M++]=getSign(N,$,H,Y,v),I[o]=F,I[s]=G,D=t.dataToPoint(I,null,R),w[M++]=D?D[0]:NaN,w[M++]=D?D[1]:NaN,I[s]=K,D=t.dataToPoint(I,null,R),w[M++]=D?D[1]:NaN}T.setLayout("largePoints",w)}}};function getSign(r,t,n,a,o){var s;return n>a?s=-1:n<a?s=1:s=t>0?r.get(o,t-1)<=a?1:-1:1,s}function calculateCandleWidth(r,t){var n=r.getBaseAxis(),a,o=n.type==="category"?n.getBandWidth():(a=n.getExtent(),Math.abs(a[1]-a[0])/t.count()),s=parsePercent(retrieve2(r.get("barMaxWidth"),o),o),l=parsePercent(retrieve2(r.get("barMinWidth"),1),o),u=r.get("barWidth");return u!=null?parsePercent(u,o):Math.max(Math.min(o/2,s),l)}var candlestickLayout$1=candlestickLayout;function install$y(r){r.registerChartView(CandlestickView$1),r.registerSeriesModel(CandlestickSeriesModel$1),r.registerPreprocessor(candlestickPreprocessor),r.registerVisual(candlestickVisual$1),r.registerLayout(candlestickLayout$1)}function updateRipplePath(r,t){var n=t.rippleEffectColor||t.color;r.eachChild(function(a){a.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?n:null,fill:t.brushType==="fill"?n:null}})})}var EffectSymbol=function(r){__extends$1(t,r);function t(n,a){var o=r.call(this)||this,s=new SymbolClz(n,a),l=new Group$4;return o.add(s),o.add(l),o.updateData(n,a),o}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(n){for(var a=n.symbolType,o=n.color,s=n.rippleNumber,l=this.childAt(1),u=0;u<s;u++){var f=createSymbol$1(a,-1,-1,2,2,o);f.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var d=-u/s*n.period+n.effectOffset;f.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(d).start(),f.animateStyle(!0).when(n.period,{opacity:0}).delay(d).start(),l.add(f)}updateRipplePath(l,n)},t.prototype.updateEffectAnimation=function(n){for(var a=this._effectCfg,o=this.childAt(1),s=["symbolType","period","rippleScale","rippleNumber"],l=0;l<s.length;l++){var u=s[l];if(a[u]!==n[u]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}updateRipplePath(o,n)},t.prototype.highlight=function(){enterEmphasis(this)},t.prototype.downplay=function(){leaveEmphasis(this)},t.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},t.prototype.updateData=function(n,a){var o=this,s=n.hostModel;this.childAt(0).updateData(n,a);var l=this.childAt(1),u=n.getItemModel(a),f=n.getItemVisual(a,"symbol"),d=normalizeSymbolSize(n.getItemVisual(a,"symbolSize")),v=n.getItemVisual(a,"style"),g=v&&v.fill,S=u.getModel("emphasis");l.setScale(d),l.traverse(function(T){T.setStyle("fill",g)});var x=normalizeSymbolOffset(n.getItemVisual(a,"symbolOffset"),d);x&&(l.x=x[0],l.y=x[1]);var _=n.getItemVisual(a,"symbolRotate");l.rotation=(_||0)*Math.PI/180||0;var C={};C.showEffectOn=s.get("showEffectOn"),C.rippleScale=u.get(["rippleEffect","scale"]),C.brushType=u.get(["rippleEffect","brushType"]),C.period=u.get(["rippleEffect","period"])*1e3,C.effectOffset=a/n.count(),C.z=s.getShallow("z")||0,C.zlevel=s.getShallow("zlevel")||0,C.symbolType=f,C.color=g,C.rippleEffectColor=u.get(["rippleEffect","color"]),C.rippleNumber=u.get(["rippleEffect","number"]),C.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(C):this.startEffectAnimation(C),this._effectCfg=C):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(T){T==="emphasis"?C.showEffectOn!=="render"&&o.startEffectAnimation(C):T==="normal"&&C.showEffectOn!=="render"&&o.stopEffectAnimation()}),this._effectCfg=C,toggleHoverEmphasis(this,S.get("focus"),S.get("blurScope"),S.get("disabled"))},t.prototype.fadeOut=function(n){n&&n()},t}(Group$4),EffectSymbol$1=EffectSymbol,EffectScatterView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},t.prototype.render=function(n,a,o){var s=n.getData(),l=this._symbolDraw;l.updateData(s,{clipShape:this._getClipShape(n)}),this.group.add(l.group)},t.prototype._getClipShape=function(n){var a=n.coordinateSystem,o=a&&a.getArea&&a.getArea();return n.get("clip",!0)?o:null},t.prototype.updateTransform=function(n,a,o){var s=n.getData();this.group.dirty();var l=pointsLayout("").reset(n,a,o);l.progress&&l.progress({start:0,end:s.count(),count:s.count()},s),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(n){var a=n.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=clone$2(a.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(n,a){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ChartView$1),EffectScatterView$1=EffectScatterView,EffectScatterSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,a){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(n,a,o){return o.point(a.getItemLayout(n))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(SeriesModel$1),EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$x(r){r.registerChartView(EffectScatterView$1),r.registerSeriesModel(EffectScatterSeriesModel$1),r.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this)||this;return s.add(s.createLine(n,a,o)),s._updateEffectSymbol(n,a),s}return t.prototype.createLine=function(n,a,o){return new Line$1(n,a,o)},t.prototype._updateEffectSymbol=function(n,a){var o=n.getItemModel(a),s=o.getModel("effect"),l=s.get("symbolSize"),u=s.get("symbol");isArray$1(l)||(l=[l,l]);var f=n.getItemVisual(a,"style"),d=s.get("color")||f&&f.stroke,v=this.childAt(1);this._symbolType!==u&&(this.remove(v),v=createSymbol$1(u,-.5,-.5,1,1,d),v.z2=100,v.culling=!0,this.add(v)),v&&(v.setStyle("shadowColor",d),v.setStyle(s.getItemStyle(["color"])),v.scaleX=l[0],v.scaleY=l[1],v.setColor(d),this._symbolType=u,this._symbolScale=l,this._updateEffectAnimation(n,s,a))},t.prototype._updateEffectAnimation=function(n,a,o){var s=this.childAt(1);if(!!s){var l=n.getItemLayout(o),u=a.get("period")*1e3,f=a.get("loop"),d=a.get("constantSpeed"),v=retrieve(a.get("delay"),function(S){return S/n.count()*u/3});if(s.ignore=!0,this._updateAnimationPoints(s,l),d>0&&(u=this._getLineLength(s)/d*1e3),u!==this._period||f!==this._loop){s.stopAnimation();var g=void 0;isFunction(v)?g=v(o):g=v,s.__t>0&&(g=-u*s.__t),this._animateSymbol(s,u,g,f)}this._period=u,this._loop=f}},t.prototype._animateSymbol=function(n,a,o,s){if(a>0){n.__t=0;var l=this,u=n.animate("",s).when(a,{__t:1}).delay(o).during(function(){l._updateSymbolPosition(n)});s||u.done(function(){l.remove(n)}),u.start()}},t.prototype._getLineLength=function(n){return dist$1(n.__p1,n.__cp1)+dist$1(n.__cp1,n.__p2)},t.prototype._updateAnimationPoints=function(n,a){n.__p1=a[0],n.__p2=a[1],n.__cp1=a[2]||[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]},t.prototype.updateData=function(n,a,o){this.childAt(0).updateData(n,a,o),this._updateEffectSymbol(n,a)},t.prototype._updateSymbolPosition=function(n){var a=n.__p1,o=n.__p2,s=n.__cp1,l=n.__t,u=[n.x,n.y],f=u.slice(),d=quadraticAt$1,v=quadraticDerivativeAt;u[0]=d(a[0],s[0],o[0],l),u[1]=d(a[1],s[1],o[1],l);var g=v(a[0],s[0],o[0],l),S=v(a[1],s[1],o[1],l);n.rotation=-Math.atan2(S,g)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=dist$1(f,u)*1.05,l===1&&(u[0]=f[0]+(u[0]-f[0])/2,u[1]=f[1]+(u[1]-f[1])/2)):n.__lastT===1?n.scaleY=2*dist$1(a,u):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=u[0],n.y=u[1]},t.prototype.updateLayout=function(n,a){this.childAt(0).updateLayout(n,a);var o=n.getItemModel(a).getModel("effect");this._updateEffectAnimation(n,o,a)},t}(Group$4),EffectLine$1=EffectLine,Polyline=function(r){__extends$1(t,r);function t(n,a,o){var s=r.call(this)||this;return s._createPolyline(n,a,o),s}return t.prototype._createPolyline=function(n,a,o){var s=n.getItemLayout(a),l=new Polyline$3({shape:{points:s}});this.add(l),this._updateCommonStl(n,a,o)},t.prototype.updateData=function(n,a,o){var s=n.hostModel,l=this.childAt(0),u={shape:{points:n.getItemLayout(a)}};updateProps$1(l,u,s,a),this._updateCommonStl(n,a,o)},t.prototype._updateCommonStl=function(n,a,o){var s=this.childAt(0),l=n.getItemModel(a),u=o&&o.emphasisLineStyle,f=o&&o.focus,d=o&&o.blurScope,v=o&&o.emphasisDisabled;if(!o||n.hasItemOption){var g=l.getModel("emphasis");u=g.getModel("lineStyle").getLineStyle(),v=g.get("disabled"),f=g.get("focus"),d=g.get("blurScope")}s.useStyle(n.getItemVisual(a,"style")),s.style.fill=null,s.style.strokeNoScale=!0;var S=s.ensureState("emphasis");S.style=u,toggleHoverEmphasis(this,f,d,v)},t.prototype.updateLayout=function(n,a){var o=this.childAt(0);o.setShape("points",n.getItemLayout(a))},t}(Group$4),Polyline$1=Polyline,EffectPolyline=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return t.prototype.createLine=function(n,a,o){return new Polyline$1(n,a,o)},t.prototype._updateAnimationPoints=function(n,a){this._points=a;for(var o=[0],s=0,l=1;l<a.length;l++){var u=a[l-1],f=a[l];s+=dist$1(u,f),o.push(s)}if(s===0){this._length=0;return}for(var l=0;l<o.length;l++)o[l]/=s;this._offsets=o,this._length=s},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(n){var a=n.__t,o=this._points,s=this._offsets,l=o.length;if(!!s){var u=this._lastFrame,f;if(a<this._lastFramePercent){var d=Math.min(u+1,l-1);for(f=d;f>=0&&!(s[f]<=a);f--);f=Math.min(f,l-2)}else{for(f=u;f<l&&!(s[f]>a);f++);f=Math.min(f-1,l-2)}var v=(a-s[f])/(s[f+1]-s[f]),g=o[f],S=o[f+1];n.x=g[0]*(1-v)+v*S[0],n.y=g[1]*(1-v)+v*S[1];var x=S[0]-g[0],_=S[1]-g[1];n.rotation=-Math.atan2(_,x)-Math.PI/2,this._lastFrame=f,this._lastFramePercent=a,n.ignore=!1}},t}(EffectLine$1),EffectPolyline$1=EffectPolyline,LargeLinesPathShape=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),LargeLinesPath=function(r){__extends$1(t,r);function t(n){var a=r.call(this,n)||this;return a._off=0,a.hoverDataIdx=-1,a}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LargeLinesPathShape},t.prototype.buildPath=function(n,a){var o=a.segs,s=a.curveness,l;if(a.polyline)for(l=this._off;l<o.length;){var u=o[l++];if(u>0){n.moveTo(o[l++],o[l++]);for(var f=1;f<u;f++)n.lineTo(o[l++],o[l++])}}else for(l=this._off;l<o.length;){var d=o[l++],v=o[l++],g=o[l++],S=o[l++];if(n.moveTo(d,v),s>0){var x=(d+g)/2-(v-S)*s,_=(v+S)/2-(g-d)*s;n.quadraticCurveTo(x,_,g,S)}else n.lineTo(g,S)}this.incremental&&(this._off=l,this.notClear=!0)},t.prototype.findDataIndex=function(n,a){var o=this.shape,s=o.segs,l=o.curveness,u=this.style.lineWidth;if(o.polyline)for(var f=0,d=0;d<s.length;){var v=s[d++];if(v>0)for(var g=s[d++],S=s[d++],x=1;x<v;x++){var _=s[d++],C=s[d++];if(containStroke$4(g,S,_,C,u,n,a))return f}f++}else for(var f=0,d=0;d<s.length;){var g=s[d++],S=s[d++],_=s[d++],C=s[d++];if(l>0){var T=(g+_)/2-(S-C)*l,w=(S+C)/2-(_-g)*l;if(containStroke$2(g,S,T,w,_,C,u,n,a))return f}else if(containStroke$4(g,S,_,C,u,n,a))return f;f++}return-1},t.prototype.contain=function(n,a){var o=this.transformCoordToLocal(n,a),s=this.getBoundingRect();if(n=o[0],a=o[1],s.contain(n,a)){var l=this.hoverDataIdx=this.findDataIndex(n,a);return l>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var a=this.shape,o=a.segs,s=1/0,l=1/0,u=-1/0,f=-1/0,d=0;d<o.length;){var v=o[d++],g=o[d++];s=Math.min(v,s),u=Math.max(v,u),l=Math.min(g,l),f=Math.max(g,f)}n=this._rect=new BoundingRect$1(s,l,u,f)}return n},t}(Path$1),LargeLineDraw=function(){function r(){this.group=new Group$4}return r.prototype.updateData=function(t){this._clear();var n=this._create();n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,n){var a=this._newAdded[0],o=n.getLayout("linesPoints"),s=a&&a.shape.segs;if(s&&s.length<2e4){var l=s.length,u=new Float32Array(l+o.length);u.set(s),u.set(o,l),a.setShape({segs:u})}else{this._newAdded=[];var f=this._create();f.incremental=!0,f.setShape({segs:o}),this._setCommon(f,n),f.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new LargeLinesPath({cursor:"default"});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,n,a){var o=n.hostModel;t.setShape({polyline:o.get("polyline"),curveness:o.get(["lineStyle","curveness"])}),t.useStyle(o.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var s=n.getVisual("style");s&&s.stroke&&t.setStyle("stroke",s.stroke),t.setStyle("fill",null);var l=getECData(t);l.seriesIndex=o.seriesIndex,t.on("mousemove",function(u){l.dataIndex=null;var f=t.hoverDataIdx;f>0&&(l.dataIndex=f+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),LargeLineDraw$1=LargeLineDraw,linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(r){var t=r.coordinateSystem;if(!!t){var n=r.get("polyline"),a=r.pipelineContext.large;return{progress:function(o,s){var l=[];if(a){var u=void 0,f=o.end-o.start;if(n){for(var d=0,v=o.start;v<o.end;v++)d+=r.getLineCoordsCount(v);u=new Float32Array(f+d*2)}else u=new Float32Array(f*4);for(var g=0,S=[],v=o.start;v<o.end;v++){var x=r.getLineCoords(v,l);n&&(u[g++]=x);for(var _=0;_<x;_++)S=t.dataToPoint(l[_],!1,S),u[g++]=S[0],u[g++]=S[1]}s.setLayout("linesPoints",u)}else for(var v=o.start;v<o.end;v++){var C=s.getItemModel(v),x=r.getLineCoords(v,l),T=[];if(n)for(var w=0;w<x;w++)T.push(t.dataToPoint(l[w]));else{T[0]=t.dataToPoint(l[0]),T[1]=t.dataToPoint(l[1]);var M=C.get(["lineStyle","curveness"]);+M&&(T[2]=[(T[0][0]+T[1][0])/2-(T[0][1]-T[1][1])*M,(T[0][1]+T[1][1])/2-(T[1][0]-T[0][0])*M])}s.setItemLayout(v,T)}}}}}},linesLayout$1=linesLayout,LinesView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=n.getData(),l=this._updateLineDraw(s,n),u=n.get("zlevel"),f=n.get(["effect","trailLength"]),d=o.getZr(),v=d.painter.getType()==="svg";v||d.painter.getLayer(u).clear(!0),this._lastZlevel!=null&&!v&&d.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&f>0&&(v||d.configLayer(u,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(f/10+.9,1),0)})),l.updateData(s);var g=n.get("clip",!0)&&createClipPath(n.coordinateSystem,!1,n);g?this.group.setClipPath(g):this.group.removeClipPath(),this._lastZlevel=u,this._finished=!0},t.prototype.incrementalPrepareRender=function(n,a,o){var s=n.getData(),l=this._updateLineDraw(s,n);l.incrementalPrepareUpdate(s),this._clearLayer(o),this._finished=!1},t.prototype.incrementalRender=function(n,a,o){this._lineDraw.incrementalUpdate(n,a.getData()),this._finished=n.end===a.getData().count()},t.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},t.prototype.updateTransform=function(n,a,o){var s=n.getData(),l=n.pipelineContext;if(!this._finished||l.large||l.progressiveRender)return{update:!0};var u=linesLayout$1.reset(n,a,o);u.progress&&u.progress({start:0,end:s.count(),count:s.count()},s),this._lineDraw.updateLayout(),this._clearLayer(o)},t.prototype._updateLineDraw=function(n,a){var o=this._lineDraw,s=this._showEffect(a),l=!!a.get("polyline"),u=a.pipelineContext,f=u.large;return(!o||s!==this._hasEffet||l!==this._isPolyline||f!==this._isLargeDraw)&&(o&&o.remove(),o=this._lineDraw=f?new LargeLineDraw$1:new LineDraw$1(l?s?EffectPolyline$1:Polyline$1:s?EffectLine$1:Line$1),this._hasEffet=s,this._isPolyline=l,this._isLargeDraw=f),this.group.add(o.group),o},t.prototype._showEffect=function(n){return!!n.get(["effect","show"])},t.prototype._clearLayer=function(n){var a=n.getZr(),o=a.painter.getType()==="svg";!o&&this._lastZlevel!=null&&a.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(n,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},t.prototype.dispose=function(n,a){this.remove(n,a)},t.type="lines",t}(ChartView$1),LinesView$1=LinesView,Uint32Arr=typeof Uint32Array=="undefined"?Array:Uint32Array,Float64Arr=typeof Float64Array=="undefined"?Array:Float64Array;function compatEc2(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=map$1(t,function(n){var a=[n[0].coord,n[1].coord],o={coords:a};return n[0].name&&(o.fromName=n[0].name),n[1].name&&(o.toName=n[1].name),mergeAll([o,n[0],n[1]])}))}var LinesSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.init=function(n){n.data=n.data||[],compatEc2(n);var a=this._processFlatCoordsArray(n.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(n.data=new Float32Array(a.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(n){if(compatEc2(n),n.data){var a=this._processFlatCoordsArray(n.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(n.data=new Float32Array(a.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(n){var a=this._processFlatCoordsArray(n.data);a.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,a.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,a.flatCoordsOffset)):(this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset),n.data=new Float32Array(a.count)),this.getRawData().appendData(n.data)},t.prototype._getCoordsFromItemModel=function(n){var a=this.getData().getItemModel(n),o=a.option instanceof Array?a.option:a.getShallow("coords");return o},t.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},t.prototype.getLineCoords=function(n,a){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[n*2],s=this._flatCoordsOffset[n*2+1],l=0;l<s;l++)a[l]=a[l]||[],a[l][0]=this._flatCoords[o+l*2],a[l][1]=this._flatCoords[o+l*2+1];return s}else{for(var u=this._getCoordsFromItemModel(n),l=0;l<u.length;l++)a[l]=a[l]||[],a[l][0]=u[l][0],a[l][1]=u[l][1];return u.length}},t.prototype._processFlatCoordsArray=function(n){var a=0;if(this._flatCoords&&(a=this._flatCoords.length),isNumber(n[0])){for(var o=n.length,s=new Uint32Arr(o),l=new Float64Arr(o),u=0,f=0,d=0,v=0;v<o;){d++;var g=n[v++];s[f++]=u+a,s[f++]=g;for(var S=0;S<g;S++){var x=n[v++],_=n[v++];l[u++]=x,l[u++]=_}}return{flatCoordsOffset:new Uint32Array(s.buffer,0,f),flatCoords:l,count:d}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},t.prototype.getInitialData=function(n,a){var o=new SeriesData$1(["value"],this);return o.hasItemOption=!1,o.initData(n.data,[],function(s,l,u,f){if(s instanceof Array)return NaN;o.hasItemOption=!0;var d=s.value;if(d!=null)return d instanceof Array?d[f]:d}),o},t.prototype.formatTooltip=function(n,a,o){var s=this.getData(),l=s.getItemModel(n),u=l.get("name");if(u)return u;var f=l.get("fromName"),d=l.get("toName"),v=[];return f!=null&&v.push(f),d!=null&&v.push(d),createTooltipMarkup("nameValue",{name:v.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var n=this.option.progressive;return n==null?this.option.large?1e4:this.get("progressive"):n},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n==null?this.option.large?2e4:this.get("progressiveThreshold"):n},t.prototype.getZLevelKey=function(){var n=this.getModel("effect"),a=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&a>0?a+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(SeriesModel$1),LinesSeriesModel$1=LinesSeriesModel;function normalize(r){return r instanceof Array||(r=[r,r]),r}var linesVisual={seriesType:"lines",reset:function(r){var t=normalize(r.get("symbol")),n=normalize(r.get("symbolSize")),a=r.getData();a.setVisual("fromSymbol",t&&t[0]),a.setVisual("toSymbol",t&&t[1]),a.setVisual("fromSymbolSize",n&&n[0]),a.setVisual("toSymbolSize",n&&n[1]);function o(s,l){var u=s.getItemModel(l),f=normalize(u.getShallow("symbol",!0)),d=normalize(u.getShallow("symbolSize",!0));f[0]&&s.setItemVisual(l,"fromSymbol",f[0]),f[1]&&s.setItemVisual(l,"toSymbol",f[1]),d[0]&&s.setItemVisual(l,"fromSymbolSize",d[0]),d[1]&&s.setItemVisual(l,"toSymbolSize",d[1])}return{dataEach:a.hasItemOption?o:null}}},linesVisual$1=linesVisual;function install$w(r){r.registerChartView(LinesView$1),r.registerSeriesModel(LinesSeriesModel$1),r.registerLayout(linesLayout$1),r.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=platformApi.createCanvas();this.canvas=t}return r.prototype.update=function(t,n,a,o,s,l){var u=this._getBrush(),f=this._getGradient(s,"inRange"),d=this._getGradient(s,"outOfRange"),v=this.pointSize+this.blurSize,g=this.canvas,S=g.getContext("2d"),x=t.length;g.width=n,g.height=a;for(var _=0;_<x;++_){var C=t[_],T=C[0],w=C[1],M=C[2],D=o(M);S.globalAlpha=D,S.drawImage(u,T-v,w-v)}if(!g.width||!g.height)return g;for(var I=S.getImageData(0,0,g.width,g.height),R=I.data,$=0,N=R.length,F=this.minOpacity,H=this.maxOpacity,Y=H-F;$<N;){var D=R[$+3]/256,G=Math.floor(D*(GRADIENT_LEVELS-1))*4;if(D>0){var K=l(D)?f:d;D>0&&(D=D*Y+F),R[$++]=K[G],R[$++]=K[G+1],R[$++]=K[G+2],R[$++]=K[G+3]*D*256}else $+=4}return S.putImageData(I,0,0),g},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),n=this.pointSize+this.blurSize,a=n*2;t.width=a,t.height=a;var o=t.getContext("2d");return o.clearRect(0,0,a,a),o.shadowOffsetX=a,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-n,n,this.pointSize,0,Math.PI*2,!0),o.closePath(),o.fill(),t},r.prototype._getGradient=function(t,n){for(var a=this._gradientPixels,o=a[n]||(a[n]=new Uint8ClampedArray(256*4)),s=[0,0,0,0],l=0,u=0;u<256;u++)t[n](u/255,!0,s),o[l++]=s[0],o[l++]=s[1],o[l++]=s[2],o[l++]=s[3];return o},r}(),HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(r,t,n){var a=r[1]-r[0];t=map$1(t,function(l){return{interval:[(l.interval[0]-r[0])/a,(l.interval[1]-r[0])/a]}});var o=t.length,s=0;return function(l){var u;for(u=s;u<o;u++){var f=t[u].interval;if(f[0]<=l&&l<=f[1]){s=u;break}}if(u===o)for(u=s-1;u>=0;u--){var f=t[u].interval;if(f[0]<=l&&l<=f[1]){s=u;break}}return u>=0&&u<o&&n[u]}}function getIsInContinuousRange(r,t){var n=r[1]-r[0];return t=[(t[0]-r[0])/n,(t[1]-r[0])/n],function(a){return a>=t[0]&&a<=t[1]}}function isGeoCoordSys(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var HeatmapView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s;a.eachComponent("visualMap",function(u){u.eachTargetSeries(function(f){f===n&&(s=u)})}),this._progressiveEls=null,this.group.removeAll();var l=n.coordinateSystem;l.type==="cartesian2d"||l.type==="calendar"?this._renderOnCartesianAndCalendar(n,o,0,n.getData().count()):isGeoCoordSys(l)&&this._renderOnGeo(l,n,s,o)},t.prototype.incrementalPrepareRender=function(n,a,o){this.group.removeAll()},t.prototype.incrementalRender=function(n,a,o,s){var l=a.coordinateSystem;l&&(isGeoCoordSys(l)?this.render(a,o,s):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(a,s,n.start,n.end,!0)))},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._renderOnCartesianAndCalendar=function(n,a,o,s,l){var u=n.coordinateSystem,f=isCoordinateSystemType(u,"cartesian2d"),d,v,g,S;if(f){var x=u.getAxis("x"),_=u.getAxis("y");d=x.getBandWidth()+.5,v=_.getBandWidth()+.5,g=x.scale.getExtent(),S=_.scale.getExtent()}for(var C=this.group,T=n.getData(),w=n.getModel(["emphasis","itemStyle"]).getItemStyle(),M=n.getModel(["blur","itemStyle"]).getItemStyle(),D=n.getModel(["select","itemStyle"]).getItemStyle(),I=n.get(["itemStyle","borderRadius"]),R=getLabelStatesModels(n),$=n.getModel("emphasis"),N=$.get("focus"),F=$.get("blurScope"),H=$.get("disabled"),Y=f?[T.mapDimension("x"),T.mapDimension("y"),T.mapDimension("value")]:[T.mapDimension("time"),T.mapDimension("value")],G=o;G<s;G++){var K=void 0,Z=T.getItemVisual(G,"style");if(f){var J=T.get(Y[0],G),Q=T.get(Y[1],G);if(isNaN(T.get(Y[2],G))||J<g[0]||J>g[1]||Q<S[0]||Q>S[1])continue;var te=u.dataToPoint([J,Q]);K=new Rect$3({shape:{x:te[0]-d/2,y:te[1]-v/2,width:d,height:v},style:Z})}else{if(isNaN(T.get(Y[1],G)))continue;K=new Rect$3({z2:1,shape:u.dataToRect([T.get(Y[0],G)]).contentShape,style:Z})}if(T.hasItemOption){var ie=T.getItemModel(G),ne=ie.getModel("emphasis");w=ne.getModel("itemStyle").getItemStyle(),M=ie.getModel(["blur","itemStyle"]).getItemStyle(),D=ie.getModel(["select","itemStyle"]).getItemStyle(),I=ie.get(["itemStyle","borderRadius"]),N=ne.get("focus"),F=ne.get("blurScope"),H=ne.get("disabled"),R=getLabelStatesModels(ie)}K.shape.r=I;var de=n.getRawValue(G),ve="-";de&&de[2]!=null&&(ve=de[2]+""),setLabelStyle(K,R,{labelFetcher:n,labelDataIndex:G,defaultOpacity:Z.opacity,defaultText:ve}),K.ensureState("emphasis").style=w,K.ensureState("blur").style=M,K.ensureState("select").style=D,toggleHoverEmphasis(K,N,F,H),K.incremental=l,l&&(K.states.emphasis.hoverLayer=!0),C.add(K),T.setItemGraphicEl(G,K),this._progressiveEls&&this._progressiveEls.push(K)}},t.prototype._renderOnGeo=function(n,a,o,s){var l=o.targetVisuals.inRange,u=o.targetVisuals.outOfRange,f=a.getData(),d=this._hmLayer||this._hmLayer||new HeatmapLayer$1;d.blurSize=a.get("blurSize"),d.pointSize=a.get("pointSize"),d.minOpacity=a.get("minOpacity"),d.maxOpacity=a.get("maxOpacity");var v=n.getViewRect().clone(),g=n.getRoamTransform();v.applyTransform(g);var S=Math.max(v.x,0),x=Math.max(v.y,0),_=Math.min(v.width+v.x,s.getWidth()),C=Math.min(v.height+v.y,s.getHeight()),T=_-S,w=C-x,M=[f.mapDimension("lng"),f.mapDimension("lat"),f.mapDimension("value")],D=f.mapArray(M,function(N,F,H){var Y=n.dataToPoint([N,F]);return Y[0]-=S,Y[1]-=x,Y.push(H),Y}),I=o.getExtent(),R=o.type==="visualMap.continuous"?getIsInContinuousRange(I,o.option.range):getIsInPiecewiseRange(I,o.getPieceList(),o.option.selected);d.update(D,T,w,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:u.color.getColorMapper()},R);var $=new ZRImage$1({style:{width:T,height:w,x:S,y:x,image:d.canvas},silent:!0});this.group.add($)},t.type="heatmap",t}(ChartView$1),HeatmapView$1=HeatmapView,HeatmapSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,a){return createSeriesData(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var n=CoordinateSystem.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(SeriesModel$1),HeatmapSeriesModel$1=HeatmapSeriesModel;function install$v(r){r.registerChartView(HeatmapView$1),r.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=this.group,l=n.getData(),u=this._data,f=n.coordinateSystem,d=f.getBaseAxis(),v=d.isHorizontal(),g=f.master.getRect(),S={ecSize:{width:o.getWidth(),height:o.getHeight()},seriesModel:n,coordSys:f,coordSysExtent:[[g.x,g.x+g.width],[g.y,g.y+g.height]],isHorizontal:v,valueDim:LAYOUT_ATTRS[+v],categoryDim:LAYOUT_ATTRS[1-+v]};return l.diff(u).add(function(x){if(!!l.hasValue(x)){var _=getItemModel(l,x),C=getSymbolMeta(l,x,_,S),T=createBar(l,S,C);l.setItemGraphicEl(x,T),s.add(T),updateCommon(T,S,C)}}).update(function(x,_){var C=u.getItemGraphicEl(_);if(!l.hasValue(x)){s.remove(C);return}var T=getItemModel(l,x),w=getSymbolMeta(l,x,T,S),M=getShapeStr(l,w);C&&M!==C.__pictorialShapeStr&&(s.remove(C),l.setItemGraphicEl(x,null),C=null),C?updateBar(C,S,w):C=createBar(l,S,w,!0),l.setItemGraphicEl(x,C),C.__pictorialSymbolMeta=w,s.add(C),updateCommon(C,S,w)}).remove(function(x){var _=u.getItemGraphicEl(x);_&&removeBar(u,x,_.__pictorialSymbolMeta.animationModel,_)}).execute(),this._data=l,this.group},t.prototype.remove=function(n,a){var o=this.group,s=this._data;n.get("animation")?s&&s.eachItemGraphicEl(function(l){removeBar(s,getECData(l).dataIndex,n,l)}):o.removeAll()},t.type="pictorialBar",t}(ChartView$1);function getSymbolMeta(r,t,n,a){var o=r.getItemLayout(t),s=n.get("symbolRepeat"),l=n.get("symbolClip"),u=n.get("symbolPosition")||"start",f=n.get("symbolRotate"),d=(f||0)*Math.PI/180||0,v=n.get("symbolPatternSize")||2,g=n.isAnimationEnabled(),S={dataIndex:t,layout:o,itemModel:n,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:l,symbolRepeat:s,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:d,animationModel:g?n:null,hoverScale:g&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};prepareBarLength(n,s,o,a,S),prepareSymbolSize(r,t,o,s,l,S.boundingLength,S.pxSign,v,a,S),prepareLineWidth(n,S.symbolScale,d,a,S);var x=S.symbolSize,_=normalizeSymbolOffset(n.get("symbolOffset"),x);return prepareLayoutInfo(n,x,o,s,l,_,u,S.valueLineWidth,S.boundingLength,S.repeatCutLength,a,S),S}function prepareBarLength(r,t,n,a,o){var s=a.valueDim,l=r.get("symbolBoundingData"),u=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),f=u.toGlobalCoord(u.dataToCoord(0)),d=1-+(n[s.wh]<=0),v;if(isArray$1(l)){var g=[convertToCoordOnAxis(u,l[0])-f,convertToCoordOnAxis(u,l[1])-f];g[1]<g[0]&&g.reverse(),v=g[d]}else l!=null?v=convertToCoordOnAxis(u,l)-f:t?v=a.coordSysExtent[s.index][d]-f:v=n[s.wh];o.boundingLength=v,t&&(o.repeatCutLength=n[s.wh]),o.pxSign=v>0?1:-1}function convertToCoordOnAxis(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function prepareSymbolSize(r,t,n,a,o,s,l,u,f,d){var v=f.valueDim,g=f.categoryDim,S=Math.abs(n[g.wh]),x=r.getItemVisual(t,"symbolSize"),_;isArray$1(x)?_=x.slice():x==null?_=["100%","100%"]:_=[x,x],_[g.index]=parsePercent(_[g.index],S),_[v.index]=parsePercent(_[v.index],a?S:Math.abs(s)),d.symbolSize=_;var C=d.symbolScale=[_[0]/u,_[1]/u];C[v.index]*=(f.isHorizontal?-1:1)*l}function prepareLineWidth(r,t,n,a,o){var s=r.get(BAR_BORDER_WIDTH_QUERY)||0;s&&(pathForLineWidth.attr({scaleX:t[0],scaleY:t[1],rotation:n}),pathForLineWidth.updateTransform(),s/=pathForLineWidth.getLineScale(),s*=t[a.valueDim.index]),o.valueLineWidth=s||0}function prepareLayoutInfo(r,t,n,a,o,s,l,u,f,d,v,g){var S=v.categoryDim,x=v.valueDim,_=g.pxSign,C=Math.max(t[x.index]+u,0),T=C;if(a){var w=Math.abs(f),M=retrieve(r.get("symbolMargin"),"15%")+"",D=!1;M.lastIndexOf("!")===M.length-1&&(D=!0,M=M.slice(0,M.length-1));var I=parsePercent(M,t[x.index]),R=Math.max(C+I*2,0),$=D?0:I*2,N=isNumeric(a),F=N?a:toIntTimes((w+$)/R),H=w-F*C;I=H/2/(D?F:Math.max(F-1,1)),R=C+I*2,$=D?0:I*2,!N&&a!=="fixed"&&(F=d?toIntTimes((Math.abs(d)+$)/R):0),T=F*R-$,g.repeatTimes=F,g.symbolMargin=I}var Y=_*(T/2),G=g.pathPosition=[];G[S.index]=n[S.wh]/2,G[x.index]=l==="start"?Y:l==="end"?f-Y:f/2,s&&(G[0]+=s[0],G[1]+=s[1]);var K=g.bundlePosition=[];K[S.index]=n[S.xy],K[x.index]=n[x.xy];var Z=g.barRectShape=extend({},n);Z[x.wh]=_*Math.max(Math.abs(n[x.wh]),Math.abs(G[x.index]+Y)),Z[S.wh]=n[S.wh];var J=g.clipShape={};J[S.xy]=-n[S.xy],J[S.wh]=v.ecSize[S.wh],J[x.xy]=0,J[x.wh]=n[x.wh]}function createPath(r){var t=r.symbolPatternSize,n=createSymbol$1(r.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function createOrUpdateRepeatSymbols(r,t,n,a){var o=r.__pictorialBundle,s=n.symbolSize,l=n.valueLineWidth,u=n.pathPosition,f=t.valueDim,d=n.repeatTimes||0,v=0,g=s[t.valueDim.index]+l+n.symbolMargin*2;for(eachPath(r,function(C){C.__pictorialAnimationIndex=v,C.__pictorialRepeatTimes=d,v<d?updateAttr(C,null,_(v),n,a):updateAttr(C,null,{scaleX:0,scaleY:0},n,a,function(){o.remove(C)}),v++});v<d;v++){var S=createPath(n);S.__pictorialAnimationIndex=v,S.__pictorialRepeatTimes=d,o.add(S);var x=_(v);updateAttr(S,{x:x.x,y:x.y,scaleX:0,scaleY:0},{scaleX:x.scaleX,scaleY:x.scaleY,rotation:x.rotation},n,a)}function _(C){var T=u.slice(),w=n.pxSign,M=C;return(n.symbolRepeatDirection==="start"?w>0:w<0)&&(M=d-1-C),T[f.index]=g*(M-d/2+.5)+u[f.index],{x:T[0],y:T[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function createOrUpdateSingleSymbol(r,t,n,a){var o=r.__pictorialBundle,s=r.__pictorialMainPath;s?updateAttr(s,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,a):(s=r.__pictorialMainPath=createPath(n),o.add(s),updateAttr(s,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,a))}function createOrUpdateBarRect(r,t,n){var a=extend({},t.barRectShape),o=r.__pictorialBarRect;o?updateAttr(o,null,{shape:a},t,n):(o=r.__pictorialBarRect=new Rect$3({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),o.disableMorphing=!0,r.add(o))}function createOrUpdateClip(r,t,n,a){if(n.symbolClip){var o=r.__pictorialClipPath,s=extend({},n.clipShape),l=t.valueDim,u=n.animationModel,f=n.dataIndex;if(o)updateProps$1(o,{shape:s},u,f);else{s[l.wh]=0,o=new Rect$3({shape:s}),r.__pictorialBundle.setClipPath(o),r.__pictorialClipPath=o;var d={};d[l.wh]=n.clipShape[l.wh],graphic[a?"updateProps":"initProps"](o,{shape:d},u,f)}}}function getItemModel(r,t){var n=r.getItemModel(t);return n.getAnimationDelayParams=getAnimationDelayParams,n.isAnimationEnabled=isAnimationEnabled,n}function getAnimationDelayParams(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(r,t,n,a){var o=new Group$4,s=new Group$4;return o.add(s),o.__pictorialBundle=s,s.x=n.bundlePosition[0],s.y=n.bundlePosition[1],n.symbolRepeat?createOrUpdateRepeatSymbols(o,t,n):createOrUpdateSingleSymbol(o,t,n),createOrUpdateBarRect(o,n,a),createOrUpdateClip(o,t,n,a),o.__pictorialShapeStr=getShapeStr(r,n),o.__pictorialSymbolMeta=n,o}function updateBar(r,t,n){var a=n.animationModel,o=n.dataIndex,s=r.__pictorialBundle;updateProps$1(s,{x:n.bundlePosition[0],y:n.bundlePosition[1]},a,o),n.symbolRepeat?createOrUpdateRepeatSymbols(r,t,n,!0):createOrUpdateSingleSymbol(r,t,n,!0),createOrUpdateBarRect(r,n,!0),createOrUpdateClip(r,t,n,!0)}function removeBar(r,t,n,a){var o=a.__pictorialBarRect;o&&o.removeTextContent();var s=[];eachPath(a,function(l){s.push(l)}),a.__pictorialMainPath&&s.push(a.__pictorialMainPath),a.__pictorialClipPath&&(n=null),each$f(s,function(l){removeElement(l,{scaleX:0,scaleY:0},n,t,function(){a.parent&&a.parent.remove(a)})}),r.setItemGraphicEl(t,null)}function getShapeStr(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function eachPath(r,t,n){each$f(r.__pictorialBundle.children(),function(a){a!==r.__pictorialBarRect&&t.call(n,a)})}function updateAttr(r,t,n,a,o,s){t&&r.attr(t),a.symbolClip&&!o?n&&r.attr(n):n&&graphic[o?"updateProps":"initProps"](r,n,a.animationModel,a.dataIndex,s)}function updateCommon(r,t,n){var a=n.dataIndex,o=n.itemModel,s=o.getModel("emphasis"),l=s.getModel("itemStyle").getItemStyle(),u=o.getModel(["blur","itemStyle"]).getItemStyle(),f=o.getModel(["select","itemStyle"]).getItemStyle(),d=o.getShallow("cursor"),v=s.get("focus"),g=s.get("blurScope"),S=s.get("scale");eachPath(r,function(C){if(C instanceof ZRImage$1){var T=C.style;C.useStyle(extend({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},n.style))}else C.useStyle(n.style);var w=C.ensureState("emphasis");w.style=l,S&&(w.scaleX=C.scaleX*1.1,w.scaleY=C.scaleY*1.1),C.ensureState("blur").style=u,C.ensureState("select").style=f,d&&(C.cursor=d),C.z2=n.z2});var x=t.valueDim.posDesc[+(n.boundingLength>0)],_=r.__pictorialBarRect;setLabelStyle(_,getLabelStatesModels(o),{labelFetcher:t.seriesModel,labelDataIndex:a,defaultText:getDefaultLabel(t.seriesModel.getData(),a),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:x}),toggleHoverEmphasis(r,v,g,s.get("disabled"))}function toIntTimes(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var PictorialBarView$1=PictorialBarView,PictorialBarSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return t.prototype.getInitialData=function(n){return n.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(BaseBarSeriesModel$1),PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$u(r){r.registerChartView(PictorialBarView$1),r.registerSeriesModel(PictorialBarSeriesModel$1),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return t.prototype.render=function(n,a,o){var s=n.getData(),l=this,u=this.group,f=n.getLayerSeries(),d=s.getLayout("layoutInfo"),v=d.rect,g=d.boundaryGap;u.x=0,u.y=v.y+g[0];function S(T){return T.name}var x=new DataDiffer$1(this._layersSeries||[],f,S,S),_=[];x.add(bind$1(C,this,"add")).update(bind$1(C,this,"update")).remove(bind$1(C,this,"remove")).execute();function C(T,w,M){var D=l._layers;if(T==="remove"){u.remove(D[w]);return}for(var I=[],R=[],$,N=f[w].indices,F=0;F<N.length;F++){var H=s.getItemLayout(N[F]),Y=H.x,G=H.y0,K=H.y;I.push(Y,G),R.push(Y,G+K),$=s.getItemVisual(N[F],"style")}var Z,J=s.getItemLayout(N[0]),Q=n.getModel("label"),te=Q.get("margin"),ie=n.getModel("emphasis");if(T==="add"){var ne=_[w]=new Group$4;Z=new ECPolygon({shape:{points:I,stackedOnPoints:R,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ne.add(Z),u.add(ne),n.isAnimationEnabled()&&Z.setClipPath(createGridClipShape(Z.getBoundingRect(),n,function(){Z.removeClipPath()}))}else{var ne=D[M];Z=ne.childAt(0),u.add(ne),_[w]=ne,updateProps$1(Z,{shape:{points:I,stackedOnPoints:R}},n),saveOldStyle(Z)}setLabelStyle(Z,getLabelStatesModels(n),{labelDataIndex:N[F-1],defaultText:s.getName(N[F-1]),inheritColor:$.fill},{normal:{verticalAlign:"middle"}}),Z.setTextConfig({position:null,local:!0});var de=Z.getTextContent();de&&(de.x=J.x-te,de.y=J.y0+J.y/2),Z.useStyle($),s.setItemGraphicEl(w,Z),setStatesStylesFromModel(Z,n),toggleHoverEmphasis(Z,ie.get("focus"),ie.get("blurScope"),ie.get("disabled"))}this._layersSeries=f,this._layers=_},t.type="themeRiver",t}(ChartView$1);function createGridClipShape(r,t,n){var a=new Rect$3({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps(a,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,n),a}var ThemeRiverView$1=ThemeRiverView,DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},t.prototype.fixData=function(n){var a=n.length,o={},s=groupData(n,function(S){return o.hasOwnProperty(S[0]+"")||(o[S[0]+""]=-1),S[2]}),l=[];s.buckets.each(function(S,x){l.push({name:x,dataList:S})});for(var u=l.length,f=0;f<u;++f){for(var d=l[f].name,v=0;v<l[f].dataList.length;++v){var g=l[f].dataList[v][0]+"";o[g]=f}for(var g in o)o.hasOwnProperty(g)&&o[g]!==f&&(o[g]=f,n[a]=[g,0,d],a++)}return n},t.prototype.getInitialData=function(n,a){for(var o=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],s=o.get("type"),l=filter(n.data,function(_){return _[2]!==void 0}),u=this.fixData(l||[]),f=[],d=this.nameMap=createHashMap(),v=0,g=0;g<u.length;++g)f.push(u[g][DATA_NAME_INDEX]),d.get(u[g][DATA_NAME_INDEX])||(d.set(u[g][DATA_NAME_INDEX],v),v++);var S=prepareSeriesDataSchema(u,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(s)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,x=new SeriesData$1(S,this);return x.initData(u),x},t.prototype.getLayerSeries=function(){for(var n=this.getData(),a=n.count(),o=[],s=0;s<a;++s)o[s]=s;var l=n.mapDimension("single"),u=groupData(o,function(d){return n.get("name",d)}),f=[];return u.buckets.each(function(d,v){d.sort(function(g,S){return n.get(l,g)-n.get(l,S)}),f.push({name:v,indices:d})}),f},t.prototype.getAxisTooltipData=function(n,a,o){isArray$1(n)||(n=n?[n]:[]);for(var s=this.getData(),l=this.getLayerSeries(),u=[],f=l.length,d,v=0;v<f;++v){for(var g=Number.MAX_VALUE,S=-1,x=l[v].indices.length,_=0;_<x;++_){var C=s.get(n[0],l[v].indices[_]),T=Math.abs(C-a);T<=g&&(d=C,g=T,S=l[v].indices[_])}u.push(S)}return{dataIndices:u,nestestValue:d}},t.prototype.formatTooltip=function(n,a,o){var s=this.getData(),l=s.getName(n),u=s.get(s.mapDimension("value"),n);return createTooltipMarkup("nameValue",{name:l,value:u})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(SeriesModel$1),ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(r,t){r.eachSeriesByType("themeRiver",function(n){var a=n.getData(),o=n.coordinateSystem,s={},l=o.getRect();s.rect=l;var u=n.get("boundaryGap"),f=o.getAxis();if(s.boundaryGap=u,f.orient==="horizontal"){u[0]=parsePercent(u[0],l.height),u[1]=parsePercent(u[1],l.height);var d=l.height-u[0]-u[1];doThemeRiverLayout(a,n,d)}else{u[0]=parsePercent(u[0],l.width),u[1]=parsePercent(u[1],l.width);var v=l.width-u[0]-u[1];doThemeRiverLayout(a,n,v)}a.setLayout("layoutInfo",s)})}function doThemeRiverLayout(r,t,n){if(!!r.count())for(var a=t.coordinateSystem,o=t.getLayerSeries(),s=r.mapDimension("single"),l=r.mapDimension("value"),u=map$1(o,function(T){return map$1(T.indices,function(w){var M=a.dataToPoint(r.get(s,w));return M[1]=r.get(l,w),M})}),f=computeBaseline(u),d=f.y0,v=n/f.max,g=o.length,S=o[0].indices.length,x,_=0;_<S;++_){x=d[_]*v,r.setItemLayout(o[0].indices[_],{layerIndex:0,x:u[0][_][0],y0:x,y:u[0][_][1]*v});for(var C=1;C<g;++C)x+=u[C-1][_][1]*v,r.setItemLayout(o[C].indices[_],{layerIndex:C,x:u[C][_][0],y0:x,y:u[C][_][1]*v})}}function computeBaseline(r){for(var t=r.length,n=r[0].length,a=[],o=[],s=0,l=0;l<n;++l){for(var u=0,f=0;f<t;++f)u+=r[f][l][1];u>s&&(s=u),a.push(u)}for(var d=0;d<n;++d)o[d]=(s-a[d])/2;s=0;for(var v=0;v<n;++v){var g=a[v]+o[v];g>s&&(s=g)}return{y0:o,max:s}}function install$t(r){r.registerChartView(ThemeRiverView$1),r.registerSeriesModel(ThemeRiverSeriesModel$1),r.registerLayout(themeRiverLayout),r.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(r){__extends$1(t,r);function t(n,a,o,s){var l=r.call(this)||this;l.z2=DEFAULT_SECTOR_Z,l.textConfig={inside:!0},getECData(l).seriesIndex=a.seriesIndex;var u=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:n.getModel().get(["label","silent"])});return l.setTextContent(u),l.updateData(!0,n,a,o,s),l}return t.prototype.updateData=function(n,a,o,s,l){this.node=a,a.piece=this,o=o||this._seriesModel,s=s||this._ecModel;var u=this;getECData(u).dataIndex=a.dataIndex;var f=a.getModel(),d=f.getModel("emphasis"),v=a.getLayout(),g=extend({},v);g.label=null;var S=a.getVisual("style");S.lineJoin="bevel";var x=a.getVisual("decal");x&&(S.decal=createOrUpdatePatternFromDecal(x,l));var _=getSectorCornerRadius(f.getModel("itemStyle"),g,!0);extend(g,_),each$f(SPECIAL_STATES,function(M){var D=u.ensureState(M),I=f.getModel([M,"itemStyle"]);D.style=I.getItemStyle();var R=getSectorCornerRadius(I,g);R&&(D.shape=R)}),n?(u.setShape(g),u.shape.r=v.r0,updateProps$1(u,{shape:{r:v.r}},o,a.dataIndex)):(updateProps$1(u,{shape:g},o),saveOldStyle(u)),u.useStyle(S),this._updateLabel(o);var C=f.getShallow("cursor");C&&u.attr("cursor",C),this._seriesModel=o||this._seriesModel,this._ecModel=s||this._ecModel;var T=d.get("focus"),w=T==="ancestor"?a.getAncestorsIndices():T==="descendant"?a.getDescendantIndices():T;toggleHoverEmphasis(this,w,d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(n){var a=this,o=this.node.getModel(),s=o.getModel("label"),l=this.node.getLayout(),u=l.endAngle-l.startAngle,f=(l.startAngle+l.endAngle)/2,d=Math.cos(f),v=Math.sin(f),g=this,S=g.getTextContent(),x=this.node.dataIndex,_=s.get("minAngle")/180*Math.PI,C=s.get("show")&&!(_!=null&&Math.abs(u)<_);S.ignore=!C,each$f(DISPLAY_STATES,function(w){var M=w==="normal"?o.getModel("label"):o.getModel([w,"label"]),D=w==="normal",I=D?S:S.ensureState(w),R=n.getFormattedLabel(x,w);D&&(R=R||a.node.name),I.style=createTextStyle(M,{},null,w!=="normal",!0),R&&(I.style.text=R);var $=M.get("show");$!=null&&!D&&(I.ignore=!$);var N=T(M,"position"),F=D?g:g.states[w],H=F.style.fill;F.textConfig={outsideFill:M.get("color")==="inherit"?H:null,inside:N!=="outside"};var Y,G=T(M,"distance")||0,K=T(M,"align");N==="outside"?(Y=l.r+G,K=f>Math.PI/2?"right":"left"):!K||K==="center"?(u===2*Math.PI&&l.r0===0?Y=0:Y=(l.r+l.r0)/2,K="center"):K==="left"?(Y=l.r0+G,f>Math.PI/2&&(K="right")):K==="right"&&(Y=l.r-G,f>Math.PI/2&&(K="left")),I.style.align=K,I.style.verticalAlign=T(M,"verticalAlign")||"middle",I.x=Y*d+l.cx,I.y=Y*v+l.cy;var Z=T(M,"rotate"),J=0;Z==="radial"?(J=-f,J<-Math.PI/2&&(J+=Math.PI)):Z==="tangential"?(J=Math.PI/2-f,J>Math.PI/2?J-=Math.PI:J<-Math.PI/2&&(J+=Math.PI)):isNumber(Z)&&(J=Z*Math.PI/180),I.rotation=J});function T(w,M){var D=w.get(M);return D==null?s.get(M):D}S.dirtyStyle()},t}(Sector$1),SunburstPiece$1=SunburstPiece,ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(r){r.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"sunburst",query:t},a);function a(o,s){var l=retrieveTargetInfo(t,[ROOT_TO_NODE_ACTION],o);if(l){var u=o.getViewRoot();u&&(t.direction=aboveViewRoot(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}}}),r.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(t,n,a){t=extend({},t),n.eachComponent({mainType:"series",subType:"sunburst",query:t},o);function o(s){var l=retrieveTargetInfo(t,[HIGHLIGHT_ACTION],s);l&&(t.dataIndex=l.node.dataIndex)}a.dispatchAction(extend(t,{type:"highlight"}))}),r.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(t,n,a){t=extend({},t),a.dispatchAction(extend(t,{type:"downplay"}))})}var SunburstView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o,s){var l=this;this.seriesModel=n,this.api=o,this.ecModel=a;var u=n.getData(),f=u.tree.root,d=n.getViewRoot(),v=this.group,g=n.get("renderLabelForZeroData"),S=[];d.eachNode(function(M){S.push(M)});var x=this._oldChildren||[];_(S,x),w(f,d),this._initEvents(),this._oldChildren=S;function _(M,D){if(M.length===0&&D.length===0)return;new DataDiffer$1(D,M,I,I).add(R).update(R).remove(curry$1(R,null)).execute();function I($){return $.getId()}function R($,N){var F=$==null?null:M[$],H=N==null?null:D[N];C(F,H)}}function C(M,D){if(!g&&M&&!M.getValue()&&(M=null),M!==f&&D!==f){if(D&&D.piece)M?(D.piece.updateData(!1,M,n,a,o),u.setItemGraphicEl(M.dataIndex,D.piece)):T(D);else if(M){var I=new SunburstPiece$1(M,n,a,o);v.add(I),u.setItemGraphicEl(M.dataIndex,I)}}}function T(M){!M||M.piece&&(v.remove(M.piece),M.piece=null)}function w(M,D){D.depth>0?(l.virtualPiece?l.virtualPiece.updateData(!1,M,n,a,o):(l.virtualPiece=new SunburstPiece$1(M,n,a,o),v.add(l.virtualPiece)),D.piece.off("click"),l.virtualPiece.on("click",function(I){l._rootToNode(D.parentNode)})):l.virtualPiece&&(v.remove(l.virtualPiece),l.virtualPiece=null)}},t.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(a){var o=!1,s=n.seriesModel.getViewRoot();s.eachNode(function(l){if(!o&&l.piece&&l.piece===a.target){var u=l.getModel().get("nodeClick");if(u==="rootToNode")n._rootToNode(l);else if(u==="link"){var f=l.getModel(),d=f.get("link");if(d){var v=f.get("target",!0)||"_blank";windowOpen(d,v)}}o=!0}})})},t.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},t.prototype.containPoint=function(n,a){var o=a.getData(),s=o.getItemLayout(0);if(s){var l=n[0]-s.cx,u=n[1]-s.cy,f=Math.sqrt(l*l+u*u);return f<=s.r&&f>=s.r0}},t.type="sunburst",t}(ChartView$1),SunburstView$1=SunburstView,SunburstSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n,a){var o={name:n.name,children:n.data};completeTreeValue(o);var s=this._levelModels=map$1(n.levels||[],function(f){return new Model$1(f,this,a)},this),l=Tree$1.createTree(o,this,u);function u(f){f.wrapMethod("getItemModel",function(d,v){var g=l.getNodeByDataIndex(v),S=s[g.depth];return S&&(d.parentModel=S),d})}return l.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(n){var a=r.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(n);return a.treePathInfo=wrapTreePathInfo(o,this),a},t.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var a=this.getRawData().tree.root;(!n||n!==a&&!a.contains(n))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(SeriesModel$1);function completeTreeValue(r){var t=0;each$f(r.children,function(a){completeTreeValue(a);var o=a.value;isArray$1(o)&&(o=o[0]),t+=o});var n=r.value;isArray$1(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),isArray$1(r.value)?r.value[0]=n:r.value=n}var SunburstSeriesModel$1=SunburstSeriesModel,RADIAN=Math.PI/180;function sunburstLayout(r,t,n){t.eachSeriesByType(r,function(a){var o=a.get("center"),s=a.get("radius");isArray$1(s)||(s=[0,s]),isArray$1(o)||(o=[o,o]);var l=n.getWidth(),u=n.getHeight(),f=Math.min(l,u),d=parsePercent(o[0],l),v=parsePercent(o[1],u),g=parsePercent(s[0],f/2),S=parsePercent(s[1],f/2),x=-a.get("startAngle")*RADIAN,_=a.get("minAngle")*RADIAN,C=a.getData().tree.root,T=a.getViewRoot(),w=T.depth,M=a.get("sort");M!=null&&initChildren(T,M);var D=0;each$f(T.children,function(te){!isNaN(te.getValue())&&D++});var I=T.getValue(),R=Math.PI/(I||D)*2,$=T.depth>0,N=T.height-($?-1:1),F=(S-g)/(N||1),H=a.get("clockwise"),Y=a.get("stillShowZeroSum"),G=H?1:-1,K=function(te,ie){if(!!te){var ne=ie;if(te!==C){var de=te.getValue(),ve=I===0&&Y?R:de*R;ve<_&&(ve=_),ne=ie+G*ve;var pe=te.depth-w-($?-1:1),$e=g+F*pe,Re=g+F*(pe+1),Ge=a.getLevelModel(te);if(Ge){var Qe=Ge.get("r0",!0),Le=Ge.get("r",!0),We=Ge.get("radius",!0);We!=null&&(Qe=We[0],Le=We[1]),Qe!=null&&($e=parsePercent(Qe,f/2)),Le!=null&&(Re=parsePercent(Le,f/2))}te.setLayout({angle:ve,startAngle:ie,endAngle:ne,clockwise:H,cx:d,cy:v,r0:$e,r:Re})}if(te.children&&te.children.length){var Oe=0;each$f(te.children,function(ke){Oe+=K(ke,ie+Oe)})}return ne-ie}};if($){var Z=g,J=g+F,Q=Math.PI*2;C.setLayout({angle:Q,startAngle:x,endAngle:x+Q,clockwise:H,cx:d,cy:v,r0:Z,r:J})}K(T,x)})}function initChildren(r,t){var n=r.children||[];r.children=sort(n,t),n.length&&each$f(r.children,function(a){initChildren(a,t)})}function sort(r,t){if(isFunction(t)){var n=map$1(r,function(o,s){var l=o.getValue();return{params:{depth:o.depth,height:o.height,dataIndex:o.dataIndex,getValue:function(){return l}},index:s}});return n.sort(function(o,s){return t(o.params,s.params)}),map$1(n,function(o){return r[o.index]})}else{var a=t==="asc";return r.sort(function(o,s){var l=(o.getValue()-s.getValue())*(a?1:-1);return l===0?(o.dataIndex-s.dataIndex)*(a?-1:1):l})}}function sunburstVisual(r){var t={};function n(a,o,s){for(var l=a;l&&l.depth>1;)l=l.parentNode;var u=o.getColorFromPalette(l.name||l.dataIndex+"",t);return a.depth>1&&isString(u)&&(u=lift(u,(a.depth-1)/(s-1)*.5)),u}r.eachSeriesByType("sunburst",function(a){var o=a.getData(),s=o.tree;s.eachNode(function(l){var u=l.getModel(),f=u.getModel("itemStyle").getItemStyle();f.fill||(f.fill=n(l,a,s.root.height));var d=o.ensureUniqueItemVisual(l.dataIndex,"style");extend(d,f)})})}function install$s(r){r.registerChartView(SunburstView$1),r.registerSeriesModel(SunburstSeriesModel$1),r.registerLayout(curry$1(sunburstLayout,"sunburst")),r.registerProcessor(curry$1(dataFilter$1,"sunburst")),r.registerVisual(sunburstVisual),installSunburstAction(r)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(n,a){return createSeriesData(null,this)},t.prototype.getDataParams=function(n,a,o){var s=r.prototype.getDataParams.call(this,n,a);return o&&(s.info=customInnerStore(o).info),s},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(SeriesModel$1),CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(r,t){return t=t||[0,0],map$1(["x","y"],function(n,a){var o=this.getAxis(n),s=t[a],l=r[a]/2;return o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(s-l)-o.dataToCoord(s+l))},this)}function cartesianPrepareCustom(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return r.dataToPoint(n)},size:bind$1(dataToCoordSize$3,r)}}}function dataToCoordSize$2(r,t){return t=t||[0,0],map$1([0,1],function(n){var a=t[n],o=r[n]/2,s=[],l=[];return s[n]=a-o,l[n]=a+o,s[1-n]=l[1-n]=t[1-n],Math.abs(this.dataToPoint(s)[n]-this.dataToPoint(l)[n])},this)}function geoPrepareCustom(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(n){return r.dataToPoint(n)},size:bind$1(dataToCoordSize$2,r)}}}function dataToCoordSize$1(r,t){var n=this.getAxis(),a=t instanceof Array?t[0]:t,o=(r instanceof Array?r[0]:r)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(a-o)-n.dataToCoord(a+o))}function singlePrepareCustom(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return r.dataToPoint(n)},size:bind$1(dataToCoordSize$1,r)}}}function dataToCoordSize(r,t){return t=t||[0,0],map$1(["Radius","Angle"],function(n,a){var o="get"+n+"Axis",s=this[o](),l=t[a],u=r[a]/2,f=s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(l-u)-s.dataToCoord(l+u));return n==="Angle"&&(f=f*Math.PI/180),f},this)}function polarPrepareCustom(r){var t=r.getRadiusAxis(),n=r.getAngleAxis(),a=t.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:a[1],r0:a[0]},api:{coord:function(o){var s=t.dataToRadius(o[0]),l=n.dataToAngle(o[1]),u=r.coordToPoint([s,l]);return u.push(s,l*Math.PI/180),u},size:bind$1(dataToCoordSize,r)}}}function calendarPrepareCustom(r){var t=r.getRect(),n=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(a,o){return r.dataToPoint(a,o)}}}}function isEC4CompatibleStyle(r,t,n,a){return r&&(r.legacy||r.legacy!==!1&&!n&&!a&&t!=="tspan"&&(t==="text"||hasOwn(r,"text")))}function convertFromEC4CompatibleStyle(r,t,n){var a=r,o,s,l;if(t==="text")l=a;else{l={},hasOwn(a,"text")&&(l.text=a.text),hasOwn(a,"rich")&&(l.rich=a.rich),hasOwn(a,"textFill")&&(l.fill=a.textFill),hasOwn(a,"textStroke")&&(l.stroke=a.textStroke),hasOwn(a,"fontFamily")&&(l.fontFamily=a.fontFamily),hasOwn(a,"fontSize")&&(l.fontSize=a.fontSize),hasOwn(a,"fontStyle")&&(l.fontStyle=a.fontStyle),hasOwn(a,"fontWeight")&&(l.fontWeight=a.fontWeight),s={type:"text",style:l,silent:!0},o={};var u=hasOwn(a,"textPosition");n?o.position=u?a.textPosition:"inside":u&&(o.position=a.textPosition),hasOwn(a,"textPosition")&&(o.position=a.textPosition),hasOwn(a,"textOffset")&&(o.offset=a.textOffset),hasOwn(a,"textRotation")&&(o.rotation=a.textRotation),hasOwn(a,"textDistance")&&(o.distance=a.textDistance)}return convertEC4CompatibleRichItem(l,r),each$f(l.rich,function(f){convertEC4CompatibleRichItem(f,f)}),{textConfig:o,textContent:s}}function convertEC4CompatibleRichItem(r,t){!t||(t.font=t.textFont||t.font,hasOwn(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth),hasOwn(t,"textAlign")&&(r.align=t.textAlign),hasOwn(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign),hasOwn(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight),hasOwn(t,"textWidth")&&(r.width=t.textWidth),hasOwn(t,"textHeight")&&(r.height=t.textHeight),hasOwn(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor),hasOwn(t,"textPadding")&&(r.padding=t.textPadding),hasOwn(t,"textBorderColor")&&(r.borderColor=t.textBorderColor),hasOwn(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth),hasOwn(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius),hasOwn(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor),hasOwn(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur),hasOwn(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX),hasOwn(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(r,t,n){var a=r;a.textPosition=a.textPosition||n.position||"inside",n.offset!=null&&(a.textOffset=n.offset),n.rotation!=null&&(a.textRotation=n.rotation),n.distance!=null&&(a.textDistance=n.distance);var o=a.textPosition.indexOf("inside")>=0,s=r.fill||"#000";convertToEC4RichItem(a,t);var l=a.textFill==null;return o?l&&(a.textFill=n.insideFill||"#fff",!a.textStroke&&n.insideStroke&&(a.textStroke=n.insideStroke),!a.textStroke&&(a.textStroke=s),a.textStrokeWidth==null&&(a.textStrokeWidth=2)):(l&&(a.textFill=r.fill||n.outsideFill||"#000"),!a.textStroke&&n.outsideStroke&&(a.textStroke=n.outsideStroke)),a.text=t.text,a.rich=t.rich,each$f(t.rich,function(u){convertToEC4RichItem(u,u)}),a}function convertToEC4RichItem(r,t){!t||(hasOwn(t,"fill")&&(r.textFill=t.fill),hasOwn(t,"stroke")&&(r.textStroke=t.fill),hasOwn(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth),hasOwn(t,"font")&&(r.font=t.font),hasOwn(t,"fontStyle")&&(r.fontStyle=t.fontStyle),hasOwn(t,"fontWeight")&&(r.fontWeight=t.fontWeight),hasOwn(t,"fontSize")&&(r.fontSize=t.fontSize),hasOwn(t,"fontFamily")&&(r.fontFamily=t.fontFamily),hasOwn(t,"align")&&(r.textAlign=t.align),hasOwn(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign),hasOwn(t,"lineHeight")&&(r.textLineHeight=t.lineHeight),hasOwn(t,"width")&&(r.textWidth=t.width),hasOwn(t,"height")&&(r.textHeight=t.height),hasOwn(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor),hasOwn(t,"padding")&&(r.textPadding=t.padding),hasOwn(t,"borderColor")&&(r.textBorderColor=t.borderColor),hasOwn(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth),hasOwn(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius),hasOwn(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor),hasOwn(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur),hasOwn(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX),hasOwn(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY),hasOwn(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor),hasOwn(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur),hasOwn(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX),hasOwn(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(r,t){return r[t]=1,r},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(r,t,n,a,o){var s=r+"Animation",l=getAnimationConfig(r,a,o)||{},u=transitionInnerStore(t).userDuring;return l.duration>0&&(l.during=u?bind$1(duringCall,{el:t,userDuring:u}):null,l.setToFinal=!0,l.scope=r),extend(l,n[s]),l}function applyUpdateTransition(r,t,n,a){a=a||{};var o=a.dataIndex,s=a.isInit,l=a.clearStyle,u=n.isAnimationEnabled(),f=transitionInnerStore(r),d=t.style;f.userDuring=t.during;var v={},g={};if(prepareTransformAllPropsFinal(r,t,g),prepareShapeOrExtraAllPropsFinal("shape",t,g),prepareShapeOrExtraAllPropsFinal("extra",t,g),!s&&u&&(prepareTransformTransitionFrom(r,t,v),prepareShapeOrExtraTransitionFrom("shape",r,t,v),prepareShapeOrExtraTransitionFrom("extra",r,t,v),prepareStyleTransitionFrom(r,t,d,v)),g.style=d,applyPropsDirectly(r,g,l),applyMiscProps(r,t),u)if(s){var S={};each$f(ELEMENT_ANIMATABLE_PROPS,function(_){var C=_?t[_]:t;C&&C.enterFrom&&(_&&(S[_]=S[_]||{}),extend(_?S[_]:S,C.enterFrom))});var x=getElementAnimationConfig("enter",r,t,n,o);x.duration>0&&r.animateFrom(S,x)}else applyPropsTransition(r,t,o||0,n,v);updateLeaveTo(r,t),d?r.dirty():r.markRedraw()}function updateLeaveTo(r,t){for(var n=transitionInnerStore(r).leaveToProps,a=0;a<ELEMENT_ANIMATABLE_PROPS.length;a++){var o=ELEMENT_ANIMATABLE_PROPS[a],s=o?t[o]:t;s&&s.leaveTo&&(n||(n=transitionInnerStore(r).leaveToProps={}),o&&(n[o]=n[o]||{}),extend(o?n[o]:n,s.leaveTo))}}function applyLeaveTransition(r,t,n,a){if(r){var o=r.parent,s=transitionInnerStore(r).leaveToProps;if(s){var l=getElementAnimationConfig("update",r,t,n,0);l.done=function(){o.remove(r),a&&a()},r.animateTo(s,l)}else o.remove(r),a&&a()}}function isTransitionAll(r){return r==="all"}function applyPropsDirectly(r,t,n){var a=t.style;if(!r.isGroup&&a){if(n){r.useStyle({});for(var o=r.animators,s=0;s<o.length;s++){var l=o[s];l.targetName==="style"&&l.changeTarget(r.style)}}r.setStyle(a)}t&&(t.style=null,t&&r.attr(t),t.style=a)}function applyPropsTransition(r,t,n,a,o){if(o){var s=getElementAnimationConfig("update",r,t,a,n);s.duration>0&&r.animateFrom(o,s)}}function applyMiscProps(r,t){hasOwn(t,"silent")&&(r.silent=t.silent),hasOwn(t,"ignore")&&(r.ignore=t.ignore),r instanceof Displayable$1&&hasOwn(t,"invisible")&&(r.invisible=t.invisible),r instanceof Path$1&&hasOwn(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(r,t){return tmpDuringScope.el[r]=t,this},getTransform:function(r){return tmpDuringScope.el[r]},setShape:function(r,t){var n=tmpDuringScope.el,a=n.shape||(n.shape={});return a[r]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(r){var t=tmpDuringScope.el.shape;if(t)return t[r]},setStyle:function(r,t){var n=tmpDuringScope.el,a=n.style;return a&&(a[r]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(r){var t=tmpDuringScope.el.style;if(t)return t[r]},setExtra:function(r,t){var n=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return n[r]=t,this},getExtra:function(r){var t=tmpDuringScope.el.extra;if(t)return t[r]}};function duringCall(){var r=this,t=r.el;if(!!t){var n=transitionInnerStore(t).userDuring,a=r.userDuring;if(n!==a){r.el=r.userDuring=null;return}tmpDuringScope.el=t,a(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(r,t,n,a){var o=n[r];if(!!o){var s=t[r],l;if(s){var u=n.transition,f=o.transition;if(f)if(!l&&(l=a[r]={}),isTransitionAll(f))extend(l,s);else for(var d=normalizeToArray(f),v=0;v<d.length;v++){var g=d[v],S=s[g];l[g]=S}else if(isTransitionAll(u)||indexOf(u,r)>=0){!l&&(l=a[r]={});for(var x=keys(s),v=0;v<x.length;v++){var g=x[v],S=s[g];isNonStyleTransitionEnabled(o[g],S)&&(l[g]=S)}}}}}function prepareShapeOrExtraAllPropsFinal(r,t,n){var a=t[r];if(!!a)for(var o=n[r]={},s=keys(a),l=0;l<s.length;l++){var u=s[l];o[u]=cloneValue(a[u])}}function prepareTransformTransitionFrom(r,t,n){for(var a=t.transition,o=isTransitionAll(a)?TRANSFORMABLE_PROPS:normalizeToArray(a||[]),s=0;s<o.length;s++){var l=o[s];if(!(l==="style"||l==="shape"||l==="extra")){var u=r[l];n[l]=u}}}function prepareTransformAllPropsFinal(r,t,n){for(var a=0;a<LEGACY_TRANSFORM_PROPS.length;a++){var o=LEGACY_TRANSFORM_PROPS[a],s=LEGACY_TRANSFORM_PROPS_MAP[o],l=t[o];l&&(n[s[0]]=l[0],n[s[1]]=l[1])}for(var a=0;a<TRANSFORMABLE_PROPS.length;a++){var u=TRANSFORMABLE_PROPS[a];t[u]!=null&&(n[u]=t[u])}}function prepareStyleTransitionFrom(r,t,n,a){if(!!n){var o=r.style,s;if(o){var l=n.transition,u=t.transition;if(l&&!isTransitionAll(l)){var f=normalizeToArray(l);!s&&(s=a.style={});for(var d=0;d<f.length;d++){var v=f[d],g=o[v];s[v]=g}}else if(r.getAnimationStyleProps&&(isTransitionAll(u)||isTransitionAll(l)||indexOf(u,"style")>=0)){var S=r.getAnimationStyleProps(),x=S?S.style:null;if(x){!s&&(s=a.style={});for(var _=keys(n),d=0;d<_.length;d++){var v=_[d];if(x[v]){var g=o[v];s[v]=g}}}}}}}function isNonStyleTransitionEnabled(r,t){return isArrayLike(r)?r!==t:r!=null&&isFinite(r)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(r){r.stopAnimation("keyframe"),r.attr(getStateToRestore(r))}function applyKeyframeAnimation(r,t,n){if(!(!n.isAnimationEnabled()||!t)){if(isArray$1(t)){each$f(t,function(u){applyKeyframeAnimation(r,u,n)});return}var a=t.keyframes,o=t.duration;if(n&&o==null){var s=getAnimationConfig("enter",n,0);o=s&&s.duration}if(!(!a||!o)){var l=getStateToRestore(r);each$f(ELEMENT_ANIMATABLE_PROPS,function(u){if(!(u&&!r[u])){var f;a.sort(function(d,v){return d.percent-v.percent}),each$f(a,function(d){var v=r.animators,g=u?d[u]:d;if(!!g){var S=keys(g);if(u||(S=filter(S,function(C){return indexOf(KEYFRAME_EXCLUDE_KEYS,C)<0})),!!S.length){f||(f=r.animate(u,t.loop,!0),f.scope="keyframe");for(var x=0;x<v.length;x++)v[x]!==f&&v[x].targetName===f.targetName&&v[x].stopTracks(S);u&&(l[u]=l[u]||{});var _=u?l[u]:l;each$f(S,function(C){_[C]=((u?r[u]:r)||{})[C]}),f.whenWithKeys(o*d.percent,g,S,d.easing)}}}),f&&f.delay(t.delay||0).duration(o).start(t.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,singleAxis:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(r){return r instanceof Path$1}function isDisplayable(r){return r instanceof Displayable$1}function copyElement(r,t){t.copyTransform(r),isDisplayable(t)&&isDisplayable(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,isPath(t)&&isPath(r)&&t.setShape(r.shape))}var CustomChartView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o,s){this._progressiveEls=null;var l=this._data,u=n.getData(),f=this.group,d=makeRenderItem(n,u,a,o);l||f.removeAll(),u.diff(l).add(function(g){createOrUpdateItem(o,null,g,d(g,s),n,f,u)}).remove(function(g){var S=l.getItemGraphicEl(g);applyLeaveTransition(S,customInnerStore(S).option,n)}).update(function(g,S){var x=l.getItemGraphicEl(S);createOrUpdateItem(o,x,g,d(g,s),n,f,u)}).execute();var v=n.get("clip",!0)?createClipPath(n.coordinateSystem,!1,n):null;v?f.setClipPath(v):f.removeClipPath(),this._data=u},t.prototype.incrementalPrepareRender=function(n,a,o){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(n,a,o,s,l){var u=a.getData(),f=makeRenderItem(a,u,o,s),d=this._progressiveEls=[];function v(x){x.isGroup||(x.incremental=!0,x.ensureState("emphasis").hoverLayer=!0)}for(var g=n.start;g<n.end;g++){var S=createOrUpdateItem(null,null,g,f(g,l),a,this.group,u);S&&(S.traverse(v),d.push(S))}},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype.filterForExposedEvent=function(n,a,o,s){var l=a.element;if(l==null||o.name===l)return!0;for(;(o=o.__hostTarget||o.parent)&&o!==this.group;)if(o.name===l)return!0;return!1},t.type="custom",t}(ChartView$1),CustomChartView$1=CustomChartView;function createEl$1(r){var t=r.type,n;if(t==="path"){var a=r.shape,o=a.width!=null&&a.height!=null?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,s=getPathData(a);n=makePath(s,null,o,a.layout||"center"),customInnerStore(n).customPathData=s}else if(t==="image")n=new ZRImage$1({}),customInnerStore(n).customImagePath=r.style.image;else if(t==="text")n=new ZRText$1({});else if(t==="group")n=new Group$4;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var l=getShapeClass(t);if(!l){var u="";throwError(u)}n=new l}return customInnerStore(n).customGraphicType=t,n.name=r.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function updateElNormal(r,t,n,a,o,s,l){stopPreviousKeyframeAnimationAndRestore(t);var u=o&&o.normal.cfg;u&&t.setTextConfig(u),a&&a.transition==null&&(a.transition=DEFAULT_TRANSITION);var f=a&&a.style;if(f){if(t.type==="text"){var d=f;hasOwn(d,"textFill")&&(d.fill=d.textFill),hasOwn(d,"textStroke")&&(d.stroke=d.textStroke)}var v=void 0,g=isPath(t)?f.decal:null;r&&g&&(g.dirty=!0,v=createOrUpdatePatternFromDecal(g,r)),f.__decalPattern=v}if(isDisplayable(t)&&f){var v=f.__decalPattern;v&&(f.decal=v)}applyUpdateTransition(t,a,s,{dataIndex:n,isInit:l,clearStyle:!0}),applyKeyframeAnimation(t,a.keyframeAnimation,s)}function updateElOnState(r,t,n,a,o){var s=t.isGroup?null:t,l=o&&o[r].cfg;if(s){var u=s.ensureState(r);if(a===!1){var f=s.getState(r);f&&(f.style=null)}else u.style=a||null;l&&(u.textConfig=l),setDefaultStateProxy(s)}}function updateZ(r,t,n){if(!r.isGroup){var a=r,o=n.currentZ,s=n.currentZLevel;a.z=o,a.zlevel=s;var l=t.z2;l!=null&&(a.z2=l||0);for(var u=0;u<STATES.length;u++)updateZForEachState(a,t,STATES[u])}}function updateZForEachState(r,t,n){var a=n===NORMAL,o=a?t:retrieveStateOption(t,n),s=o?o.z2:null,l;s!=null&&(l=a?r:r.ensureState(n),l.z2=s||0)}function makeRenderItem(r,t,n,a){var o=r.get("renderItem"),s=r.coordinateSystem,l={};s&&(l=s.prepareCustoms?s.prepareCustoms(s):prepareCustoms[s.type](s));for(var u=defaults({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:I,style:$,ordinalRawValue:R,styleEmphasis:N,visual:Y,barLayout:G,currentSeriesIndices:K,font:Z},l.api||{}),f={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:l.coordSys,dataInsideLength:t.count(),encode:wrapEncodeDef(r.getData())},d,v,g={},S={},x={},_={},C=0;C<STATES.length;C++){var T=STATES[C];x[T]=r.getModel(PATH_ITEM_STYLE[T]),_[T]=r.getModel(PATH_LABEL[T])}function w(J){return J===d?v||(v=t.getItemModel(J)):t.getItemModel(J)}function M(J,Q){return t.hasItemOption?J===d?g[Q]||(g[Q]=w(J).getModel(PATH_ITEM_STYLE[Q])):w(J).getModel(PATH_ITEM_STYLE[Q]):x[Q]}function D(J,Q){return t.hasItemOption?J===d?S[Q]||(S[Q]=w(J).getModel(PATH_LABEL[Q])):w(J).getModel(PATH_LABEL[Q]):_[Q]}return function(J,Q){return d=J,v=null,g={},S={},o&&o(defaults({dataIndexInside:J,dataIndex:t.getRawIndex(J),actionType:Q?Q.type:null},f),u)};function I(J,Q){return Q==null&&(Q=d),t.getStore().get(t.getDimensionIndex(J||0),Q)}function R(J,Q){Q==null&&(Q=d),J=J||0;var te=t.getDimensionInfo(J);if(!te){var ie=t.getDimensionIndex(J);return ie>=0?t.getStore().get(ie,Q):void 0}var ne=t.get(te.name,Q),de=te&&te.ordinalMeta;return de?de.categories[ne]:ne}function $(J,Q){Q==null&&(Q=d);var te=t.getItemVisual(Q,"style"),ie=te&&te.fill,ne=te&&te.opacity,de=M(Q,NORMAL).getItemStyle();ie!=null&&(de.fill=ie),ne!=null&&(de.opacity=ne);var ve={inheritColor:isString(ie)?ie:"#000"},pe=D(Q,NORMAL),$e=createTextStyle(pe,null,ve,!1,!0);$e.text=pe.getShallow("show")?retrieve2(r.getFormattedLabel(Q,NORMAL),getDefaultLabel(t,Q)):null;var Re=createTextConfig(pe,ve,!1);return H(J,de),de=convertToEC4StyleForCustomSerise(de,$e,Re),J&&F(de,J),de.legacy=!0,de}function N(J,Q){Q==null&&(Q=d);var te=M(Q,EMPHASIS).getItemStyle(),ie=D(Q,EMPHASIS),ne=createTextStyle(ie,null,null,!0,!0);ne.text=ie.getShallow("show")?retrieve3(r.getFormattedLabel(Q,EMPHASIS),r.getFormattedLabel(Q,NORMAL),getDefaultLabel(t,Q)):null;var de=createTextConfig(ie,null,!0);return H(J,te),te=convertToEC4StyleForCustomSerise(te,ne,de),J&&F(te,J),te.legacy=!0,te}function F(J,Q){for(var te in Q)hasOwn(Q,te)&&(J[te]=Q[te])}function H(J,Q){J&&(J.textFill&&(Q.textFill=J.textFill),J.textPosition&&(Q.textPosition=J.textPosition))}function Y(J,Q){if(Q==null&&(Q=d),hasOwn(STYLE_VISUAL_TYPE,J)){var te=t.getItemVisual(Q,"style");return te?te[STYLE_VISUAL_TYPE[J]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,J))return t.getItemVisual(Q,J)}function G(J){if(s.type==="cartesian2d"){var Q=s.getBaseAxis();return getLayoutOnAxis(defaults({axis:Q},J))}}function K(){return n.getCurrentSeriesIndices()}function Z(J){return getFont(J,n)}}function wrapEncodeDef(r){var t={};return each$f(r.dimensions,function(n){var a=r.getDimensionInfo(n);if(!a.isExtraCoord){var o=a.coordDim,s=t[o]=t[o]||[];s[a.coordDimIndex]=r.getDimensionIndex(n)}}),t}function createOrUpdateItem(r,t,n,a,o,s,l){if(!a){s.remove(t);return}var u=doCreateOrUpdateEl(r,t,n,a,o,s);return u&&l.setItemGraphicEl(n,u),u&&toggleHoverEmphasis(u,a.focus,a.blurScope,a.emphasisDisabled),u}function doCreateOrUpdateEl(r,t,n,a,o,s){var l=-1,u=t;t&&doesElNeedRecreate(t,a,o)&&(l=indexOf(s.childrenRef(),t),t=null);var f=!t,d=t;d?d.clearStates():(d=createEl$1(a),u&&copyElement(u,d)),a.morph===!1?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(d,n,a,o,f,attachedTxInfoTmp),doCreateOrUpdateClipPath(d,n,a,o,f),updateElNormal(r,d,n,a,attachedTxInfoTmp,o,f),hasOwn(a,"info")&&(customInnerStore(d).info=a.info);for(var v=0;v<STATES.length;v++){var g=STATES[v];if(g!==NORMAL){var S=retrieveStateOption(a,g),x=retrieveStyleOptionOnState(a,S,g);updateElOnState(g,d,S,x,attachedTxInfoTmp)}}return updateZ(d,a,o),a.type==="group"&&mergeChildren(r,d,n,a,o),l>=0?s.replaceAt(d,l):s.add(d),d}function doesElNeedRecreate(r,t,n){var a=customInnerStore(r),o=t.type,s=t.shape,l=t.style;return n.isUniversalTransitionEnabled()||o!=null&&o!==a.customGraphicType||o==="path"&&hasOwnPathData(s)&&getPathData(s)!==a.customPathData||o==="image"&&hasOwn(l,"image")&&l.image!==a.customImagePath}function doCreateOrUpdateClipPath(r,t,n,a,o){var s=n.clipPath;if(s===!1)r&&r.getClipPath()&&r.removeClipPath();else if(s){var l=r.getClipPath();l&&doesElNeedRecreate(l,s,a)&&(l=null),l||(l=createEl$1(s),r.setClipPath(l)),updateElNormal(null,l,t,s,null,a,o)}}function doCreateOrUpdateAttachedTx(r,t,n,a,o,s){if(!r.isGroup){processTxInfo(n,null,s),processTxInfo(n,EMPHASIS,s);var l=s.normal.conOpt,u=s.emphasis.conOpt,f=s.blur.conOpt,d=s.select.conOpt;if(l!=null||u!=null||d!=null||f!=null){var v=r.getTextContent();if(l===!1)v&&r.removeTextContent();else{l=s.normal.conOpt=l||{type:"text"},v?v.clearStates():(v=createEl$1(l),r.setTextContent(v)),updateElNormal(null,v,t,l,null,a,o);for(var g=l&&l.style,S=0;S<STATES.length;S++){var x=STATES[S];if(x!==NORMAL){var _=s[x].conOpt;updateElOnState(x,v,_,retrieveStyleOptionOnState(l,_,x),null)}}g?v.dirty():v.markRedraw()}}}}function processTxInfo(r,t,n){var a=t?retrieveStateOption(r,t):r,o=t?retrieveStyleOptionOnState(r,a,EMPHASIS):r.style,s=r.type,l=a?a.textConfig:null,u=r.textContent,f=u?t?retrieveStateOption(u,t):u:null;if(o&&(n.isLegacy||isEC4CompatibleStyle(o,s,!!l,!!f))){n.isLegacy=!0;var d=convertFromEC4CompatibleStyle(o,s,!t);!l&&d.textConfig&&(l=d.textConfig),!f&&d.textContent&&(f=d.textContent)}if(!t&&f){var v=f;!v.type&&(v.type="text")}var g=t?n[t]:n.normal;g.cfg=l,g.conOpt=f}function retrieveStateOption(r,t){return t?r?r[t]:null:r}function retrieveStyleOptionOnState(r,t,n){var a=t&&t.style;return a==null&&n===EMPHASIS&&r&&(a=r.styleEmphasis),a}function mergeChildren(r,t,n,a,o){var s=a.children,l=s?s.length:0,u=a.$mergeChildren,f=u==="byName"||a.diffChildrenByName,d=u===!1;if(!(!l&&!f&&!d)){if(f){diffGroupChildren({api:r,oldChildren:t.children()||[],newChildren:s||[],dataIndex:n,seriesModel:o,group:t});return}d&&t.removeAll();for(var v=0;v<l;v++)s[v]&&doCreateOrUpdateEl(r,t.childAt(v),n,s[v],o,t);for(var g=t.childCount()-1;g>=v;g--){var S=t.childAt(g);applyLeaveTransition(S,customInnerStore(t).option,o)}}}function diffGroupChildren(r){new DataDiffer$1(r.oldChildren,r.newChildren,getKey,getKey,r).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(r,t){var n=r&&r.name;return n!=null?n:GROUP_DIFF_PREFIX+t}function processAddUpdate(r,t){var n=this.context,a=r!=null?n.newChildren[r]:null,o=t!=null?n.oldChildren[t]:null;doCreateOrUpdateEl(n.api,o,n.dataIndex,a,n.seriesModel,n.group)}function processRemove(r){var t=this.context,n=t.oldChildren[r];applyLeaveTransition(n,customInnerStore(n).option,t.seriesModel)}function getPathData(r){return r&&(r.pathData||r.d)}function hasOwnPathData(r){return r&&(hasOwn(r,"pathData")||hasOwn(r,"d"))}function install$r(r){r.registerChartView(CustomChartView$1),r.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,n,a,o){var s=n.get("value"),l=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=a,!(!o&&this._lastValue===s&&this._lastStatus===l)){this._lastValue=s,this._lastStatus=l;var u=this._group,f=this._handle;if(!l||l==="hide"){u&&u.hide(),f&&f.hide();return}u&&u.show(),f&&f.show();var d={};this.makeElOption(d,s,t,n,a);var v=d.graphicKey;v!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=v;var g=this._moveAnimation=this.determineAnimation(t,n);if(!u)u=this._group=new Group$4,this.createPointerEl(u,d,t,n),this.createLabelEl(u,d,t,n),a.getZr().add(u);else{var S=curry$1(updateProps,n,g);this.updatePointerEl(u,d,S),this.updateLabelEl(u,d,S,n)}updateMandatoryProps(u,n,!0),this._renderHandle(s)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,n){var a=n.get("animation"),o=t.axis,s=o.type==="category",l=n.get("snap");if(!l&&!s)return!1;if(a==="auto"||a==null){var u=this.animationThreshold;if(s&&o.getBandWidth()>u)return!0;if(l){var f=getAxisInfo$1(t).seriesDataCount,d=o.getExtent();return Math.abs(d[0]-d[1])/f>u}return!1}return a===!0},r.prototype.makeElOption=function(t,n,a,o,s){},r.prototype.createPointerEl=function(t,n,a,o){var s=n.pointer;if(s){var l=inner$b(t).pointerEl=new graphic[s.type](clone$1(n.pointer));t.add(l)}},r.prototype.createLabelEl=function(t,n,a,o){if(n.label){var s=inner$b(t).labelEl=new ZRText$1(clone$1(n.label));t.add(s),updateLabelShowHide(s,o)}},r.prototype.updatePointerEl=function(t,n,a){var o=inner$b(t).pointerEl;o&&n.pointer&&(o.setStyle(n.pointer.style),a(o,{shape:n.pointer.shape}))},r.prototype.updateLabelEl=function(t,n,a,o){var s=inner$b(t).labelEl;s&&(s.setStyle(n.label.style),a(s,{x:n.label.x,y:n.label.y}),updateLabelShowHide(s,o))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,a=this._api.getZr(),o=this._handle,s=n.getModel("handle"),l=n.get("status");if(!s.get("show")||!l||l==="hide"){o&&a.remove(o),this._handle=null;return}var u;this._handle||(u=!0,o=this._handle=createIcon(s.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(d){stop(d.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),a.add(o)),updateMandatoryProps(o,n,!1),o.setStyle(s.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var f=s.get("size");isArray$1(f)||(f=[f,f]),o.scaleX=f[0]/2,o.scaleY=f[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",s.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,u)}},r.prototype._moveHandleToValue=function(t,n){updateProps(this._axisPointerModel,!n&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,n){var a=this._handle;if(!!a){this._dragging=!0;var o=this.updateHandleTransform(getHandleTransProps(a),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=o,a.stopAnimation(),a.attr(getHandleTransProps(o)),inner$b(a).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(!!t){var n=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(!!t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),a=this._group,o=this._handle;n&&a&&(this._lastGraphicKey=null,a&&n.remove(a),o&&n.remove(o),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,n,a){return a=a||0,{x:t[a],y:t[1-a],width:n[a],height:n[1-a]}},r}();function updateProps(r,t,n,a){propsEqual(inner$b(n).lastProp,a)||(inner$b(n).lastProp=a,t?updateProps$1(n,a,r):(n.stopAnimation(),n.attr(a)))}function propsEqual(r,t){if(isObject$4(r)&&isObject$4(t)){var n=!0;return each$f(t,function(a,o){n=n&&propsEqual(r[o],a)}),!!n}else return r===t}function updateLabelShowHide(r,t){r[t.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,t,n){var a=t.get("z"),o=t.get("zlevel");r&&r.traverse(function(s){s.type!=="group"&&(a!=null&&(s.z=a),o!=null&&(s.zlevel=o),s.silent=n)})}var BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(r){var t=r.get("type"),n=r.getModel(t+"Style"),a;return t==="line"?(a=n.getLineStyle(),a.fill=null):t==="shadow"&&(a=n.getAreaStyle(),a.stroke=null),a}function buildLabelElOption(r,t,n,a,o){var s=n.get("value"),l=getValueLabel(s,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),u=n.getModel("label"),f=normalizeCssArray(u.get("padding")||0),d=u.getFont(),v=getBoundingRect(l,d),g=o.position,S=v.width+f[1]+f[3],x=v.height+f[0]+f[2],_=o.align;_==="right"&&(g[0]-=S),_==="center"&&(g[0]-=S/2);var C=o.verticalAlign;C==="bottom"&&(g[1]-=x),C==="middle"&&(g[1]-=x/2),confineInContainer(g,S,x,a);var T=u.get("backgroundColor");(!T||T==="auto")&&(T=t.get(["axisLine","lineStyle","color"])),r.label={x:g[0],y:g[1],style:createTextStyle(u,{text:l,font:d,fill:u.getTextColor(),padding:f,backgroundColor:T}),z2:10}}function confineInContainer(r,t,n,a){var o=a.getWidth(),s=a.getHeight();r[0]=Math.min(r[0]+t,o)-t,r[1]=Math.min(r[1]+n,s)-n,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,t,n,a,o){r=t.scale.parse(r);var s=t.scale.getLabel({value:r},{precision:o.precision}),l=o.formatter;if(l){var u={value:getAxisRawValue(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};each$f(a,function(f){var d=n.getSeriesByIndex(f.seriesIndex),v=f.dataIndexInside,g=d&&d.getDataParams(v);g&&u.seriesData.push(g)}),isString(l)?s=l.replace("{value}",s):isFunction(l)&&(s=l(u))}return s}function getTransformedPosition(r,t,n){var a=create$1();return rotate(a,a,n.rotation),translate(a,a,n.position),applyTransform([r.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],a)}function buildCartesianSingleLabelElOption(r,t,n,a,o,s){var l=AxisBuilder$1.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),buildLabelElOption(t,a,o,s,{position:getTransformedPosition(a.axis,r,n),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function makeLineShape(r,t,n){return n=n||0,{x1:r[n],y1:r[1-n],x2:t[n],y2:t[1-n]}}function makeRectShape(r,t,n){return n=n||0,{x:r[n],y:r[1-n],width:t[n],height:t[1-n]}}function makeSectorShape(r,t,n,a,o,s){return{cx:r,cy:t,r0:n,r:a,startAngle:o,endAngle:s,clockwise:!0}}var CartesianAxisPointer=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,a,o,s,l){var u=o.axis,f=u.grid,d=s.get("type"),v=getCartesian(f,u).getOtherAxis(u).getGlobalExtent(),g=u.toGlobalCoord(u.dataToCoord(a,!0));if(d&&d!=="none"){var S=buildElStyle(s),x=pointerShapeBuilder$2[d](u,g,v);x.style=S,n.graphicKey=x.type,n.pointer=x}var _=layout$2(f.model,o);buildCartesianSingleLabelElOption(a,n,_,o,s,l)},t.prototype.getHandleTransform=function(n,a,o){var s=layout$2(a.axis.grid.model,a,{labelInside:!1});s.labelMargin=o.get(["handle","margin"]);var l=getTransformedPosition(a.axis,n,s);return{x:l[0],y:l[1],rotation:s.rotation+(s.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,a,o,s){var l=o.axis,u=l.grid,f=l.getGlobalExtent(!0),d=getCartesian(u,l).getOtherAxis(l).getGlobalExtent(),v=l.dim==="x"?0:1,g=[n.x,n.y];g[v]+=a[v],g[v]=Math.min(f[1],g[v]),g[v]=Math.max(f[0],g[v]);var S=(d[1]+d[0])/2,x=[S,S];x[v]=g[v];var _=[{verticalAlign:"middle"},{align:"center"}];return{x:g[0],y:g[1],rotation:n.rotation,cursorPoint:x,tooltipOption:_[v]}},t}(BaseAxisPointer$1);function getCartesian(r,t){var n={};return n[t.dim+"AxisIndex"]=t.index,r.getCartesian(n)}var pointerShapeBuilder$2={line:function(r,t,n){var a=makeLineShape([t,n[0]],[t,n[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:a}},shadow:function(r,t,n){var a=Math.max(1,r.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:makeRectShape([t-a/2,n[0]],[a,o],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}var CartesianAxisPointer$1=CartesianAxisPointer,AxisPointerModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(ComponentModel$1),AxisPointerModel$1=AxisPointerModel,inner$a=makeInner(),each$8=each$f;function register(r,t,n){if(!env$1.node){var a=t.getZr();inner$a(a).records||(inner$a(a).records={}),initGlobalListeners(a,t);var o=inner$a(a).records[r]||(inner$a(a).records[r]={});o.handler=n}}function initGlobalListeners(r,t){if(inner$a(r).initialized)return;inner$a(r).initialized=!0,n("click",curry$1(doEnter,"click")),n("mousemove",curry$1(doEnter,"mousemove")),n("globalout",onLeave);function n(a,o){r.on(a,function(s){var l=makeDispatchAction$1(t);each$8(inner$a(r).records,function(u){u&&o(u,s,l.dispatchAction)}),dispatchTooltipFinally(l.pendings,t)})}}function dispatchTooltipFinally(r,t){var n=r.showTip.length,a=r.hideTip.length,o;n?o=r.showTip[n-1]:a&&(o=r.hideTip[a-1]),o&&(o.dispatchAction=null,t.dispatchAction(o))}function onLeave(r,t,n){r.handler("leave",null,n)}function doEnter(r,t,n,a){t.handler(r,n,a)}function makeDispatchAction$1(r){var t={showTip:[],hideTip:[]},n=function(a){var o=t[a.type];o?o.push(a):(a.dispatchAction=n,r.dispatchAction(a))};return{dispatchAction:n,pendings:t}}function unregister(r,t){if(!env$1.node){var n=t.getZr(),a=(inner$a(n).records||{})[r];a&&(inner$a(n).records[r]=null)}}var AxisPointerView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=a.getComponent("tooltip"),l=n.get("triggerOn")||s&&s.get("triggerOn")||"mousemove|click";register("axisPointer",o,function(u,f,d){l!=="none"&&(u==="leave"||l.indexOf(u)>=0)&&d({type:"updateAxisPointer",currTrigger:u,x:f&&f.offsetX,y:f&&f.offsetY})})},t.prototype.remove=function(n,a){unregister("axisPointer",a)},t.prototype.dispose=function(n,a){unregister("axisPointer",a)},t.type="axisPointer",t}(ComponentView$1),AxisPointerView$1=AxisPointerView;function findPointFromSeries(r,t){var n=[],a=r.seriesIndex,o;if(a==null||!(o=t.getSeriesByIndex(a)))return{point:[]};var s=o.getData(),l=queryDataIndex(s,r);if(l==null||l<0||isArray$1(l))return{point:[]};var u=s.getItemGraphicEl(l),f=o.coordinateSystem;if(o.getTooltipPosition)n=o.getTooltipPosition(l)||[];else if(f&&f.dataToPoint)if(r.isStacked){var d=f.getBaseAxis(),v=f.getOtherAxis(d),g=v.dim,S=d.dim,x=g==="x"||g==="radius"?1:0,_=s.mapDimension(S),C=[];C[x]=s.get(_,l),C[1-x]=s.get(s.getCalculationInfo("stackResultDimension"),l),n=f.dataToPoint(C)||[]}else n=f.dataToPoint(s.getValues(map$1(f.dimensions,function(w){return s.mapDimension(w)}),l))||[];else if(u){var T=u.getBoundingRect().clone();T.applyTransform(u.transform),n=[T.x+T.width/2,T.y+T.height/2]}return{point:n,el:u}}var inner$9=makeInner();function axisTrigger(r,t,n){var a=r.currTrigger,o=[r.x,r.y],s=r,l=r.dispatchAction||bind$1(n.dispatchAction,n),u=t.getComponent("axisPointer").coordSysAxesInfo;if(!!u){illegalPoint(o)&&(o=findPointFromSeries({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},t).point);var f=illegalPoint(o),d=s.axesInfo,v=u.axesInfo,g=a==="leave"||illegalPoint(o),S={},x={},_={list:[],map:{}},C={showPointer:curry$1(showPointer,x),showTooltip:curry$1(showTooltip,_)};each$f(u.coordSysMap,function(w,M){var D=f||w.containPoint(o);each$f(u.coordSysAxesInfo[M],function(I,R){var $=I.axis,N=findInputAxisInfo(d,I);if(!g&&D&&(!d||N)){var F=N&&N.value;F==null&&!f&&(F=$.pointToData(o)),F!=null&&processOnAxis(I,F,C,!1,S)}})});var T={};return each$f(v,function(w,M){var D=w.linkGroup;D&&!x[M]&&each$f(D.axesInfo,function(I,R){var $=x[R];if(I!==w&&$){var N=$.value;D.mapper&&(N=w.axis.scale.parse(D.mapper(N,makeMapperParam(I),makeMapperParam(w)))),T[w.key]=N}})}),each$f(T,function(w,M){processOnAxis(v[M],w,C,!0,S)}),updateModelActually(x,v,S),dispatchTooltipActually(_,o,r,l),dispatchHighDownActually(v,l,n),S}}function processOnAxis(r,t,n,a,o){var s=r.axis;if(!(s.scale.isBlank()||!s.containData(t))){if(!r.involveSeries){n.showPointer(r,t);return}var l=buildPayloadsBySeries(t,r),u=l.payloadBatch,f=l.snapToValue;u[0]&&o.seriesIndex==null&&extend(o,u[0]),!a&&r.snap&&s.containData(f)&&f!=null&&(t=f),n.showPointer(r,t,u),n.showTooltip(r,l,f)}}function buildPayloadsBySeries(r,t){var n=t.axis,a=n.dim,o=r,s=[],l=Number.MAX_VALUE,u=-1;return each$f(t.seriesModels,function(f,d){var v=f.getData().mapDimensionsAll(a),g,S;if(f.getAxisTooltipData){var x=f.getAxisTooltipData(v,r,n);S=x.dataIndices,g=x.nestestValue}else{if(S=f.getData().indicesOfNearest(v[0],r,n.type==="category"?.5:null),!S.length)return;g=f.getData().get(v[0],S[0])}if(!(g==null||!isFinite(g))){var _=r-g,C=Math.abs(_);C<=l&&((C<l||_>=0&&u<0)&&(l=C,u=_,o=g,s.length=0),each$f(S,function(T){s.push({seriesIndex:f.seriesIndex,dataIndexInside:T,dataIndex:f.getData().getRawIndex(T)})}))}}),{payloadBatch:s,snapToValue:o}}function showPointer(r,t,n,a){r[t.key]={value:n,payloadBatch:a}}function showTooltip(r,t,n,a){var o=n.payloadBatch,s=t.axis,l=s.model,u=t.axisPointerModel;if(!(!t.triggerTooltip||!o.length)){var f=t.coordSys.model,d=makeKey(f),v=r.map[d];v||(v=r.map[d]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},r.list.push(v)),v.dataByAxis.push({axisDim:s.dim,axisIndex:l.componentIndex,axisType:l.type,axisId:l.id,value:a,valueLabelOpt:{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function updateModelActually(r,t,n){var a=n.axesInfo=[];each$f(t,function(o,s){var l=o.axisPointerModel.option,u=r[s];u?(!o.useHandle&&(l.status="show"),l.value=u.value,l.seriesDataIndices=(u.payloadBatch||[]).slice()):!o.useHandle&&(l.status="hide"),l.status==="show"&&a.push({axisDim:o.axis.dim,axisIndex:o.axis.model.componentIndex,value:l.value})})}function dispatchTooltipActually(r,t,n,a){if(illegalPoint(t)||!r.list.length){a({type:"hideTip"});return}var o=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,t,n){var a=n.getZr(),o="axisPointerLastHighlights",s=inner$9(a)[o]||{},l=inner$9(a)[o]={};each$f(r,function(d,v){var g=d.axisPointerModel.option;g.status==="show"&&each$f(g.seriesDataIndices,function(S){var x=S.seriesIndex+" | "+S.dataIndex;l[x]=S})});var u=[],f=[];each$f(s,function(d,v){!l[v]&&f.push(d)}),each$f(l,function(d,v){!s[v]&&u.push(d)}),f.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:f}),u.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:u})}function findInputAxisInfo(r,t){for(var n=0;n<(r||[]).length;n++){var a=r[n];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex)return a}}function makeMapperParam(r){var t=r.axis.model,n={},a=n.axisDim=r.axis.dim;return n.axisIndex=n[a+"AxisIndex"]=t.componentIndex,n.axisName=n[a+"AxisName"]=t.name,n.axisId=n[a+"AxisId"]=t.id,n}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install$q(r){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),r.registerComponentModel(AxisPointerModel$1),r.registerComponentView(AxisPointerView$1),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!isArray$1(n)&&(t.axisPointer.link=[n])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=collect(t,n)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(r){use(install$N),use(install$q)}var PolarAxisPointer=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,a,o,s,l){var u=o.axis;u.dim==="angle"&&(this.animationThreshold=Math.PI/18);var f=u.polar,d=f.getOtherAxis(u),v=d.getExtent(),g=u.dataToCoord(a),S=s.get("type");if(S&&S!=="none"){var x=buildElStyle(s),_=pointerShapeBuilder$1[S](u,f,g,v);_.style=x,n.graphicKey=_.type,n.pointer=_}var C=s.get(["label","margin"]),T=getLabelPosition(a,o,s,f,C);buildLabelElOption(n,o,s,l,T)},t}(BaseAxisPointer$1);function getLabelPosition(r,t,n,a,o){var s=t.axis,l=s.dataToCoord(r),u=a.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var f=a.getRadiusAxis().getExtent(),d,v,g;if(s.dim==="radius"){var S=create$1();rotate(S,S,u),translate(S,S,[a.cx,a.cy]),d=applyTransform([l,-o],S);var x=t.getModel("axisLabel").get("rotate")||0,_=AxisBuilder$1.innerTextLayout(u,x*Math.PI/180,-1);v=_.textAlign,g=_.textVerticalAlign}else{var C=f[1];d=a.coordToPoint([C+o,l]);var T=a.cx,w=a.cy;v=Math.abs(d[0]-T)/C<.3?"center":d[0]>T?"left":"right",g=Math.abs(d[1]-w)/C<.3?"middle":d[1]>w?"top":"bottom"}return{position:d,align:v,verticalAlign:g}}var pointerShapeBuilder$1={line:function(r,t,n,a){return r.dim==="angle"?{type:"Line",shape:makeLineShape(t.coordToPoint([a[0],n]),t.coordToPoint([a[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(r,t,n,a){var o=Math.max(1,r.getBandWidth()),s=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:makeSectorShape(t.cx,t.cy,a[0],a[1],(-n-o/2)*s,(-n+o/2)*s)}:{type:"Sector",shape:makeSectorShape(t.cx,t.cy,n-o/2,n+o/2,0,Math.PI*2)}}},PolarAxisPointer$1=PolarAxisPointer,PolarModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.findAxisModel=function(n){var a,o=this.ecModel;return o.eachComponent(n,function(s){s.getCoordSysModel()===this&&(a=s)},this),a},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(ComponentModel$1),PolarModel$1=PolarModel,PolarAxisModel=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},t.type="polarAxis",t}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="angleAxis",t}(PolarAxisModel),RadiusAxisModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="radiusAxis",t}(PolarAxisModel),RadiusAxis=function(r){__extends$1(t,r);function t(n,a){return r.call(this,"radius",n,a)||this}return t.prototype.pointToData=function(n,a){return this.polar.pointToData(n,a)[this.dim==="radius"?0:1]},t}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;var RadiusAxis$1=RadiusAxis,inner$8=makeInner(),AngleAxis=function(r){__extends$1(t,r);function t(n,a){return r.call(this,"angle",n,a||[0,360])||this}return t.prototype.pointToData=function(n,a){return this.polar.pointToData(n,a)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var n=this,a=n.getLabelModel(),o=n.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=s[0],f=n.dataToCoord(u+1)-n.dataToCoord(u),d=Math.abs(f),v=getBoundingRect(u==null?"":u+"",a.getFont(),"center","top"),g=Math.max(v.height,7),S=g/d;isNaN(S)&&(S=1/0);var x=Math.max(0,Math.floor(S)),_=inner$8(n.model),C=_.lastAutoInterval,T=_.lastTickCount;return C!=null&&T!=null&&Math.abs(C-x)<=1&&Math.abs(T-l)<=1&&C>x?x=C:(_.lastTickCount=l,_.lastAutoInterval=x),x},t}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;var AngleAxis$1=AngleAxis,polarDimensions=["radius","angle"],Polar=function(){function r(t){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(t){var n=this.pointToCoord(t);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},r.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},r.prototype.getAxis=function(t){var n="_"+t+"Axis";return this[n]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(t){var n=[],a=this._angleAxis,o=this._radiusAxis;return a.scale.type===t&&n.push(a),o.scale.type===t&&n.push(o),n},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(t){var n=this._angleAxis;return t===n?this._radiusAxis:n},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(t){var n=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},r.prototype.dataToPoint=function(t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],n),this._angleAxis.dataToAngle(t[1],n)])},r.prototype.pointToData=function(t,n){var a=this.pointToCoord(t);return[this._radiusAxis.radiusToData(a[0],n),this._angleAxis.angleToData(a[1],n)]},r.prototype.pointToCoord=function(t){var n=t[0]-this.cx,a=t[1]-this.cy,o=this.getAngleAxis(),s=o.getExtent(),l=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]);o.inverse?l=u-360:u=l+360;var f=Math.sqrt(n*n+a*a);n/=f,a/=f;for(var d=Math.atan2(-a,n)/Math.PI*180,v=d<l?1:-1;d<l||d>u;)d+=v*360;return[f,d]},r.prototype.coordToPoint=function(t){var n=t[0],a=t[1]/180*Math.PI,o=Math.cos(a)*n+this.cx,s=-Math.sin(a)*n+this.cy;return[o,s]},r.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis(),a=n.getExtent().slice();a[0]>a[1]&&a.reverse();var o=t.getExtent(),s=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:a[0],r:a[1],startAngle:-o[0]*s,endAngle:-o[1]*s,clockwise:t.inverse,contain:function(l,u){var f=l-this.cx,d=u-this.cy,v=f*f+d*d-1e-4,g=this.r,S=this.r0;return v<=g*g&&v>=S*S}}},r.prototype.convertToPixel=function(t,n,a){var o=getCoordSys$2(n);return o===this?this.dataToPoint(a):null},r.prototype.convertFromPixel=function(t,n,a){var o=getCoordSys$2(n);return o===this?this.pointToData(a):null},r}();function getCoordSys$2(r){var t=r.seriesModel,n=r.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var Polar$1=Polar;function resizePolar(r,t,n){var a=t.get("center"),o=n.getWidth(),s=n.getHeight();r.cx=parsePercent(a[0],o),r.cy=parsePercent(a[1],s);var l=r.getRadiusAxis(),u=Math.min(o,s)/2,f=t.get("radius");f==null?f=[0,"100%"]:isArray$1(f)||(f=[0,f]);var d=[parsePercent(f[0],u),parsePercent(f[1],u)];l.inverse?l.setExtent(d[1],d[0]):l.setExtent(d[0],d[1])}function updatePolarScale(r,t){var n=this,a=n.getAngleAxis(),o=n.getRadiusAxis();if(a.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),r.eachSeries(function(u){if(u.coordinateSystem===n){var f=u.getData();each$f(getDataDimensionsOnAxis(f,"radius"),function(d){o.scale.unionExtentFromData(f,d)}),each$f(getDataDimensionsOnAxis(f,"angle"),function(d){a.scale.unionExtentFromData(f,d)})}}),niceScaleExtent(a.scale,a.model),niceScaleExtent(o.scale,o.model),a.type==="category"&&!a.onBand){var s=a.getExtent(),l=360/a.scale.count();a.inverse?s[1]+=l:s[1]-=l,a.setExtent(s[0],s[1])}}function isAngleAxisModel(r){return r.mainType==="angleAxis"}function setAxis(r,t){if(r.type=t.get("type"),r.scale=createScaleByModel$1(t),r.onBand=t.get("boundaryGap")&&r.type==="category",r.inverse=t.get("inverse"),isAngleAxisModel(t)){r.inverse=r.inverse!==t.get("clockwise");var n=t.get("startAngle");r.setExtent(n,n+(r.inverse?-360:360))}t.axis=r,r.model=t}var polarCreator={dimensions:polarDimensions,create:function(r,t){var n=[];return r.eachComponent("polar",function(a,o){var s=new Polar$1(o+"");s.update=updatePolarScale;var l=s.getRadiusAxis(),u=s.getAngleAxis(),f=a.findAxisModel("radiusAxis"),d=a.findAxisModel("angleAxis");setAxis(l,f),setAxis(u,d),resizePolar(s,a,t),n.push(s),a.coordinateSystem=s,s.model=a}),r.eachSeries(function(a){if(a.get("coordinateSystem")==="polar"){var o=a.getReferringComponents("polar",SINGLE_REFERRING).models[0];a.coordinateSystem=o.coordinateSystem}}),n}},polarCreator$1=polarCreator,elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(r,t,n){t[1]>t[0]&&(t=t.slice().reverse());var a=r.coordToPoint([t[0],n]),o=r.coordToPoint([t[1],n]);return{x1:a[0],y1:a[1],x2:o[0],y2:o[1]}}function getRadiusIdx(r){var t=r.getRadiusAxis();return t.inverse?0:1}function fixAngleOverlap(r){var t=r[0],n=r[r.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&r.pop()}var AngleAxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,a){if(this.group.removeAll(),!!n.get("show")){var o=n.axis,s=o.polar,l=s.getRadiusAxis().getExtent(),u=o.getTicksCoords(),f=o.getMinorTicksCoords(),d=map$1(o.getViewLabels(),function(v){v=clone$4(v);var g=o.scale,S=g.type==="ordinal"?g.getRawOrdinalNumber(v.tickValue):v.tickValue;return v.coord=o.dataToCoord(S),v});fixAngleOverlap(d),fixAngleOverlap(u),each$f(elementList,function(v){n.get([v,"show"])&&(!o.scale.isBlank()||v==="axisLine")&&angelAxisElementsBuilders[v](this.group,n,s,u,f,l,d)},this)}},t.type="angleAxis",t}(AxisView$1),angelAxisElementsBuilders={axisLine:function(r,t,n,a,o,s){var l=t.getModel(["axisLine","lineStyle"]),u=getRadiusIdx(n),f=u?0:1,d;s[f]===0?d=new Circle$1({shape:{cx:n.cx,cy:n.cy,r:s[u]},style:l.getLineStyle(),z2:1,silent:!0}):d=new Ring$1({shape:{cx:n.cx,cy:n.cy,r:s[u],r0:s[f]},style:l.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,r.add(d)},axisTick:function(r,t,n,a,o,s){var l=t.getModel("axisTick"),u=(l.get("inside")?-1:1)*l.get("length"),f=s[getRadiusIdx(n)],d=map$1(a,function(v){return new Line$3({shape:getAxisLineShape(n,[f,f+u],v.coord)})});r.add(mergePath(d,{style:defaults(l.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,n,a,o,s){if(!!o.length){for(var l=t.getModel("axisTick"),u=t.getModel("minorTick"),f=(l.get("inside")?-1:1)*u.get("length"),d=s[getRadiusIdx(n)],v=[],g=0;g<o.length;g++)for(var S=0;S<o[g].length;S++)v.push(new Line$3({shape:getAxisLineShape(n,[d,d+f],o[g][S].coord)}));r.add(mergePath(v,{style:defaults(u.getModel("lineStyle").getLineStyle(),defaults(l.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,t,n,a,o,s,l){var u=t.getCategories(!0),f=t.getModel("axisLabel"),d=f.get("margin"),v=t.get("triggerEvent");each$f(l,function(g,S){var x=f,_=g.tickValue,C=s[getRadiusIdx(n)],T=n.coordToPoint([C+d,g.coord]),w=n.cx,M=n.cy,D=Math.abs(T[0]-w)/C<.3?"center":T[0]>w?"left":"right",I=Math.abs(T[1]-M)/C<.3?"middle":T[1]>M?"top":"bottom";if(u&&u[_]){var R=u[_];isObject$4(R)&&R.textStyle&&(x=new Model$1(R.textStyle,f,f.ecModel))}var $=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(t),style:createTextStyle(x,{x:T[0],y:T[1],fill:x.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:g.formattedLabel,align:D,verticalAlign:I})});if(r.add($),v){var N=AxisBuilder$1.makeAxisEventDataBase(t);N.targetType="axisLabel",N.value=g.rawLabel,getECData($).eventData=N}},this)},splitLine:function(r,t,n,a,o,s){var l=t.getModel("splitLine"),u=l.getModel("lineStyle"),f=u.get("color"),d=0;f=f instanceof Array?f:[f];for(var v=[],g=0;g<a.length;g++){var S=d++%f.length;v[S]=v[S]||[],v[S].push(new Line$3({shape:getAxisLineShape(n,s,a[g].coord)}))}for(var g=0;g<v.length;g++)r.add(mergePath(v[g],{style:defaults({stroke:f[g%f.length]},u.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(r,t,n,a,o,s){if(!!o.length){for(var l=t.getModel("minorSplitLine"),u=l.getModel("lineStyle"),f=[],d=0;d<o.length;d++)for(var v=0;v<o[d].length;v++)f.push(new Line$3({shape:getAxisLineShape(n,s,o[d][v].coord)}));r.add(mergePath(f,{style:u.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(r,t,n,a,o,s){if(!!a.length){var l=t.getModel("splitArea"),u=l.getModel("areaStyle"),f=u.get("color"),d=0;f=f instanceof Array?f:[f];for(var v=[],g=Math.PI/180,S=-a[0].coord*g,x=Math.min(s[0],s[1]),_=Math.max(s[0],s[1]),C=t.get("clockwise"),T=1,w=a.length;T<=w;T++){var M=T===w?a[0].coord:a[T].coord,D=d++%f.length;v[D]=v[D]||[],v[D].push(new Sector$1({shape:{cx:n.cx,cy:n.cy,r0:x,r:_,startAngle:S,endAngle:-M*g,clockwise:C},silent:!0})),S=-M*g}for(var T=0;T<v.length;T++)r.add(mergePath(v[T],{style:defaults({fill:f[T%f.length]},u.getAreaStyle()),silent:!0}))}}},AngleAxisView$1=AngleAxisView,axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,a){if(this.group.removeAll(),!!n.get("show")){var o=this._axisGroup,s=this._axisGroup=new Group$4;this.group.add(s);var l=n.axis,u=l.polar,f=u.getAngleAxis(),d=l.getTicksCoords(),v=l.getMinorTicksCoords(),g=f.getExtent()[0],S=l.getExtent(),x=layoutAxis(u,n,g),_=new AxisBuilder$1(n,x);each$f(axisBuilderAttrs$1,_.add,_),s.add(_.getGroup()),groupTransition(o,s,n),each$f(selfBuilderAttrs$1,function(C){n.get([C,"show"])&&!l.scale.isBlank()&&axisElementBuilders$1[C](this.group,n,u,g,S,d,v)},this)}},t.type="radiusAxis",t}(AxisView$1),axisElementBuilders$1={splitLine:function(r,t,n,a,o,s){var l=t.getModel("splitLine"),u=l.getModel("lineStyle"),f=u.get("color"),d=0;f=f instanceof Array?f:[f];for(var v=[],g=0;g<s.length;g++){var S=d++%f.length;v[S]=v[S]||[],v[S].push(new Circle$1({shape:{cx:n.cx,cy:n.cy,r:Math.max(s[g].coord,0)}}))}for(var g=0;g<v.length;g++)r.add(mergePath(v[g],{style:defaults({stroke:f[g%f.length],fill:null},u.getLineStyle()),silent:!0}))},minorSplitLine:function(r,t,n,a,o,s,l){if(!!l.length){for(var u=t.getModel("minorSplitLine"),f=u.getModel("lineStyle"),d=[],v=0;v<l.length;v++)for(var g=0;g<l[v].length;g++)d.push(new Circle$1({shape:{cx:n.cx,cy:n.cy,r:l[v][g].coord}}));r.add(mergePath(d,{style:defaults({fill:null},f.getLineStyle()),silent:!0}))}},splitArea:function(r,t,n,a,o,s){if(!!s.length){var l=t.getModel("splitArea"),u=l.getModel("areaStyle"),f=u.get("color"),d=0;f=f instanceof Array?f:[f];for(var v=[],g=s[0].coord,S=1;S<s.length;S++){var x=d++%f.length;v[x]=v[x]||[],v[x].push(new Sector$1({shape:{cx:n.cx,cy:n.cy,r0:g,r:s[S].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),g=s[S].coord}for(var S=0;S<v.length;S++)r.add(mergePath(v[S],{style:defaults({fill:f[S%f.length]},u.getAreaStyle()),silent:!0}))}}};function layoutAxis(r,t,n){return{position:[r.cx,r.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function getAxisKey(r,t){return t.dim+r.model.componentIndex}function barLayoutPolar(r,t,n){var a={},o=calRadialBar(filter(t.getSeriesByType(r),function(s){return!t.isSeriesFiltered(s)&&s.coordinateSystem&&s.coordinateSystem.type==="polar"}));t.eachSeriesByType(r,function(s){if(s.coordinateSystem.type==="polar"){var l=s.getData(),u=s.coordinateSystem,f=u.getBaseAxis(),d=getAxisKey(u,f),v=getSeriesStackId(s),g=o[d][v],S=g.offset,x=g.width,_=u.getOtherAxis(f),C=s.coordinateSystem.cx,T=s.coordinateSystem.cy,w=s.get("barMinHeight")||0,M=s.get("barMinAngle")||0;a[v]=a[v]||[];for(var D=l.mapDimension(_.dim),I=l.mapDimension(f.dim),R=isDimensionStacked(l,D),$=f.dim!=="radius"||!s.get("roundCap",!0),N=_.dataToCoord(0),F=0,H=l.count();F<H;F++){var Y=l.get(D,F),G=l.get(I,F),K=Y>=0?"p":"n",Z=N;R&&(a[v][G]||(a[v][G]={p:N,n:N}),Z=a[v][G][K]);var J=void 0,Q=void 0,te=void 0,ie=void 0;if(_.dim==="radius"){var ne=_.dataToCoord(Y)-N,de=f.dataToCoord(G);Math.abs(ne)<w&&(ne=(ne<0?-1:1)*w),J=Z,Q=Z+ne,te=de-S,ie=te-x,R&&(a[v][G][K]=Q)}else{var ve=_.dataToCoord(Y,$)-N,pe=f.dataToCoord(G);Math.abs(ve)<M&&(ve=(ve<0?-1:1)*M),J=pe+S,Q=J+x,te=Z,ie=Z+ve,R&&(a[v][G][K]=ie)}l.setItemLayout(F,{cx:C,cy:T,r0:J,r:Q,startAngle:-te*Math.PI/180,endAngle:-ie*Math.PI/180,clockwise:te>=ie})}}})}function calRadialBar(r){var t={};each$f(r,function(a,o){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),f=getAxisKey(l,u),d=u.getExtent(),v=u.type==="category"?u.getBandWidth():Math.abs(d[1]-d[0])/s.count(),g=t[f]||{bandWidth:v,remainedWidth:v,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},S=g.stacks;t[f]=g;var x=getSeriesStackId(a);S[x]||g.autoWidthCount++,S[x]=S[x]||{width:0,maxWidth:0};var _=parsePercent(a.get("barWidth"),v),C=parsePercent(a.get("barMaxWidth"),v),T=a.get("barGap"),w=a.get("barCategoryGap");_&&!S[x].width&&(_=Math.min(g.remainedWidth,_),S[x].width=_,g.remainedWidth-=_),C&&(S[x].maxWidth=C),T!=null&&(g.gap=T),w!=null&&(g.categoryGap=w)});var n={};return each$f(t,function(a,o){n[o]={};var s=a.stacks,l=a.bandWidth,u=parsePercent(a.categoryGap,l),f=parsePercent(a.gap,1),d=a.remainedWidth,v=a.autoWidthCount,g=(d-u)/(v+(v-1)*f);g=Math.max(g,0),each$f(s,function(C,T){var w=C.maxWidth;w&&w<g&&(w=Math.min(w,d),C.width&&(w=Math.min(w,C.width)),d-=w,C.width=w,v--)}),g=(d-u)/(v+(v-1)*f),g=Math.max(g,0);var S=0,x;each$f(s,function(C,T){C.width||(C.width=g),x=C,S+=C.width*(1+f)}),x&&(S-=x.width*f);var _=-S/2;each$f(s,function(C,T){n[o][T]=n[o][T]||{offset:_,width:C.width},_+=C.width*(1+f)})}),n}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="polar",t}(ComponentView$1);function install$o(r){use(install$q),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),r.registerCoordinateSystem("polar",polarCreator$1),r.registerComponentModel(PolarModel$1),r.registerComponentView(PolarView),axisModelCreator(r,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(r,"radius",RadiusAxisModel,radiusAxisExtraOption),r.registerComponentView(AngleAxisView$1),r.registerComponentView(RadiusAxisView$1),r.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(r,t){t=t||{};var n=r.coordinateSystem,a=r.axis,o={},s=a.position,l=a.orient,u=n.getRect(),f=[u.x,u.x+u.width,u.y,u.y+u.height],d={horizontal:{top:f[2],bottom:f[3]},vertical:{left:f[0],right:f[1]}};o.position=[l==="vertical"?d.vertical[s]:f[0],l==="horizontal"?d.horizontal[s]:f[3]];var v={horizontal:0,vertical:1};o.rotation=Math.PI/2*v[l];var g={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=g[s],r.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),retrieve(t.labelInside,r.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var S=t.rotate;return S==null&&(S=r.get(["axisLabel","rotate"])),o.labelRotation=s==="top"?-S:S,o.z2=1,o}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return t.prototype.render=function(n,a,o,s){var l=this.group;l.removeAll();var u=this._axisGroup;this._axisGroup=new Group$4;var f=layout$1(n),d=new AxisBuilder$1(n,f);each$f(axisBuilderAttrs,d.add,d),l.add(this._axisGroup),l.add(d.getGroup()),each$f(selfBuilderAttrs,function(v){n.get([v,"show"])&&axisElementBuilders[v](this,this.group,this._axisGroup,n)},this),groupTransition(u,this._axisGroup,n),r.prototype.render.call(this,n,a,o,s)},t.prototype.remove=function(){rectCoordAxisHandleRemove(this)},t.type="singleAxis",t}(AxisView$1),axisElementBuilders={splitLine:function(r,t,n,a){var o=a.axis;if(!o.scale.isBlank()){var s=a.getModel("splitLine"),l=s.getModel("lineStyle"),u=l.get("color");u=u instanceof Array?u:[u];for(var f=a.coordinateSystem.getRect(),d=o.isHorizontal(),v=[],g=0,S=o.getTicksCoords({tickModel:s}),x=[],_=[],C=0;C<S.length;++C){var T=o.toGlobalCoord(S[C].coord);d?(x[0]=T,x[1]=f.y,_[0]=T,_[1]=f.y+f.height):(x[0]=f.x,x[1]=T,_[0]=f.x+f.width,_[1]=T);var w=g++%u.length;v[w]=v[w]||[],v[w].push(new Line$3({subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:_[0],y2:_[1]},silent:!0}))}for(var M=l.getLineStyle(["color"]),C=0;C<v.length;++C)t.add(mergePath(v[C],{style:defaults({stroke:u[C%u.length]},M),silent:!0}))}},splitArea:function(r,t,n,a){rectCoordAxisBuildSplitArea(r,n,a,a)}},SingleAxisView$1=SingleAxisView,SingleAxisModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxisModel$1=SingleAxisModel,SingleAxis=function(r){__extends$1(t,r);function t(n,a,o,s,l){var u=r.call(this,n,a,o)||this;return u.type=s||"value",u.position=l||"bottom",u}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.pointToData=function(n,a){return this.coordinateSystem.pointToData(n)[0]},t}(Axis$1),SingleAxis$1=SingleAxis,singleDimensions=["single"],Single=function(){function r(t,n,a){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=t,this._init(t,n,a)}return r.prototype._init=function(t,n,a){var o=this.dimension,s=new SingleAxis$1(o,createScaleByModel$1(t),[0,0],t.get("type"),t.get("position")),l=s.type==="category";s.onBand=l&&t.get("boundaryGap"),s.inverse=t.get("inverse"),s.orient=t.get("orient"),t.axis=s,s.model=t,s.coordinateSystem=this,this._axis=s},r.prototype.update=function(t,n){t.eachSeries(function(a){if(a.coordinateSystem===this){var o=a.getData();each$f(o.mapDimensionsAll(this.dimension),function(s){this._axis.scale.unionExtentFromData(o,s)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(t,n){this._rect=getLayoutRect({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var t=this._rect,n=this._axis,a=n.isHorizontal(),o=a?[0,t.width]:[0,t.height],s=n.reverse?1:0;n.setExtent(o[s],o[1-s]),this._updateAxisTransform(n,a?t.x:t.y)},r.prototype._updateAxisTransform=function(t,n){var a=t.getExtent(),o=a[0]+a[1],s=t.isHorizontal();t.toGlobalCoord=s?function(l){return l+n}:function(l){return o-l+n},t.toLocalCoord=s?function(l){return l-n}:function(l){return o-l+n}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(t){var n=this.getRect(),a=this.getAxis(),o=a.orient;return o==="horizontal"?a.contain(a.toLocalCoord(t[0]))&&t[1]>=n.y&&t[1]<=n.y+n.height:a.contain(a.toLocalCoord(t[1]))&&t[0]>=n.y&&t[0]<=n.y+n.height},r.prototype.pointToData=function(t){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(t[n.orient==="horizontal"?0:1]))]},r.prototype.dataToPoint=function(t){var n=this.getAxis(),a=this.getRect(),o=[],s=n.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),o[s]=n.toGlobalCoord(n.dataToCoord(+t)),o[1-s]=s===0?a.y+a.height/2:a.x+a.width/2,o},r.prototype.convertToPixel=function(t,n,a){var o=getCoordSys$1(n);return o===this?this.dataToPoint(a):null},r.prototype.convertFromPixel=function(t,n,a){var o=getCoordSys$1(n);return o===this?this.pointToData(a):null},r}();function getCoordSys$1(r){var t=r.seriesModel,n=r.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function create(r,t){var n=[];return r.eachComponent("singleAxis",function(a,o){var s=new Single(a,r,t);s.name="single_"+o,s.resize(a,t),a.coordinateSystem=s,n.push(s)}),r.eachSeries(function(a){if(a.get("coordinateSystem")==="singleAxis"){var o=a.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];a.coordinateSystem=o&&o.coordinateSystem}}),n}var singleCreator={create,dimensions:singleDimensions},singleCreator$1=singleCreator,XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,a,o,s,l){var u=o.axis,f=u.coordinateSystem,d=getGlobalExtent(f,1-getPointDimIndex(u)),v=f.dataToPoint(a)[0],g=s.get("type");if(g&&g!=="none"){var S=buildElStyle(s),x=pointerShapeBuilder[g](u,v,d);x.style=S,n.graphicKey=x.type,n.pointer=x}var _=layout$1(o);buildCartesianSingleLabelElOption(a,n,_,o,s,l)},t.prototype.getHandleTransform=function(n,a,o){var s=layout$1(a,{labelInside:!1});s.labelMargin=o.get(["handle","margin"]);var l=getTransformedPosition(a.axis,n,s);return{x:l[0],y:l[1],rotation:s.rotation+(s.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,a,o,s){var l=o.axis,u=l.coordinateSystem,f=getPointDimIndex(l),d=getGlobalExtent(u,f),v=[n.x,n.y];v[f]+=a[f],v[f]=Math.min(d[1],v[f]),v[f]=Math.max(d[0],v[f]);var g=getGlobalExtent(u,1-f),S=(g[1]+g[0])/2,x=[S,S];return x[f]=v[f],{x:v[0],y:v[1],rotation:n.rotation,cursorPoint:x,tooltipOption:{verticalAlign:"middle"}}},t}(BaseAxisPointer$1),pointerShapeBuilder={line:function(r,t,n){var a=makeLineShape([t,n[0]],[t,n[1]],getPointDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:a}},shadow:function(r,t,n){var a=r.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:makeRectShape([t-a/2,n[0]],[a,o],getPointDimIndex(r))}}};function getPointDimIndex(r){return r.isHorizontal()?0:1}function getGlobalExtent(r,t){var n=r.getRect();return[n[XY$1[t]],n[XY$1[t]]+n[WH$1[t]]]}var SingleAxisPointer$1=SingleAxisPointer,SingleView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="single",t}(ComponentView$1);function install$n(r){use(install$q),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),r.registerComponentView(SingleView),r.registerComponentView(SingleAxisView$1),r.registerComponentModel(SingleAxisModel$1),axisModelCreator(r,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),r.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a,o){var s=getLayoutParams(n);r.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(n,s)},t.prototype.mergeOption=function(n){r.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,n)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(r,t){var n=r.cellSize,a;isArray$1(n)?a=n:a=r.cellSize=[n,n],a.length===1&&(a[1]=a[0]);var o=map$1([0,1],function(s){return sizeCalculable(t,s)&&(a[s]="auto"),a[s]!=null&&a[s]!=="auto"});mergeLayoutParam(r,t,{type:"box",ignoreSize:o})}var CalendarModel$1=CalendarModel,CalendarView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){var s=this.group;s.removeAll();var l=n.coordinateSystem,u=l.getRangeInfo(),f=l.getOrient(),d=a.getLocaleModel();this._renderDayRect(n,u,s),this._renderLines(n,u,f,s),this._renderYearText(n,u,f,s),this._renderMonthText(n,d,f,s),this._renderWeekText(n,d,u,f,s)},t.prototype._renderDayRect=function(n,a,o){for(var s=n.coordinateSystem,l=n.getModel("itemStyle").getItemStyle(),u=s.getCellWidth(),f=s.getCellHeight(),d=a.start.time;d<=a.end.time;d=s.getNextNDay(d,1).time){var v=s.dataToRect([d],!1).tl,g=new Rect$3({shape:{x:v[0],y:v[1],width:u,height:f},cursor:"default",style:l});o.add(g)}},t.prototype._renderLines=function(n,a,o,s){var l=this,u=n.coordinateSystem,f=n.getModel(["splitLine","lineStyle"]).getLineStyle(),d=n.get(["splitLine","show"]),v=f.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var g=a.start,S=0;g.time<=a.end.time;S++){_(g.formatedDate),S===0&&(g=u.getDateInfo(a.start.y+"-"+a.start.m));var x=g.date;x.setMonth(x.getMonth()+1),g=u.getDateInfo(x)}_(u.getNextNDay(a.end.time,1).formatedDate);function _(C){l._firstDayOfMonth.push(u.getDateInfo(C)),l._firstDayPoints.push(u.dataToRect([C],!1).tl);var T=l._getLinePointsOfOneWeek(n,C,o);l._tlpoints.push(T[0]),l._blpoints.push(T[T.length-1]),d&&l._drawSplitline(T,f,s)}d&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,v,o),f,s),d&&this._drawSplitline(l._getEdgesPoints(l._blpoints,v,o),f,s)},t.prototype._getEdgesPoints=function(n,a,o){var s=[n[0].slice(),n[n.length-1].slice()],l=o==="horizontal"?0:1;return s[0][l]=s[0][l]-a/2,s[1][l]=s[1][l]+a/2,s},t.prototype._drawSplitline=function(n,a,o){var s=new Polyline$3({z2:20,shape:{points:n},style:a});o.add(s)},t.prototype._getLinePointsOfOneWeek=function(n,a,o){for(var s=n.coordinateSystem,l=s.getDateInfo(a),u=[],f=0;f<7;f++){var d=s.getNextNDay(l.time,f),v=s.dataToRect([d.time],!1);u[2*d.day]=v.tl,u[2*d.day+1]=v[o==="horizontal"?"bl":"tr"]}return u},t.prototype._formatterLabel=function(n,a){return isString(n)&&n?formatTplSimple(n,a):isFunction(n)?n(a):a.nameMap},t.prototype._yearTextPositionControl=function(n,a,o,s,l){var u=a[0],f=a[1],d=["center","bottom"];s==="bottom"?(f+=l,d=["center","top"]):s==="left"?u-=l:s==="right"?(u+=l,d=["center","top"]):f-=l;var v=0;return(s==="left"||s==="right")&&(v=Math.PI/2),{rotation:v,x:u,y:f,style:{align:d[0],verticalAlign:d[1]}}},t.prototype._renderYearText=function(n,a,o,s){var l=n.getModel("yearLabel");if(!!l.get("show")){var u=l.get("margin"),f=l.get("position");f||(f=o!=="horizontal"?"top":"left");var d=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],v=(d[0][0]+d[1][0])/2,g=(d[0][1]+d[1][1])/2,S=o==="horizontal"?0:1,x={top:[v,d[S][1]],bottom:[v,d[1-S][1]],left:[d[1-S][0],g],right:[d[S][0],g]},_=a.start.y;+a.end.y>+a.start.y&&(_=_+"-"+a.end.y);var C=l.get("formatter"),T={start:a.start.y,end:a.end.y,nameMap:_},w=this._formatterLabel(C,T),M=new ZRText$1({z2:30,style:createTextStyle(l,{text:w})});M.attr(this._yearTextPositionControl(M,x[f],o,f,u)),s.add(M)}},t.prototype._monthTextPositionControl=function(n,a,o,s,l){var u="left",f="top",d=n[0],v=n[1];return o==="horizontal"?(v=v+l,a&&(u="center"),s==="start"&&(f="bottom")):(d=d+l,a&&(f="middle"),s==="start"&&(u="right")),{x:d,y:v,align:u,verticalAlign:f}},t.prototype._renderMonthText=function(n,a,o,s){var l=n.getModel("monthLabel");if(!!l.get("show")){var u=l.get("nameMap"),f=l.get("margin"),d=l.get("position"),v=l.get("align"),g=[this._tlpoints,this._blpoints];(!u||isString(u))&&(u&&(a=getLocaleModel(u)||a),u=a.get(["time","monthAbbr"])||[]);var S=d==="start"?0:1,x=o==="horizontal"?0:1;f=d==="start"?-f:f;for(var _=v==="center",C=0;C<g[S].length-1;C++){var T=g[S][C].slice(),w=this._firstDayOfMonth[C];if(_){var M=this._firstDayPoints[C];T[x]=(M[x]+g[0][C+1][x])/2}var D=l.get("formatter"),I=u[+w.m-1],R={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:I},$=this._formatterLabel(D,R),N=new ZRText$1({z2:30,style:extend(createTextStyle(l,{text:$}),this._monthTextPositionControl(T,_,o,d,f))});s.add(N)}}},t.prototype._weekTextPositionControl=function(n,a,o,s,l){var u="center",f="middle",d=n[0],v=n[1],g=o==="start";return a==="horizontal"?(d=d+s+(g?1:-1)*l[0]/2,u=g?"right":"left"):(v=v+s+(g?1:-1)*l[1]/2,f=g?"bottom":"top"),{x:d,y:v,align:u,verticalAlign:f}},t.prototype._renderWeekText=function(n,a,o,s,l){var u=n.getModel("dayLabel");if(!!u.get("show")){var f=n.coordinateSystem,d=u.get("position"),v=u.get("nameMap"),g=u.get("margin"),S=f.getFirstDayOfWeek();if(!v||isString(v)){v&&(a=getLocaleModel(v)||a);var x=a.get(["time","dayOfWeekShort"]);v=x||map$1(a.get(["time","dayOfWeekAbbr"]),function(R){return R[0]})}var _=f.getNextNDay(o.end.time,7-o.lweek).time,C=[f.getCellWidth(),f.getCellHeight()];g=parsePercent(g,Math.min(C[1],C[0])),d==="start"&&(_=f.getNextNDay(o.start.time,-(7+o.fweek)).time,g=-g);for(var T=0;T<7;T++){var w=f.getNextNDay(_,T),M=f.dataToRect([w.time],!1).center,D=T;D=Math.abs((T+S)%7);var I=new ZRText$1({z2:30,style:extend(createTextStyle(u,{text:v[D]}),this._weekTextPositionControl(M,s,d,g,C))});l.add(I)}}},t.type="calendar",t}(ComponentView$1),CalendarView$1=CalendarView,PROXIMATE_ONE_DAY=864e5,Calendar=function(){function r(t,n,a){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=t}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(t){t=parseDate(t);var n=t.getFullYear(),a=t.getMonth()+1,o=a<10?"0"+a:""+a,s=t.getDate(),l=s<10?"0"+s:""+s,u=t.getDay();return u=Math.abs((u+7-this.getFirstDayOfWeek())%7),{y:n+"",m:o,d:l,day:u,time:t.getTime(),formatedDate:n+"-"+o+"-"+l,date:t}},r.prototype.getNextNDay=function(t,n){return n=n||0,n===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+n),this.getDateInfo(t))},r.prototype.update=function(t,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var a=this._rangeInfo.weeks||1,o=["width","height"],s=this._model.getCellSize().slice(),l=this._model.getBoxLayoutParams(),u=this._orient==="horizontal"?[a,7]:[7,a];each$f([0,1],function(g){v(s,g)&&(l[o[g]]=s[g]*u[g])});var f={width:n.getWidth(),height:n.getHeight()},d=this._rect=getLayoutRect(l,f);each$f([0,1],function(g){v(s,g)||(s[g]=d[o[g]]/u[g])});function v(g,S){return g[S]!=null&&g[S]!=="auto"}this._sw=s[0],this._sh=s[1]},r.prototype.dataToPoint=function(t,n){isArray$1(t)&&(t=t[0]),n==null&&(n=!0);var a=this.getDateInfo(t),o=this._rangeInfo,s=a.formatedDate;if(n&&!(a.time>=o.start.time&&a.time<o.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var l=a.day,u=this._getRangeInfo([o.start.time,s]).nthWeek;return this._orient==="vertical"?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]:[this._rect.x+u*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},r.prototype.pointToData=function(t){var n=this.pointToDate(t);return n&&n.time},r.prototype.dataToRect=function(t,n){var a=this.dataToPoint(t,n);return{contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},r.prototype.pointToDate=function(t){var n=Math.floor((t[0]-this._rect.x)/this._sw)+1,a=Math.floor((t[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(a,n-1,o):this._getDateByWeeksAndDay(n,a-1,o)},r.prototype.convertToPixel=function(t,n,a){var o=getCoordSys(n);return o===this?o.dataToPoint(a):null},r.prototype.convertFromPixel=function(t,n,a){var o=getCoordSys(n);return o===this?o.pointToData(a):null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var t=this._model.get("range"),n;if(isArray$1(t)&&t.length===1&&(t=t[0]),isArray$1(t))n=t;else{var a=t.toString();if(/^\d{4}$/.test(a)&&(n=[a+"-01-01",a+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(a)){var o=this.getDateInfo(a),s=o.date;s.setMonth(s.getMonth()+1);var l=this.getNextNDay(s,-1);n=[o.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(a)&&(n=[a,a])}if(!n)return t;var u=this._getRangeInfo(n);return u.start.time>u.end.time&&n.reverse(),n},r.prototype._getRangeInfo=function(t){var n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],a;n[0].time>n[1].time&&(a=!0,n.reverse());var o=Math.floor(n[1].time/PROXIMATE_ONE_DAY)-Math.floor(n[0].time/PROXIMATE_ONE_DAY)+1,s=new Date(n[0].time),l=s.getDate(),u=n[1].date.getDate();s.setDate(l+o-1);var f=s.getDate();if(f!==u)for(var d=s.getTime()-n[1].time>0?1:-1;(f=s.getDate())!==u&&(s.getTime()-n[1].time)*d>0;)o-=d,s.setDate(f-d);var v=Math.floor((o+n[0].day+6)/7),g=a?-v+1:v-1;return a&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:o,weeks:v,nthWeek:g,fweek:n[0].day,lweek:n[1].day}},r.prototype._getDateByWeeksAndDay=function(t,n,a){var o=this._getRangeInfo(a);if(t>o.weeks||t===0&&n<o.fweek||t===o.weeks&&n>o.lweek)return null;var s=(t-1)*7-o.fweek+n,l=new Date(o.start.time);return l.setDate(+o.start.d+s),this.getDateInfo(l)},r.create=function(t,n){var a=[];return t.eachComponent("calendar",function(o){var s=new r(o,t,n);a.push(s),o.coordinateSystem=s}),t.eachSeries(function(o){o.get("coordinateSystem")==="calendar"&&(o.coordinateSystem=a[o.get("calendarIndex")||0])}),a},r.dimensions=["time","value"],r}();function getCoordSys(r){var t=r.calendarModel,n=r.seriesModel,a=t?t.coordinateSystem:n?n.coordinateSystem:null;return a}var Calendar$1=Calendar;function install$m(r){r.registerComponentModel(CalendarModel$1),r.registerComponentView(CalendarView$1),r.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(r,t){var n=r.existing;if(t.id=r.keyInfo.id,!t.type&&n&&(t.type=n.type),t.parentId==null){var a=t.parentOption;a?t.parentId=a.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function isSetLoc(r,t){var n;return each$f(t,function(a){r[a]!=null&&r[a]!=="auto"&&(n=!0)}),n}function mergeNewElOptionToExist(r,t,n){var a=extend({},n),o=r[t],s=n.$action||"merge";s==="merge"?o?(merge(o,a,!0),mergeLayoutParam(o,a,{ignoreSize:!0}),copyLayoutParams(n,o),copyTransitionInfo(n,o),copyTransitionInfo(n,o,"shape"),copyTransitionInfo(n,o,"style"),copyTransitionInfo(n,o,"extra"),n.clipPath=o.clipPath):r[t]=a:s==="replace"?r[t]=a:s==="remove"&&o&&(r[t]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(r,t,n){if(n&&(!r[n]&&t[n]&&(r[n]={}),r=r[n],t=t[n]),!(!r||!t))for(var a=n?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,o=0;o<a.length;o++){var s=a[o];r[s]==null&&t[s]!=null&&(r[s]=t[s])}}function setLayoutInfoToExist(r,t){if(!!r&&(r.hv=t.hv=[isSetLoc(t,["left","right"]),isSetLoc(t,["top","bottom"])],r.type==="group")){var n=r,a=t;n.width==null&&(n.width=a.width=0),n.height==null&&(n.height=a.height=0)}}var GraphicComponentModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return t.prototype.mergeOption=function(n,a){var o=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,n,a),this.option.elements=o},t.prototype.optionUpdated=function(n,a){var o=this.option,s=(a?o:n).elements,l=o.elements=a?[]:o.elements,u=[];this._flatten(s,u,null);var f=mappingToExists(l,u,"normalMerge"),d=this._elOptionsToUpdate=[];each$f(f,function(v,g){var S=v.newOption;!S||(d.push(S),setKeyInfoToNewElOption(v,S),mergeNewElOptionToExist(l,g,S),setLayoutInfoToExist(l[g],S))},this),o.elements=filter(l,function(v){return v&&delete v.$action,v!=null})},t.prototype._flatten=function(n,a,o){each$f(n,function(s){if(!!s){o&&(s.parentOption=o),a.push(s);var l=s.children;s.type==="group"&&l&&this._flatten(l,a,s),delete s.children}},this)},t.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},t.type="graphic",t.defaultOption={elements:[]},t}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._elMap=createHashMap()},t.prototype.render=function(n,a,o){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,o)},t.prototype._updateElements=function(n){var a=n.useElOptionsToUpdate();if(!!a){var o=this._elMap,s=this.group,l=n.get("z"),u=n.get("zlevel");each$f(a,function(f){var d=convertOptionIdName(f.id,null),v=d!=null?o.get(d):null,g=convertOptionIdName(f.parentId,null),S=g!=null?o.get(g):s,x=f.type,_=f.style;x==="text"&&_&&f.hv&&f.hv[1]&&(_.textVerticalAlign=_.textBaseline=_.verticalAlign=_.align=null);var C=f.textContent,T=f.textConfig;if(_&&isEC4CompatibleStyle(_,x,!!T,!!C)){var w=convertFromEC4CompatibleStyle(_,x,!0);!T&&w.textConfig&&(T=f.textConfig=w.textConfig),!C&&w.textContent&&(C=w.textContent)}var M=getCleanedElOption(f),D=f.$action||"merge",I=D==="merge",R=D==="replace";if(I){var $=!v,N=v;$?N=createEl(d,S,f.type,o):(N&&(inner$7(N).isNew=!1),stopPreviousKeyframeAnimationAndRestore(N)),N&&(applyUpdateTransition(N,M,n,{isInit:$}),updateCommonAttrs(N,f,l,u))}else if(R){removeEl$1(v,f,o,n);var F=createEl(d,S,f.type,o);F&&(applyUpdateTransition(F,M,n,{isInit:!0}),updateCommonAttrs(F,f,l,u))}else D==="remove"&&(updateLeaveTo(v,f),removeEl$1(v,f,o,n));var H=o.get(d);if(H&&C)if(I){var Y=H.getTextContent();Y?Y.attr(C):H.setTextContent(new ZRText$1(C))}else R&&H.setTextContent(new ZRText$1(C));if(H){var G=f.clipPath;if(G){var K=G.type,Z=void 0,$=!1;if(I){var J=H.getClipPath();$=!J||inner$7(J).type!==K,Z=$?newEl(K):J}else R&&($=!0,Z=newEl(K));H.setClipPath(Z),applyUpdateTransition(Z,G,n,{isInit:$}),applyKeyframeAnimation(Z,G.keyframeAnimation,n)}var Q=inner$7(H);H.setTextConfig(T),Q.option=f,setEventData(H,n,f),setTooltipConfig({el:H,componentModel:n,itemName:H.name,itemTooltipOption:f.tooltip}),applyKeyframeAnimation(H,f.keyframeAnimation,n)}})}},t.prototype._relocate=function(n,a){for(var o=n.option.elements,s=this.group,l=this._elMap,u=a.getWidth(),f=a.getHeight(),d=["x","y"],v=0;v<o.length;v++){var g=o[v],S=convertOptionIdName(g.id,null),x=S!=null?l.get(S):null;if(!(!x||!x.isGroup)){var _=x.parent,C=_===s,T=inner$7(x),w=inner$7(_);T.width=parsePercent(T.option.width,C?u:w.width)||0,T.height=parsePercent(T.option.height,C?f:w.height)||0}}for(var v=o.length-1;v>=0;v--){var g=o[v],S=convertOptionIdName(g.id,null),x=S!=null?l.get(S):null;if(!!x){var _=x.parent,w=inner$7(_),M=_===s?{width:u,height:f}:{width:w.width,height:w.height},D={},I=positionElement(x,g,M,null,{hv:g.hv,boundingMode:g.bounding},D);if(!inner$7(x).isNew&&I){for(var R=g.transition,$={},N=0;N<d.length;N++){var F=d[N],H=D[F];R&&(isTransitionAll(R)||indexOf(R,F)>=0)?$[F]=H:x[F]=H}updateProps$1(x,$,n,0)}else x.attr(D)}}},t.prototype._clear=function(){var n=this,a=this._elMap;a.each(function(o){removeEl$1(o,inner$7(o).option,a,n._lastGraphicModel)}),this._elMap=createHashMap()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(ComponentView$1);function newEl(r){var t=hasOwn(nonShapeGraphicElements,r)?nonShapeGraphicElements[r]:getShapeClass(r),n=new t({});return inner$7(n).type=r,n}function createEl(r,t,n,a){var o=newEl(n);return t.add(o),a.set(r,o),inner$7(o).id=r,inner$7(o).isNew=!0,o}function removeEl$1(r,t,n,a){var o=r&&r.parent;o&&(r.type==="group"&&r.traverse(function(s){removeEl$1(s,t,n,a)}),applyLeaveTransition(r,t,a),n.removeKey(inner$7(r).id))}function updateCommonAttrs(r,t,n,a){if(!r.isGroup){var o=r;o.cursor=retrieve2(t.cursor,Displayable$1.prototype.cursor),o.z=retrieve2(t.z,n||0),o.zlevel=retrieve2(t.zlevel,a||0);var s=t.z2;s!=null&&(o.z2=s||0)}each$f(keys(t),function(l){var u=t[l];l.indexOf("on")===0&&isFunction(u)&&(r[l]=u)}),r.draggable=t.draggable,t.name!=null&&(r.name=t.name),t.id!=null&&(r.id=t.id)}function getCleanedElOption(r){return r=extend({},r),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(t){delete r[t]}),r}function setEventData(r,t,n){var a=getECData(r).eventData;!r.silent&&!r.ignore&&!a&&(a=getECData(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}),a&&(a.info=n.info)}function install$l(r){r.registerComponentModel(GraphicComponentModel),r.registerComponentView(GraphicComponentView),r.registerPreprocessor(function(t){var n=t.graphic;isArray$1(n)?!n[0]||!n[0].elements?t.graphic=[{elements:n}]:t.graphic=[t.graphic[0]]:n&&!n.elements&&(t.graphic=[{elements:[n]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(r){var t=r.get("coordinateSystem");return indexOf(SERIES_COORDS,t)>=0}function getAxisMainType(r){return r+"Axis"}function findEffectedDataZooms(r,t){var n=createHashMap(),a=[],o=createHashMap();r.eachComponent({mainType:"dataZoom",query:t},function(v){o.get(v.uid)||u(v)});var s;do s=!1,r.eachComponent("dataZoom",l);while(s);function l(v){!o.get(v.uid)&&f(v)&&(u(v),s=!0)}function u(v){o.set(v.uid,!0),a.push(v),d(v)}function f(v){var g=!1;return v.eachTargetAxis(function(S,x){var _=n.get(S);_&&_[x]&&(g=!0)}),g}function d(v){v.eachTargetAxis(function(g,S){(n.get(g)||n.set(g,[]))[S]=!0})}return a}function collectReferCoordSysModelInfo(r){var t=r.ecModel,n={infoList:[],infoMap:createHashMap()};return r.eachTargetAxis(function(a,o){var s=t.getComponent(getAxisMainType(a),o);if(!!s){var l=s.getCoordSysModel();if(!!l){var u=l.uid,f=n.infoMap.get(u);f||(f={model:l,axisModels:[]},n.infoList.push(f),n.infoMap.set(u,f)),f.axisModels.push(s)}}}),n}var DataZoomAxisInfo=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),DataZoomModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,a,o){var s=retrieveRawOption(n);this.settledOption=s,this.mergeDefaultAndTheme(n,o),this._doInit(s)},t.prototype.mergeOption=function(n){var a=retrieveRawOption(n);merge(this.option,n,!0),merge(this.settledOption,a,!0),this._doInit(a)},t.prototype._doInit=function(n){var a=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var o=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(s,l){this._rangePropMode[l]==="value"&&(a[s[0]]=o[s[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),a=this._targetAxisInfoMap=createHashMap(),o=this._fillSpecifiedTargetAxis(a);o?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(s){s.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var a=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(o){var s=this.getReferringComponents(getAxisMainType(o),MULTIPLE_REFERRING);if(!!s.specified){a=!0;var l=new DataZoomAxisInfo;each$f(s.models,function(u){l.add(u.componentIndex)}),n.set(o,l)}},this),a},t.prototype._fillAutoTargetAxisByOrient=function(n,a){var o=this.ecModel,s=!0;if(s){var l=a==="vertical"?"y":"x",u=o.findComponents({mainType:l+"Axis"});f(u,l)}if(s){var u=o.findComponents({mainType:"singleAxis",filter:function(v){return v.get("orient",!0)===a}});f(u,"single")}function f(d,v){var g=d[0];if(!!g){var S=new DataZoomAxisInfo;if(S.add(g.componentIndex),n.set(v,S),s=!1,v==="x"||v==="y"){var x=g.getReferringComponents("grid",SINGLE_REFERRING).models[0];x&&each$f(d,function(_){g.componentIndex!==_.componentIndex&&x===_.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&S.add(_.componentIndex)})}}}s&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(d){if(!!s){var v=o.findComponents({mainType:getAxisMainType(d),filter:function(S){return S.get("type",!0)==="category"}});if(v[0]){var g=new DataZoomAxisInfo;g.add(v[0].componentIndex),n.set(d,g),s=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(a){!n&&(n=a)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var a=this._rangePropMode,o=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(s,l){var u=n[s[0]]!=null,f=n[s[1]]!=null;u&&!f?a[l]="percent":!u&&f?a[l]="value":o?a[l]=o[l]:u&&(a[l]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(a,o){n==null&&(n=this.ecModel.getComponent(getAxisMainType(a),o))},this),n},t.prototype.eachTargetAxis=function(n,a){this._targetAxisInfoMap.each(function(o,s){each$f(o.indexList,function(l){n.call(a,s,l)})})},t.prototype.getAxisProxy=function(n,a){var o=this.getAxisModel(n,a);if(o)return o.__dzAxisProxy},t.prototype.getAxisModel=function(n,a){var o=this._targetAxisInfoMap.get(n);if(o&&o.indexMap[a])return this.ecModel.getComponent(getAxisMainType(n),a)},t.prototype.setRawRange=function(n){var a=this.option,o=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(s){(n[s[0]]!=null||n[s[1]]!=null)&&(a[s[0]]=o[s[0]]=n[s[0]],a[s[1]]=o[s[1]]=n[s[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var a=this.option;each$f(["start","startValue","end","endValue"],function(o){a[o]=n[o]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,a){if(n==null&&a==null){var o=this.findRepresentativeAxisProxy();if(o)return o.getDataValueWindow()}else return this.getAxisProxy(n,a).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var a,o=this._targetAxisInfoMap.keys(),s=0;s<o.length;s++)for(var l=o[s],u=this._targetAxisInfoMap.get(l),f=0;f<u.indexList.length;f++){var d=this.getAxisProxy(l,u.indexList[f]);if(d.hostedBy(this))return d;a||(a=d)}return a},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(ComponentModel$1);function retrieveRawOption(r){var t={};return each$f(["start","end","startValue","endValue","throttle"],function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t}var DataZoomModel$1=DataZoomModel,SelectDataZoomModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(DataZoomModel$1),SelectZoomModel=SelectDataZoomModel,DataZoomView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o,s){this.dataZoomModel=n,this.ecModel=a,this.api=o},t.type="dataZoom",t}(ComponentView$1),DataZoomView$1=DataZoomView,SelectDataZoomView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(DataZoomView$1),SelectZoomView=SelectDataZoomView,each$7=each$f,asc$1=asc$2,AxisProxy=function(){function r(t,n,a,o){this._dimName=t,this._axisIndex=n,this.ecModel=o,this._dataZoomModel=a}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(isCoordSupported(n)){var a=getAxisMainType(this._dimName),o=n.getReferringComponents(a,SINGLE_REFERRING).models[0];o&&this._axisIndex===o.componentIndex&&t.push(n)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var n=this._dataExtent,a=this.getAxisModel(),o=a.axis.scale,s=this._dataZoomModel.getRangePropMode(),l=[0,100],u=[],f=[],d;each$7(["start","end"],function(S,x){var _=t[S],C=t[S+"Value"];s[x]==="percent"?(_==null&&(_=l[x]),C=o.parse(linearMap$2(_,l,n))):(d=!0,C=C==null?n[x]:o.parse(C),_=linearMap$2(C,n,l)),f[x]=C,u[x]=_}),asc$1(f),asc$1(u);var v=this._minMaxSpan;d?g(f,u,n,l,!1):g(u,f,l,n,!0);function g(S,x,_,C,T){var w=T?"Span":"ValueSpan";sliderMove(0,S,_,"all",v["min"+w],v["max"+w]);for(var M=0;M<2;M++)x[M]=linearMap$2(S[M],_,C,!0),T&&(x[M]=o.parse(x[M]))}return{valueWindow:f,percentWindow:u}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,n),this._updateMinMaxSpan();var a=this.calculateDataWindow(t.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var a=this._dimName,o=this.getTargetSeriesModels(),s=t.get("filterMode"),l=this._valueWindow;if(s==="none")return;each$7(o,function(f){var d=f.getData(),v=d.mapDimensionsAll(a);if(!!v.length){if(s==="weakFilter"){var g=d.getStore(),S=map$1(v,function(x){return d.getDimensionIndex(x)},d);d.filterSelf(function(x){for(var _,C,T,w=0;w<v.length;w++){var M=g.get(S[w],x),D=!isNaN(M),I=M<l[0],R=M>l[1];if(D&&!I&&!R)return!0;D&&(T=!0),I&&(_=!0),R&&(C=!0)}return T&&_&&C})}else each$7(v,function(x){if(s==="empty")f.setData(d=d.map(x,function(C){return u(C)?C:NaN}));else{var _={};_[x]=l,d.selectRange(_)}});each$7(v,function(x){d.setApproximateExtent(l,x)})}});function u(f){return f>=l[0]&&f<=l[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,a=this._dataExtent;each$7(["min","max"],function(o){var s=n.get(o+"Span"),l=n.get(o+"ValueSpan");l!=null&&(l=this.getAxisModel().axis.scale.parse(l)),l!=null?s=linearMap$2(a[0]+l,a,[0,100],!0):s!=null&&(l=linearMap$2(s,[0,100],a,!0)-a[0]),t[o+"Span"]=s,t[o+"ValueSpan"]=l},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,a=this._valueWindow;if(!!n){var o=getPixelPrecision(a,[0,500]);o=Math.min(o,20);var s=t.axis.scale.rawExtentInfo;n[0]!==0&&s.setDeterminedMinMax("min",+a[0].toFixed(o)),n[1]!==100&&s.setDeterminedMinMax("max",+a[1].toFixed(o)),s.freeze()}},r}();function calculateDataExtent(r,t,n){var a=[1/0,-1/0];each$7(n,function(l){unionAxisExtentFromData(a,l.getData(),t)});var o=r.getAxisModel(),s=ensureScaleRawExtentInfo(o.axis.scale,o,a).calculate();return[s.min,s.max]}var AxisProxy$1=AxisProxy,dataZoomProcessor={getTargetSeries:function(r){function t(o){r.eachComponent("dataZoom",function(s){s.eachTargetAxis(function(l,u){var f=r.getComponent(getAxisMainType(l),u);o(l,u,f,s)})})}t(function(o,s,l,u){l.__dzAxisProxy=null});var n=[];t(function(o,s,l,u){l.__dzAxisProxy||(l.__dzAxisProxy=new AxisProxy$1(o,s,u,r),n.push(l.__dzAxisProxy))});var a=createHashMap();return each$f(n,function(o){each$f(o.getTargetSeriesModels(),function(s){a.set(s.uid,s)})}),a},overallReset:function(r,t){r.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(a,o){n.getAxisProxy(a,o).reset(n)}),n.eachTargetAxis(function(a,o){n.getAxisProxy(a,o).filterData(n,t)})}),r.eachComponent("dataZoom",function(n){var a=n.findRepresentativeAxisProxy();if(a){var o=a.getDataPercentWindow(),s=a.getDataValueWindow();n.setCalculatedRange({start:o[0],end:o[1],startValue:s[0],endValue:s[1]})}})}},dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(r){r.registerAction("dataZoom",function(t,n){var a=findEffectedDataZooms(n,t);each$f(a,function(o){o.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var installed$1=!1;function installCommon$1(r){installed$1||(installed$1=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(r){r.registerComponentModel(SelectZoomModel),r.registerComponentView(SelectZoomView),installCommon$1(r)}var ToolboxFeature=function(){function r(){}return r}(),features={};function registerFeature(r,t){features[r]=t}function getFeature(r){return features[r]}var ToolboxModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;each$f(this.option.feature,function(a,o){var s=getFeature(o);s&&(s.getDefaultOption&&(s.defaultOption=s.getDefaultOption(n)),merge(a,s.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(ComponentModel$1),ToolboxModel$1=ToolboxModel;function layout(r,t,n){var a=t.getBoxLayoutParams(),o=t.get("padding"),s={width:n.getWidth(),height:n.getHeight()},l=getLayoutRect(a,s,o);box(t.get("orient"),r,t.get("itemGap"),l.width,l.height),positionElement(r,a,s,o)}function makeBackground(r,t){var n=normalizeCssArray(t.get("padding")),a=t.getItemStyle(["color","opacity"]);return a.fill=t.get("backgroundColor"),r=new Rect$3({shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[1]+n[3],height:r.height+n[0]+n[2],r:t.get("borderRadius")},style:a,silent:!0,z2:-1}),r}var ToolboxView=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(n,a,o,s){var l=this.group;if(l.removeAll(),!n.get("show"))return;var u=+n.get("itemSize"),f=n.get("orient")==="vertical",d=n.get("feature")||{},v=this._features||(this._features={}),g=[];each$f(d,function(_,C){g.push(C)}),new DataDiffer$1(this._featureNames||[],g).add(S).update(S).remove(curry$1(S,null)).execute(),this._featureNames=g;function S(_,C){var T=g[_],w=g[C],M=d[T],D=new Model$1(M,n,n.ecModel),I;if(s&&s.newTitle!=null&&s.featureName===T&&(M.title=s.newTitle),T&&!w){if(isUserFeatureName(T))I={onclick:D.option.onclick,featureName:T};else{var R=getFeature(T);if(!R)return;I=new R}v[T]=I}else if(I=v[w],!I)return;I.uid=getUID("toolbox-feature"),I.model=D,I.ecModel=a,I.api=o;var $=I instanceof ToolboxFeature;if(!T&&w){$&&I.dispose&&I.dispose(a,o);return}if(!D.get("show")||$&&I.unusable){$&&I.remove&&I.remove(a,o);return}x(D,I,T),D.setIconStatus=function(N,F){var H=this.option,Y=this.iconPaths;H.iconStatus=H.iconStatus||{},H.iconStatus[N]=F,Y[N]&&(F==="emphasis"?enterEmphasis:leaveEmphasis)(Y[N])},I instanceof ToolboxFeature&&I.render&&I.render(D,a,o,s)}function x(_,C,T){var w=_.getModel("iconStyle"),M=_.getModel(["emphasis","iconStyle"]),D=C instanceof ToolboxFeature&&C.getIcons?C.getIcons():_.get("icon"),I=_.get("title")||{},R,$;isString(D)?(R={},R[T]=D):R=D,isString(I)?($={},$[T]=I):$=I;var N=_.iconPaths={};each$f(R,function(F,H){var Y=createIcon(F,{},{x:-u/2,y:-u/2,width:u,height:u});Y.setStyle(w.getItemStyle());var G=Y.ensureState("emphasis");G.style=M.getItemStyle();var K=new ZRText$1({style:{text:$[H],align:M.get("textAlign"),borderRadius:M.get("textBorderRadius"),padding:M.get("textPadding"),fill:null},ignore:!0});Y.setTextContent(K),setTooltipConfig({el:Y,componentModel:n,itemName:H,formatterParamsExtra:{title:$[H]}}),Y.__title=$[H],Y.on("mouseover",function(){var Z=M.getItemStyle(),J=f?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";K.setStyle({fill:M.get("textFill")||Z.fill||Z.stroke||"#000",backgroundColor:M.get("textBackgroundColor")}),Y.setTextConfig({position:M.get("textPosition")||J}),K.ignore=!n.get("showTitle"),o.enterEmphasis(this)}).on("mouseout",function(){_.get(["iconStatus",H])!=="emphasis"&&o.leaveEmphasis(this),K.hide()}),(_.get(["iconStatus",H])==="emphasis"?enterEmphasis:leaveEmphasis)(Y),l.add(Y),Y.on("click",bind$1(C.onclick,C,a,o,H)),N[H]=Y})}layout(l,n,o),l.add(makeBackground(l.getBoundingRect(),n)),f||l.eachChild(function(_){var C=_.__title,T=_.ensureState("emphasis"),w=T.textConfig||(T.textConfig={}),M=_.getTextContent(),D=M&&M.ensureState("emphasis");if(D&&!isFunction(D)&&C){var I=D.style||(D.style={}),R=getBoundingRect(C,ZRText$1.makeFont(I)),$=_.x+l.x,N=_.y+l.y+u,F=!1;N+R.height>o.getHeight()&&(w.position="top",F=!0);var H=F?-5-R.height:u+10;$+R.width/2>o.getWidth()?(w.position=["100%",H],I.align="right"):$-R.width/2<0&&(w.position=[0,H],I.align="left")}})},t.prototype.updateView=function(n,a,o,s){each$f(this._features,function(l){l instanceof ToolboxFeature&&l.updateView&&l.updateView(l.model,a,o,s)})},t.prototype.remove=function(n,a){each$f(this._features,function(o){o instanceof ToolboxFeature&&o.remove&&o.remove(n,a)}),this.group.removeAll()},t.prototype.dispose=function(n,a){each$f(this._features,function(o){o instanceof ToolboxFeature&&o.dispose&&o.dispose(n,a)})},t.type="toolbox",t}(ComponentView$1);function isUserFeatureName(r){return r.indexOf("my")===0}var ToolboxView$1=ToolboxView,SaveAsImage=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(n,a){var o=this.model,s=o.get("name")||n.get("title.0.text")||"echarts",l=a.getZr().painter.getType()==="svg",u=l?"svg":o.get("type",!0)||"png",f=a.getConnectedDataURL({type:u,backgroundColor:o.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")}),d=env$1.browser;if(isFunction(MouseEvent)&&(d.newEdge||!d.ie&&!d.edge)){var v=document.createElement("a");v.download=s+"."+u,v.target="_blank",v.href=f;var g=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});v.dispatchEvent(g)}else if(window.navigator.msSaveOrOpenBlob||l){var S=f.split(","),x=S[0].indexOf("base64")>-1,_=l?decodeURIComponent(S[1]):S[1];x&&(_=window.atob(_));var C=s+"."+u;if(window.navigator.msSaveOrOpenBlob){for(var T=_.length,w=new Uint8Array(T);T--;)w[T]=_.charCodeAt(T);var M=new Blob([w]);window.navigator.msSaveOrOpenBlob(M,C)}else{var D=document.createElement("iframe");document.body.appendChild(D);var I=D.contentWindow,R=I.document;R.open("image/svg+xml","replace"),R.write(_),R.close(),I.focus(),R.execCommand("SaveAs",!0,C),document.body.removeChild(D)}}else{var $=o.get("lang"),N='<body style="margin:0;"><img src="'+f+'" style="max-width:100%;" title="'+($&&$[0]||"")+'" /></body>',F=window.open();F.document.write(N),F.document.title=s}},t.getDefaultOption=function(n){var a={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return a},t}(ToolboxFeature),SaveAsImage$1=SaveAsImage,INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var n=this.model,a=n.get("icon"),o={};return each$f(n.get("type"),function(s){a[s]&&(o[s]=a[s])}),o},t.getDefaultOption=function(n){var a={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return a},t.prototype.onclick=function(n,a,o){var s=this.model,l=s.get(["seriesIndex",o]);if(!!seriesOptGenreator[o]){var u={series:[]},f=function(g){var S=g.subType,x=g.id,_=seriesOptGenreator[o](S,x,g,s);_&&(defaults(_,g.option),u.series.push(_));var C=g.coordinateSystem;if(C&&C.type==="cartesian2d"&&(o==="line"||o==="bar")){var T=C.getAxesByScale("ordinal")[0];if(T){var w=T.dim,M=w+"Axis",D=g.getReferringComponents(M,SINGLE_REFERRING).models[0],I=D.componentIndex;u[M]=u[M]||[];for(var R=0;R<=I;R++)u[M][I]=u[M][I]||{};u[M][I].boundaryGap=o==="bar"}}};each$f(radioTypes,function(g){indexOf(g,o)>=0&&each$f(g,function(S){s.setIconStatus(S,"normal")})}),s.setIconStatus(o,"emphasis"),n.eachComponent({mainType:"series",query:l==null?null:{seriesIndex:l}},f);var d,v=o;o==="stack"&&(d=merge({stack:s.option.title.tiled,tiled:s.option.title.stack},s.option.title),s.get(["iconStatus",o])!=="emphasis"&&(v="tiled")),a.dispatchAction({type:"changeMagicType",currentType:v,newOption:u,newTitle:d,featureName:"magicType"})}},t}(ToolboxFeature),seriesOptGenreator={line:function(r,t,n,a){if(r==="bar")return merge({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},a.get(["option","line"])||{},!0)},bar:function(r,t,n,a){if(r==="line")return merge({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},a.get(["option","bar"])||{},!0)},stack:function(r,t,n,a){var o=n.get("stack")===INNER_STACK_KEYWORD;if(r==="line"||r==="bar")return a.setIconStatus("stack",o?"normal":"emphasis"),merge({id:t,stack:o?"":INNER_STACK_KEYWORD},a.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var MagicType$1=MagicType,BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(r){var t={},n=[],a=[];return r.eachRawSeries(function(o){var s=o.coordinateSystem;if(s&&(s.type==="cartesian2d"||s.type==="polar")){var l=s.getBaseAxis();if(l.type==="category"){var u=l.dim+"_"+l.index;t[u]||(t[u]={categoryAxis:l,valueAxis:s.getOtherAxis(l),series:[]},a.push({axisDim:l.dim,axisIndex:l.index})),t[u].series.push(o)}else n.push(o)}else n.push(o)}),{seriesGroupByCategoryAxis:t,other:n,meta:a}}function assembleSeriesWithCategoryAxis(r){var t=[];return each$f(r,function(n,a){var o=n.categoryAxis,s=n.valueAxis,l=s.dim,u=[" "].concat(map$1(n.series,function(x){return x.name})),f=[o.model.getCategories()];each$f(n.series,function(x){var _=x.getRawData();f.push(x.getRawData().mapArray(_.mapDimension(l),function(C){return C}))});for(var d=[u.join(ITEM_SPLITER)],v=0;v<f[0].length;v++){for(var g=[],S=0;S<f.length;S++)g.push(f[S][v]);d.push(g.join(ITEM_SPLITER))}t.push(d.join(`
`))}),t.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(r){return map$1(r,function(t){var n=t.getRawData(),a=[t.name],o=[];return n.each(n.dimensions,function(){for(var s=arguments.length,l=arguments[s-1],u=n.getName(l),f=0;f<s-1;f++)o[f]=arguments[f];a.push((u?u+ITEM_SPLITER:"")+o.join(ITEM_SPLITER))}),a.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(r){var t=groupSeries(r);return{value:filter([assembleSeriesWithCategoryAxis(t.seriesGroupByCategoryAxis),assembleOtherSeries(t.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:t.meta}}function trim(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(r){for(var t=r.split(/\n+/g),n=trim(t.shift()).split(itemSplitRegex),a=[],o=map$1(n,function(f){return{name:f,data:[]}}),s=0;s<t.length;s++){var l=trim(t[s]).split(itemSplitRegex);a.push(l.shift());for(var u=0;u<l.length;u++)o[u]&&(o[u].data[s]=l[u])}return{series:o,categories:a}}function parseListContents(r){for(var t=r.split(/\n+/g),n=trim(t.shift()),a=[],o=0;o<t.length;o++){var s=trim(t[o]);if(!!s){var l=s.split(itemSplitRegex),u="",f=void 0,d=!1;isNaN(l[0])?(d=!0,u=l[0],l=l.slice(1),a[o]={name:u,value:[]},f=a[o].value):f=a[o]=[];for(var v=0;v<l.length;v++)f.push(+l[v]);f.length===1&&(d?a[o].value=f[0]:a[o]=f[0])}}return{name:n,data:a}}function parseContents(r,t){var n=r.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),a={series:[]};return each$f(n,function(o,s){if(isTSVFormat(o)){var l=parseTSVContents(o),u=t[s],f=u.axisDim+"Axis";u&&(a[f]=a[f]||[],a[f][u.axisIndex]={data:l.categories},a.series=a.series.concat(l.series))}else{var l=parseListContents(o);a.series.push(l)}}),a}var DataView=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(n,a){setTimeout(function(){a.dispatchAction({type:"hideTip"})});var o=a.getDom(),s=this.model;this._dom&&o.removeChild(this._dom);var l=document.createElement("div");l.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",l.style.backgroundColor=s.get("backgroundColor")||"#fff";var u=document.createElement("h4"),f=s.get("lang")||[];u.innerHTML=f[0]||s.get("title"),u.style.cssText="margin:10px 20px",u.style.color=s.get("textColor");var d=document.createElement("div"),v=document.createElement("textarea");d.style.cssText="overflow:auto";var g=s.get("optionToContent"),S=s.get("contentToOption"),x=getContentFromModel(n);if(isFunction(g)){var _=g(a.getOption());isString(_)?d.innerHTML=_:isDom(_)&&d.appendChild(_)}else{v.readOnly=s.get("readOnly");var C=v.style;C.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",C.color=s.get("textColor"),C.borderColor=s.get("textareaBorderColor"),C.backgroundColor=s.get("textareaColor"),v.value=x.value,d.appendChild(v)}var T=x.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:5px;left:0;right:0";var M="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",D=document.createElement("div"),I=document.createElement("div");M+=";background-color:"+s.get("buttonColor"),M+=";color:"+s.get("buttonTextColor");var R=this;function $(){o.removeChild(l),R._dom=null}addEventListener(D,"click",$),addEventListener(I,"click",function(){if(S==null&&g!=null||S!=null&&g==null){$();return}var N;try{isFunction(S)?N=S(d,a.getOption()):N=parseContents(v.value,T)}catch(F){throw $(),new Error("Data view format error "+F)}N&&a.dispatchAction({type:"changeDataView",newOption:N}),$()}),D.innerHTML=f[1],I.innerHTML=f[2],I.style.cssText=D.style.cssText=M,!s.get("readOnly")&&w.appendChild(I),w.appendChild(D),l.appendChild(u),l.appendChild(d),l.appendChild(w),d.style.height=o.clientHeight-80+"px",o.appendChild(l),this._dom=l},t.prototype.remove=function(n,a){this._dom&&a.getDom().removeChild(this._dom)},t.prototype.dispose=function(n,a){this.remove(n,a)},t.getDefaultOption=function(n){var a={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return a},t}(ToolboxFeature);function tryMergeDataOption(r,t){return map$1(r,function(n,a){var o=t&&t[a];if(isObject$4(o)&&!isArray$1(o)){var s=isObject$4(n)&&!isArray$1(n);s||(n={value:n});var l=o.name!=null&&n.name==null;return n=defaults(n,o),l&&delete n.name,n}else return n})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var n=[];each$f(r.newOption.series,function(a){var o=t.getSeriesByName(a.name)[0];if(!o)n.push(extend({type:"scatter"},a));else{var s=o.get("data");n.push({name:a.name,data:tryMergeDataOption(a.data,s)})}}),t.mergeOption(defaults({series:n},r.newOption))});var DataView$1=DataView,each$6=each$f,inner$6=makeInner();function push(r,t){var n=getStoreSnapshots(r);each$6(t,function(a,o){for(var s=n.length-1;s>=0;s--){var l=n[s];if(l[o])break}if(s<0){var u=r.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(u){var f=u.getPercentRange();n[0][o]={dataZoomId:o,start:f[0],end:f[1]}}}}),n.push(t)}function pop(r){var t=getStoreSnapshots(r),n=t[t.length-1];t.length>1&&t.pop();var a={};return each$6(n,function(o,s){for(var l=t.length-1;l>=0;l--)if(o=t[l][s],o){a[s]=o;break}}),a}function clear(r){inner$6(r).snapshots=null}function count(r){return getStoreSnapshots(r).length}function getStoreSnapshots(r){var t=inner$6(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var RestoreOption=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(n,a){clear(n),a.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(n){var a={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return a},t}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var Restore=RestoreOption,INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function r(t,n,a){var o=this;this._targetInfoList=[];var s=parseFinder(n,t);each$f(targetInfoBuilders,function(l,u){(!a||!a.include||indexOf(a.include,u)>=0)&&l(s,o._targetInfoList)})}return r.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,function(a,o,s){if((a.coordRanges||(a.coordRanges=[])).push(o),!a.coordRange){a.coordRange=o;var l=coordConvert[a.brushType](0,s,o);a.__rangeOffset={offset:diffProcessor[a.brushType](l.values,a.range,[1,1]),xyMinMax:l.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,n,a){each$f(t,function(o){var s=this.findTargetInfo(o,n);s&&s!==!0&&each$f(s.coordSyses,function(l){var u=coordConvert[o.brushType](1,l,o.range,!0);a(o,u.values,l,n)})},this)},r.prototype.setInputRanges=function(t,n){each$f(t,function(a){var o=this.findTargetInfo(a,n);if(a.range=a.range||[],o&&o!==!0){a.panelId=o.panelId;var s=coordConvert[a.brushType](0,o.coordSys,a.coordRange),l=a.__rangeOffset;a.range=l?diffProcessor[a.brushType](s.values,l.offset,getScales(s.xyMinMax,l.xyMinMax)):s.values}},this)},r.prototype.makePanelOpts=function(t,n){return map$1(this._targetInfoList,function(a){var o=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:n?n(a):null,clipPath:makeRectPanelClipPath(o),isTargetByCursor:makeRectIsTargetByCursor(o,t,a.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(o)}})},r.prototype.controlSeries=function(t,n,a){var o=this.findTargetInfo(t,a);return o===!0||o&&indexOf(o.coordSyses,n.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,n){for(var a=this._targetInfoList,o=parseFinder(n,t),s=0;s<a.length;s++){var l=a[s],u=t.panelId;if(u){if(l.panelId===u)return l}else for(var f=0;f<targetInfoMatchers.length;f++)if(targetInfoMatchers[f](o,l))return l}return!0},r}();function formatMinMax(r){return r[0]>r[1]&&r.reverse(),r}function parseFinder(r,t){return parseFinder$1(r,t,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(r,t){var n=r.xAxisModels,a=r.yAxisModels,o=r.gridModels,s=createHashMap(),l={},u={};!n&&!a&&!o||(each$f(n,function(f){var d=f.axis.grid.model;s.set(d.id,d),l[d.id]=!0}),each$f(a,function(f){var d=f.axis.grid.model;s.set(d.id,d),u[d.id]=!0}),each$f(o,function(f){s.set(f.id,f),l[f.id]=!0,u[f.id]=!0}),s.each(function(f){var d=f.coordinateSystem,v=[];each$f(d.getCartesians(),function(g,S){(indexOf(n,g.getAxis("x").model)>=0||indexOf(a,g.getAxis("y").model)>=0)&&v.push(g)}),t.push({panelId:"grid--"+f.id,gridModel:f,coordSysModel:f,coordSys:v[0],coordSyses:v,getPanelRect:panelRectBuilders.grid,xAxisDeclared:l[f.id],yAxisDeclared:u[f.id]})}))},geo:function(r,t){each$f(r.geoModels,function(n){var a=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:a,coordSyses:[a],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(r,t){var n=r.xAxisModel,a=r.yAxisModel,o=r.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&a&&(o=a.axis.grid.model),o&&o===t.gridModel},function(r,t){var n=r.geoModel;return n&&n===t.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(getTransform$1(r)),t}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(r,t,n,a){var o=r?t.pointToData([n[0][0],n[1][0]],a):t.dataToPoint([n[0][0],n[1][0]],a),s=r?t.pointToData([n[0][1],n[1][1]],a):t.dataToPoint([n[0][1],n[1][1]],a),l=[formatMinMax([o[0],s[0]]),formatMinMax([o[1],s[1]])];return{values:l,xyMinMax:l}},polygon:function(r,t,n,a){var o=[[1/0,-1/0],[1/0,-1/0]],s=map$1(n,function(l){var u=r?t.pointToData(l,a):t.dataToPoint(l,a);return o[0][0]=Math.min(o[0][0],u[0]),o[1][0]=Math.min(o[1][0],u[1]),o[0][1]=Math.max(o[0][1],u[0]),o[1][1]=Math.max(o[1][1],u[1]),u});return{values:s,xyMinMax:o}}};function axisConvert(r,t,n,a){var o=n.getAxis(["x","y"][r]),s=formatMinMax(map$1([0,1],function(u){return t?o.coordToData(o.toLocalCoord(a[u]),!0):o.toGlobalCoord(o.dataToCoord(a[u]))})),l=[];return l[r]=s,l[1-r]=[NaN,NaN],{values:s,xyMinMax:l}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(r,t,n){return[[r[0][0]-n[0]*t[0][0],r[0][1]-n[0]*t[0][1]],[r[1][0]-n[1]*t[1][0],r[1][1]-n[1]*t[1][1]]]},polygon:function(r,t,n){return map$1(r,function(a,o){return[a[0]-n[0]*t[o][0],a[1]-n[1]*t[o][1]]})}};function axisDiffProcessor(r,t,n,a){return[t[0]-a[r]*n[0],t[1]-a[r]*n[1]]}function getScales(r,t){var n=getSize(r),a=getSize(t),o=[n[0]/a[0],n[1]/a[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function getSize(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var BrushTargetManager$1=BrushTargetManager,each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(n,a,o,s){this._brushController||(this._brushController=new BrushController$1(o.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(n,a,this,s,o),updateBackBtnStatus(n,a)},t.prototype.onclick=function(n,a,o){handlers[o].call(this)},t.prototype.remove=function(n,a){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(n,a){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(n){var a=n.areas;if(!n.isEnd||!a.length)return;var o={},s=this.ecModel;this._brushController.updateCovers([]);var l=new BrushTargetManager$1(makeAxisFinder(this.model),s,{include:["grid"]});l.matchOutputRanges(a,s,function(d,v,g){if(g.type==="cartesian2d"){var S=d.brushType;S==="rect"?(u("x",g,v[0]),u("y",g,v[1])):u({lineX:"x",lineY:"y"}[S],g,v)}}),push(s,o),this._dispatchZoomAction(o);function u(d,v,g){var S=v.getAxis(d),x=S.model,_=f(d,x,s),C=_.findRepresentativeAxisProxy(x).getMinMaxSpan();(C.minValueSpan!=null||C.maxValueSpan!=null)&&(g=sliderMove(0,g.slice(),S.scale.getExtent(),0,C.minValueSpan,C.maxValueSpan)),_&&(o[_.id]={dataZoomId:_.id,startValue:g[0],endValue:g[1]})}function f(d,v,g){var S;return g.eachComponent({mainType:"dataZoom",subType:"select"},function(x){var _=x.getAxisModel(d,v.componentIndex);_&&(S=x)}),S}},t.prototype._dispatchZoomAction=function(n){var a=[];each$5(n,function(o,s){a.push(clone$4(o))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},t.getDefaultOption=function(n){var a={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return a},t}(ToolboxFeature),handlers={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function updateBackBtnStatus(r,t){r.setIconStatus("back",count(t)>1?"emphasis":"normal")}function updateZoomBtnStatus(r,t,n,a,o){var s=n._isZoomActive;a&&a.type==="takeGlobalCursor"&&(s=a.key==="dataZoomSelect"?a.dataZoomSelectActive:!1),n._isZoomActive=s,r.setIconStatus("zoom",s?"emphasis":"normal");var l=new BrushTargetManager$1(makeAxisFinder(r),t,{include:["grid"]}),u=l.makePanelOpts(o,function(f){return f.xAxisDeclared&&!f.yAxisDeclared?"lineX":!f.xAxisDeclared&&f.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(u).enableBrush(s&&u.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(r){var t=r.getComponent("toolbox",0),n=["feature","dataZoom"];if(!t||t.get(n)==null)return;var a=t.getModel(n),o=[],s=makeAxisFinder(a),l=parseFinder$1(r,s);each$5(l.xAxisModels,function(f){return u(f,"xAxis","xAxisIndex")}),each$5(l.yAxisModels,function(f){return u(f,"yAxis","yAxisIndex")});function u(f,d,v){var g=f.componentIndex,S={type:"select",$fromToolbox:!0,filterMode:a.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+d+g};S[v]=g,o.push(S)}return o});var DataZoom=DataZoomFeature;function install$j(r){r.registerComponentModel(ToolboxModel$1),r.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$k)}var TooltipModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(ComponentModel$1),TooltipModel$1=TooltipModel;function shouldTooltipConfine(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function testStyle(r){if(!!env$1.domSupported){for(var t=document.documentElement.style,n=0,a=r.length;n<a;n++)if(r[n]in t)return r[n]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,t){if(!r)return t;t=toCamelCase(t,!0);var n=r.indexOf(t);return r=n===-1?t:"-"+r.slice(0,n)+"-"+t,r.toLowerCase()}function getComputedStyle$1(r,t){var n=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return n?t?n[t]:n:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,t,n){if(!isString(n)||n==="inside")return"";var a=r.get("backgroundColor"),o=r.get("borderWidth");t=convertToColorString(t);var s=mirrorPos(n),l=Math.max(Math.round(o)*1.5,6),u="",f=CSS_TRANSFORM_VENDOR+":",d;indexOf(["left","right"],s)>-1?(u+="top:50%",f+="translateY(-50%) rotate("+(d=s==="left"?-225:-45)+"deg)"):(u+="left:50%",f+="translateX(-50%) rotate("+(d=s==="top"?225:45)+"deg)");var v=d*Math.PI/180,g=l+o,S=g*Math.abs(Math.cos(v))+g*Math.abs(Math.sin(v)),x=Math.round(((S-Math.SQRT2*o)/2+Math.SQRT2*o-(S-g)/2)*100)/100;u+=";"+s+":-"+x+"px";var _=t+" solid "+o+"px;",C=["position:absolute;width:"+l+"px;height:"+l+"px;",u+";"+f+";","border-bottom:"+_,"border-right:"+_,"background-color:"+a+";"];return'<div style="'+C.join("")+'"></div>'}function assembleTransition(r,t){var n="cubic-bezier(0.23,1,0.32,1)",a=" "+r/2+"s "+n,o="opacity"+a+",visibility"+a;return t||(a=" "+r+"s "+n,o+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+a:",left"+a+",top"+a),CSS_TRANSITION_VENDOR+":"+o}function assembleTransform(r,t,n){var a=r.toFixed(0)+"px",o=t.toFixed(0)+"px";if(!env$1.transformSupported)return n?"top:"+o+";left:"+a+";":[["top",o],["left",a]];var s=env$1.transform3dSupported,l="translate"+(s?"3d":"")+"("+a+","+o+(s?",0":"")+")";return n?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+l+";":[["top",0],["left",0],[TRANSFORM_VENDOR,l]]}function assembleFont(r){var t=[],n=r.get("fontSize"),a=r.getTextColor();a&&t.push("color:"+a),t.push("font:"+r.getFont()),n&&t.push("line-height:"+Math.round(n*3/2)+"px");var o=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,l=r.get("textShadowOffsetX")||0,u=r.get("textShadowOffsetY")||0;return o&&s&&t.push("text-shadow:"+l+"px "+u+"px "+s+"px "+o),each$f(["decoration","align"],function(f){var d=r.get(f);d&&t.push("text-"+f+":"+d)}),t.join(";")}function assembleCssText(r,t,n){var a=[],o=r.get("transitionDuration"),s=r.get("backgroundColor"),l=r.get("shadowBlur"),u=r.get("shadowColor"),f=r.get("shadowOffsetX"),d=r.get("shadowOffsetY"),v=r.getModel("textStyle"),g=getPaddingFromTooltipModel(r,"html"),S=f+"px "+d+"px "+l+"px "+u;return a.push("box-shadow:"+S),t&&o&&a.push(assembleTransition(o,n)),s&&a.push("background-color:"+s),each$f(["width","color","radius"],function(x){var _="border-"+x,C=toCamelCase(_),T=r.get(C);T!=null&&a.push(_+":"+T+(x==="color"?"":"px"))}),a.push(assembleFont(v)),g!=null&&a.push("padding:"+normalizeCssArray(g).join("px ")+"px"),a.join(";")+";"}function makeStyleCoord$1(r,t,n,a,o){var s=t&&t.painter;if(n){var l=s&&s.getViewportRoot();l&&transformLocalCoord(r,l,document.body,a,o)}else{r[0]=a,r[1]=o;var u=s&&s.getViewportRootOffset();u&&(r[0]+=u.offsetLeft,r[1]+=u.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var TooltipHTMLContent=function(){function r(t,n,a){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var s=this._zr=n.getZr(),l=this._appendToBody=a&&a.appendToBody;makeStyleCoord$1(this._styleCoord,s,l,n.getWidth()/2,n.getHeight()/2),l?document.body.appendChild(o):t.appendChild(o),this._container=t;var u=this;o.onmouseenter=function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0},o.onmousemove=function(f){if(f=f||window.event,!u._enterable){var d=s.handler,v=s.painter.getViewportRoot();normalizeEvent(v,f,!0),d.dispatch("mousemove",f)}},o.onmouseleave=function(){u._inContent=!1,u._enterable&&u._show&&u.hideLater(u._hideDelay)}}return r.prototype.update=function(t){var n=this._container,a=getComputedStyle$1(n,"position"),o=n.style;o.position!=="absolute"&&a!=="absolute"&&(o.position="relative");var s=t.get("alwaysShowContent");s&&this._moveIfResized(),this.el.className=t.get("className")||""},r.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el,o=a.style,s=this._styleCoord;a.innerHTML?o.cssText=gCssText+assembleCssText(t,!this._firstShow,this._longHide)+assembleTransform(s[0],s[1],!0)+("border-color:"+convertToColorString(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):o.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,n,a,o,s){var l=this.el;if(t==null){l.innerHTML="";return}var u="";if(isString(s)&&a.get("trigger")==="item"&&!shouldTooltipConfine(a)&&(u=assembleArrow(a,o,s)),isString(t))l.innerHTML=t+u;else if(t){l.innerHTML="",isArray$1(t)||(t=[t]);for(var f=0;f<t.length;f++)isDom(t[f])&&t[f].parentNode!==l&&l.appendChild(t[f]);if(u&&l.childNodes.length){var d=document.createElement("div");d.innerHTML=u,l.appendChild(d)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},r.prototype.moveTo=function(t,n){var a=this._styleCoord;if(makeStyleCoord$1(a,this._zr,this._appendToBody,t,n),a[0]!=null&&a[1]!=null){var o=this.el.style,s=assembleTransform(a[0],a[1]);each$f(s,function(l){o[l[0]]=l[1]})}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},r.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",env$1.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},r}(),TooltipHTMLContent$1=TooltipHTMLContent,TooltipRichContent=function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),makeStyleCoord(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized()},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,n,a,o,s){var l=this;isObject$4(t)&&throwError(""),this.el&&this._zr.remove(this.el);var u=a.getModel("textStyle");this.el=new ZRText$1({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:u.get("textShadowColor"),fill:a.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(a,"richText"),verticalAlign:"top",align:"left"},z:a.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(d){l.el.style[d]=a.get(d)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(d){l.el.style[d]=u.get(d)||0}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),a=calcShadowOuterSize(t.style);return[n.width+a.left+a.right,n.height+a.top+a.bottom]},r.prototype.moveTo=function(t,n){var a=this.el;if(a){var o=this._styleCoord;makeStyleCoord(o,this._zr,t,n),t=o[0],n=o[1];var s=a.style,l=mathMaxWith0(s.borderWidth||0),u=calcShadowOuterSize(s);a.x=t+l+u.left,a.y=n+l+u.top,a.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var t=mathMaxWith0(r.shadowBlur||0),n=mathMaxWith0(r.shadowOffsetX||0),a=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(t-n),right:mathMaxWith0(t+n),top:mathMaxWith0(t-a),bottom:mathMaxWith0(t+a)}}function makeStyleCoord(r,t,n,a){r[0]=n,r[1]=a,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var TooltipRichContent$1=TooltipRichContent,proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a){if(!(env$1.node||!a.getDom())){var o=n.getComponent("tooltip"),s=this._renderMode=getTooltipRenderMode(o.get("renderMode"));this._tooltipContent=s==="richText"?new TooltipRichContent$1(a):new TooltipHTMLContent$1(a.getDom(),a,{appendToBody:o.get("appendToBody",!0)})}},t.prototype.render=function(n,a,o){if(!(env$1.node||!o.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=a,this._api=o,this._alwaysShowContent=n.get("alwaysShowContent");var s=this._tooltipContent;s.update(n),s.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,a=n.get("triggerOn");register("itemTooltip",this._api,bind$1(function(o,s,l){a!=="none"&&(a.indexOf(o)>=0?this._tryShow(s,l):o==="leave"&&this._hide(l))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,a=this._ecModel,o=this._api;if(this._lastX!=null&&this._lastY!=null&&n.get("triggerOn")!=="none"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!o.isDisposed()&&s.manuallyShowTip(n,a,o,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,a,o,s){if(!(s.from===this.uid||env$1.node||!o.getDom())){var l=makeDispatchAction(s,o);this._ticket="";var u=s.dataByCoordSys,f=findComponentReference(s,a,o);if(f){var d=f.el.getBoundingRect().clone();d.applyTransform(f.el.transform),this._tryShow({offsetX:d.x+d.width/2,offsetY:d.y+d.height/2,target:f.el,position:s.position,positionDefault:"bottom"},l)}else if(s.tooltip&&s.x!=null&&s.y!=null){var v=proxyRect;v.x=s.x,v.y=s.y,v.update(),getECData(v).tooltipConfig={name:null,option:s.tooltip},this._tryShow({offsetX:s.x,offsetY:s.y,target:v},l)}else if(u)this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,dataByCoordSys:u,tooltipOption:s.tooltipOption},l);else if(s.seriesIndex!=null){if(this._manuallyAxisShowTip(n,a,o,s))return;var g=findPointFromSeries(s,a),S=g.point[0],x=g.point[1];S!=null&&x!=null&&this._tryShow({offsetX:S,offsetY:x,target:g.el,position:s.position,positionDefault:"bottom"},l)}else s.x!=null&&s.y!=null&&(o.dispatchAction({type:"updateAxisPointer",x:s.x,y:s.y}),this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,target:o.getZr().findHover(s.x,s.y).target},l))}},t.prototype.manuallyHideTip=function(n,a,o,s){var l=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&l.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,s.from!==this.uid&&this._hide(makeDispatchAction(s,o))},t.prototype._manuallyAxisShowTip=function(n,a,o,s){var l=s.seriesIndex,u=s.dataIndex,f=a.getComponent("axisPointer").coordSysAxesInfo;if(!(l==null||u==null||f==null)){var d=a.getSeriesByIndex(l);if(!!d){var v=d.getData(),g=buildTooltipModel([v.getItemModel(u),d,(d.coordinateSystem||{}).model],this._tooltipModel);if(g.get("trigger")==="axis")return o.dispatchAction({type:"updateAxisPointer",seriesIndex:l,dataIndex:u,position:s.position}),!0}}},t.prototype._tryShow=function(n,a){var o=n.target,s=this._tooltipModel;if(!!s){this._lastX=n.offsetX,this._lastY=n.offsetY;var l=n.dataByCoordSys;if(l&&l.length)this._showAxisTooltip(l,n);else if(o){this._lastDataByCoordSys=null;var u,f;findEventDispatcher(o,function(d){if(getECData(d).dataIndex!=null)return u=d,!0;if(getECData(d).tooltipConfig!=null)return f=d,!0},!0),u?this._showSeriesItemTooltip(n,u,a):f?this._showComponentItemTooltip(n,f,a):this._hide(a)}else this._lastDataByCoordSys=null,this._hide(a)}},t.prototype._showOrMove=function(n,a){var o=n.get("showDelay");a=bind$1(a,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(a,o):a()},t.prototype._showAxisTooltip=function(n,a){var o=this._ecModel,s=this._tooltipModel,l=[a.offsetX,a.offsetY],u=buildTooltipModel([a.tooltipOption],s),f=this._renderMode,d=[],v=createTooltipMarkup("section",{blocks:[],noHeader:!0}),g=[],S=new TooltipMarkupStyleCreator;each$f(n,function(M){each$f(M.dataByAxis,function(D){var I=o.getComponent(D.axisDim+"Axis",D.axisIndex),R=D.value;if(!(!I||R==null)){var $=getValueLabel(R,I.axis,o,D.seriesDataIndices,D.valueLabelOpt),N=createTooltipMarkup("section",{header:$,noHeader:!trim$1($),sortBlocks:!0,blocks:[]});v.blocks.push(N),each$f(D.seriesDataIndices,function(F){var H=o.getSeriesByIndex(F.seriesIndex),Y=F.dataIndexInside,G=H.getDataParams(Y);if(!(G.dataIndex<0)){G.axisDim=D.axisDim,G.axisIndex=D.axisIndex,G.axisType=D.axisType,G.axisId=D.axisId,G.axisValue=getAxisRawValue(I.axis,{value:R}),G.axisValueLabel=$,G.marker=S.makeTooltipMarker("item",convertToColorString(G.color),f);var K=normalizeTooltipFormatResult(H.formatTooltip(Y,!0,null)),Z=K.frag;if(Z){var J=buildTooltipModel([H],s).get("valueFormatter");N.blocks.push(J?extend({valueFormatter:J},Z):Z)}K.text&&g.push(K.text),d.push(G)}})}})}),v.blocks.reverse(),g.reverse();var x=a.position,_=u.get("order"),C=buildTooltipMarkup(v,S,f,_,o.get("useUTC"),u.get("textStyle"));C&&g.unshift(C);var T=f==="richText"?`

`:"<br/>",w=g.join(T);this._showOrMove(u,function(){this._updateContentNotChangedOnAxis(n,d)?this._updatePosition(u,x,l[0],l[1],this._tooltipContent,d):this._showTooltipContent(u,w,d,Math.random()+"",l[0],l[1],x,null,S)})},t.prototype._showSeriesItemTooltip=function(n,a,o){var s=this._ecModel,l=getECData(a),u=l.seriesIndex,f=s.getSeriesByIndex(u),d=l.dataModel||f,v=l.dataIndex,g=l.dataType,S=d.getData(g),x=this._renderMode,_=n.positionDefault,C=buildTooltipModel([S.getItemModel(v),d,f&&(f.coordinateSystem||{}).model],this._tooltipModel,_?{position:_}:null),T=C.get("trigger");if(!(T!=null&&T!=="item")){var w=d.getDataParams(v,g),M=new TooltipMarkupStyleCreator;w.marker=M.makeTooltipMarker("item",convertToColorString(w.color),x);var D=normalizeTooltipFormatResult(d.formatTooltip(v,!1,g)),I=C.get("order"),R=C.get("valueFormatter"),$=D.frag,N=$?buildTooltipMarkup(R?extend({valueFormatter:R},$):$,M,x,I,s.get("useUTC"),C.get("textStyle")):D.text,F="item_"+d.name+"_"+v;this._showOrMove(C,function(){this._showTooltipContent(C,N,w,F,n.offsetX,n.offsetY,n.position,n.target,M)}),o({type:"showTip",dataIndexInside:v,dataIndex:S.getRawIndex(v),seriesIndex:u,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,a,o){var s=getECData(a),l=s.tooltipConfig,u=l.option||{};if(isString(u)){var f=u;u={content:f,formatter:f}}var d=[u],v=this._ecModel.getComponent(s.componentMainType,s.componentIndex);v&&d.push(v),d.push({formatter:u.content});var g=n.positionDefault,S=buildTooltipModel(d,this._tooltipModel,g?{position:g}:null),x=S.get("content"),_=Math.random()+"",C=new TooltipMarkupStyleCreator;this._showOrMove(S,function(){var T=clone$4(S.get("formatterParams")||{});this._showTooltipContent(S,x,T,_,n.offsetX,n.offsetY,n.position,a,C)}),o({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,a,o,s,l,u,f,d,v){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var g=this._tooltipContent;g.setEnterable(n.get("enterable"));var S=n.get("formatter");f=f||n.get("position");var x=a,_=this._getNearestPoint([l,u],o,n.get("trigger"),n.get("borderColor")),C=_.color;if(S)if(isString(S)){var T=n.ecModel.get("useUTC"),w=isArray$1(o)?o[0]:o,M=w&&w.axisType&&w.axisType.indexOf("time")>=0;x=S,M&&(x=format(w.axisValue,x,T)),x=formatTpl(x,o,!0)}else if(isFunction(S)){var D=bind$1(function(I,R){I===this._ticket&&(g.setContent(R,v,n,C,f),this._updatePosition(n,f,l,u,g,o,d))},this);this._ticket=s,x=S(o,s,D)}else x=S;g.setContent(x,v,n,C,f),g.show(n,C),this._updatePosition(n,f,l,u,g,o,d)}},t.prototype._getNearestPoint=function(n,a,o,s){if(o==="axis"||isArray$1(a))return{color:s||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(a))return{color:s||a.color||a.borderColor}},t.prototype._updatePosition=function(n,a,o,s,l,u,f){var d=this._api.getWidth(),v=this._api.getHeight();a=a||n.get("position");var g=l.getSize(),S=n.get("align"),x=n.get("verticalAlign"),_=f&&f.getBoundingRect().clone();if(f&&_.applyTransform(f.transform),isFunction(a)&&(a=a([o,s],u,l.el,_,{viewSize:[d,v],contentSize:g.slice()})),isArray$1(a))o=parsePercent(a[0],d),s=parsePercent(a[1],v);else if(isObject$4(a)){var C=a;C.width=g[0],C.height=g[1];var T=getLayoutRect(C,{width:d,height:v});o=T.x,s=T.y,S=null,x=null}else if(isString(a)&&f){var w=calcTooltipPosition(a,_,g,n.get("borderWidth"));o=w[0],s=w[1]}else{var w=refixTooltipPosition(o,s,l,d,v,S?null:20,x?null:20);o=w[0],s=w[1]}if(S&&(o-=isCenterAlign(S)?g[0]/2:S==="right"?g[0]:0),x&&(s-=isCenterAlign(x)?g[1]/2:x==="bottom"?g[1]:0),shouldTooltipConfine(n)){var w=confineTooltipPosition(o,s,l,d,v);o=w[0],s=w[1]}l.moveTo(o,s)},t.prototype._updateContentNotChangedOnAxis=function(n,a){var o=this._lastDataByCoordSys,s=this._cbParamsList,l=!!o&&o.length===n.length;return l&&each$f(o,function(u,f){var d=u.dataByAxis||[],v=n[f]||{},g=v.dataByAxis||[];l=l&&d.length===g.length,l&&each$f(d,function(S,x){var _=g[x]||{},C=S.seriesDataIndices||[],T=_.seriesDataIndices||[];l=l&&S.value===_.value&&S.axisType===_.axisType&&S.axisId===_.axisId&&C.length===T.length,l&&each$f(C,function(w,M){var D=T[M];l=l&&w.seriesIndex===D.seriesIndex&&w.dataIndex===D.dataIndex}),s&&each$f(S.seriesDataIndices,function(w){var M=w.seriesIndex,D=a[M],I=s[M];D&&I&&I.data!==D.data&&(l=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=a,!!l},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,a){env$1.node||!a.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",a))},t.type="tooltip",t}(ComponentView$1);function buildTooltipModel(r,t,n){var a=t.ecModel,o;n?(o=new Model$1(n,a,a),o=new Model$1(t.option,o,a)):o=t;for(var s=r.length-1;s>=0;s--){var l=r[s];l&&(l instanceof Model$1&&(l=l.get("tooltip",!0)),isString(l)&&(l={formatter:l}),l&&(o=new Model$1(l,o,a)))}return o}function makeDispatchAction(r,t){return r.dispatchAction||bind$1(t.dispatchAction,t)}function refixTooltipPosition(r,t,n,a,o,s,l){var u=n.getSize(),f=u[0],d=u[1];return s!=null&&(r+f+s+2>a?r-=f+s:r+=s),l!=null&&(t+d+l>o?t-=d+l:t+=l),[r,t]}function confineTooltipPosition(r,t,n,a,o){var s=n.getSize(),l=s[0],u=s[1];return r=Math.min(r+l,a)-l,t=Math.min(t+u,o)-u,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function calcTooltipPosition(r,t,n,a){var o=n[0],s=n[1],l=Math.ceil(Math.SQRT2*a)+8,u=0,f=0,d=t.width,v=t.height;switch(r){case"inside":u=t.x+d/2-o/2,f=t.y+v/2-s/2;break;case"top":u=t.x+d/2-o/2,f=t.y-s-l;break;case"bottom":u=t.x+d/2-o/2,f=t.y+v+l;break;case"left":u=t.x-o-l,f=t.y+v/2-s/2;break;case"right":u=t.x+d+l,f=t.y+v/2-s/2}return[u,f]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,t,n){var a=preParseFinder(r).queryOptionMap,o=a.keys()[0];if(!(!o||o==="series")){var s=queryReferringComponents(t,o,a.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}),l=s.models[0];if(!!l){var u=n.getViewOfComponentModel(l),f;if(u.group.traverse(function(d){var v=getECData(d).tooltipConfig;if(v&&v.name===r.name)return f=d,!0}),f)return{componentMainType:o,componentIndex:l.componentIndex,el:f}}}}var TooltipView$1=TooltipView;function install$i(r){use(install$q),r.registerComponentModel(TooltipModel$1),r.registerComponentView(TooltipView$1),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(r,t){var n=normalizeToArray(r?r.brush:[]);if(!!n.length){var a=[];each$f(n,function(f){var d=f.hasOwnProperty("toolbox")?f.toolbox:[];d instanceof Array&&(a=a.concat(d))});var o=r&&r.toolbox;isArray$1(o)&&(o=o[0]),o||(o={feature:{}},r.toolbox=[o]);var s=o.feature||(o.feature={}),l=s.brush||(s.brush={}),u=l.type||(l.type=[]);u.push.apply(u,a),removeDuplicate(u),t&&!u.length&&u.push.apply(u,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(r){var t={};each$f(r,function(n){t[n]=1}),r.length=0,each$f(t,function(n,a){r.push(a)})}var each$4=each$f;function hasKeys(r){if(r){for(var t in r)if(r.hasOwnProperty(t))return!0}}function createVisualMappings(r,t,n){var a={};return each$4(t,function(s){var l=a[s]=o();each$4(r[s],function(u,f){if(!!VisualMapping$1.isValidType(f)){var d={type:f,visual:u};n&&n(d,s),l[f]=new VisualMapping$1(d),f==="opacity"&&(d=clone$4(d),d.type="colorAlpha",l.__hidden.__alphaForOpacity=new VisualMapping$1(d))}})}),a;function o(){var s=function(){};s.prototype.__hidden=s.prototype;var l=new s;return l}}function replaceVisualOption(r,t,n){var a;each$f(n,function(o){t.hasOwnProperty(o)&&hasKeys(t[o])&&(a=!0)}),a&&each$f(n,function(o){t.hasOwnProperty(o)&&hasKeys(t[o])?r[o]=clone$4(t[o]):delete r[o]})}function applyVisual(r,t,n,a,o,s){var l={};each$f(r,function(g){var S=VisualMapping$1.prepareVisualTypes(t[g]);l[g]=S});var u;function f(g){return getItemVisualFromData(n,u,g)}function d(g,S){setItemVisualFromData(n,u,g,S)}s==null?n.each(v):n.each([s],v);function v(g,S){u=s==null?g:S;var x=n.getRawDataItem(u);if(!(x&&x.visualMap===!1))for(var _=a.call(o,g),C=t[_],T=l[_],w=0,M=T.length;w<M;w++){var D=T[w];C[D]&&C[D].applyVisual(g,f,d)}}}function incrementalApplyVisual(r,t,n,a){var o={};return each$f(r,function(s){var l=VisualMapping$1.prepareVisualTypes(t[s]);o[s]=l}),{progress:function(l,u){var f;a!=null&&(f=u.getDimensionIndex(a));function d(R){return getItemVisualFromData(u,g,R)}function v(R,$){setItemVisualFromData(u,g,R,$)}for(var g,S=u.getStore();(g=l.next())!=null;){var x=u.getRawDataItem(g);if(!(x&&x.visualMap===!1))for(var _=a!=null?S.get(f,g):g,C=n(_),T=t[C],w=o[C],M=0,D=w.length;M<D;M++){var I=w[M];T[I]&&T[I].applyVisual(_,d,v)}}}}}function makeBrushCommonSelectorForSeries(r){var t=r.brushType,n={point:function(a){return selector[t].point(a,n,r)},rect:function(a){return selector[t].rect(a,n,r)}};return n}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(r,t,n){return r&&n.boundingRect.contain(r[0],r[1])},rect:function(r,t,n){return r&&n.boundingRect.intersect(r)}},polygon:{point:function(r,t,n){return r&&n.boundingRect.contain(r[0],r[1])&&contain(n.range,r[0],r[1])},rect:function(r,t,n){var a=n.range;if(!r||a.length<=1)return!1;var o=r.x,s=r.y,l=r.width,u=r.height,f=a[0];if(contain(a,o,s)||contain(a,o+l,s)||contain(a,o,s+u)||contain(a,o+l,s+u)||BoundingRect$1.create(r).contain(f[0],f[1])||linePolygonIntersect(o,s,o+l,s,a)||linePolygonIntersect(o,s,o,s+u,a)||linePolygonIntersect(o+l,s,o+l,s+u,a)||linePolygonIntersect(o,s+u,o+l,s+u,a))return!0}}};function getLineSelectors(r){var t=["x","y"],n=["width","height"];return{point:function(a,o,s){if(a){var l=s.range,u=a[r];return inLineRange(u,l)}},rect:function(a,o,s){if(a){var l=s.range,u=[a[t[r]],a[t[r]]+a[n[r]]];return u[1]<u[0]&&u.reverse(),inLineRange(u[0],l)||inLineRange(u[1],l)||inLineRange(l[0],u)||inLineRange(l[1],u)}}}}function inLineRange(r,t){return t[0]<=r&&r<=t[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(r){r.eachComponent({mainType:"brush"},function(t){var n=t.brushTargetManager=new BrushTargetManager$1(t.option,r);n.setInputRanges(t.areas,r)})}function brushVisual(r,t,n){var a=[],o,s;r.eachComponent({mainType:"brush"},function(l){n&&n.type==="takeGlobalCursor"&&l.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),layoutCovers(r),r.eachComponent({mainType:"brush"},function(l,u){var f={brushId:l.id,brushIndex:u,brushName:l.name,areas:clone$4(l.areas),selected:[]};a.push(f);var d=l.option,v=d.brushLink,g=[],S=[],x=[],_=!1;u||(o=d.throttleType,s=d.throttleDelay);var C=map$1(l.areas,function(R){var $=boundingRectBuilders[R.brushType],N=defaults({boundingRect:$?$(R):void 0},R);return N.selectors=makeBrushCommonSelectorForSeries(N),N}),T=createVisualMappings(l.option,STATE_LIST,function(R){R.mappingMethod="fixed"});isArray$1(v)&&each$f(v,function(R){g[R]=1});function w(R){return v==="all"||!!g[R]}function M(R){return!!R.length}r.eachSeries(function(R,$){var N=x[$]=[];R.subType==="parallel"?D(R,$):I(R,$,N)});function D(R,$){var N=R.coordinateSystem;_=_||N.hasAxisBrushed(),w($)&&N.eachActiveState(R.getData(),function(F,H){F==="active"&&(S[H]=1)})}function I(R,$,N){if(!(!R.brushSelector||brushModelNotControll(l,$))&&(each$f(C,function(H){l.brushTargetManager.controlSeries(H,R,r)&&N.push(H),_=_||M(N)}),w($)&&M(N))){var F=R.getData();F.each(function(H){checkInRange(R,N,F,H)&&(S[H]=1)})}}r.eachSeries(function(R,$){var N={seriesId:R.id,seriesIndex:$,seriesName:R.name,dataIndex:[]};f.selected.push(N);var F=x[$],H=R.getData(),Y=w($)?function(G){return S[G]?(N.dataIndex.push(H.getRawIndex(G)),"inBrush"):"outOfBrush"}:function(G){return checkInRange(R,F,H,G)?(N.dataIndex.push(H.getRawIndex(G)),"inBrush"):"outOfBrush"};(w($)?_:M(F))&&applyVisual(STATE_LIST,T,H,Y)})}),dispatchAction$1(t,o,s,a,n)}function dispatchAction$1(r,t,n,a,o){if(!!o){var s=r.getZr();if(!s[DISPATCH_FLAG]){s[DISPATCH_METHOD]||(s[DISPATCH_METHOD]=doDispatch);var l=createOrUpdate(s,DISPATCH_METHOD,n,t);l(r,a)}}}function doDispatch(r,t){if(!r.isDisposed()){var n=r.getZr();n[DISPATCH_FLAG]=!0,r.dispatchAction({type:"brushSelect",batch:t}),n[DISPATCH_FLAG]=!1}}function checkInRange(r,t,n,a){for(var o=0,s=t.length;o<s;o++){var l=t[o];if(r.brushSelector(a,n,l.selectors,l))return!0}}function brushModelNotControll(r,t){var n=r.option.seriesIndex;return n!=null&&n!=="all"&&(isArray$1(n)?indexOf(n,t)<0:t!==n)}var boundingRectBuilders={rect:function(r){return getBoundingRectFromMinMax(r.range)},polygon:function(r){for(var t,n=r.range,a=0,o=n.length;a<o;a++){t=t||[[1/0,-1/0],[1/0,-1/0]];var s=n[a];s[0]<t[0][0]&&(t[0][0]=s[0]),s[0]>t[0][1]&&(t[0][1]=s[0]),s[1]<t[1][0]&&(t[1][0]=s[1]),s[1]>t[1][1]&&(t[1][1]=s[1])}return t&&getBoundingRectFromMinMax(t)}};function getBoundingRectFromMinMax(r){return new BoundingRect$1(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var BrushView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a){this.ecModel=n,this.api=a,this.model,(this._brushController=new BrushController$1(a.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},t.prototype.render=function(n,a,o,s){this.model=n,this._updateController(n,a,o,s)},t.prototype.updateTransform=function(n,a,o,s){layoutCovers(a),this._updateController(n,a,o,s)},t.prototype.updateVisual=function(n,a,o,s){this.updateTransform(n,a,o,s)},t.prototype.updateView=function(n,a,o,s){this._updateController(n,a,o,s)},t.prototype._updateController=function(n,a,o,s){(!s||s.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(o)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(n){var a=this.model.id,o=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:a,areas:clone$4(o),$from:a}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:a,areas:clone$4(o),$from:a})},t.type="brush",t}(ComponentView$1),BrushView$1=BrushView,DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return t.prototype.optionUpdated=function(n,a){var o=this.option;!a&&replaceVisualOption(o,n,["inBrush","outOfBrush"]);var s=o.inBrush=o.inBrush||{};o.outOfBrush=o.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},s.hasOwnProperty("liftZ")||(s.liftZ=5)},t.prototype.setAreas=function(n){!n||(this.areas=map$1(n,function(a){return generateBrushOption(this.option,a)},this))},t.prototype.setBrushOption=function(n){this.brushOption=generateBrushOption(this.option,n),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(ComponentModel$1);function generateBrushOption(r,t){return merge({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Model$1(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,!0)}var BrushModel$1=BrushModel,ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(r){__extends$1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(n,a,o){var s,l,u;a.eachComponent({mainType:"brush"},function(f){s=f.brushType,l=f.brushOption.brushMode||"single",u=u||!!f.areas.length}),this._brushType=s,this._brushMode=l,each$f(n.get("type",!0),function(f){n.setIconStatus(f,(f==="keep"?l==="multiple":f==="clear"?u:f===s)?"emphasis":"normal")})},t.prototype.updateView=function(n,a,o){this.render(n,a,o)},t.prototype.getIcons=function(){var n=this.model,a=n.get("icon",!0),o={};return each$f(n.get("type",!0),function(s){a[s]&&(o[s]=a[s])}),o},t.prototype.onclick=function(n,a,o){var s=this._brushType,l=this._brushMode;o==="clear"?(a.dispatchAction({type:"axisAreaSelect",intervals:[]}),a.dispatchAction({type:"brush",command:"clear",areas:[]})):a.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:o==="keep"?s:s===o?!1:o,brushMode:o==="keep"?l==="multiple"?"single":"multiple":l}})},t.getDefaultOption=function(n){var a={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return a},t}(ToolboxFeature),BrushFeature$1=BrushFeature;function install$h(r){r.registerComponentView(BrushView$1),r.registerComponentModel(BrushModel$1),r.registerPreprocessor(brushPreprocessor),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,brushVisual),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,n){n.eachComponent({mainType:"brush",query:t},function(a){a.setAreas(t.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature$1)}var TitleModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(ComponentModel$1),TitleView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,o){if(this.group.removeAll(),!!n.get("show")){var s=this.group,l=n.getModel("textStyle"),u=n.getModel("subtextStyle"),f=n.get("textAlign"),d=retrieve2(n.get("textBaseline"),n.get("textVerticalAlign")),v=new ZRText$1({style:createTextStyle(l,{text:n.get("text"),fill:l.getTextColor()},{disableBox:!0}),z2:10}),g=v.getBoundingRect(),S=n.get("subtext"),x=new ZRText$1({style:createTextStyle(u,{text:S,fill:u.getTextColor(),y:g.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=n.get("link"),C=n.get("sublink"),T=n.get("triggerEvent",!0);v.silent=!_&&!T,x.silent=!C&&!T,_&&v.on("click",function(){windowOpen(_,"_"+n.get("target"))}),C&&x.on("click",function(){windowOpen(C,"_"+n.get("subtarget"))}),getECData(v).eventData=getECData(x).eventData=T?{componentType:"title",componentIndex:n.componentIndex}:null,s.add(v),S&&s.add(x);var w=s.getBoundingRect(),M=n.getBoxLayoutParams();M.width=w.width,M.height=w.height;var D=getLayoutRect(M,{width:o.getWidth(),height:o.getHeight()},n.get("padding"));f||(f=n.get("left")||n.get("right"),f==="middle"&&(f="center"),f==="right"?D.x+=D.width:f==="center"&&(D.x+=D.width/2)),d||(d=n.get("top")||n.get("bottom"),d==="center"&&(d="middle"),d==="bottom"?D.y+=D.height:d==="middle"&&(D.y+=D.height/2),d=d||"top"),s.x=D.x,s.y=D.y,s.markRedraw();var I={align:f,verticalAlign:d};v.setStyle(I),x.setStyle(I),w=s.getBoundingRect();var R=D.margin,$=n.getItemStyle(["color","opacity"]);$.fill=n.get("backgroundColor");var N=new Rect$3({shape:{x:w.x-R[3],y:w.y-R[0],width:w.width+R[1]+R[3],height:w.height+R[0]+R[2],r:n.get("borderRadius")},style:$,subPixelOptimize:!0,silent:!0});s.add(N)}},t.type="title",t}(ComponentView$1);function install$g(r){r.registerComponentModel(TitleModel),r.registerComponentView(TitleView)}var TimelineModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return t.prototype.init=function(n,a,o){this.mergeDefaultAndTheme(n,o),this._initData()},t.prototype.mergeOption=function(n){r.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var a=this._data.count();this.option.loop?n=(n%a+a)%a:(n>=a&&(n=a-1),n<0&&(n=0)),this.option.currentIndex=n},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(n){this.option.autoPlay=!!n},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var n=this.option,a=n.data||[],o=n.axisType,s=this._names=[],l;o==="category"?(l=[],each$f(a,function(d,v){var g=convertOptionIdName(getDataItemValue(d),""),S;isObject$4(d)?(S=clone$4(d),S.value=v):S=v,l.push(S),s.push(g)})):l=a;var u={category:"ordinal",time:"time",value:"number"}[o]||"number",f=this._data=new SeriesData$1([{name:"value",type:u}],this);f.initData(l,s)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(ComponentModel$1),TimelineModel$1=TimelineModel,SliderTimelineModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline.slider",t.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);var SliderTimelineModel$1=SliderTimelineModel,TimelineView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline",t}(ComponentView$1),TimelineView$1=TimelineView,TimelineAxis=function(r){__extends$1(t,r);function t(n,a,o,s){var l=r.call(this,n,a,o)||this;return l.type=s||"value",l}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Axis$1),TimelineAxis$1=TimelineAxis,PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a){this.api=a},t.prototype.render=function(n,a,o){if(this.model=n,this.api=o,this.ecModel=a,this.group.removeAll(),n.get("show",!0)){var s=this._layout(n,o),l=this._createGroup("_mainGroup"),u=this._createGroup("_labelGroup"),f=this._axis=this._createAxis(s,n);n.formatTooltip=function(d){var v=f.scale.getLabel({value:d});return createTooltipMarkup("nameValue",{noName:!0,value:v})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(d){this["_render"+d](s,l,f,n)},this),this._renderAxisLabel(s,u,f,n),this._position(s,n)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(n,a){var o=n.get(["label","position"]),s=n.get("orient"),l=getViewRect(n,a),u;o==null||o==="auto"?u=s==="horizontal"?l.y+l.height/2<a.getHeight()/2?"-":"+":l.x+l.width/2<a.getWidth()/2?"+":"-":isString(o)?u={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][o]:u=o;var f={horizontal:"center",vertical:u>=0||u==="+"?"left":"right"},d={horizontal:u>=0||u==="+"?"top":"bottom",vertical:"middle"},v={horizontal:0,vertical:PI/2},g=s==="vertical"?l.height:l.width,S=n.getModel("controlStyle"),x=S.get("show",!0),_=x?S.get("itemSize"):0,C=x?S.get("itemGap"):0,T=_+C,w=n.get(["label","rotate"])||0;w=w*PI/180;var M,D,I,R=S.get("position",!0),$=x&&S.get("showPlayBtn",!0),N=x&&S.get("showPrevBtn",!0),F=x&&S.get("showNextBtn",!0),H=0,Y=g;R==="left"||R==="bottom"?($&&(M=[0,0],H+=T),N&&(D=[H,0],H+=T),F&&(I=[Y-_,0],Y-=T)):($&&(M=[Y-_,0],Y-=T),N&&(D=[0,0],H+=T),F&&(I=[Y-_,0],Y-=T));var G=[H,Y];return n.get("inverse")&&G.reverse(),{viewRect:l,mainLength:g,orient:s,rotation:v[s],labelRotation:w,labelPosOpt:u,labelAlign:n.get(["label","align"])||f[s],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||d[s],playPosition:M,prevBtnPosition:D,nextBtnPosition:I,axisExtent:G,controlSize:_,controlGap:C}},t.prototype._position=function(n,a){var o=this._mainGroup,s=this._labelGroup,l=n.viewRect;if(n.orient==="vertical"){var u=create$1(),f=l.x,d=l.y+l.height;translate(u,u,[-f,-d]),rotate(u,u,-PI/2),translate(u,u,[f,d]),l=l.clone(),l.applyTransform(u)}var v=M(l),g=M(o.getBoundingRect()),S=M(s.getBoundingRect()),x=[o.x,o.y],_=[s.x,s.y];_[0]=x[0]=v[0][0];var C=n.labelPosOpt;if(C==null||isString(C)){var T=C==="+"?0:1;D(x,g,v,1,T),D(_,S,v,1,1-T)}else{var T=C>=0?0:1;D(x,g,v,1,T),_[1]=x[1]+C}o.setPosition(x),s.setPosition(_),o.rotation=s.rotation=n.rotation,w(o),w(s);function w(I){I.originX=v[0][0]-I.x,I.originY=v[1][0]-I.y}function M(I){return[[I.x,I.x+I.width],[I.y,I.y+I.height]]}function D(I,R,$,N,F){I[N]+=$[N][F]-R[N][F]}},t.prototype._createAxis=function(n,a){var o=a.getData(),s=a.get("axisType"),l=createScaleByModel(a,s);l.getTicks=function(){return o.mapArray(["value"],function(d){return{value:d}})};var u=o.getDataExtent("value");l.setExtent(u[0],u[1]),l.calcNiceTicks();var f=new TimelineAxis$1("value",l,n.axisExtent,s);return f.model=a,f},t.prototype._createGroup=function(n){var a=this[n]=new Group$4;return this.group.add(a),a},t.prototype._renderAxisLine=function(n,a,o,s){var l=o.getExtent();if(!!s.get(["lineStyle","show"])){var u=new Line$3({shape:{x1:l[0],y1:0,x2:l[1],y2:0},style:extend({lineCap:"round"},s.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});a.add(u);var f=this._progressLine=new Line$3({shape:{x1:l[0],x2:this._currentPointer?this._currentPointer.x:l[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:u.style.lineWidth},s.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});a.add(f)}},t.prototype._renderAxisTick=function(n,a,o,s){var l=this,u=s.getData(),f=o.scale.getTicks();this._tickSymbols=[],each$f(f,function(d){var v=o.dataToCoord(d.value),g=u.getItemModel(d.value),S=g.getModel("itemStyle"),x=g.getModel(["emphasis","itemStyle"]),_=g.getModel(["progress","itemStyle"]),C={x:v,y:0,onclick:bind$1(l._changeTimeline,l,d.value)},T=giveSymbol(g,S,a,C);T.ensureState("emphasis").style=x.getItemStyle(),T.ensureState("progress").style=_.getItemStyle(),enableHoverEmphasis(T);var w=getECData(T);g.get("tooltip")?(w.dataIndex=d.value,w.dataModel=s):w.dataIndex=w.dataModel=null,l._tickSymbols.push(T)})},t.prototype._renderAxisLabel=function(n,a,o,s){var l=this,u=o.getLabelModel();if(!!u.get("show")){var f=s.getData(),d=o.getViewLabels();this._tickLabels=[],each$f(d,function(v){var g=v.tickValue,S=f.getItemModel(g),x=S.getModel("label"),_=S.getModel(["emphasis","label"]),C=S.getModel(["progress","label"]),T=o.dataToCoord(v.tickValue),w=new ZRText$1({x:T,y:0,rotation:n.labelRotation-n.rotation,onclick:bind$1(l._changeTimeline,l,g),silent:!1,style:createTextStyle(x,{text:v.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});w.ensureState("emphasis").style=createTextStyle(_),w.ensureState("progress").style=createTextStyle(C),a.add(w),enableHoverEmphasis(w),labelDataIndexStore(w).dataIndex=g,l._tickLabels.push(w)})}},t.prototype._renderControl=function(n,a,o,s){var l=n.controlSize,u=n.rotation,f=s.getModel("controlStyle").getItemStyle(),d=s.getModel(["emphasis","controlStyle"]).getItemStyle(),v=s.getPlayState(),g=s.get("inverse",!0);S(n.nextBtnPosition,"next",bind$1(this._changeTimeline,this,g?"-":"+")),S(n.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,g?"+":"-")),S(n.playPosition,v?"stop":"play",bind$1(this._handlePlayClick,this,!v),!0);function S(x,_,C,T){if(!!x){var w=parsePercent$1(retrieve2(s.get(["controlStyle",_+"BtnSize"]),l),l),M=[0,-w/2,w,w],D=makeControlIcon(s,_+"Icon",M,{x:x[0],y:x[1],originX:l/2,originY:0,rotation:T?-u:0,rectHover:!0,style:f,onclick:C});D.ensureState("emphasis").style=d,a.add(D),enableHoverEmphasis(D)}}},t.prototype._renderCurrentPointer=function(n,a,o,s){var l=s.getData(),u=s.getCurrentIndex(),f=l.getItemModel(u).getModel("checkpointStyle"),d=this,v={onCreate:function(g){g.draggable=!0,g.drift=bind$1(d._handlePointerDrag,d),g.ondragend=bind$1(d._handlePointerDragend,d),pointerMoveTo(g,d._progressLine,u,o,s,!0)},onUpdate:function(g){pointerMoveTo(g,d._progressLine,u,o,s)}};this._currentPointer=giveSymbol(f,f,this._mainGroup,{},this._currentPointer,v)},t.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},t.prototype._handlePointerDrag=function(n,a,o){this._clearTimer(),this._pointerChangeTimeline([o.offsetX,o.offsetY])},t.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},t.prototype._pointerChangeTimeline=function(n,a){var o=this._toAxisCoord(n)[0],s=this._axis,l=asc$2(s.getExtent().slice());o>l[1]&&(o=l[1]),o<l[0]&&(o=l[0]),this._currentPointer.x=o,this._currentPointer.markRedraw(),this._progressLine.shape.x2=o,this._progressLine.dirty();var u=this._findNearestTick(o),f=this.model;(a||u!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(u)},t.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var a=n.model;n._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(n){var a=this._mainGroup.getLocalTransform();return applyTransform(n,a,!0)},t.prototype._findNearestTick=function(n){var a=this.model.getData(),o=1/0,s,l=this._axis;return a.each(["value"],function(u,f){var d=l.dataToCoord(u),v=Math.abs(d-n);v<o&&(o=v,s=f)}),s},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(n){var a=this.model.getCurrentIndex();n==="+"?n=a+1:n==="-"&&(n=a-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},t.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),a=this._tickSymbols,o=this._tickLabels;if(a)for(var s=0;s<a.length;s++)a&&a[s]&&a[s].toggleState("progress",s<n);if(o)for(var s=0;s<o.length;s++)o&&o[s]&&o[s].toggleState("progress",labelDataIndexStore(o[s]).dataIndex<=n)},t.type="timeline.slider",t}(TimelineView$1);function createScaleByModel(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new OrdinalScale$1({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(r,t){return getLayoutRect(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},r.get("padding"))}function makeControlIcon(r,t,n,a){var o=a.style,s=createIcon(r.get(["controlStyle",t]),a||{},new BoundingRect$1(n[0],n[1],n[2],n[3]));return o&&s.setStyle(o),s}function giveSymbol(r,t,n,a,o,s){var l=t.get("color");if(o)o.setColor(l),n.add(o),s&&s.onUpdate(o);else{var u=r.get("symbol");o=createSymbol$1(u,-1,-1,2,2,l),o.setStyle("strokeNoScale",!0),n.add(o),s&&s.onCreate(o)}var f=t.getItemStyle(["color"]);o.setStyle(f),a=merge({rectHover:!0,z2:100},a,!0);var d=normalizeSymbolSize(r.get("symbolSize"));a.scaleX=d[0]/2,a.scaleY=d[1]/2;var v=normalizeSymbolOffset(r.get("symbolOffset"),d);v&&(a.x=(a.x||0)+v[0],a.y=(a.y||0)+v[1]);var g=r.get("symbolRotate");return a.rotation=(g||0)*Math.PI/180||0,o.attr(a),o.updateTransform(),o}function pointerMoveTo(r,t,n,a,o,s){if(!r.dragging){var l=o.getModel("checkpointStyle"),u=a.dataToCoord(o.getData().get("value",n));if(s||!l.get("animation",!0))r.attr({x:u,y:0}),t&&t.attr({shape:{x2:u}});else{var f={duration:l.get("animationDuration",!0),easing:l.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:u,y:0},f),t&&t.animateTo({shape:{x2:u}},f)}}}var SliderTimelineView$1=SliderTimelineView;function installTimelineAction(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,n,a){var o=n.getComponent("timeline");return o&&t.currentIndex!=null&&(o.setCurrentIndex(t.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),a.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),n.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),defaults({currentIndex:o.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,n){var a=n.getComponent("timeline");a&&t.playState!=null&&a.setPlayState(t.playState)})}function timelinePreprocessor(r){var t=r&&r.timeline;isArray$1(t)||(t=t?[t]:[]),each$f(t,function(n){!n||compatibleEC2(n)})}function compatibleEC2(r){var t=r.type,n={number:"value",time:"time"};if(n[t]&&(r.axisType=n[t],delete r.type),transferItem(r),has$1(r,"controlPosition")){var a=r.controlStyle||(r.controlStyle={});has$1(a,"position")||(a.position=r.controlPosition),a.position==="none"&&!has$1(a,"show")&&(a.show=!1,delete a.position),delete r.controlPosition}each$f(r.data||[],function(o){isObject$4(o)&&!isArray$1(o)&&(!has$1(o,"value")&&has$1(o,"name")&&(o.value=o.name),transferItem(o))})}function transferItem(r){var t=r.itemStyle||(r.itemStyle={}),n=t.emphasis||(t.emphasis={}),a=r.label||r.label||{},o=a.normal||(a.normal={}),s={normal:1,emphasis:1};each$f(a,function(l,u){!s[u]&&!has$1(o,u)&&(o[u]=l)}),n.label&&!has$1(a,"emphasis")&&(a.emphasis=n.label,delete n.label)}function has$1(r,t){return r.hasOwnProperty(t)}function install$f(r){r.registerComponentModel(SliderTimelineModel$1),r.registerComponentView(SliderTimelineView$1),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(r),r.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(r,t){if(!r)return!1;for(var n=isArray$1(r)?r:[r],a=0;a<n.length;a++)if(n[a]&&n[a][t])return!0;return!1}function fillLabel(r){defaultEmphasis(r,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return t.prototype.init=function(n,a,o){this.mergeDefaultAndTheme(n,o),this._mergeOption(n,o,!1,!0)},t.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},t.prototype.mergeOption=function(n,a){this._mergeOption(n,a,!1,!1)},t.prototype._mergeOption=function(n,a,o,s){var l=this.mainType;o||a.eachSeries(function(u){var f=u.get(this.mainType,!0),d=inner$5(u)[l];if(!f||!f.data){inner$5(u)[l]=null;return}d?d._mergeOption(f,a,!0):(s&&fillLabel(f),each$f(f.data,function(v){v instanceof Array?(fillLabel(v[0]),fillLabel(v[1])):fillLabel(v)}),d=this.createMarkerModelFromSeries(f,this,a),extend(d,{mainType:this.mainType,seriesIndex:u.seriesIndex,name:u.name,createdBySelf:!0}),d.__hostSeries=u),inner$5(u)[l]=d},this)},t.prototype.formatTooltip=function(n,a,o){var s=this.getData(),l=this.getRawValue(n),u=s.getName(n);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:u,value:l,noName:!u,noValue:l==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(n){this._data=n},t.getMarkerModelFromSeries=function(n,a){return inner$5(n)[a]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);var MarkerModel$1=MarkerModel,MarkPointModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,a,o){return new t(n,a,o)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(MarkerModel$1),MarkPointModel$1=MarkPointModel;function hasXOrY(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function hasXAndY(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function markerTypeCalculatorWithExtent(r,t,n,a,o,s){var l=[],u=isDimensionStacked(t,a),f=u?t.getCalculationInfo("stackResultDimension"):a,d=numCalculate(t,f,r),v=t.indicesOfNearest(f,d)[0];l[o]=t.get(n,v),l[s]=t.get(f,v);var g=t.get(a,v),S=getPrecision(t.get(a,v));return S=Math.min(S,20),S>=0&&(l[s]=+l[s].toFixed(S)),[l,g]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(r,t){var n=r.getData(),a=r.coordinateSystem;if(t&&!hasXAndY(t)&&!isArray$1(t.coord)&&a){var o=a.dimensions,s=getAxisInfo(t,n,a,r);if(t=clone$4(t),t.type&&markerTypeCalculator[t.type]&&s.baseAxis&&s.valueAxis){var l=indexOf(o,s.baseAxis.dim),u=indexOf(o,s.valueAxis.dim),f=markerTypeCalculator[t.type](n,s.baseDataDim,s.valueDataDim,l,u);t.coord=f[0],t.value=f[1]}else{for(var d=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis],v=0;v<2;v++)markerTypeCalculator[d[v]]&&(d[v]=numCalculate(n,n.mapDimension(o[v]),d[v]));t.coord=d}}return t}function getAxisInfo(r,t,n,a){var o={};return r.valueIndex!=null||r.valueDim!=null?(o.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim,o.valueAxis=n.getAxis(dataDimToCoordDim(a,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=a.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function dataDimToCoordDim(r,t){var n=r.getData().getDimensionInfo(t);return n&&n.coordDim}function dataFilter(r,t){return r&&r.containData&&t.coord&&!hasXOrY(t)?r.containData(t.coord):!0}function createMarkerDimValueGetter(r,t){return r?function(n,a,o,s){var l=s<2?n.coord&&n.coord[s]:n.value;return parseDataValue(l,t[s])}:function(n,a,o,s){return parseDataValue(n.value,t[s])}}function numCalculate(r,t,n){if(n==="average"){var a=0,o=0;return r.each(t,function(s,l){isNaN(s)||(a+=s,o++)}),a/o}else return n==="median"?r.getMedian(t):r.getDataExtent(t)[n==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this.markerGroupMap=createHashMap()},t.prototype.render=function(n,a,o){var s=this,l=this.markerGroupMap;l.each(function(u){inner$4(u).keep=!1}),a.eachSeries(function(u){var f=MarkerModel$1.getMarkerModelFromSeries(u,s.type);f&&s.renderSeries(u,f,a,o)}),l.each(function(u){!inner$4(u).keep&&s.group.remove(u.group)})},t.prototype.markKeep=function(n){inner$4(n).keep=!0},t.prototype.toggleBlurSeries=function(n,a){var o=this;each$f(n,function(s){var l=MarkerModel$1.getMarkerModelFromSeries(s,o.type);if(l){var u=l.getData();u.eachItemGraphicEl(function(f){f&&(a?enterBlur(f):leaveBlur(f))})}})},t.type="marker",t}(ComponentView$1),MarkerView$1=MarkerView;function updateMarkerLayout(r,t,n){var a=t.coordinateSystem;r.each(function(o){var s=r.getItemModel(o),l,u=parsePercent(s.get("x"),n.getWidth()),f=parsePercent(s.get("y"),n.getHeight());if(!isNaN(u)&&!isNaN(f))l=[u,f];else if(t.getMarkerPosition)l=t.getMarkerPosition(r.getValues(r.dimensions,o));else if(a){var d=r.get(a.dimensions[0],o),v=r.get(a.dimensions[1],o);l=a.dataToPoint([d,v])}isNaN(u)||(l[0]=u),isNaN(f)||(l[1]=f),r.setItemLayout(o,l)})}var MarkPointView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,a,o){a.eachSeries(function(s){var l=MarkerModel$1.getMarkerModelFromSeries(s,"markPoint");l&&(updateMarkerLayout(l.getData(),s,o),this.markerGroupMap.get(s.id).updateLayout())},this)},t.prototype.renderSeries=function(n,a,o,s){var l=n.coordinateSystem,u=n.id,f=n.getData(),d=this.markerGroupMap,v=d.get(u)||d.set(u,new SymbolDraw$1),g=createData(l,n,a);a.setData(g),updateMarkerLayout(a.getData(),n,s),g.each(function(S){var x=g.getItemModel(S),_=x.getShallow("symbol"),C=x.getShallow("symbolSize"),T=x.getShallow("symbolRotate"),w=x.getShallow("symbolOffset"),M=x.getShallow("symbolKeepAspect");if(isFunction(_)||isFunction(C)||isFunction(T)||isFunction(w)){var D=a.getRawValue(S),I=a.getDataParams(S);isFunction(_)&&(_=_(D,I)),isFunction(C)&&(C=C(D,I)),isFunction(T)&&(T=T(D,I)),isFunction(w)&&(w=w(D,I))}var R=x.getModel("itemStyle").getItemStyle(),$=getVisualFromData(f,"color");R.fill||(R.fill=$),g.setItemVisual(S,{symbol:_,symbolSize:C,symbolRotate:T,symbolOffset:w,symbolKeepAspect:M,style:R})}),v.updateData(g),this.group.add(v.group),g.eachItemGraphicEl(function(S){S.traverse(function(x){getECData(x).dataModel=a})}),this.markKeep(v),v.group.silent=a.get("silent")||n.get("silent")},t.type="markPoint",t}(MarkerView$1);function createData(r,t,n){var a;r?a=map$1(r&&r.dimensions,function(u){var f=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return extend(extend({},f),{name:u,ordinalMeta:null})}):a=[{name:"value",type:"float"}];var o=new SeriesData$1(a,n),s=map$1(n.get("data"),curry$1(dataTransform,t));r&&(s=filter(s,curry$1(dataFilter,r)));var l=createMarkerDimValueGetter(!!r,a);return o.initData(s,null,l),o}var MarkPointView$1=MarkPointView;function install$e(r){r.registerComponentModel(MarkPointModel$1),r.registerComponentView(MarkPointView$1),r.registerPreprocessor(function(t){checkMarkerInSeries(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var MarkLineModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,a,o){return new t(n,a,o)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(MarkerModel$1),MarkLineModel$1=MarkLineModel,inner$3=makeInner(),markLineTransform=function(r,t,n,a){var o=r.getData(),s;if(isArray$1(a))s=a;else{var l=a.type;if(l==="min"||l==="max"||l==="average"||l==="median"||a.xAxis!=null||a.yAxis!=null){var u=void 0,f=void 0;if(a.yAxis!=null||a.xAxis!=null)u=t.getAxis(a.yAxis!=null?"y":"x"),f=retrieve(a.yAxis,a.xAxis);else{var d=getAxisInfo(a,o,t,r);u=d.valueAxis;var v=getStackedDimension(o,d.valueDataDim);f=numCalculate(o,v,l)}var g=u.dim==="x"?0:1,S=1-g,x=clone$4(a),_={coord:[]};x.type=null,x.coord=[],x.coord[S]=-1/0,_.coord[S]=1/0;var C=n.get("precision");C>=0&&isNumber(f)&&(f=+f.toFixed(Math.min(C,20))),x.coord[g]=_.coord[g]=f,s=[x,_,{type:l,valueIndex:a.valueIndex,value:f}]}else s=[]}var T=[dataTransform(r,s[0]),dataTransform(r,s[1]),extend({},s[2])];return T[2].type=T[2].type||null,merge(T[2],T[0]),merge(T[2],T[1]),T};function isInifinity$1(r){return!isNaN(r)&&!isFinite(r)}function ifMarkLineHasOnlyDim(r,t,n,a){var o=1-r,s=a.dimensions[r];return isInifinity$1(t[o])&&isInifinity$1(n[o])&&t[r]===n[r]&&a.getAxis(s).containData(t[r])}function markLineFilter(r,t){if(r.type==="cartesian2d"){var n=t[0].coord,a=t[1].coord;if(n&&a&&(ifMarkLineHasOnlyDim(1,n,a,r)||ifMarkLineHasOnlyDim(0,n,a,r)))return!0}return dataFilter(r,t[0])&&dataFilter(r,t[1])}function updateSingleMarkerEndLayout(r,t,n,a,o){var s=a.coordinateSystem,l=r.getItemModel(t),u,f=parsePercent(l.get("x"),o.getWidth()),d=parsePercent(l.get("y"),o.getHeight());if(!isNaN(f)&&!isNaN(d))u=[f,d];else{if(a.getMarkerPosition)u=a.getMarkerPosition(r.getValues(r.dimensions,t));else{var v=s.dimensions,g=r.get(v[0],t),S=r.get(v[1],t);u=s.dataToPoint([g,S])}if(isCoordinateSystemType(s,"cartesian2d")){var x=s.getAxis("x"),_=s.getAxis("y"),v=s.dimensions;isInifinity$1(r.get(v[0],t))?u[0]=x.toGlobalCoord(x.getExtent()[n?0:1]):isInifinity$1(r.get(v[1],t))&&(u[1]=_.toGlobalCoord(_.getExtent()[n?0:1]))}isNaN(f)||(u[0]=f),isNaN(d)||(u[1]=d)}r.setItemLayout(t,u)}var MarkLineView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,a,o){a.eachSeries(function(s){var l=MarkerModel$1.getMarkerModelFromSeries(s,"markLine");if(l){var u=l.getData(),f=inner$3(l).from,d=inner$3(l).to;f.each(function(v){updateSingleMarkerEndLayout(f,v,!0,s,o),updateSingleMarkerEndLayout(d,v,!1,s,o)}),u.each(function(v){u.setItemLayout(v,[f.getItemLayout(v),d.getItemLayout(v)])}),this.markerGroupMap.get(s.id).updateLayout()}},this)},t.prototype.renderSeries=function(n,a,o,s){var l=n.coordinateSystem,u=n.id,f=n.getData(),d=this.markerGroupMap,v=d.get(u)||d.set(u,new LineDraw$1);this.group.add(v.group);var g=createList$1(l,n,a),S=g.from,x=g.to,_=g.line;inner$3(a).from=S,inner$3(a).to=x,a.setData(_);var C=a.get("symbol"),T=a.get("symbolSize"),w=a.get("symbolRotate"),M=a.get("symbolOffset");isArray$1(C)||(C=[C,C]),isArray$1(T)||(T=[T,T]),isArray$1(w)||(w=[w,w]),isArray$1(M)||(M=[M,M]),g.from.each(function(I){D(S,I,!0),D(x,I,!1)}),_.each(function(I){var R=_.getItemModel(I).getModel("lineStyle").getLineStyle();_.setItemLayout(I,[S.getItemLayout(I),x.getItemLayout(I)]),R.stroke==null&&(R.stroke=S.getItemVisual(I,"style").fill),_.setItemVisual(I,{fromSymbolKeepAspect:S.getItemVisual(I,"symbolKeepAspect"),fromSymbolOffset:S.getItemVisual(I,"symbolOffset"),fromSymbolRotate:S.getItemVisual(I,"symbolRotate"),fromSymbolSize:S.getItemVisual(I,"symbolSize"),fromSymbol:S.getItemVisual(I,"symbol"),toSymbolKeepAspect:x.getItemVisual(I,"symbolKeepAspect"),toSymbolOffset:x.getItemVisual(I,"symbolOffset"),toSymbolRotate:x.getItemVisual(I,"symbolRotate"),toSymbolSize:x.getItemVisual(I,"symbolSize"),toSymbol:x.getItemVisual(I,"symbol"),style:R})}),v.updateData(_),g.line.eachItemGraphicEl(function(I,R){I.traverse(function($){getECData($).dataModel=a})});function D(I,R,$){var N=I.getItemModel(R);updateSingleMarkerEndLayout(I,R,$,n,s);var F=N.getModel("itemStyle").getItemStyle();F.fill==null&&(F.fill=getVisualFromData(f,"color")),I.setItemVisual(R,{symbolKeepAspect:N.get("symbolKeepAspect"),symbolOffset:retrieve2(N.get("symbolOffset",!0),M[$?0:1]),symbolRotate:retrieve2(N.get("symbolRotate",!0),w[$?0:1]),symbolSize:retrieve2(N.get("symbolSize"),T[$?0:1]),symbol:retrieve2(N.get("symbol",!0),C[$?0:1]),style:F})}this.markKeep(v),v.group.silent=a.get("silent")||n.get("silent")},t.type="markLine",t}(MarkerView$1);function createList$1(r,t,n){var a;r?a=map$1(r&&r.dimensions,function(d){var v=t.getData().getDimensionInfo(t.getData().mapDimension(d))||{};return extend(extend({},v),{name:d,ordinalMeta:null})}):a=[{name:"value",type:"float"}];var o=new SeriesData$1(a,n),s=new SeriesData$1(a,n),l=new SeriesData$1([],n),u=map$1(n.get("data"),curry$1(markLineTransform,t,r,n));r&&(u=filter(u,curry$1(markLineFilter,r)));var f=createMarkerDimValueGetter(!!r,a);return o.initData(map$1(u,function(d){return d[0]}),null,f),s.initData(map$1(u,function(d){return d[1]}),null,f),l.initData(map$1(u,function(d){return d[2]})),l.hasItemOption=!0,{from:o,to:s,line:l}}var MarkLineView$1=MarkLineView;function install$d(r){r.registerComponentModel(MarkLineModel$1),r.registerComponentView(MarkLineView$1),r.registerPreprocessor(function(t){checkMarkerInSeries(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var MarkAreaModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,a,o){return new t(n,a,o)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(MarkerModel$1),MarkAreaModel$1=MarkAreaModel,inner$2=makeInner(),markAreaTransform=function(r,t,n,a){var o=dataTransform(r,a[0]),s=dataTransform(r,a[1]),l=o.coord,u=s.coord;l[0]=retrieve(l[0],-1/0),l[1]=retrieve(l[1],-1/0),u[0]=retrieve(u[0],1/0),u[1]=retrieve(u[1],1/0);var f=mergeAll([{},o,s]);return f.coord=[o.coord,s.coord],f.x0=o.x,f.y0=o.y,f.x1=s.x,f.y1=s.y,f};function isInifinity(r){return!isNaN(r)&&!isFinite(r)}function ifMarkAreaHasOnlyDim(r,t,n,a){var o=1-r;return isInifinity(t[o])&&isInifinity(n[o])}function markAreaFilter(r,t){var n=t.coord[0],a=t.coord[1];return isCoordinateSystemType(r,"cartesian2d")&&n&&a&&(ifMarkAreaHasOnlyDim(1,n,a)||ifMarkAreaHasOnlyDim(0,n,a))?!0:dataFilter(r,{coord:n,x:t.x0,y:t.y0})||dataFilter(r,{coord:a,x:t.x1,y:t.y1})}function getSingleMarkerEndPoint(r,t,n,a,o){var s=a.coordinateSystem,l=r.getItemModel(t),u,f=parsePercent(l.get(n[0]),o.getWidth()),d=parsePercent(l.get(n[1]),o.getHeight());if(!isNaN(f)&&!isNaN(d))u=[f,d];else{if(a.getMarkerPosition)u=a.getMarkerPosition(r.getValues(n,t));else{var v=r.get(n[0],t),g=r.get(n[1],t),S=[v,g];s.clampData&&s.clampData(S,S),u=s.dataToPoint(S,!0)}if(isCoordinateSystemType(s,"cartesian2d")){var x=s.getAxis("x"),_=s.getAxis("y"),v=r.get(n[0],t),g=r.get(n[1],t);isInifinity(v)?u[0]=x.toGlobalCoord(x.getExtent()[n[0]==="x0"?0:1]):isInifinity(g)&&(u[1]=_.toGlobalCoord(_.getExtent()[n[1]==="y0"?0:1]))}isNaN(f)||(u[0]=f),isNaN(d)||(u[1]=d)}return u}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,a,o){a.eachSeries(function(s){var l=MarkerModel$1.getMarkerModelFromSeries(s,"markArea");if(l){var u=l.getData();u.each(function(f){var d=map$1(dimPermutations,function(g){return getSingleMarkerEndPoint(u,f,g,s,o)});u.setItemLayout(f,d);var v=u.getItemGraphicEl(f);v.setShape("points",d)})}},this)},t.prototype.renderSeries=function(n,a,o,s){var l=n.coordinateSystem,u=n.id,f=n.getData(),d=this.markerGroupMap,v=d.get(u)||d.set(u,{group:new Group$4});this.group.add(v.group),this.markKeep(v);var g=createList(l,n,a);a.setData(g),g.each(function(S){var x=map$1(dimPermutations,function(F){return getSingleMarkerEndPoint(g,S,F,n,s)}),_=l.getAxis("x").scale,C=l.getAxis("y").scale,T=_.getExtent(),w=C.getExtent(),M=[_.parse(g.get("x0",S)),_.parse(g.get("x1",S))],D=[C.parse(g.get("y0",S)),C.parse(g.get("y1",S))];asc$2(M),asc$2(D);var I=!(T[0]>M[1]||T[1]<M[0]||w[0]>D[1]||w[1]<D[0]),R=!I;g.setItemLayout(S,{points:x,allClipped:R});var $=g.getItemModel(S).getModel("itemStyle").getItemStyle(),N=getVisualFromData(f,"color");$.fill||($.fill=N,isString($.fill)&&($.fill=modifyAlpha($.fill,.4))),$.stroke||($.stroke=N),g.setItemVisual(S,"style",$)}),g.diff(inner$2(v).data).add(function(S){var x=g.getItemLayout(S);if(!x.allClipped){var _=new Polygon$1({shape:{points:x.points}});g.setItemGraphicEl(S,_),v.group.add(_)}}).update(function(S,x){var _=inner$2(v).data.getItemGraphicEl(x),C=g.getItemLayout(S);C.allClipped?_&&v.group.remove(_):(_?updateProps$1(_,{shape:{points:C.points}},a,S):_=new Polygon$1({shape:{points:C.points}}),g.setItemGraphicEl(S,_),v.group.add(_))}).remove(function(S){var x=inner$2(v).data.getItemGraphicEl(S);v.group.remove(x)}).execute(),g.eachItemGraphicEl(function(S,x){var _=g.getItemModel(x),C=g.getItemVisual(x,"style");S.useStyle(g.getItemVisual(x,"style")),setLabelStyle(S,getLabelStatesModels(_),{labelFetcher:a,labelDataIndex:x,defaultText:g.getName(x)||"",inheritColor:isString(C.fill)?modifyAlpha(C.fill,1):"#000"}),setStatesStylesFromModel(S,_),toggleHoverEmphasis(S,null,null,_.get(["emphasis","disabled"])),getECData(S).dataModel=a}),inner$2(v).data=g,v.group.silent=a.get("silent")||n.get("silent")},t.type="markArea",t}(MarkerView$1);function createList(r,t,n){var a,o,s=["x0","y0","x1","y1"];if(r){var l=map$1(r&&r.dimensions,function(d){var v=t.getData(),g=v.getDimensionInfo(v.mapDimension(d))||{};return extend(extend({},g),{name:d,ordinalMeta:null})});o=map$1(s,function(d,v){return{name:d,type:l[v%2].type}}),a=new SeriesData$1(o,n)}else o=[{name:"value",type:"float"}],a=new SeriesData$1(o,n);var u=map$1(n.get("data"),curry$1(markAreaTransform,t,r,n));r&&(u=filter(u,curry$1(markAreaFilter,r)));var f=r?function(d,v,g,S){var x=d.coord[Math.floor(S/2)][S%2];return parseDataValue(x,o[S])}:function(d,v,g,S){return parseDataValue(d.value,o[S])};return a.initData(u,null,f),a.hasItemOption=!0,a}var MarkAreaView$1=MarkAreaView;function install$c(r){r.registerComponentModel(MarkAreaModel$1),r.registerComponentView(MarkAreaView$1),r.registerPreprocessor(function(t){checkMarkerInSeries(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var getDefaultSelectorOptions=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,a,o){this.mergeDefaultAndTheme(n,o),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,a){r.prototype.mergeOption.call(this,n,a),this._updateSelector(n)},t.prototype._updateSelector=function(n){var a=n.selector,o=this.ecModel;a===!0&&(a=n.selector=["all","inverse"]),isArray$1(a)&&each$f(a,function(s,l){isString(s)&&(s={type:s}),a[l]=merge(s,getDefaultSelectorOptions(o,s.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var a=!1,o=0;o<n.length;o++){var s=n[o].get("name");if(this.isSelected(s)){this.select(s),a=!0;break}}!a&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var a=[],o=[];n.eachRawSeries(function(u){var f=u.name;o.push(f);var d;if(u.legendVisualProvider){var v=u.legendVisualProvider,g=v.getAllNames();n.isSeriesFiltered(u)||(o=o.concat(g)),g.length?a=a.concat(g):d=!0}else d=!0;d&&isNameSpecified(u)&&a.push(u.name)}),this._availableNames=o;var s=this.get("data")||a,l=map$1(s,function(u){return(isString(u)||isNumber(u))&&(u={name:u}),new Model$1(u,this,this.ecModel)},this);this._data=l},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var a=this.option.selected,o=this.get("selectedMode");if(o==="single"){var s=this._data;each$f(s,function(l){a[l.get("name")]=!1})}a[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var a=this.option.selected;a.hasOwnProperty(n)||(a[n]=!0),this[a[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,a=this.option.selected;each$f(n,function(o){a[o.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,a=this.option.selected;each$f(n,function(o){var s=o.get("name",!0);a.hasOwnProperty(s)||(a[s]=!0),a[s]=!a[s]})},t.prototype.isSelected=function(n){var a=this.option.selected;return!(a.hasOwnProperty(n)&&!a[n])&&indexOf(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(ComponentModel$1),LegendModel$1=LegendModel,curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,a,o){var s=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var l=n.get("align"),u=n.get("orient");(!l||l==="auto")&&(l=n.get("left")==="right"&&u==="vertical"?"right":"left");var f=n.get("selector",!0),d=n.get("selectorPosition",!0);f&&(!d||d==="auto")&&(d=u==="horizontal"?"end":"start"),this.renderInner(l,n,a,o,f,u,d);var v=n.getBoxLayoutParams(),g={width:o.getWidth(),height:o.getHeight()},S=n.get("padding"),x=getLayoutRect(v,g,S),_=this.layoutInner(n,l,x,s,f,d),C=getLayoutRect(defaults({width:_.width,height:_.height},v),g,S);this.group.x=C.x-_.x,this.group.y=C.y-_.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(_,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,a,o,s,l,u,f){var d=this.getContentGroup(),v=createHashMap(),g=a.get("selectedMode"),S=[];o.eachRawSeries(function(x){!x.get("legendHoverLink")&&S.push(x.id)}),each$3(a.getData(),function(x,_){var C=x.get("name");if(!this.newlineDisabled&&(C===""||C===`
`)){var T=new Group$1;T.newline=!0,d.add(T);return}var w=o.getSeriesByName(C)[0];if(!v.get(C))if(w){var M=w.getData(),D=M.getVisual("legendLineStyle")||{},I=M.getVisual("legendIcon"),R=M.getVisual("style"),$=this._createItem(w,C,_,x,a,n,D,R,I,g);$.on("click",curry(dispatchSelectAction,C,null,s,S)).on("mouseover",curry(dispatchHighlightAction,w.name,null,s,S)).on("mouseout",curry(dispatchDownplayAction,w.name,null,s,S)),v.set(C,!0)}else o.eachRawSeries(function(N){if(!v.get(C)&&N.legendVisualProvider){var F=N.legendVisualProvider;if(!F.containName(C))return;var H=F.indexOfName(C),Y=F.getItemVisual(H,"style"),G=F.getItemVisual(H,"legendIcon"),K=parse(Y.fill);K&&K[3]===0&&(K[3]=.2,Y=extend(extend({},Y),{fill:stringify(K,"rgba")}));var Z=this._createItem(N,C,_,x,a,n,{},Y,G,g);Z.on("click",curry(dispatchSelectAction,null,C,s,S)).on("mouseover",curry(dispatchHighlightAction,null,C,s,S)).on("mouseout",curry(dispatchDownplayAction,null,C,s,S)),v.set(C,!0)}},this)},this),l&&this._createSelector(l,a,s,u,f)},t.prototype._createSelector=function(n,a,o,s,l){var u=this.getSelectorGroup();each$3(n,function(d){var v=d.type,g=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:v==="all"?"legendAllSelect":"legendInverseSelect"})}});u.add(g);var S=a.getModel("selectorLabel"),x=a.getModel(["emphasis","selectorLabel"]);setLabelStyle(g,{normal:S,emphasis:x},{defaultText:d.title}),enableHoverEmphasis(g)})},t.prototype._createItem=function(n,a,o,s,l,u,f,d,v,g){var S=n.visualDrawType,x=l.get("itemWidth"),_=l.get("itemHeight"),C=l.isSelected(a),T=s.get("symbolRotate"),w=s.get("symbolKeepAspect"),M=s.get("icon");v=M||v||"roundRect";var D=getLegendStyle(v,s,f,d,S,C),I=new Group$1,R=s.getModel("textStyle");if(isFunction(n.getLegendIcon)&&(!M||M==="inherit"))I.add(n.getLegendIcon({itemWidth:x,itemHeight:_,icon:v,iconRotate:T,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:w}));else{var $=M==="inherit"&&n.getData().getVisual("symbol")?T==="inherit"?n.getData().getVisual("symbolRotate"):T:0;I.add(getDefaultLegendIcon({itemWidth:x,itemHeight:_,icon:v,iconRotate:$,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:w}))}var N=u==="left"?x+5:-5,F=u,H=l.get("formatter"),Y=a;isString(H)&&H?Y=H.replace("{name}",a!=null?a:""):isFunction(H)&&(Y=H(a));var G=s.get("inactiveColor");I.add(new ZRText$1({style:createTextStyle(R,{text:Y,x:N,y:_/2,fill:C?R.getTextColor():G,align:F,verticalAlign:"middle"})}));var K=new Rect$3({shape:I.getBoundingRect(),invisible:!0}),Z=s.getModel("tooltip");return Z.get("show")&&setTooltipConfig({el:K,componentModel:l,itemName:a,itemTooltipOption:Z.option}),I.add(K),I.eachChild(function(J){J.silent=!0}),K.silent=!g,this.getContentGroup().add(I),enableHoverEmphasis(I),I.__legendDataIndex=o,I},t.prototype.layoutInner=function(n,a,o,s,l,u){var f=this.getContentGroup(),d=this.getSelectorGroup();box(n.get("orient"),f,n.get("itemGap"),o.width,o.height);var v=f.getBoundingRect(),g=[-v.x,-v.y];if(d.markRedraw(),f.markRedraw(),l){box("horizontal",d,n.get("selectorItemGap",!0));var S=d.getBoundingRect(),x=[-S.x,-S.y],_=n.get("selectorButtonGap",!0),C=n.getOrient().index,T=C===0?"width":"height",w=C===0?"height":"width",M=C===0?"y":"x";u==="end"?x[C]+=v[T]+_:g[C]+=S[T]+_,x[1-C]+=v[w]/2-S[w]/2,d.x=x[0],d.y=x[1],f.x=g[0],f.y=g[1];var D={x:0,y:0};return D[T]=v[T]+_+S[T],D[w]=Math.max(v[w],S[w]),D[M]=Math.min(0,S[M]+x[1-C]),D}else return f.x=g[0],f.y=g[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ComponentView$1);function getLegendStyle(r,t,n,a,o,s){function l(_,C){_.lineWidth==="auto"&&(_.lineWidth=C.lineWidth>0?2:0),each$3(_,function(T,w){_[w]==="inherit"&&(_[w]=C[w])})}var u=t.getModel("itemStyle"),f=u.getItemStyle(),d=r.lastIndexOf("empty",0)===0?"fill":"stroke";f.decal=a.decal,f.fill==="inherit"&&(f.fill=a[o]),f.stroke==="inherit"&&(f.stroke=a[d]),f.opacity==="inherit"&&(f.opacity=(o==="fill"?a:n).opacity),l(f,a);var v=t.getModel("lineStyle"),g=v.getLineStyle();if(l(g,n),f.fill==="auto"&&(f.fill=a.fill),f.stroke==="auto"&&(f.stroke=a.fill),g.stroke==="auto"&&(g.stroke=a.fill),!s){var S=t.get("inactiveBorderWidth"),x=f[d];f.lineWidth=S==="auto"?a.lineWidth>0&&x?2:0:f.lineWidth,f.fill=t.get("inactiveColor"),f.stroke=t.get("inactiveBorderColor"),g.stroke=v.get("inactiveColor"),g.lineWidth=v.get("inactiveWidth")}return{itemStyle:f,lineStyle:g}}function getDefaultLegendIcon(r){var t=r.icon||"roundRect",n=createSymbol$1(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return n.setStyle(r.itemStyle),n.rotation=(r.iconRotate||0)*Math.PI/180,n.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function dispatchSelectAction(r,t,n,a){dispatchDownplayAction(r,t,n,a),n.dispatchAction({type:"legendToggleSelect",name:r!=null?r:t}),dispatchHighlightAction(r,t,n,a)}function isUseHoverLayer(r){for(var t=r.getZr().storage.getDisplayList(),n,a=0,o=t.length;a<o&&!(n=t[a].states.emphasis);)a++;return n&&n.hoverLayer}function dispatchHighlightAction(r,t,n,a){isUseHoverLayer(n)||n.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:a})}function dispatchDownplayAction(r,t,n,a){isUseHoverLayer(n)||n.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:a})}var LegendView$1=LegendView;function legendFilter(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(n){for(var a=0;a<t.length;a++)if(!t[a].isSelected(n.name))return!1;return!0})}function legendSelectActionHandler(r,t,n){var a={},o=r==="toggleSelected",s;return n.eachComponent("legend",function(l){o&&s!=null?l[s?"select":"unSelect"](t.name):r==="allSelect"||r==="inverseSelect"?l[r]():(l[r](t.name),s=l.isSelected(t.name));var u=l.getData();each$f(u,function(f){var d=f.get("name");if(!(d===`
`||d==="")){var v=l.isSelected(d);a.hasOwnProperty(d)?a[d]=a[d]&&v:a[d]=v}})}),r==="allSelect"||r==="inverseSelect"?{selected:a}:{name:t.name,selected:a}}function installLegendAction(r){r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(r){r.registerComponentModel(LegendModel$1),r.registerComponentView(LegendView$1),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(r)}var ScrollableLegendModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,a,o){var s=getLayoutParams(n);r.prototype.init.call(this,n,a,o),mergeAndNormalizeLayoutParams(this,n,s)},t.prototype.mergeOption=function(n,a){r.prototype.mergeOption.call(this,n,a),mergeAndNormalizeLayoutParams(this,this.option,n)},t.type="legend.scroll",t.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(LegendModel$1);function mergeAndNormalizeLayoutParams(r,t,n){var a=r.getOrient(),o=[1,1];o[a.index]=0,mergeLayoutParam(t,n,{type:"box",ignoreSize:!!o})}var ScrollableLegendModel$1=ScrollableLegendModel,Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,a,o,s,l,u,f){var d=this;r.prototype.renderInner.call(this,n,a,o,s,l,u,f);var v=this._controllerGroup,g=a.get("pageIconSize",!0),S=isArray$1(g)?g:[g,g];_("pagePrev",0);var x=a.getModel("pageTextStyle");v.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:x.getTextColor(),font:x.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_("pageNext",1);function _(C,T){var w=C+"DataIndex",M=createIcon(a.get("pageIcons",!0)[a.getOrient().name][T],{onclick:bind$1(d._pageGo,d,w,a,s)},{x:-S[0]/2,y:-S[1]/2,width:S[0],height:S[1]});M.name=C,v.add(M)}},t.prototype.layoutInner=function(n,a,o,s,l,u){var f=this.getSelectorGroup(),d=n.getOrient().index,v=WH[d],g=XY[d],S=WH[1-d],x=XY[1-d];l&&box("horizontal",f,n.get("selectorItemGap",!0));var _=n.get("selectorButtonGap",!0),C=f.getBoundingRect(),T=[-C.x,-C.y],w=clone$4(o);l&&(w[v]=o[v]-C[v]-_);var M=this._layoutContentAndController(n,s,w,d,v,S,x,g);if(l){if(u==="end")T[d]+=M[v]+_;else{var D=C[v]+_;T[d]-=D,M[g]-=D}M[v]+=C[v]+_,T[1-d]+=M[x]+M[S]/2-C[S]/2,M[S]=Math.max(M[S],C[S]),M[x]=Math.min(M[x],C[x]+T[1-d]),f.x=T[0],f.y=T[1],f.markRedraw()}return M},t.prototype._layoutContentAndController=function(n,a,o,s,l,u,f,d){var v=this.getContentGroup(),g=this._containerGroup,S=this._controllerGroup;box(n.get("orient"),v,n.get("itemGap"),s?o.width:null,s?null:o.height),box("horizontal",S,n.get("pageButtonItemGap",!0));var x=v.getBoundingRect(),_=S.getBoundingRect(),C=this._showController=x[l]>o[l],T=[-x.x,-x.y];a||(T[s]=v[d]);var w=[0,0],M=[-_.x,-_.y],D=retrieve2(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(C){var I=n.get("pageButtonPosition",!0);I==="end"?M[s]+=o[l]-_[l]:w[s]+=_[l]+D}M[1-s]+=x[u]/2-_[u]/2,v.setPosition(T),g.setPosition(w),S.setPosition(M);var R={x:0,y:0};if(R[l]=C?o[l]:x[l],R[u]=Math.max(x[u],_[u]),R[f]=Math.min(0,_[f]+M[1-s]),g.__rectSize=o[l],C){var $={x:0,y:0};$[l]=Math.max(o[l]-_[l]-D,0),$[u]=R[u],g.setClipPath(new Rect$3({shape:$})),g.__rectSize=$[l]}else S.eachChild(function(F){F.attr({invisible:!0,silent:!0})});var N=this._getPageInfo(n);return N.pageIndex!=null&&updateProps$1(v,{x:N.contentPosition[0],y:N.contentPosition[1]},C?n:null),this._updatePageInfoView(n,N),R},t.prototype._pageGo=function(n,a,o){var s=this._getPageInfo(a)[n];s!=null&&o.dispatchAction({type:"legendScroll",scrollDataIndex:s,legendId:a.id})},t.prototype._updatePageInfoView=function(n,a){var o=this._controllerGroup;each$f(["pagePrev","pageNext"],function(v){var g=v+"DataIndex",S=a[g]!=null,x=o.childOfName(v);x&&(x.setStyle("fill",S?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),x.cursor=S?"pointer":"default")});var s=o.childOfName("pageText"),l=n.get("pageFormatter"),u=a.pageIndex,f=u!=null?u+1:0,d=a.pageCount;s&&l&&s.setStyle("text",isString(l)?l.replace("{current}",f==null?"":f+"").replace("{total}",d==null?"":d+""):l({current:f,total:d}))},t.prototype._getPageInfo=function(n){var a=n.get("scrollDataIndex",!0),o=this.getContentGroup(),s=this._containerGroup.__rectSize,l=n.getOrient().index,u=WH[l],f=XY[l],d=this._findTargetItemIndex(a),v=o.children(),g=v[d],S=v.length,x=S?1:0,_={contentPosition:[o.x,o.y],pageCount:x,pageIndex:x-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return _;var C=I(g);_.contentPosition[l]=-C.s;for(var T=d+1,w=C,M=C,D=null;T<=S;++T)D=I(v[T]),(!D&&M.e>w.s+s||D&&!R(D,w.s))&&(M.i>w.i?w=M:w=D,w&&(_.pageNextDataIndex==null&&(_.pageNextDataIndex=w.i),++_.pageCount)),M=D;for(var T=d-1,w=C,M=C,D=null;T>=-1;--T)D=I(v[T]),(!D||!R(M,D.s))&&w.i<M.i&&(M=w,_.pagePrevDataIndex==null&&(_.pagePrevDataIndex=w.i),++_.pageCount,++_.pageIndex),w=D;return _;function I($){if($){var N=$.getBoundingRect(),F=N[f]+$[f];return{s:F,e:F+N[u],i:$.__legendDataIndex}}}function R($,N){return $.e>=N&&$.s<=N+s}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var a,o=this.getContentGroup(),s;return o.eachChild(function(l,u){var f=l.__legendDataIndex;s==null&&f!=null&&(s=u),f===n&&(a=u)}),a!=null?a:s},t.type="legend.scroll",t}(LegendView$1),ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(r){r.registerAction("legendScroll","legendscroll",function(t,n){var a=t.scrollDataIndex;a!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(o){o.setScrollDataIndex(a)})})}function install$a(r){use(install$b),r.registerComponentModel(ScrollableLegendModel$1),r.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(r)}function install$9(r){use(install$b),use(install$a)}var InsideZoomModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(DataZoomModel$1),InsideZoomModel$1=InsideZoomModel,inner$1=makeInner();function setViewInfoToCoordSysRecord(r,t,n){inner$1(r).coordSysRecordMap.each(function(a){var o=a.dataZoomInfoMap.get(t.uid);o&&(o.getRange=n)})}function disposeCoordSysRecordIfNeeded(r,t){for(var n=inner$1(r).coordSysRecordMap,a=n.keys(),o=0;o<a.length;o++){var s=a[o],l=n.get(s),u=l.dataZoomInfoMap;if(u){var f=t.uid,d=u.get(f);d&&(u.removeKey(f),u.keys().length||disposeCoordSysRecord(n,l))}}}function disposeCoordSysRecord(r,t){if(t){r.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function createCoordSysRecord(r,t){var n={model:t,containsPoint:curry$1(containsPoint,t),dispatchAction:curry$1(dispatchAction,r),dataZoomInfoMap:null,controller:null},a=n.controller=new RoamController$1(r.getZr());return each$f(["pan","zoom","scrollMove"],function(o){a.on(o,function(s){var l=[];n.dataZoomInfoMap.each(function(u){if(!!s.isAvailableBehavior(u.model.option)){var f=(u.getRange||{})[o],d=f&&f(u.dzReferCoordSysInfo,n.model.mainType,n.controller,s);!u.model.get("disabled",!0)&&d&&l.push({dataZoomId:u.model.id,start:d[0],end:d[1]})}}),l.length&&n.dispatchAction(l)})}),n}function dispatchAction(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function containsPoint(r,t,n,a){return r.coordinateSystem.containPoint([n,a])}function mergeControllerParams(r){var t,n="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return r.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[n+u]>a[n+t]&&(t=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function installDataZoomRoamProcessor(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,n){var a=inner$1(n),o=a.coordSysRecordMap||(a.coordSysRecordMap=createHashMap());o.each(function(s){s.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(s){var l=collectReferCoordSysModelInfo(s);each$f(l.infoList,function(u){var f=u.model.uid,d=o.get(f)||o.set(f,createCoordSysRecord(n,u.model)),v=d.dataZoomInfoMap||(d.dataZoomInfoMap=createHashMap());v.set(s.uid,{dzReferCoordSysInfo:u,model:s,getRange:null})})}),o.each(function(s){var l=s.controller,u,f=s.dataZoomInfoMap;if(f){var d=f.keys()[0];d!=null&&(u=f.get(d))}if(!u){disposeCoordSysRecord(o,s);return}var v=mergeControllerParams(f);l.enable(v.controlType,v.opt),l.setPointerChecker(s.containsPoint),createOrUpdate(s,"dispatchAction",u.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,a,o){if(r.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),setViewInfoToCoordSysRecord(o,n,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(DataZoomView$1),getRangeHandlers={zoom:function(r,t,n,a){var o=this.range,s=o.slice(),l=r.axisModels[0];if(!!l){var u=getDirectionInfo[t](null,[a.originX,a.originY],l,n,r),f=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(s[1]-s[0])+s[0],d=Math.max(1/a.scale,0);s[0]=(s[0]-f)*d+f,s[1]=(s[1]-f)*d+f;var v=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,s,[0,100],0,v.minSpan,v.maxSpan),this.range=s,o[0]!==s[0]||o[1]!==s[1])return s}},pan:makeMover(function(r,t,n,a,o,s){var l=getDirectionInfo[a]([s.oldX,s.oldY],[s.newX,s.newY],t,o,n);return l.signal*(r[1]-r[0])*l.pixel/l.pixelLength}),scrollMove:makeMover(function(r,t,n,a,o,s){var l=getDirectionInfo[a]([0,0],[s.scrollDelta,s.scrollDelta],t,o,n);return l.signal*(r[1]-r[0])*s.scrollDelta})};function makeMover(r){return function(t,n,a,o){var s=this.range,l=s.slice(),u=t.axisModels[0];if(!!u){var f=r(l,u,t,n,a,o);if(sliderMove(f,l,[0,100],"all"),this.range=l,s[0]!==l[0]||s[1]!==l[1])return l}}}var getDirectionInfo={grid:function(r,t,n,a,o){var s=n.axis,l={},u=o.model.coordinateSystem.getRect();return r=r||[0,0],s.dim==="x"?(l.pixel=t[0]-r[0],l.pixelLength=u.width,l.pixelStart=u.x,l.signal=s.inverse?1:-1):(l.pixel=t[1]-r[1],l.pixelLength=u.height,l.pixelStart=u.y,l.signal=s.inverse?-1:1),l},polar:function(r,t,n,a,o){var s=n.axis,l={},u=o.model.coordinateSystem,f=u.getRadiusAxis().getExtent(),d=u.getAngleAxis().getExtent();return r=r?u.pointToCoord(r):[0,0],t=u.pointToCoord(t),n.mainType==="radiusAxis"?(l.pixel=t[0]-r[0],l.pixelLength=f[1]-f[0],l.pixelStart=f[0],l.signal=s.inverse?1:-1):(l.pixel=t[1]-r[1],l.pixelLength=d[1]-d[0],l.pixelStart=d[0],l.signal=s.inverse?-1:1),l},singleAxis:function(r,t,n,a,o){var s=n.axis,l=o.model.coordinateSystem.getRect(),u={};return r=r||[0,0],s.orient==="horizontal"?(u.pixel=t[0]-r[0],u.pixelLength=l.width,u.pixelStart=l.x,u.signal=s.inverse?1:-1):(u.pixel=t[1]-r[1],u.pixelLength=l.height,u.pixelStart=l.y,u.signal=s.inverse?-1:1),u}},InsideZoomView$1=InsideZoomView;function install$8(r){installCommon$1(r),r.registerComponentModel(InsideZoomModel$1),r.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(r)}var SliderZoomModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(DataZoomModel$1),SliderZoomModel$1=SliderZoomModel,Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,a){this.api=a,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},t.prototype.render=function(n,a,o,s){if(r.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!s||s.type!=="dataZoom"||s.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var a=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(a),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,a=this.api,o=n.get("brushSelect"),s=o?DEFAULT_MOVE_HANDLE_SIZE:0,l=this._findCoordRect(),u={width:a.getWidth(),height:a.getHeight()},f=this._orient===HORIZONTAL?{right:u.width-l.x-l.width,top:u.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-s,width:l.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:l.y,width:DEFAULT_FILLER_SIZE,height:l.height},d=getLayoutParams(n.option);each$f(["right","top","width","height"],function(g){d[g]==="ph"&&(d[g]=f[g])});var v=getLayoutRect(d,u);this._location={x:v.x,y:v.y},this._size=[v.width,v.height],this._orient===VERTICAL&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,a=this._location,o=this._orient,s=this.dataZoomModel.getFirstTargetAxisModel(),l=s&&s.get("inverse"),u=this._displayables.sliderGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;u.attr(o===HORIZONTAL&&!l?{scaleY:f?1:-1,scaleX:1}:o===HORIZONTAL&&l?{scaleY:f?1:-1,scaleX:-1}:o===VERTICAL&&!l?{scaleY:f?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:f?-1:1,scaleX:-1,rotation:Math.PI/2});var d=n.getBoundingRect([u]);n.x=a.x-d.x,n.y=a.y-d.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,a=this._size,o=this._displayables.sliderGroup,s=n.get("brushSelect");o.add(new Rect({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var l=new Rect({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),u=this.api.getZr();s?(l.on("mousedown",this._onBrushStart,this),l.cursor="crosshair",u.on("mousemove",this._onBrush),u.on("mouseup",this._onBrushEnd)):(u.off("mousemove",this._onBrush),u.off("mouseup",this._onBrushEnd)),o.add(l)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var a=this._size,o=this._shadowSize||[],s=n.series,l=s.getRawData(),u=s.getShadowDim?s.getShadowDim():n.otherDim;if(u==null)return;var f=this._shadowPolygonPts,d=this._shadowPolylinePts;if(l!==this._shadowData||u!==this._shadowDim||a[0]!==o[0]||a[1]!==o[1]){var v=l.getDataExtent(u),g=(v[1]-v[0])*.3;v=[v[0]-g,v[1]+g];var S=[0,a[1]],x=[0,a[0]],_=[[a[0],0],[0,0]],C=[],T=x[1]/(l.count()-1),w=0,M=Math.round(l.count()/a[0]),D;l.each([u],function(F,H){if(M>0&&H%M){w+=T;return}var Y=F==null||isNaN(F)||F==="",G=Y?0:linearMap$2(F,v,S,!0);Y&&!D&&H?(_.push([_[_.length-1][0],0]),C.push([C[C.length-1][0],0])):!Y&&D&&(_.push([w,0]),C.push([w,0])),_.push([w,G]),C.push([w,G]),w+=T,D=Y}),f=this._shadowPolygonPts=_,d=this._shadowPolylinePts=C}this._shadowData=l,this._shadowDim=u,this._shadowSize=[a[0],a[1]];var I=this.dataZoomModel;function R(F){var H=I.getModel(F?"selectedDataBackground":"dataBackground"),Y=new Group$4,G=new Polygon$1({shape:{points:f},segmentIgnoreThreshold:1,style:H.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),K=new Polyline$3({shape:{points:d},segmentIgnoreThreshold:1,style:H.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Y.add(G),Y.add(K),Y}for(var $=0;$<3;$++){var N=R($===1);this._displayables.sliderGroup.add(N),this._displayables.dataShadowSegs.push(N)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,a=n.get("showDataShadow");if(a!==!1){var o,s=this.ecModel;return n.eachTargetAxis(function(l,u){var f=n.getAxisProxy(l,u).getTargetSeriesModels();each$f(f,function(d){if(!o&&!(a!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,d.get("type"))<0)){var v=s.getComponent(getAxisMainType(l),u).axis,g=getOtherDim(l),S,x=d.coordinateSystem;g!=null&&x.getOtherAxis&&(S=x.getOtherAxis(v).inverse),g=d.getData().mapDimension(g),o={thisAxis:v,series:d,thisDim:l,otherDim:g,otherAxisInverse:S}}},this)},this),o}},t.prototype._renderHandle=function(){var n=this.group,a=this._displayables,o=a.handles=[null,null],s=a.handleLabels=[null,null],l=this._displayables.sliderGroup,u=this._size,f=this.dataZoomModel,d=this.api,v=f.get("borderRadius")||0,g=f.get("brushSelect"),S=a.filler=new Rect({silent:g,style:{fill:f.get("fillerColor")},textConfig:{position:"inside"}});l.add(S),l.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:u[0],height:u[1],r:v},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(D){var I=f.get("handleIcon");!symbolBuildProxies[I]&&I.indexOf("path://")<0&&I.indexOf("image://")<0&&(I="path://"+I);var R=createSymbol$1(I,-1,0,2,2,null,!0);R.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,D),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var $=R.getBoundingRect(),N=f.get("handleSize");this._handleHeight=parsePercent(N,this._size[1]),this._handleWidth=$.width/$.height*this._handleHeight,R.setStyle(f.getModel("handleStyle").getItemStyle()),R.style.strokeNoScale=!0,R.rectHover=!0,R.ensureState("emphasis").style=f.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(R);var F=f.get("handleColor");F!=null&&(R.style.fill=F),l.add(o[D]=R);var H=f.getModel("textStyle");n.add(s[D]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(H,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:H.getTextColor(),font:H.getFont()}),z2:10}))},this);var x=S;if(g){var _=parsePercent(f.get("moveHandleSize"),u[1]),C=a.moveHandle=new Rect$3({style:f.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:u[1]-.5,height:_}}),T=_*.8,w=a.moveHandleIcon=createSymbol$1(f.get("moveHandleIcon"),-T/2,-T/2,T,T,"#fff",!0);w.silent=!0,w.y=u[1]+_/2-.5,C.ensureState("emphasis").style=f.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var M=Math.min(u[1]/2,Math.max(_,10));x=a.moveZone=new Rect$3({invisible:!0,shape:{y:u[1]-M,height:_+M}}),x.on("mouseover",function(){d.enterEmphasis(C)}).on("mouseout",function(){d.leaveEmphasis(C)}),l.add(C),l.add(w),l.add(x)}x.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),a=this._getViewExtent();this._handleEnds=[linearMap$2(n[0],[0,100],a,!0),linearMap$2(n[1],[0,100],a,!0)]},t.prototype._updateInterval=function(n,a){var o=this.dataZoomModel,s=this._handleEnds,l=this._getViewExtent(),u=o.findRepresentativeAxisProxy().getMinMaxSpan(),f=[0,100];sliderMove(a,s,l,o.get("zoomLock")?"all":n,u.minSpan!=null?linearMap$2(u.minSpan,f,l,!0):null,u.maxSpan!=null?linearMap$2(u.maxSpan,f,l,!0):null);var d=this._range,v=this._range=asc$2([linearMap$2(s[0],l,f,!0),linearMap$2(s[1],l,f,!0)]);return!d||d[0]!==v[0]||d[1]!==v[1]},t.prototype._updateView=function(n){var a=this._displayables,o=this._handleEnds,s=asc$2(o.slice()),l=this._size;each$f([0,1],function(x){var _=a.handles[x],C=this._handleHeight;_.attr({scaleX:C/2,scaleY:C/2,x:o[x]+(x?-1:1),y:l[1]/2-C/2})},this),a.filler.setShape({x:s[0],y:0,width:s[1]-s[0],height:l[1]});var u={x:s[0],width:s[1]-s[0]};a.moveHandle&&(a.moveHandle.setShape(u),a.moveZone.setShape(u),a.moveZone.getBoundingRect(),a.moveHandleIcon&&a.moveHandleIcon.attr("x",u.x+u.width/2));for(var f=a.dataShadowSegs,d=[0,s[0],s[1],l[0]],v=0;v<f.length;v++){var g=f[v],S=g.getClipPath();S||(S=new Rect$3,g.setClipPath(S)),S.setShape({x:d[v],y:0,width:d[v+1]-d[v],height:l[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var a=this.dataZoomModel,o=this._displayables,s=o.handleLabels,l=this._orient,u=["",""];if(a.get("showDetail")){var f=a.findRepresentativeAxisProxy();if(f){var d=f.getAxisModel().axis,v=this._range,g=n?f.calculateDataWindow({start:v[0],end:v[1]}).valueWindow:f.getDataValueWindow();u=[this._formatLabel(g[0],d),this._formatLabel(g[1],d)]}}var S=asc$2(this._handleEnds.slice());x.call(this,0),x.call(this,1);function x(_){var C=getTransform$1(o.handles[_].parent,this.group),T=transformDirection(_===0?"right":"left",C),w=this._handleWidth/2+LABEL_GAP,M=applyTransform([S[_]+(_===0?-w:w),this._size[1]/2],C);s[_].setStyle({x:M[0],y:M[1],verticalAlign:l===HORIZONTAL?"middle":T,align:l===HORIZONTAL?T:"center",text:u[_]})}},t.prototype._formatLabel=function(n,a){var o=this.dataZoomModel,s=o.get("labelFormatter"),l=o.get("labelPrecision");(l==null||l==="auto")&&(l=a.getPixelPrecision());var u=n==null||isNaN(n)?"":a.type==="category"||a.type==="time"?a.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(l,20));return isFunction(s)?s(n,u):isString(s)?s.replace("{value}",u):u},t.prototype._showDataInfo=function(n){n=this._dragging||n;var a=this._displayables,o=a.handleLabels;o[0].attr("invisible",!n),o[1].attr("invisible",!n),a.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](a.moveHandle,1)},t.prototype._onDragMove=function(n,a,o,s){this._dragging=!0,stop(s.event);var l=this._displayables.sliderGroup.getLocalTransform(),u=applyTransform([a,o],l,!0),f=this._updateInterval(n,u[0]),d=this.dataZoomModel.get("realtime");this._updateView(!d),f&&d&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var a=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(o[0]<0||o[0]>a[0]||o[1]<0||o[1]>a[1])){var s=this._handleEnds,l=(s[0]+s[1])/2,u=this._updateInterval("all",o[0]-l);this._updateView(),u&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var a=n.offsetX,o=n.offsetY;this._brushStart=new Point$1(a,o),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(!!this._brushing){var a=this._displayables.brushRect;if(this._brushing=!1,!!a){a.attr("ignore",!0);var o=a.shape,s=+new Date;if(!(s-this._brushStartTime<200&&Math.abs(o.width)<5)){var l=this._getViewExtent(),u=[0,100];this._range=asc$2([linearMap$2(o.x,l,u,!0),linearMap$2(o.x+o.width,l,u,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(stop(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,a){var o=this._displayables,s=this.dataZoomModel,l=o.brushRect;l||(l=o.brushRect=new Rect({silent:!0,style:s.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(l)),l.attr("ignore",!1);var u=this._brushStart,f=this._displayables.sliderGroup,d=f.transformCoordToLocal(n,a),v=f.transformCoordToLocal(u.x,u.y),g=this._size;d[0]=Math.max(Math.min(g[0],d[0]),0),l.setShape({x:v[0],y:0,width:d[0]-v[0],height:g[1]})},t.prototype._dispatchZoomAction=function(n){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?REALTIME_ANIMATION_CONFIG:null,start:a[0],end:a[1]})},t.prototype._findCoordRect=function(){var n,a=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!n&&a.length){var o=a[0].model.coordinateSystem;n=o.getRect&&o.getRect()}if(!n){var s=this.api.getWidth(),l=this.api.getHeight();n={x:s*.2,y:l*.2,width:s*.6,height:l*.6}}return n},t.type="dataZoom.slider",t}(DataZoomView$1);function getOtherDim(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function getCursor$1(r){return r==="vertical"?"ns-resize":"ew-resize"}var SliderZoomView$1=SliderZoomView;function install$7(r){r.registerComponentModel(SliderZoomModel$1),r.registerComponentView(SliderZoomView$1),installCommon$1(r)}function install$6(r){use(install$8),use(install$7)}var visualDefault={get:function(r,t,n){var a=clone$4((defaultOption[r]||{})[t]);return n&&isArray$1(a)?a[a.length-1]:a}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},visualDefault$1=visualDefault,mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return t.prototype.init=function(n,a,o){this.mergeDefaultAndTheme(n,o)},t.prototype.optionUpdated=function(n,a){var o=this.option;!a&&replaceVisualOption(o,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(n){var a=this.stateList;n=bind$1(n,this),this.controllerVisuals=createVisualMappings(this.option.controller,a,n),this.targetVisuals=createVisualMappings(this.option.target,a,n)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,a=[];return n==null||n==="all"?this.ecModel.eachSeries(function(o,s){a.push(s)}):a=normalizeToArray(n),a},t.prototype.eachTargetSeries=function(n,a){each$f(this.getTargetSeriesIndices(),function(o){var s=this.ecModel.getSeriesByIndex(o);s&&n.call(a,s)},this)},t.prototype.isTargetSeries=function(n){var a=!1;return this.eachTargetSeries(function(o){o===n&&(a=!0)}),a},t.prototype.formatValueText=function(n,a,o){var s=this.option,l=s.precision,u=this.dataBound,f=s.formatter,d;o=o||["<",">"],isArray$1(n)&&(n=n.slice(),d=!0);var v=a?n:d?[g(n[0]),g(n[1])]:g(n);if(isString(f))return f.replace("{value}",d?v[0]:v).replace("{value2}",d?v[1]:v);if(isFunction(f))return d?f(n[0],n[1]):f(n);if(d)return n[0]===u[0]?o[0]+" "+v[1]:n[1]===u[1]?o[1]+" "+v[0]:v[0]+" - "+v[1];return v;function g(S){return S===u[0]?"min":S===u[1]?"max":(+S).toFixed(Math.min(l,20))}},t.prototype.resetExtent=function(){var n=this.option,a=asc([n.min,n.max]);this._dataExtent=a},t.prototype.getDataDimensionIndex=function(n){var a=this.option.dimension;if(a!=null)return n.getDimensionIndex(a);for(var o=n.dimensions,s=o.length-1;s>=0;s--){var l=o[s],u=n.getDimensionInfo(l);if(!u.isCalculationCoord)return u.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var n=this.ecModel,a=this.option,o={inRange:a.inRange,outOfRange:a.outOfRange},s=a.target||(a.target={}),l=a.controller||(a.controller={});merge(s,o),merge(l,o);var u=this.isCategory();f.call(this,s),f.call(this,l),d.call(this,s,"inRange","outOfRange"),v.call(this,l);function f(g){isArray(a.color)&&!g.inRange&&(g.inRange={color:a.color.slice().reverse()}),g.inRange=g.inRange||{color:n.get("gradientColor")}}function d(g,S,x){var _=g[S],C=g[x];_&&!C&&(C=g[x]={},each$2(_,function(T,w){if(!!VisualMapping$1.isValidType(w)){var M=visualDefault$1.get(w,"inactive",u);M!=null&&(C[w]=M,w==="color"&&!C.hasOwnProperty("opacity")&&!C.hasOwnProperty("colorAlpha")&&(C.opacity=[0,0]))}}))}function v(g){var S=(g.inRange||{}).symbol||(g.outOfRange||{}).symbol,x=(g.inRange||{}).symbolSize||(g.outOfRange||{}).symbolSize,_=this.get("inactiveColor"),C=this.getItemSymbol(),T=C||"roundRect";each$2(this.stateList,function(w){var M=this.itemSize,D=g[w];D||(D=g[w]={color:u?_:[_]}),D.symbol==null&&(D.symbol=S&&clone$4(S)||(u?T:[T])),D.symbolSize==null&&(D.symbolSize=x&&clone$4(x)||(u?M[0]:[M[0],M[0]])),D.symbol=mapVisual(D.symbol,function($){return $==="none"?T:$});var I=D.symbolSize;if(I!=null){var R=-1/0;eachVisual(I,function($){$>R&&(R=$)}),D.symbolSize=mapVisual(I,function($){return linearMap$1($,[0,R],[0,M[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(n){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(n){return null},t.prototype.getVisualMeta=function(n){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(ComponentModel$1),VisualMapModel$1=VisualMapModel,DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(n,a){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(o){o.mappingMethod="linear",o.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=DEFAULT_BAR_BOUND[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=DEFAULT_BAR_BOUND[1])},t.prototype._resetRange=function(){var n=this.getExtent(),a=this.option.range;!a||a.auto?(n.auto=1,this.option.range=n):isArray$1(a)&&(a[0]>a[1]&&a.reverse(),a[0]=Math.max(a[0],n[0]),a[1]=Math.min(a[1],n[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(n){var a=this.option.controller[n].symbolSize;a&&a[0]!==a[1]&&(a[0]=a[1]/3)},this)},t.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},t.prototype.getSelected=function(){var n=this.getExtent(),a=asc$2((this.get("range")||[]).slice());return a[0]>n[1]&&(a[0]=n[1]),a[1]>n[1]&&(a[1]=n[1]),a[0]<n[0]&&(a[0]=n[0]),a[1]<n[0]&&(a[1]=n[0]),a},t.prototype.getValueState=function(n){var a=this.option.range,o=this.getExtent();return(a[0]<=o[0]||a[0]<=n)&&(a[1]>=o[1]||n<=a[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var a=[];return this.eachTargetSeries(function(o){var s=[],l=o.getData();l.each(this.getDataDimensionIndex(l),function(u,f){n[0]<=u&&u<=n[1]&&s.push(f)},this),a.push({seriesId:o.id,dataIndex:s})},this),a},t.prototype.getVisualMeta=function(n){var a=getColorStopValues(this,"outOfRange",this.getExtent()),o=getColorStopValues(this,"inRange",this.option.range.slice()),s=[];function l(x,_){s.push({value:x,color:n(x,_)})}for(var u=0,f=0,d=o.length,v=a.length;f<v&&(!o.length||a[f]<=o[0]);f++)a[f]<o[u]&&l(a[f],"outOfRange");for(var g=1;u<d;u++,g=0)g&&s.length&&l(o[u],"outOfRange"),l(o[u],"inRange");for(var g=1;f<v;f++)(!o.length||o[o.length-1]<a[f])&&(g&&(s.length&&l(s[s.length-1].value,"outOfRange"),g=0),l(a[f],"outOfRange"));var S=s.length;return{stops:s,outerColors:[S?s[0].color:"transparent",S?s[S-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(VisualMapModel$1);function getColorStopValues(r,t,n){if(n[0]===n[1])return n.slice();for(var a=200,o=(n[1]-n[0])/a,s=n[0],l=[],u=0;u<=a&&s<n[1];u++)l.push(s),s+=o;return l.push(n[1]),l}var ContinuousModel$1=ContinuousModel,VisualMapView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return t.prototype.init=function(n,a){this.ecModel=n,this.api=a},t.prototype.render=function(n,a,o,s){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,a,o,s)},t.prototype.renderBackground=function(n){var a=this.visualMapModel,o=normalizeCssArray(a.get("padding")||0),s=n.getBoundingRect();n.add(new Rect$3({z2:-1,silent:!0,shape:{x:s.x-o[3],y:s.y-o[0],width:s.width+o[3]+o[1],height:s.height+o[0]+o[2]},style:{fill:a.get("backgroundColor"),stroke:a.get("borderColor"),lineWidth:a.get("borderWidth")}}))},t.prototype.getControllerVisual=function(n,a,o){o=o||{};var s=o.forceState,l=this.visualMapModel,u={};if(a==="color"){var f=l.get("contentColor");u.color=f}function d(x){return u[x]}function v(x,_){u[x]=_}var g=l.controllerVisuals[s||l.getValueState(n)],S=VisualMapping$1.prepareVisualTypes(g);return each$f(S,function(x){var _=g[x];o.convertOpacityToAlpha&&x==="opacity"&&(x="colorAlpha",_=g.__alphaForOpacity),VisualMapping$1.dependsOn(x,a)&&_&&_.applyVisual(n,d,v)}),u[a]},t.prototype.positionGroup=function(n){var a=this.visualMapModel,o=this.api;positionElement(n,a.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})},t.prototype.doRender=function(n,a,o,s){},t.type="visualMap",t}(ComponentView$1),VisualMapView$1=VisualMapView,paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(r,t,n){var a=r.option,o=a.align;if(o!=null&&o!=="auto")return o;for(var s={width:t.getWidth(),height:t.getHeight()},l=a.orient==="horizontal"?1:0,u=paramsSet[l],f=[0,null,10],d={},v=0;v<3;v++)d[paramsSet[1-l][v]]=f[v],d[u[v]]=v===2?n[0]:a[u[v]];var g=[["x","width",3],["y","height",0]][l],S=getLayoutRect(d,s,a.padding);return u[(S.margin[g[2]]||0)+S[g[0]]+S[g[1]]*.5<s[g[1]]*.5?0:1]}function makeHighDownBatch(r,t){return each$f(r||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.doRender=function(n,a,o,s){this._api=o,(!s||s.type!=="selectDataRange"||s.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,a=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(a);var o=n.get("text");this._renderEndsText(a,o,0),this._renderEndsText(a,o,1),this._updateView(!0),this.renderBackground(a),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(a)},t.prototype._renderEndsText=function(n,a,o){if(!!a){var s=a[1-o];s=s!=null?s+"":"";var l=this.visualMapModel,u=l.get("textGap"),f=l.itemSize,d=this._shapes.mainGroup,v=this._applyTransform([f[0]/2,o===0?-u:f[1]+u],d),g=this._applyTransform(o===0?"bottom":"top",d),S=this._orient,x=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle(x,{x:v[0],y:v[1],verticalAlign:S==="horizontal"?"middle":g,align:S==="horizontal"?g:"center",text:s})}))}},t.prototype._renderBar=function(n){var a=this.visualMapModel,o=this._shapes,s=a.itemSize,l=this._orient,u=this._useHandle,f=getItemAlign(a,this.api,s),d=o.mainGroup=this._createBarGroup(f),v=new Group$4;d.add(v),v.add(o.outOfRange=createPolygon()),v.add(o.inRange=createPolygon(null,u?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),v.setClipPath(new Rect$3({shape:{x:0,y:0,width:s[0],height:s[1],r:3}}));var g=a.textStyleModel.getTextRect("\u56FD"),S=mathMax(g.width,g.height);u&&(o.handleThumbs=[],o.handleLabels=[],o.handleLabelPoints=[],this._createHandle(a,d,0,s,S,l),this._createHandle(a,d,1,s,S,l)),this._createIndicator(a,d,s,S,l),n.add(d)},t.prototype._createHandle=function(n,a,o,s,l,u){var f=bind$1(this._dragHandle,this,o,!1),d=bind$1(this._dragHandle,this,o,!0),v=parsePercent$1(n.get("handleSize"),s[0]),g=createSymbol$1(n.get("handleIcon"),-v/2,-v/2,v,v,null,!0),S=getCursor(this._orient);g.attr({cursor:S,draggable:!0,drift:f,ondragend:d,onmousemove:function(w){stop(w.event)}}),g.x=s[0]/2,g.useStyle(n.getModel("handleStyle").getItemStyle()),g.setStyle({strokeNoScale:!0,strokeFirst:!0}),g.style.lineWidth*=2,g.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(g,!0),a.add(g);var x=this.visualMapModel.textStyleModel,_=new ZRText$1({cursor:S,draggable:!0,drift:f,onmousemove:function(w){stop(w.event)},ondragend:d,style:createTextStyle(x,{x:0,y:0,text:""})});_.ensureState("blur").style={opacity:.1},_.stateTransition={duration:200},this.group.add(_);var C=[v,0],T=this._shapes;T.handleThumbs[o]=g,T.handleLabelPoints[o]=C,T.handleLabels[o]=_},t.prototype._createIndicator=function(n,a,o,s,l){var u=parsePercent$1(n.get("indicatorSize"),o[0]),f=createSymbol$1(n.get("indicatorIcon"),-u/2,-u/2,u,u,null,!0);f.attr({cursor:"move",invisible:!0,silent:!0,x:o[0]/2});var d=n.getModel("indicatorStyle").getItemStyle();if(f instanceof ZRImage$1){var v=f.style;f.useStyle(extend({image:v.image,x:v.x,y:v.y,width:v.width,height:v.height},d))}else f.useStyle(d);a.add(f);var g=this.visualMapModel.textStyleModel,S=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(g,{x:0,y:0,text:""})});this.group.add(S);var x=[(l==="horizontal"?s/2:HOVER_LINK_OUT)+o[0]/2,0],_=this._shapes;_.indicator=f,_.indicatorLabel=S,_.indicatorLabelPoint=x,this._firstShowIndicator=!0},t.prototype._dragHandle=function(n,a,o,s){if(!!this._useHandle){if(this._dragging=!a,!a){var l=this._applyTransform([o,s],this._shapes.mainGroup,!0);this._updateInterval(n,l[1]),this._hideIndicator(),this._updateView()}a===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),a?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},t.prototype._resetInterval=function(){var n=this.visualMapModel,a=this._dataInterval=n.getSelected(),o=n.getExtent(),s=[0,n.itemSize[1]];this._handleEnds=[linearMap(a[0],o,s,!0),linearMap(a[1],o,s,!0)]},t.prototype._updateInterval=function(n,a){a=a||0;var o=this.visualMapModel,s=this._handleEnds,l=[0,o.itemSize[1]];sliderMove(a,s,l,n,0);var u=o.getExtent();this._dataInterval=[linearMap(s[0],l,u,!0),linearMap(s[1],l,u,!0)]},t.prototype._updateView=function(n){var a=this.visualMapModel,o=a.getExtent(),s=this._shapes,l=[0,a.itemSize[1]],u=n?l:this._handleEnds,f=this._createBarVisual(this._dataInterval,o,u,"inRange"),d=this._createBarVisual(o,o,l,"outOfRange");s.inRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),s.outOfRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),this._updateHandle(u,f)},t.prototype._createBarVisual=function(n,a,o,s){var l={forceState:s,convertOpacityToAlpha:!0},u=this._makeColorGradient(n,l),f=[this.getControllerVisual(n[0],"symbolSize",l),this.getControllerVisual(n[1],"symbolSize",l)],d=this._createBarPoints(o,f);return{barColor:new LinearGradient$1(0,0,0,1,u),barPoints:d,handlesColor:[u[0].color,u[u.length-1].color]}},t.prototype._makeColorGradient=function(n,a){var o=100,s=[],l=(n[1]-n[0])/o;s.push({color:this.getControllerVisual(n[0],"color",a),offset:0});for(var u=1;u<o;u++){var f=n[0]+l*u;if(f>n[1])break;s.push({color:this.getControllerVisual(f,"color",a),offset:u/o})}return s.push({color:this.getControllerVisual(n[1],"color",a),offset:1}),s},t.prototype._createBarPoints=function(n,a){var o=this.visualMapModel.itemSize;return[[o[0]-a[0],n[0]],[o[0],n[0]],[o[0],n[1]],[o[0]-a[1],n[1]]]},t.prototype._createBarGroup=function(n){var a=this._orient,o=this.visualMapModel.get("inverse");return new Group$4(a==="horizontal"&&!o?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:a==="horizontal"&&o?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:a==="vertical"&&!o?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},t.prototype._updateHandle=function(n,a){if(!!this._useHandle){var o=this._shapes,s=this.visualMapModel,l=o.handleThumbs,u=o.handleLabels,f=s.itemSize,d=s.getExtent();each$1([0,1],function(v){var g=l[v];g.setStyle("fill",a.handlesColor[v]),g.y=n[v];var S=linearMap(n[v],[0,f[1]],d,!0),x=this.getControllerVisual(S,"symbolSize");g.scaleX=g.scaleY=x/f[0],g.x=f[0]-x/2;var _=applyTransform(o.handleLabelPoints[v],getTransform$1(g,this.group));u[v].setStyle({x:_[0],y:_[1],text:s.formatValueText(this._dataInterval[v]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",o.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(n,a,o,s){var l=this.visualMapModel,u=l.getExtent(),f=l.itemSize,d=[0,f[1]],v=this._shapes,g=v.indicator;if(!!g){g.attr("invisible",!1);var S={convertOpacityToAlpha:!0},x=this.getControllerVisual(n,"color",S),_=this.getControllerVisual(n,"symbolSize"),C=linearMap(n,u,d,!0),T=f[0]-_/2,w={x:g.x,y:g.y};g.y=C,g.x=T;var M=applyTransform(v.indicatorLabelPoint,getTransform$1(g,this.group)),D=v.indicatorLabel;D.attr("invisible",!1);var I=this._applyTransform("left",v.mainGroup),R=this._orient,$=R==="horizontal";D.setStyle({text:(o||"")+l.formatValueText(a),verticalAlign:$?I:"middle",align:$?"center":I});var N={x:T,y:C,style:{fill:x}},F={style:{x:M[0],y:M[1]}};if(l.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var H={duration:100,easing:"cubicInOut",additive:!0};g.x=w.x,g.y=w.y,g.animateTo(N,H),D.animateTo(F,H)}else g.attr(N),D.attr(F);this._firstShowIndicator=!1;var Y=this._shapes.handleLabels;if(Y)for(var G=0;G<Y.length;G++)this._api.enterBlur(Y[G])}},t.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(a){if(n._hovering=!0,!n._dragging){var o=n.visualMapModel.itemSize,s=n._applyTransform([a.offsetX,a.offsetY],n._shapes.mainGroup,!0,!0);s[1]=mathMin(mathMax(0,s[1]),o[1]),n._doHoverLinkToSeries(s[1],0<=s[0]&&s[0]<=o[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(n,a){var o=this.visualMapModel,s=o.itemSize;if(!!o.option.hoverLink){var l=[0,s[1]],u=o.getExtent();n=mathMin(mathMax(l[0],n),l[1]);var f=getHalfHoverLinkSize(o,u,l),d=[n-f,n+f],v=linearMap(n,l,u,!0),g=[linearMap(d[0],l,u,!0),linearMap(d[1],l,u,!0)];d[0]<l[0]&&(g[0]=-1/0),d[1]>l[1]&&(g[1]=1/0),a&&(g[0]===-1/0?this._showIndicator(v,g[1],"< ",f):g[1]===1/0?this._showIndicator(v,g[0],"> ",f):this._showIndicator(v,v,"\u2248 ",f));var S=this._hoverLinkDataIndices,x=[];(a||useHoverLinkOnHandle(o))&&(x=this._hoverLinkDataIndices=o.findTargetDataIndices(g));var _=compressBatches(S,x);this._dispatchHighDown("downplay",makeHighDownBatch(_[0],o)),this._dispatchHighDown("highlight",makeHighDownBatch(_[1],o))}},t.prototype._hoverLinkFromSeriesMouseOver=function(n){var a=n.target,o=this.visualMapModel;if(!(!a||getECData(a).dataIndex==null)){var s=getECData(a),l=this.ecModel.getSeriesByIndex(s.seriesIndex);if(!!o.isTargetSeries(l)){var u=l.getData(s.dataType),f=u.getStore().get(o.getDataDimensionIndex(u),s.dataIndex);isNaN(f)||this._showIndicator(f,f)}}},t.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var a=this._shapes.handleLabels;if(a)for(var o=0;o<a.length;o++)this._api.leaveBlur(a[o])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(n,this.visualMapModel)),n.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(n,a,o,s){var l=getTransform$1(a,s?null:this.group);return isArray$1(n)?applyTransform(n,l,o):transformDirection(n,l,o)},t.prototype._dispatchHighDown=function(n,a){a&&a.length&&this.api.dispatchAction({type:n,batch:a})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(VisualMapView$1);function createPolygon(r,t,n,a){return new Polygon$1({shape:{points:r},draggable:!!n,cursor:t,drift:n,onmousemove:function(o){stop(o.event)},ondragend:a})}function getHalfHoverLinkSize(r,t,n){var a=HOVER_LINK_SIZE/2,o=r.get("hoverLinkDataSize");return o&&(a=linearMap(o,t,n,!0)/2),a}function useHoverLinkOnHandle(r){var t=r.get("hoverLinkOnHandle");return!!(t==null?r.get("realtime"):t)}function getCursor(r){return r==="vertical"?"ns-resize":"ew-resize"}var ContinuousView$1=ContinuousView,visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(n){n.setSelected(r.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(r,t){var n=[];return t.eachComponent("visualMap",function(a){var o=r.pipelineContext;!a.isTargetSeries(r)||o&&o.large||n.push(incrementalApplyVisual(a.stateList,a.targetVisuals,bind$1(a.getValueState,a),a.getDataDimensionIndex(r.getData())))}),n}},{createOnAllSeries:!0,reset:function(r,t){var n=r.getData(),a=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(r)){var s=o.getVisualMeta(bind$1(getColorVisual,null,r,o))||{stops:[],outerColors:[]},l=o.getDataDimensionIndex(n);l>=0&&(s.dimension=l,a.push(s))}}),r.getData().setVisual("visualMeta",a)}}];function getColorVisual(r,t,n,a){for(var o=t.targetVisuals[a],s=VisualMapping$1.prepareVisualTypes(o),l={color:getVisualFromData(r.getData(),"color")},u=0,f=s.length;u<f;u++){var d=s[u],v=o[d==="opacity"?"__alphaForOpacity":d];v&&v.applyVisual(n,g,S)}return l.color;function g(x){return l[x]}function S(x,_){l[x]=_}}var each=each$f;function visualMapPreprocessor(r){var t=r&&r.visualMap;isArray$1(t)||(t=t?[t]:[]),each(t,function(n){if(!!n){has(n,"splitList")&&!has(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var a=n.pieces;a&&isArray$1(a)&&each(a,function(o){isObject$4(o)&&(has(o,"start")&&!has(o,"min")&&(o.min=o.start),has(o,"end")&&!has(o,"max")&&(o.max=o.end))})}})}function has(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var installed=!1;function installCommon(r){installed||(installed=!0,r.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),r.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(visualMapPreprocessor))}function install$5(r){r.registerComponentModel(ContinuousModel$1),r.registerComponentView(ContinuousView$1),installCommon(r)}var PiecewiseModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return t.prototype.optionUpdated=function(n,a){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(n,a);var s=this.option.categories;this.resetVisual(function(l,u){o==="categories"?(l.mappingMethod="category",l.categories=clone$4(s)):(l.dataExtent=this.getExtent(),l.mappingMethod="piecewise",l.pieceList=map$1(this._pieceList,function(f){return f=clone$4(f),u!=="inRange"&&(f.visual=null),f}))})},t.prototype.completeVisualOption=function(){var n=this.option,a={},o=VisualMapping$1.listVisualTypes(),s=this.isCategory();each$f(n.pieces,function(u){each$f(o,function(f){u.hasOwnProperty(f)&&(a[f]=1)})}),each$f(a,function(u,f){var d=!1;each$f(this.stateList,function(v){d=d||l(n,v,f)||l(n.target,v,f)},this),!d&&each$f(this.stateList,function(v){(n[v]||(n[v]={}))[f]=visualDefault$1.get(f,v==="inRange"?"active":"inactive",s)})},this);function l(u,f,d){return u&&u[f]&&u[f].hasOwnProperty(d)}r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(n,a){var o=this.option,s=this._pieceList,l=(a?o:n).selected||{};if(o.selected=l,each$f(s,function(f,d){var v=this.getSelectedMapKey(f);l.hasOwnProperty(v)||(l[v]=!0)},this),o.selectedMode==="single"){var u=!1;each$f(s,function(f,d){var v=this.getSelectedMapKey(f);l[v]&&(u?l[v]=!1:u=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(n){this.option.selected=clone$4(n)},t.prototype.getValueState=function(n){var a=VisualMapping$1.findPieceIndex(n,this._pieceList);return a!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var a=[],o=this._pieceList;return this.eachTargetSeries(function(s){var l=[],u=s.getData();u.each(this.getDataDimensionIndex(u),function(f,d){var v=VisualMapping$1.findPieceIndex(f,o);v===n&&l.push(d)},this),a.push({seriesId:s.id,dataIndex:l})},this),a},t.prototype.getRepresentValue=function(n){var a;if(this.isCategory())a=n.value;else if(n.value!=null)a=n.value;else{var o=n.interval||[];a=o[0]===-1/0&&o[1]===1/0?0:(o[0]+o[1])/2}return a},t.prototype.getVisualMeta=function(n){if(this.isCategory())return;var a=[],o=["",""],s=this;function l(v,g){var S=s.getRepresentValue({interval:v});g||(g=s.getValueState(S));var x=n(S,g);v[0]===-1/0?o[0]=x:v[1]===1/0?o[1]=x:a.push({value:v[0],color:x},{value:v[1],color:x})}var u=this._pieceList.slice();if(!u.length)u.push({interval:[-1/0,1/0]});else{var f=u[0].interval[0];f!==-1/0&&u.unshift({interval:[-1/0,f]}),f=u[u.length-1].interval[1],f!==1/0&&u.push({interval:[f,1/0]})}var d=-1/0;return each$f(u,function(v){var g=v.interval;g&&(g[0]>d&&l([d,g[0]],"outOfRange"),l(g.slice()),d=g[1])},this),{stops:a,outerColors:o}},t.type="visualMap.piecewise",t.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(VisualMapModel$1),resetMethods={splitNumber:function(r){var t=this.option,n=Math.min(t.precision,20),a=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var s=(a[1]-a[0])/o;+s.toFixed(n)!==s&&n<5;)n++;t.precision=n,s=+s.toFixed(n),t.minOpen&&r.push({interval:[-1/0,a[0]],close:[0,0]});for(var l=0,u=a[0];l<o;u+=s,l++){var f=l===o-1?a[1]:u+s;r.push({interval:[u,f],close:[1,1]})}t.maxOpen&&r.push({interval:[a[1],1/0],close:[0,0]}),reformIntervals(r),each$f(r,function(d,v){d.index=v,d.text=this.formatValueText(d.interval)},this)},categories:function(r){var t=this.option;each$f(t.categories,function(n){r.push({text:this.formatValueText(n,!0),value:n})},this),normalizeReverse(t,r)},pieces:function(r){var t=this.option;each$f(t.pieces,function(n,a){isObject$4(n)||(n={value:n});var o={text:"",index:a};if(n.label!=null&&(o.text=n.label),n.hasOwnProperty("value")){var s=o.value=n.value;o.interval=[s,s],o.close=[1,1]}else{for(var l=o.interval=[],u=o.close=[0,0],f=[1,0,1],d=[-1/0,1/0],v=[],g=0;g<2;g++){for(var S=[["gte","gt","min"],["lte","lt","max"]][g],x=0;x<3&&l[g]==null;x++)l[g]=n[S[x]],u[g]=f[x],v[g]=x===2;l[g]==null&&(l[g]=d[g])}v[0]&&l[1]===1/0&&(u[0]=0),v[1]&&l[0]===-1/0&&(u[1]=0),l[0]===l[1]&&u[0]&&u[1]&&(o.value=l[0])}o.visual=VisualMapping$1.retrieveVisuals(n),r.push(o)},this),normalizeReverse(t,r),reformIntervals(r),each$f(r,function(n){var a=n.close,o=[["<","\u2264"][a[1]],[">","\u2265"][a[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,o)},this)}};function normalizeReverse(r,t){var n=r.inverse;(r.orient==="vertical"?!n:n)&&t.reverse()}var PiecewiseModel$1=PiecewiseModel,PiecewiseVisualMapView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.doRender=function(){var n=this.group;n.removeAll();var a=this.visualMapModel,o=a.get("textGap"),s=a.textStyleModel,l=s.getFont(),u=s.getTextColor(),f=this._getItemAlign(),d=a.itemSize,v=this._getViewData(),g=v.endsText,S=retrieve(a.get("showLabel",!0),!g);g&&this._renderEndsText(n,g[0],d,S,f),each$f(v.viewPieceList,function(x){var _=x.piece,C=new Group$4;C.onclick=bind$1(this._onItemClick,this,_),this._enableHoverLink(C,x.indexInModelPieceList);var T=a.getRepresentValue(_);if(this._createItemSymbol(C,T,[0,0,d[0],d[1]]),S){var w=this.visualMapModel.getValueState(T);C.add(new ZRText$1({style:{x:f==="right"?-o:d[0]+o,y:d[1]/2,text:_.text,verticalAlign:"middle",align:f,font:l,fill:u,opacity:w==="outOfRange"?.5:1}}))}n.add(C)},this),g&&this._renderEndsText(n,g[1],d,S,f),box(a.get("orient"),n,a.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},t.prototype._enableHoverLink=function(n,a){var o=this;n.on("mouseover",function(){return s("highlight")}).on("mouseout",function(){return s("downplay")});var s=function(l){var u=o.visualMapModel;u.option.hoverLink&&o.api.dispatchAction({type:l,batch:makeHighDownBatch(u.findTargetDataIndices(a),u)})}},t.prototype._getItemAlign=function(){var n=this.visualMapModel,a=n.option;if(a.orient==="vertical")return getItemAlign(n,this.api,n.itemSize);var o=a.align;return(!o||o==="auto")&&(o="left"),o},t.prototype._renderEndsText=function(n,a,o,s,l){if(!!a){var u=new Group$4,f=this.visualMapModel.textStyleModel;u.add(new ZRText$1({style:createTextStyle(f,{x:s?l==="right"?o[0]:0:o[0]/2,y:o[1]/2,verticalAlign:"middle",align:s?l:"center",text:a})})),n.add(u)}},t.prototype._getViewData=function(){var n=this.visualMapModel,a=map$1(n.getPieceList(),function(u,f){return{piece:u,indexInModelPieceList:f}}),o=n.get("text"),s=n.get("orient"),l=n.get("inverse");return(s==="horizontal"?l:!l)?a.reverse():o&&(o=o.slice().reverse()),{viewPieceList:a,endsText:o}},t.prototype._createItemSymbol=function(n,a,o){n.add(createSymbol$1(this.getControllerVisual(a,"symbol"),o[0],o[1],o[2],o[3],this.getControllerVisual(a,"color")))},t.prototype._onItemClick=function(n){var a=this.visualMapModel,o=a.option,s=clone$4(o.selected),l=a.getSelectedMapKey(n);o.selectedMode==="single"?(s[l]=!0,each$f(s,function(u,f){s[f]=f===l})):s[l]=!s[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})},t.type="visualMap.piecewise",t}(VisualMapView$1),PiecewiseView=PiecewiseVisualMapView;function install$4(r){r.registerComponentModel(PiecewiseModel$1),r.registerComponentView(PiecewiseView),installCommon(r)}function install$3(r){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(r,t){var n=r.getModel("aria");if(!n.get("enabled"))return;var a=clone$4(DEFAULT_OPTION);merge(a.label,r.getLocaleModel().get("aria"),!1),merge(n.option,a,!1),o(),s();function o(){var d=n.getModel("decal"),v=d.get("show");if(v){var g=createHashMap();r.eachSeries(function(S){if(!S.isColorBySeries()){var x=g.get(S.type);x||(x={},g.set(S.type,x)),inner(S).scope=x}}),r.eachRawSeries(function(S){if(r.isSeriesFiltered(S))return;if(isFunction(S.enableAriaDecal)){S.enableAriaDecal();return}var x=S.getData();if(S.isColorBySeries()){var M=getDecalFromPalette(S.ecModel,S.name,decalPaletteScope,r.getSeriesCount()),D=x.getVisual("decal");x.setVisual("decal",I(D,M))}else{var _=S.getRawData(),C={},T=inner(S).scope;x.each(function(R){var $=x.getRawIndex(R);C[$]=R});var w=_.count();_.each(function(R){var $=C[R],N=_.getName(R)||R+"",F=getDecalFromPalette(S.ecModel,N,T,w),H=x.getItemVisual($,"decal");x.setItemVisual($,"decal",I(H,F))})}function I(R,$){var N=R?extend(extend({},$),R):$;return N.dirty=!0,N}})}}function s(){var d=r.getLocaleModel().get("aria"),v=n.getModel("label");if(v.option=defaults(v.option,d),!!v.get("enabled")){var g=t.getZr().dom;if(v.get("description")){g.setAttribute("aria-label",v.get("description"));return}var S=r.getSeriesCount(),x=v.get(["data","maxCount"])||10,_=v.get(["series","maxCount"])||10,C=Math.min(S,_),T;if(!(S<1)){var w=u();if(w){var M=v.get(["general","withTitle"]);T=l(M,{title:w})}else T=v.get(["general","withoutTitle"]);var D=[],I=S>1?v.get(["series","multiple","prefix"]):v.get(["series","single","prefix"]);T+=l(I,{seriesCount:S}),r.eachSeries(function(F,H){if(H<C){var Y=void 0,G=F.get("name"),K=G?"withName":"withoutName";Y=S>1?v.get(["series","multiple",K]):v.get(["series","single",K]),Y=l(Y,{seriesId:F.seriesIndex,seriesName:F.get("name"),seriesType:f(F.subType)});var Z=F.getData();if(Z.count()>x){var J=v.get(["data","partialData"]);Y+=l(J,{displayCnt:x})}else Y+=v.get(["data","allData"]);for(var Q=v.get(["data","separator","middle"]),te=v.get(["data","separator","end"]),ie=[],ne=0;ne<Z.count();ne++)if(ne<x){var de=Z.getName(ne),ve=Z.getValues(ne),pe=v.get(["data",de?"withName":"withoutName"]);ie.push(l(pe,{name:de,value:ve.join(Q)}))}Y+=ie.join(Q)+te,D.push(Y)}});var R=v.getModel(["series","multiple","separator"]),$=R.get("middle"),N=R.get("end");T+=D.join($)+N,g.setAttribute("aria-label",T)}}}function l(d,v){if(!isString(d))return d;var g=d;return each$f(v,function(S,x){g=g.replace(new RegExp("\\{\\s*"+x+"\\s*\\}","g"),S)}),g}function u(){var d=r.get("title");return d&&d.length&&(d=d[0]),d&&d.text}function f(d){return r.getLocaleModel().get(["series","typeNames"])[d]||"\u81EA\u5B9A\u4E49\u56FE"}}function ariaPreprocessor(r){if(!(!r||!r.aria)){var t=r.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},each$f(["description","general","series","data"],function(n){t[n]!=null&&(t.label[n]=t[n])})}}function install$2(r){r.registerPreprocessor(ariaPreprocessor),r.registerVisual(r.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function r(t){var n=this._condVal=isString(t)?new RegExp(t):isRegExp(t)?t:null;if(n==null){var a="";throwError(a)}}return r.prototype.evaluate=function(t){var n=typeof t;return isString(n)?this._condVal.test(t):isNumber(n)?this._condVal.test(t+""):!1},r}(),ConstConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),AndConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(!t[n].evaluate())return!1;return!0},r}(),OrConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(t[n].evaluate())return!0;return!1},r}(),NotConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),RelationalConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,n=this.getValue,a=n(this.valueGetterParam),o=t?this.valueParser(a):null,s=0;s<this.subCondList.length;s++)if(!this.subCondList[s].evaluate(t?o:a))return!1;return!0},r}();function parseOption(r,t){if(r===!0||r===!1){var n=new ConstConditionInternal;return n.value=r,n}var a="";return isObjectNotArray(r)||throwError(a),r.and?parseAndOrOption("and",r,t):r.or?parseAndOrOption("or",r,t):r.not?parseNotOption(r,t):parseRelationalOption(r,t)}function parseAndOrOption(r,t,n){var a=t[r],o="";isArray$1(a)||throwError(o),a.length||throwError(o);var s=r==="and"?new AndConditionInternal:new OrConditionInternal;return s.children=map$1(a,function(l){return parseOption(l,n)}),s.children.length||throwError(o),s}function parseNotOption(r,t){var n=r.not,a="";isObjectNotArray(n)||throwError(a);var o=new NotConditionInternal;return o.child=parseOption(n,t),o.child||throwError(a),o}function parseRelationalOption(r,t){for(var n="",a=t.prepareGetValue(r),o=[],s=keys(r),l=r.parser,u=l?getRawValueParser(l):null,f=0;f<s.length;f++){var d=s[f];if(!(d==="parser"||t.valueGetterAttrMap.get(d))){var v=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,d)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[d]:d,g=r[d],S=u?u(g):g,x=createFilterComparator(v,S)||v==="reg"&&new RegExpEvaluator(S);x||throwError(n),o.push(x)}}o.length||throwError(n);var _=new RelationalConditionInternal;return _.valueGetterParam=a,_.valueParser=u,_.getValue=t.getValue,_.subCondList=o,_}function isObjectNotArray(r){return isObject$4(r)&&!isArrayLike(r)}var ConditionalExpressionParsed=function(){function r(t,n){this._cond=parseOption(t,n)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function parseConditionalExpression(r,t){return new ConditionalExpressionParsed(r,t)}var filterTransform={type:"echarts:filter",transform:function(r){for(var t=r.upstream,n,a=parseConditionalExpression(r.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(u){var f="",d=u.dimension;hasOwn(u,"dimension")||throwError(f);var v=t.getDimensionInfo(d);return v||throwError(f),{dimIdx:v.index}},getValue:function(u){return t.retrieveValueFromItem(n,u.dimIdx)}}),o=[],s=0,l=t.count();s<l;s++)n=t.getRawDataItem(s),a.evaluate()&&o.push(n);return{data:o}}},sortTransform={type:"echarts:sort",transform:function(r){var t=r.upstream,n=r.config,a="",o=normalizeToArray(n);o.length||throwError(a);var s=[];each$f(o,function(v){var g=v.dimension,S=v.order,x=v.parser,_=v.incomparable;if(g==null&&throwError(a),S!=="asc"&&S!=="desc"&&throwError(a),_&&_!=="min"&&_!=="max"){var C="";throwError(C)}if(S!=="asc"&&S!=="desc"){var T="";throwError(T)}var w=t.getDimensionInfo(g);w||throwError(a);var M=x?getRawValueParser(x):null;x&&!M&&throwError(a),s.push({dimIdx:w.index,parser:M,comparator:new SortOrderComparator(S,_)})});var l=t.sourceFormat;l!==SOURCE_FORMAT_ARRAY_ROWS&&l!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(a);for(var u=[],f=0,d=t.count();f<d;f++)u.push(t.getRawDataItem(f));return u.sort(function(v,g){for(var S=0;S<s.length;S++){var x=s[S],_=t.retrieveValueFromItem(v,x.dimIdx),C=t.retrieveValueFromItem(g,x.dimIdx);x.parser&&(_=x.parser(_),C=x.parser(C));var T=x.comparator.evaluate(_,C);if(T!==0)return T}return 0}),{data:u}}};function install$1(r){r.registerTransform(filterTransform),r.registerTransform(sortTransform)}var DatasetModel=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="dataset",n}return t.prototype.init=function(n,a,o){r.prototype.init.call(this,n,a,o),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},t.prototype.mergeOption=function(n,a){r.prototype.mergeOption.call(this,n,a),disableTransformOptionMerge(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},t}(ComponentModel$1),DatasetView=function(r){__extends$1(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="dataset",n}return t.type="dataset",t}(ComponentView$1);function install(r){r.registerComponentModel(DatasetModel),r.registerComponentView(DatasetView)}var CMD=PathProxy$1.CMD;function aroundEqual(r,t){return Math.abs(r-t)<1e-5}function pathToBezierCurves(r){var t=r.data,n=r.len(),a=[],o,s=0,l=0,u=0,f=0;function d(Z,J){o&&o.length>2&&a.push(o),o=[Z,J]}function v(Z,J,Q,te){aroundEqual(Z,Q)&&aroundEqual(J,te)||o.push(Z,J,Q,te,Q,te)}function g(Z,J,Q,te,ie,ne){var de=Math.abs(J-Z),ve=Math.tan(de/4)*4/3,pe=J<Z?-1:1,$e=Math.cos(Z),Re=Math.sin(Z),Ge=Math.cos(J),Qe=Math.sin(J),Le=$e*ie+Q,We=Re*ne+te,Oe=Ge*ie+Q,ke=Qe*ne+te,Ye=ie*ve*pe,ze=ne*ve*pe;o.push(Le-Ye*Re,We+ze*$e,Oe+Ye*Qe,ke-ze*Ge,Oe,ke)}for(var S,x,_,C,T=0;T<n;){var w=t[T++],M=T===1;switch(M&&(s=t[T],l=t[T+1],u=s,f=l,(w===CMD.L||w===CMD.C||w===CMD.Q)&&(o=[u,f])),w){case CMD.M:s=u=t[T++],l=f=t[T++],d(u,f);break;case CMD.L:S=t[T++],x=t[T++],v(s,l,S,x),s=S,l=x;break;case CMD.C:o.push(t[T++],t[T++],t[T++],t[T++],s=t[T++],l=t[T++]);break;case CMD.Q:S=t[T++],x=t[T++],_=t[T++],C=t[T++],o.push(s+2/3*(S-s),l+2/3*(x-l),_+2/3*(S-_),C+2/3*(x-C),_,C),s=_,l=C;break;case CMD.A:var D=t[T++],I=t[T++],R=t[T++],$=t[T++],N=t[T++],F=t[T++]+N;T+=1;var H=!t[T++];S=Math.cos(N)*R+D,x=Math.sin(N)*$+I,M?(u=S,f=x,d(u,f)):v(s,l,S,x),s=Math.cos(F)*R+D,l=Math.sin(F)*$+I;for(var Y=(H?-1:1)*Math.PI/2,G=N;H?G>F:G<F;G+=Y){var K=H?Math.max(G+Y,F):Math.min(G+Y,F);g(G,K,D,I,R,$)}break;case CMD.R:u=s=t[T++],f=l=t[T++],S=u+t[T++],x=f+t[T++],d(S,f),v(S,f,S,x),v(S,x,u,x),v(u,x,u,f),v(u,f,S,f);break;case CMD.Z:o&&v(s,l,u,f),s=u,l=f;break}}return o&&o.length>2&&a.push(o),a}function adpativeBezier(r,t,n,a,o,s,l,u,f,d){if(aroundEqual(r,n)&&aroundEqual(t,a)&&aroundEqual(o,l)&&aroundEqual(s,u)){f.push(l,u);return}var v=2/d,g=v*v,S=l-r,x=u-t,_=Math.sqrt(S*S+x*x);S/=_,x/=_;var C=n-r,T=a-t,w=o-l,M=s-u,D=C*C+T*T,I=w*w+M*M;if(D<g&&I<g){f.push(l,u);return}var R=S*C+x*T,$=-S*w-x*M,N=D-R*R,F=I-$*$;if(N<g&&R>=0&&F<g&&$>=0){f.push(l,u);return}var H=[],Y=[];cubicSubdivide(r,n,o,l,.5,H),cubicSubdivide(t,a,s,u,.5,Y),adpativeBezier(H[0],Y[0],H[1],Y[1],H[2],Y[2],H[3],Y[3],f,d),adpativeBezier(H[4],Y[4],H[5],Y[5],H[6],Y[6],H[7],Y[7],f,d)}function pathToPolygons(r,t){var n=pathToBezierCurves(r),a=[];t=t||1;for(var o=0;o<n.length;o++){var s=n[o],l=[],u=s[0],f=s[1];l.push(u,f);for(var d=2;d<s.length;){var v=s[d++],g=s[d++],S=s[d++],x=s[d++],_=s[d++],C=s[d++];adpativeBezier(u,f,v,g,S,x,_,C,l,t),u=_,f=C}a.push(l)}return a}function getDividingGrids(r,t,n){var a=r[t],o=r[1-t],s=Math.abs(a/o),l=Math.ceil(Math.sqrt(s*n)),u=Math.floor(n/l);u===0&&(u=1,l=n);for(var f=[],d=0;d<l;d++)f.push(u);var v=l*u,g=n-v;if(g>0)for(var d=0;d<g;d++)f[d%l]+=1;return f}function divideSector(r,t,n){for(var a=r.r0,o=r.r,s=r.startAngle,l=r.endAngle,u=Math.abs(l-s),f=u*o,d=o-a,v=f>Math.abs(d),g=getDividingGrids([f,d],v?0:1,t),S=(v?u:d)/g.length,x=0;x<g.length;x++)for(var _=(v?d:u)/g[x],C=0;C<g[x];C++){var T={};v?(T.startAngle=s+S*x,T.endAngle=s+S*(x+1),T.r0=a+_*C,T.r=a+_*(C+1)):(T.startAngle=s+_*C,T.endAngle=s+_*(C+1),T.r0=a+S*x,T.r=a+S*(x+1)),T.clockwise=r.clockwise,T.cx=r.cx,T.cy=r.cy,n.push(T)}}function divideRect(r,t,n){for(var a=r.width,o=r.height,s=a>o,l=getDividingGrids([a,o],s?0:1,t),u=s?"width":"height",f=s?"height":"width",d=s?"x":"y",v=s?"y":"x",g=r[u]/l.length,S=0;S<l.length;S++)for(var x=r[f]/l[S],_=0;_<l[S];_++){var C={};C[d]=S*g,C[v]=_*x,C[u]=g,C[f]=x,C.x+=r.x,C.y+=r.y,n.push(C)}}function crossProduct2d(r,t,n,a){return r*a-n*t}function lineLineIntersect(r,t,n,a,o,s,l,u){var f=n-r,d=a-t,v=l-o,g=u-s,S=crossProduct2d(v,g,f,d);if(Math.abs(S)<1e-6)return null;var x=r-o,_=t-s,C=crossProduct2d(x,_,v,g)/S;return C<0||C>1?null:new Point$1(C*f+r,C*d+t)}function projPtOnLine(r,t,n){var a=new Point$1;Point$1.sub(a,n,t),a.normalize();var o=new Point$1;Point$1.sub(o,r,t);var s=o.dot(a);return s}function addToPoly(r,t){var n=r[r.length-1];n&&n[0]===t[0]&&n[1]===t[1]||r.push(t)}function splitPolygonByLine(r,t,n){for(var a=r.length,o=[],s=0;s<a;s++){var l=r[s],u=r[(s+1)%a],f=lineLineIntersect(l[0],l[1],u[0],u[1],t.x,t.y,n.x,n.y);f&&o.push({projPt:projPtOnLine(f,t,n),pt:f,idx:s})}if(o.length<2)return[{points:r},{points:r}];o.sort(function(T,w){return T.projPt-w.projPt});var d=o[0],v=o[o.length-1];if(v.idx<d.idx){var g=d;d=v,v=g}for(var S=[d.pt.x,d.pt.y],x=[v.pt.x,v.pt.y],_=[S],C=[x],s=d.idx+1;s<=v.idx;s++)addToPoly(_,r[s].slice());addToPoly(_,x),addToPoly(_,S);for(var s=v.idx+1;s<=d.idx+a;s++)addToPoly(C,r[s%a].slice());return addToPoly(C,S),addToPoly(C,x),[{points:_},{points:C}]}function binaryDividePolygon(r){var t=r.points,n=[],a=[];fromPoints(t,n,a);var o=new BoundingRect$1(n[0],n[1],a[0]-n[0],a[1]-n[1]),s=o.width,l=o.height,u=o.x,f=o.y,d=new Point$1,v=new Point$1;return s>l?(d.x=v.x=u+s/2,d.y=f,v.y=f+l):(d.y=v.y=f+l/2,d.x=u,v.x=u+s),splitPolygonByLine(t,d,v)}function binaryDivideRecursive(r,t,n,a){if(n===1)a.push(t);else{var o=Math.floor(n/2),s=r(t);binaryDivideRecursive(r,s[0],o,a),binaryDivideRecursive(r,s[1],n-o,a)}return a}function clone(r,t){for(var n=[],a=0;a<t;a++)n.push(clonePath(r));return n}function copyPathProps(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function polygonConvert(r){for(var t=[],n=0;n<r.length;)t.push([r[n++],r[n++]]);return t}function split(r,t){var n=[],a=r.shape,o;switch(r.type){case"rect":divideRect(a,t,n),o=Rect$3;break;case"sector":divideSector(a,t,n),o=Sector$1;break;case"circle":divideSector({r0:0,r:a.r,startAngle:0,endAngle:Math.PI*2,cx:a.cx,cy:a.cy},t,n),o=Sector$1;break;default:var s=r.getComputedTransform(),l=s?Math.sqrt(Math.max(s[0]*s[0]+s[1]*s[1],s[2]*s[2]+s[3]*s[3])):1,u=map$1(pathToPolygons(r.getUpdatedPathProxy(),l),function(w){return polygonConvert(w)}),f=u.length;if(f===0)binaryDivideRecursive(binaryDividePolygon,{points:u[0]},t,n);else if(f===t)for(var d=0;d<f;d++)n.push({points:u[d]});else{var v=0,g=map$1(u,function(w){var M=[],D=[];fromPoints(w,M,D);var I=(D[1]-M[1])*(D[0]-M[0]);return v+=I,{poly:w,area:I}});g.sort(function(w,M){return M.area-w.area});for(var S=t,d=0;d<f;d++){var x=g[d];if(S<=0)break;var _=d===f-1?S:Math.ceil(x.area/v*t);_<0||(binaryDivideRecursive(binaryDividePolygon,{points:x.poly},_,n),S-=_)}}o=Polygon$1;break}if(!o)return clone(r,t);for(var C=[],d=0;d<n.length;d++){var T=new o;T.setShape(n[d]),copyPathProps(r,T),C.push(T)}return C}function alignSubpath(r,t){var n=r.length,a=t.length;if(n===a)return[r,t];for(var o=[],s=[],l=n<a?r:t,u=Math.min(n,a),f=Math.abs(a-n)/6,d=(u-2)/6,v=Math.ceil(f/d)+1,g=[l[0],l[1]],S=f,x=2;x<u;){var _=l[x-2],C=l[x-1],T=l[x++],w=l[x++],M=l[x++],D=l[x++],I=l[x++],R=l[x++];if(S<=0){g.push(T,w,M,D,I,R);continue}for(var $=Math.min(S,v-1)+1,N=1;N<=$;N++){var F=N/$;cubicSubdivide(_,T,M,I,F,o),cubicSubdivide(C,w,D,R,F,s),_=o[3],C=s[3],g.push(o[1],s[1],o[2],s[2],_,C),T=o[5],w=s[5],M=o[6],D=s[6]}S-=$-1}return l===r?[g,t]:[r,g]}function createSubpath(r,t){for(var n=r.length,a=r[n-2],o=r[n-1],s=[],l=0;l<t.length;)s[l++]=a,s[l++]=o;return s}function alignBezierCurves(r,t){for(var n,a,o,s=[],l=[],u=0;u<Math.max(r.length,t.length);u++){var f=r[u],d=t[u],v=void 0,g=void 0;f?d?(n=alignSubpath(f,d),v=n[0],g=n[1],a=v,o=g):(g=createSubpath(o||f,f),v=f):(v=createSubpath(a||d,d),g=d),s.push(v),l.push(g)}return[s,l]}function centroid(r){for(var t=0,n=0,a=0,o=r.length,s=0,l=o-2;s<o;l=s,s+=2){var u=r[l],f=r[l+1],d=r[s],v=r[s+1],g=u*v-d*f;t+=g,n+=(u+d)*g,a+=(f+v)*g}return t===0?[r[0]||0,r[1]||0]:[n/t/3,a/t/3,t]}function findBestRingOffset(r,t,n,a){for(var o=(r.length-2)/6,s=1/0,l=0,u=r.length,f=u-2,d=0;d<o;d++){for(var v=d*6,g=0,S=0;S<u;S+=2){var x=S===0?v:(v+S-2)%f+2,_=r[x]-n[0],C=r[x+1]-n[1],T=t[S]-a[0],w=t[S+1]-a[1],M=T-_,D=w-C;g+=M*M+D*D}g<s&&(s=g,l=d)}return l}function reverse(r){for(var t=[],n=r.length,a=0;a<n;a+=2)t[a]=r[n-a-2],t[a+1]=r[n-a-1];return t}function findBestMorphingRotation(r,t,n,a){for(var o=[],s,l=0;l<r.length;l++){var u=r[l],f=t[l],d=centroid(u),v=centroid(f);s==null&&(s=d[2]<0!=v[2]<0);var g=[],S=[],x=0,_=1/0,C=[],T=u.length;s&&(u=reverse(u));for(var w=findBestRingOffset(u,f,d,v)*6,M=T-2,D=0;D<M;D+=2){var I=(w+D)%M+2;g[D+2]=u[I]-d[0],g[D+3]=u[I+1]-d[1]}if(g[0]=u[w]-d[0],g[1]=u[w+1]-d[1],n>0)for(var R=a/n,$=-a/2;$<=a/2;$+=R){for(var N=Math.sin($),F=Math.cos($),H=0,D=0;D<u.length;D+=2){var Y=g[D],G=g[D+1],K=f[D]-v[0],Z=f[D+1]-v[1],J=K*F-Z*N,Q=K*N+Z*F;C[D]=J,C[D+1]=Q;var te=J-Y,ie=Q-G;H+=te*te+ie*ie}if(H<_){_=H,x=$;for(var ne=0;ne<C.length;ne++)S[ne]=C[ne]}}else for(var de=0;de<T;de+=2)S[de]=f[de]-v[0],S[de+1]=f[de+1]-v[1];o.push({from:g,to:S,fromCp:d,toCp:v,rotation:-x})}return o}function isCombineMorphing(r){return r.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(r,t,n){var a=SAVED_METHOD_PREFIX+t,o=r[a]||r[t];r[a]||(r[a]=r[t]);var s=n.replace,l=n.after,u=n.before;r[t]=function(){var f=arguments,d;return u&&u.apply(this,f),s?d=s.apply(this,f):d=o.apply(this,f),l&&l.apply(this,f),d}}function restoreMethod(r,t){var n=SAVED_METHOD_PREFIX+t;r[n]&&(r[t]=r[n],r[n]=null)}function applyTransformOnBeziers(r,t){for(var n=0;n<r.length;n++)for(var a=r[n],o=0;o<a.length;){var s=a[o],l=a[o+1];a[o++]=t[0]*s+t[2]*l+t[4],a[o++]=t[1]*s+t[3]*l+t[5]}}function prepareMorphPath(r,t){var n=r.getUpdatedPathProxy(),a=t.getUpdatedPathProxy(),o=alignBezierCurves(pathToBezierCurves(n),pathToBezierCurves(a)),s=o[0],l=o[1],u=r.getComputedTransform(),f=t.getComputedTransform();function d(){this.transform=null}u&&applyTransformOnBeziers(s,u),f&&applyTransformOnBeziers(l,f),saveAndModifyMethod(t,"updateTransform",{replace:d}),t.transform=null;var v=findBestMorphingRotation(s,l,10,Math.PI),g=[];saveAndModifyMethod(t,"buildPath",{replace:function(S){for(var x=t.__morphT,_=1-x,C=[],T=0;T<v.length;T++){var w=v[T],M=w.from,D=w.to,I=w.rotation*x,R=w.fromCp,$=w.toCp,N=Math.sin(I),F=Math.cos(I);lerp$1(C,R,$,x);for(var H=0;H<M.length;H+=2){var Y=M[H],G=M[H+1],K=D[H],Z=D[H+1],J=Y*_+K*x,Q=G*_+Z*x;g[H]=J*F-Q*N+C[0],g[H+1]=J*N+Q*F+C[1]}var te=g[0],ie=g[1];S.moveTo(te,ie);for(var H=2;H<M.length;){var K=g[H++],Z=g[H++],ne=g[H++],de=g[H++],ve=g[H++],pe=g[H++];te===K&&ie===Z&&ne===ve&&de===pe?S.lineTo(ve,pe):S.bezierCurveTo(K,Z,ne,de,ve,pe),te=ve,ie=pe}}}})}function morphPath(r,t,n){if(!r||!t)return t;var a=n.done,o=n.during;prepareMorphPath(r,t),t.__morphT=0;function s(){restoreMethod(t,"buildPath"),restoreMethod(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},defaults({during:function(l){t.dirtyShape(),o&&o(l)},done:function(){s(),a&&a()}},n)),t}function hilbert(r,t,n,a,o,s){var l=16;r=o===n?0:Math.round(32767*(r-n)/(o-n)),t=s===a?0:Math.round(32767*(t-a)/(s-a));for(var u=0,f,d=(1<<l)/2;d>0;d/=2){var v=0,g=0;(r&d)>0&&(v=1),(t&d)>0&&(g=1),u+=d*d*(3*v^g),g===0&&(v===1&&(r=d-1-r,t=d-1-t),f=r,r=t,t=f)}return u}function sortPaths(r){var t=1/0,n=1/0,a=-1/0,o=-1/0,s=map$1(r,function(u){var f=u.getBoundingRect(),d=u.getComputedTransform(),v=f.x+f.width/2+(d?d[4]:0),g=f.y+f.height/2+(d?d[5]:0);return t=Math.min(v,t),n=Math.min(g,n),a=Math.max(v,a),o=Math.max(g,o),[v,g]}),l=map$1(s,function(u,f){return{cp:u,z:hilbert(u[0],u[1],t,n,a,o),path:r[f]}});return l.sort(function(u,f){return u.z-f.z}).map(function(u){return u.path})}function defaultDividePath(r){return split(r.path,r.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(r,t,n){var a=[];function o(R){for(var $=0;$<R.length;$++){var N=R[$];isCombineMorphing(N)?o(N.childrenRef()):N instanceof Path$1&&a.push(N)}}o(r);var s=a.length;if(!s)return createEmptyReturn();var l=n.dividePath||defaultDividePath,u=l({path:t,count:s});if(u.length!==s)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();a=sortPaths(a),u=sortPaths(u);for(var f=n.done,d=n.during,v=n.individualDelay,g=new Transformable$1,S=0;S<s;S++){var x=a[S],_=u[S];_.parent=t,_.copyTransform(g),v||prepareMorphPath(x,_)}t.__isCombineMorphing=!0,t.childrenRef=function(){return u};function C(R){for(var $=0;$<u.length;$++)u[$].addSelfToZr(R)}saveAndModifyMethod(t,"addSelfToZr",{after:function(R){C(R)}}),saveAndModifyMethod(t,"removeSelfFromZr",{after:function(R){for(var $=0;$<u.length;$++)u[$].removeSelfFromZr(R)}});function T(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,restoreMethod(t,"addSelfToZr"),restoreMethod(t,"removeSelfFromZr")}var w=u.length;if(v)for(var M=w,D=function(){M--,M===0&&(T(),f&&f())},S=0;S<w;S++){var I=v?defaults({delay:(n.delay||0)+v(S,w,a[S],u[S]),done:D},n):n;morphPath(a[S],u[S],I)}else t.__morphT=0,t.animateTo({__morphT:1},defaults({during:function(R){for(var $=0;$<w;$++){var N=u[$];N.__morphT=t.__morphT,N.dirtyShape()}d&&d(R)},done:function(){T();for(var R=0;R<r.length;R++)restoreMethod(r[R],"updateTransform");f&&f()}},n));return t.__zr&&C(t.__zr),{fromIndividuals:a,toIndividuals:u,count:w}}function separateMorph(r,t,n){var a=t.length,o=[],s=n.dividePath||defaultDividePath;function l(x){for(var _=0;_<x.length;_++){var C=x[_];isCombineMorphing(C)?l(C.childrenRef()):C instanceof Path$1&&o.push(C)}}if(isCombineMorphing(r)){l(r.childrenRef());var u=o.length;if(u<a)for(var f=0,d=u;d<a;d++)o.push(clonePath(o[f++%u]));o.length=a}else{o=s({path:r,count:a});for(var v=r.getComputedTransform(),d=0;d<o.length;d++)o[d].setLocalTransform(v);if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}o=sortPaths(o),t=sortPaths(t);for(var g=n.individualDelay,d=0;d<a;d++){var S=g?defaults({delay:(n.delay||0)+g(d,a,o[d],t[d])},n):n;morphPath(o[d],t[d],S)}return{fromIndividuals:o,toIndividuals:t,count:t.length}}function isMultiple(r){return isArray$1(r[0])}function prepareMorphBatches(r,t){for(var n=[],a=r.length,o=0;o<a;o++)n.push({one:r[o],many:[]});for(var o=0;o<t.length;o++){var s=t[o].length,l=void 0;for(l=0;l<s;l++)n[l%a].many.push(t[o][l])}for(var u=0,o=a-1;o>=0;o--)if(!n[o].many.length){var f=n[u].many;if(f.length<=1)if(u)u=0;else return n;var s=f.length,d=Math.ceil(s/2);n[o].many=f.slice(d,s),n[u].many=f.slice(0,d),u++}return n}var pathDividers={clone:function(r){for(var t=[],n=1-Math.pow(1-r.path.style.opacity,1/r.count),a=0;a<r.count;a++){var o=clonePath(r.path);o.setStyle("opacity",n),t.push(o)}return t},split:null};function applyMorphAnimation(r,t,n,a,o,s){if(!r.length||!t.length)return;var l=getAnimationConfig("update",a,o);if(!(l&&l.duration>0))return;var u=a.getModel("universalTransition").get("delay"),f=Object.assign({setToFinal:!0},l),d,v;isMultiple(r)&&(d=r,v=t),isMultiple(t)&&(d=t,v=r);function g(w,M,D,I,R){var $=w.many,N=w.one;if($.length===1&&!R){var F=M?$[0]:N,H=M?N:$[0];if(isCombineMorphing(F))g({many:[F],one:H},!0,D,I,!0);else{var Y=u?defaults({delay:u(D,I)},f):f;morphPath(F,H,Y),s(F,H,F,H,Y)}}else for(var G=defaults({dividePath:pathDividers[n],individualDelay:u&&function(ie,ne,de,ve){return u(ie+D,I)}},f),K=M?combineMorph($,N,G):separateMorph(N,$,G),Z=K.fromIndividuals,J=K.toIndividuals,Q=Z.length,te=0;te<Q;te++){var Y=u?defaults({delay:u(te,Q)},f):f;s(Z[te],J[te],M?$[te]:w.one,M?w.one:$[te],Y)}}for(var S=d?d===r:r.length>t.length,x=d?prepareMorphBatches(v,d):prepareMorphBatches(S?t:r,[S?r:t]),_=0,C=0;C<x.length;C++)_+=x[C].many.length;for(var T=0,C=0;C<x.length;C++)g(x[C],S,T,_),T+=x[C].many.length}function getPathList(r){if(!r)return[];if(isArray$1(r)){for(var t=[],n=0;n<r.length;n++)t.push(getPathList(r[n]));return t}var a=[];return r.traverse(function(o){o instanceof Path$1&&!o.disableMorphing&&!o.invisible&&!o.ignore&&a.push(o)}),a}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(r){for(var t=r.dimensions,n=0;n<t.length;n++){var a=r.getDimensionInfo(t[n]);if(a&&a.otherDims.itemGroupId===0)return t[n]}}function flattenDataDiffItems(r){var t=[];return each$f(r,function(n){var a=n.data;if(!(a.count()>DATA_COUNT_THRESHOLD))for(var o=a.getIndices(),s=getGroupIdDimension(a),l=0;l<o.length;l++)t.push({data:a,dim:n.dim||s,divide:n.divide,dataIndex:l})}),t}function fadeInElement(r,t,n){r.traverse(function(a){a instanceof Path$1&&initProps(a,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})})}function removeEl(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function stopAnimation(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function animateElementStyles(r,t,n){var a=getAnimationConfig("update",n,t);a&&r.traverse(function(o){if(o instanceof Displayable$1){var s=getOldStyle(o);s&&o.animateFrom({style:s},a)}})}function isAllIdSame(r,t){var n=r.length;if(n!==t.length)return!1;for(var a=0;a<n;a++){var o=r[a],s=t[a];if(o.data.getId(o.dataIndex)!==s.data.getId(s.dataIndex))return!1}return!0}function transitionBetween(r,t,n){var a=flattenDataDiffItems(r),o=flattenDataDiffItems(t);function s(w,M,D,I,R){(D||w)&&M.animateFrom({style:D&&D!==w?extend(extend({},D.style),w.style):w.style},R)}function l(w){for(var M=0;M<w.length;M++)if(w[M].dim)return w[M].dim}var u=l(a),f=l(o),d=!1;function v(w,M){return function(D){var I=D.data,R=D.dataIndex;if(M)return I.getId(R);var $=I.hostModel&&I.hostModel.get("dataGroupId"),N=w?u||f:f||u,F=N&&I.getDimensionInfo(N),H=F&&F.ordinalMeta;if(F){var Y=I.get(F.name,R);return H&&H.categories[Y]||Y+""}var G=I.getRawDataItem(R);return G&&G.groupId?G.groupId+"":$||I.getId(R)}}var g=isAllIdSame(a,o),S={};if(!g)for(var x=0;x<o.length;x++){var _=o[x],C=_.data.getItemGraphicEl(_.dataIndex);C&&(S[C.id]=!0)}function T(w,M){var D=a[M],I=o[w],R=I.data.hostModel,$=D.data.getItemGraphicEl(D.dataIndex),N=I.data.getItemGraphicEl(I.dataIndex);if($===N){N&&animateElementStyles(N,I.dataIndex,R);return}$&&S[$.id]||N&&(stopAnimation(N),$?(stopAnimation($),removeEl($),d=!0,applyMorphAnimation(getPathList($),getPathList(N),I.divide,R,w,s)):fadeInElement(N,R,w))}new DataDiffer$1(a,o,v(!0,g),v(!1,g),null,"multiple").update(T).updateManyToOne(function(w,M){var D=o[w],I=D.data,R=I.hostModel,$=I.getItemGraphicEl(D.dataIndex),N=filter(map$1(M,function(F){return a[F].data.getItemGraphicEl(a[F].dataIndex)}),function(F){return F&&F!==$&&!S[F.id]});$&&(stopAnimation($),N.length?(each$f(N,function(F){stopAnimation(F),removeEl(F)}),d=!0,applyMorphAnimation(getPathList(N),getPathList($),D.divide,R,w,s)):fadeInElement($,R,D.dataIndex))}).updateOneToMany(function(w,M){var D=a[M],I=D.data.getItemGraphicEl(D.dataIndex);if(!(I&&S[I.id])){var R=filter(map$1(w,function(N){return o[N].data.getItemGraphicEl(o[N].dataIndex)}),function(N){return N&&N!==I}),$=o[w[0]].data.hostModel;R.length&&(each$f(R,function(N){return stopAnimation(N)}),I?(stopAnimation(I),removeEl(I),d=!0,applyMorphAnimation(getPathList(I),getPathList(R),D.divide,$,w[0],s)):each$f(R,function(N){return fadeInElement(N,$,w[0])}))}}).updateManyToMany(function(w,M){new DataDiffer$1(M,w,function(D){return a[D].data.getId(a[D].dataIndex)},function(D){return o[D].data.getId(o[D].dataIndex)}).update(function(D,I){T(w[D],M[I])}).execute()}).execute(),d&&each$f(t,function(w){var M=w.data,D=M.hostModel,I=D&&n.getViewOfSeriesModel(D),R=getAnimationConfig("update",D,0);I&&D.isAnimationEnabled()&&R&&R.duration>0&&I.group.traverse(function($){$ instanceof Path$1&&!$.animators.length&&$.animateFrom({style:{opacity:0}},R)})})}function getSeriesTransitionKey(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function convertArraySeriesKeyToString(r){return isArray$1(r)?r.sort().join(","):r}function getDivideShapeFromData(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(r,t){var n=createHashMap(),a=createHashMap(),o=createHashMap();return each$f(r.oldSeries,function(s,l){var u=r.oldData[l],f=getSeriesTransitionKey(s),d=convertArraySeriesKeyToString(f);a.set(d,u),isArray$1(f)&&each$f(f,function(v){o.set(v,{data:u,key:d})})}),each$f(t.updatedSeries,function(s){if(s.isUniversalTransitionEnabled()&&s.isAnimationEnabled()){var l=s.getData(),u=getSeriesTransitionKey(s),f=convertArraySeriesKeyToString(u),d=a.get(f);if(d)n.set(f,{oldSeries:[{divide:getDivideShapeFromData(d),data:d}],newSeries:[{divide:getDivideShapeFromData(l),data:l}]});else if(isArray$1(u)){var v=[];each$f(u,function(x){var _=a.get(x);_&&v.push({divide:getDivideShapeFromData(_),data:_})}),v.length&&n.set(f,{oldSeries:v,newSeries:[{data:l,divide:getDivideShapeFromData(l)}]})}else{var g=o.get(u);if(g){var S=n.get(g.key);S||(S={oldSeries:[{data:g.data,divide:getDivideShapeFromData(g.data)}],newSeries:[]},n.set(g.key,S)),S.newSeries.push({data:l,divide:getDivideShapeFromData(l)})}}}}),n}function querySeries(r,t){for(var n=0;n<r.length;n++){var a=t.seriesIndex!=null&&t.seriesIndex===r[n].seriesIndex||t.seriesId!=null&&t.seriesId===r[n].id;if(a)return n}}function transitionSeriesFromOpt(r,t,n,a){var o=[],s=[];each$f(normalizeToArray(r.from),function(l){var u=querySeries(t.oldSeries,l);u>=0&&o.push({data:t.oldData[u],divide:getDivideShapeFromData(t.oldData[u]),dim:l.dimension})}),each$f(normalizeToArray(r.to),function(l){var u=querySeries(n.updatedSeries,l);if(u>=0){var f=n.updatedSeries[u].getData();s.push({data:f,divide:getDivideShapeFromData(f),dim:l.dimension})}}),o.length>0&&s.length>0&&transitionBetween(o,s,a)}function installUniversalTransition(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,n,a){each$f(normalizeToArray(a.seriesTransition),function(o){each$f(normalizeToArray(o.to),function(s){for(var l=a.updatedSeries,u=0;u<l.length;u++)(s.seriesIndex!=null&&s.seriesIndex===l[u].seriesIndex||s.seriesId!=null&&s.seriesId===l[u].id)&&(l[u][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,n,a){var o=getUniversalTransitionGlobalStore(n);if(o.oldSeries&&a.updatedSeries&&a.optionChanged){var s=a.seriesTransition;if(s)each$f(normalizeToArray(s),function(S){transitionSeriesFromOpt(S,o,a,n)});else{var l=findTransitionSeriesBatches(o,a);each$f(l.keys(),function(S){var x=l.get(S);transitionBetween(x.oldSeries,x.newSeries,n)})}each$f(a.updatedSeries,function(S){S[SERIES_UNIVERSAL_TRANSITION_PROP]&&(S[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var u=t.getSeries(),f=o.oldSeries=[],d=o.oldData=[],v=0;v<u.length;v++){var g=u[v].getData();g.count()<DATA_COUNT_THRESHOLD&&(f.push(u[v]),d.push(g))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);var jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(r){(function(t,n){r.exports=t.document?n(t,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return n(a)}})(typeof window!="undefined"?window:commonjsGlobal,function(t,n){var a=[],o=Object.getPrototypeOf,s=a.slice,l=a.flat?function(P){return a.flat.call(P)}:function(P){return a.concat.apply([],P)},u=a.push,f=a.indexOf,d={},v=d.toString,g=d.hasOwnProperty,S=g.toString,x=S.call(Object),_={},C=function(B){return typeof B=="function"&&typeof B.nodeType!="number"&&typeof B.item!="function"},T=function(B){return B!=null&&B===B.window},w=t.document,M={type:!0,src:!0,nonce:!0,noModule:!0};function D(P,B,V){V=V||w;var W,q,X=V.createElement("script");if(X.text=P,B)for(W in M)q=B[W]||B.getAttribute&&B.getAttribute(W),q&&X.setAttribute(W,q);V.head.appendChild(X).parentNode.removeChild(X)}function I(P){return P==null?P+"":typeof P=="object"||typeof P=="function"?d[v.call(P)]||"object":typeof P}var R="3.6.0",$=function(P,B){return new $.fn.init(P,B)};$.fn=$.prototype={jquery:R,constructor:$,length:0,toArray:function(){return s.call(this)},get:function(P){return P==null?s.call(this):P<0?this[P+this.length]:this[P]},pushStack:function(P){var B=$.merge(this.constructor(),P);return B.prevObject=this,B},each:function(P){return $.each(this,P)},map:function(P){return this.pushStack($.map(this,function(B,V){return P.call(B,V,B)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack($.grep(this,function(P,B){return(B+1)%2}))},odd:function(){return this.pushStack($.grep(this,function(P,B){return B%2}))},eq:function(P){var B=this.length,V=+P+(P<0?B:0);return this.pushStack(V>=0&&V<B?[this[V]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:a.sort,splice:a.splice},$.extend=$.fn.extend=function(){var P,B,V,W,q,X,ee=arguments[0]||{},ce=1,fe=arguments.length,me=!1;for(typeof ee=="boolean"&&(me=ee,ee=arguments[ce]||{},ce++),typeof ee!="object"&&!C(ee)&&(ee={}),ce===fe&&(ee=this,ce--);ce<fe;ce++)if((P=arguments[ce])!=null)for(B in P)W=P[B],!(B==="__proto__"||ee===W)&&(me&&W&&($.isPlainObject(W)||(q=Array.isArray(W)))?(V=ee[B],q&&!Array.isArray(V)?X=[]:!q&&!$.isPlainObject(V)?X={}:X=V,q=!1,ee[B]=$.extend(me,X,W)):W!==void 0&&(ee[B]=W));return ee},$.extend({expando:"jQuery"+(R+Math.random()).replace(/\D/g,""),isReady:!0,error:function(P){throw new Error(P)},noop:function(){},isPlainObject:function(P){var B,V;return!P||v.call(P)!=="[object Object]"?!1:(B=o(P),B?(V=g.call(B,"constructor")&&B.constructor,typeof V=="function"&&S.call(V)===x):!0)},isEmptyObject:function(P){var B;for(B in P)return!1;return!0},globalEval:function(P,B,V){D(P,{nonce:B&&B.nonce},V)},each:function(P,B){var V,W=0;if(N(P))for(V=P.length;W<V&&B.call(P[W],W,P[W])!==!1;W++);else for(W in P)if(B.call(P[W],W,P[W])===!1)break;return P},makeArray:function(P,B){var V=B||[];return P!=null&&(N(Object(P))?$.merge(V,typeof P=="string"?[P]:P):u.call(V,P)),V},inArray:function(P,B,V){return B==null?-1:f.call(B,P,V)},merge:function(P,B){for(var V=+B.length,W=0,q=P.length;W<V;W++)P[q++]=B[W];return P.length=q,P},grep:function(P,B,V){for(var W,q=[],X=0,ee=P.length,ce=!V;X<ee;X++)W=!B(P[X],X),W!==ce&&q.push(P[X]);return q},map:function(P,B,V){var W,q,X=0,ee=[];if(N(P))for(W=P.length;X<W;X++)q=B(P[X],X,V),q!=null&&ee.push(q);else for(X in P)q=B(P[X],X,V),q!=null&&ee.push(q);return l(ee)},guid:1,support:_}),typeof Symbol=="function"&&($.fn[Symbol.iterator]=a[Symbol.iterator]),$.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(P,B){d["[object "+B+"]"]=B.toLowerCase()});function N(P){var B=!!P&&"length"in P&&P.length,V=I(P);return C(P)||T(P)?!1:V==="array"||B===0||typeof B=="number"&&B>0&&B-1 in P}var F=function(P){var B,V,W,q,X,ee,ce,fe,me,Ae,Ne,we,De,tt,mt,nt,zt,Bt,Kt,Et="sizzle"+1*new Date,gt=P.document,Ut=0,At=0,Ot=Kr(),Mr=Kr(),Ur=Kr(),Zt=Kr(),vr=function(re,ue){return re===ue&&(Ne=!0),0},gr={}.hasOwnProperty,Yt=[],fr=Yt.pop,Jt=Yt.push,dr=Yt.push,Ln=Yt.slice,mr=function(re,ue){for(var he=0,Pe=re.length;he<Pe;he++)if(re[he]===ue)return he;return-1},mn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mt="[\\x20\\t\\r\\n\\f]",yr="(?:\\\\[\\da-fA-F]{1,6}"+Mt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Rn="\\["+Mt+"*("+yr+")(?:"+Mt+"*([*^$|!~]?=)"+Mt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+yr+"))|)"+Mt+"*\\]",yn=":("+yr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Rn+")*)|.*)\\)|)",aa=new RegExp(Mt+"+","g"),Yr=new RegExp("^"+Mt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mt+"+$","g"),ia=new RegExp("^"+Mt+"*,"+Mt+"*"),On=new RegExp("^"+Mt+"*([>+~]|"+Mt+")"+Mt+"*"),oa=new RegExp(Mt+"|>"),sa=new RegExp(yn),la=new RegExp("^"+yr+"$"),jr={ID:new RegExp("^#("+yr+")"),CLASS:new RegExp("^\\.("+yr+")"),TAG:new RegExp("^("+yr+"|[*])"),ATTR:new RegExp("^"+Rn),PSEUDO:new RegExp("^"+yn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Mt+"*(even|odd|(([+-]|)(\\d*)n|)"+Mt+"*(?:([+-]|)"+Mt+"*(\\d+)|))"+Mt+"*\\)|)","i"),bool:new RegExp("^(?:"+mn+")$","i"),needsContext:new RegExp("^"+Mt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Mt+"*((?:-\\d)?\\d*)"+Mt+"*\\)|)(?=[^-]|$)","i")},ua=/HTML$/i,ca=/^(?:input|select|textarea|button)$/i,fa=/^h\d$/i,Dr=/^[^{]+\{\s*\[native \w/,da=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bn=/[+~]/,or=new RegExp("\\\\[\\da-fA-F]{1,6}"+Mt+"?|\\\\([^\\r\\n\\f])","g"),sr=function(re,ue){var he="0x"+re.slice(1)-65536;return ue||(he<0?String.fromCharCode(he+65536):String.fromCharCode(he>>10|55296,he&1023|56320))},kn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Nn=function(re,ue){return ue?re==="\0"?"\uFFFD":re.slice(0,-1)+"\\"+re.charCodeAt(re.length-1).toString(16)+" ":"\\"+re},Bn=function(){we()},ha=qr(function(re){return re.disabled===!0&&re.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{dr.apply(Yt=Ln.call(gt.childNodes),gt.childNodes),Yt[gt.childNodes.length].nodeType}catch{dr={apply:Yt.length?function(ue,he){Jt.apply(ue,Ln.call(he))}:function(ue,he){for(var Pe=ue.length,be=0;ue[Pe++]=he[be++];);ue.length=Pe-1}}}function It(re,ue,he,Pe){var be,Ie,Be,je,Xe,ot,it,ut=ue&&ue.ownerDocument,Tt=ue?ue.nodeType:9;if(he=he||[],typeof re!="string"||!re||Tt!==1&&Tt!==9&&Tt!==11)return he;if(!Pe&&(we(ue),ue=ue||De,mt)){if(Tt!==11&&(Xe=da.exec(re)))if(be=Xe[1]){if(Tt===9)if(Be=ue.getElementById(be)){if(Be.id===be)return he.push(Be),he}else return he;else if(ut&&(Be=ut.getElementById(be))&&Kt(ue,Be)&&Be.id===be)return he.push(Be),he}else{if(Xe[2])return dr.apply(he,ue.getElementsByTagName(re)),he;if((be=Xe[3])&&V.getElementsByClassName&&ue.getElementsByClassName)return dr.apply(he,ue.getElementsByClassName(be)),he}if(V.qsa&&!Zt[re+" "]&&(!nt||!nt.test(re))&&(Tt!==1||ue.nodeName.toLowerCase()!=="object")){if(it=re,ut=ue,Tt===1&&(oa.test(re)||On.test(re))){for(ut=bn.test(re)&&xn(ue.parentNode)||ue,(ut!==ue||!V.scope)&&((je=ue.getAttribute("id"))?je=je.replace(kn,Nn):ue.setAttribute("id",je=Et)),ot=ee(re),Ie=ot.length;Ie--;)ot[Ie]=(je?"#"+je:":scope")+" "+Zr(ot[Ie]);it=ot.join(",")}try{return dr.apply(he,ut.querySelectorAll(it)),he}catch{Zt(re,!0)}finally{je===Et&&ue.removeAttribute("id")}}}return fe(re.replace(Yr,"$1"),ue,he,Pe)}function Kr(){var re=[];function ue(he,Pe){return re.push(he+" ")>W.cacheLength&&delete ue[re.shift()],ue[he+" "]=Pe}return ue}function Qt(re){return re[Et]=!0,re}function er(re){var ue=De.createElement("fieldset");try{return!!re(ue)}catch{return!1}finally{ue.parentNode&&ue.parentNode.removeChild(ue),ue=null}}function Sn(re,ue){for(var he=re.split("|"),Pe=he.length;Pe--;)W.attrHandle[he[Pe]]=ue}function Fn(re,ue){var he=ue&&re,Pe=he&&re.nodeType===1&&ue.nodeType===1&&re.sourceIndex-ue.sourceIndex;if(Pe)return Pe;if(he){for(;he=he.nextSibling;)if(he===ue)return-1}return re?1:-1}function pa(re){return function(ue){var he=ue.nodeName.toLowerCase();return he==="input"&&ue.type===re}}function va(re){return function(ue){var he=ue.nodeName.toLowerCase();return(he==="input"||he==="button")&&ue.type===re}}function zn(re){return function(ue){return"form"in ue?ue.parentNode&&ue.disabled===!1?"label"in ue?"label"in ue.parentNode?ue.parentNode.disabled===re:ue.disabled===re:ue.isDisabled===re||ue.isDisabled!==!re&&ha(ue)===re:ue.disabled===re:"label"in ue?ue.disabled===re:!1}}function br(re){return Qt(function(ue){return ue=+ue,Qt(function(he,Pe){for(var be,Ie=re([],he.length,ue),Be=Ie.length;Be--;)he[be=Ie[Be]]&&(he[be]=!(Pe[be]=he[be]))})})}function xn(re){return re&&typeof re.getElementsByTagName!="undefined"&&re}V=It.support={},X=It.isXML=function(re){var ue=re&&re.namespaceURI,he=re&&(re.ownerDocument||re).documentElement;return!ua.test(ue||he&&he.nodeName||"HTML")},we=It.setDocument=function(re){var ue,he,Pe=re?re.ownerDocument||re:gt;return Pe==De||Pe.nodeType!==9||!Pe.documentElement||(De=Pe,tt=De.documentElement,mt=!X(De),gt!=De&&(he=De.defaultView)&&he.top!==he&&(he.addEventListener?he.addEventListener("unload",Bn,!1):he.attachEvent&&he.attachEvent("onunload",Bn)),V.scope=er(function(be){return tt.appendChild(be).appendChild(De.createElement("div")),typeof be.querySelectorAll!="undefined"&&!be.querySelectorAll(":scope fieldset div").length}),V.attributes=er(function(be){return be.className="i",!be.getAttribute("className")}),V.getElementsByTagName=er(function(be){return be.appendChild(De.createComment("")),!be.getElementsByTagName("*").length}),V.getElementsByClassName=Dr.test(De.getElementsByClassName),V.getById=er(function(be){return tt.appendChild(be).id=Et,!De.getElementsByName||!De.getElementsByName(Et).length}),V.getById?(W.filter.ID=function(be){var Ie=be.replace(or,sr);return function(Be){return Be.getAttribute("id")===Ie}},W.find.ID=function(be,Ie){if(typeof Ie.getElementById!="undefined"&&mt){var Be=Ie.getElementById(be);return Be?[Be]:[]}}):(W.filter.ID=function(be){var Ie=be.replace(or,sr);return function(Be){var je=typeof Be.getAttributeNode!="undefined"&&Be.getAttributeNode("id");return je&&je.value===Ie}},W.find.ID=function(be,Ie){if(typeof Ie.getElementById!="undefined"&&mt){var Be,je,Xe,ot=Ie.getElementById(be);if(ot){if(Be=ot.getAttributeNode("id"),Be&&Be.value===be)return[ot];for(Xe=Ie.getElementsByName(be),je=0;ot=Xe[je++];)if(Be=ot.getAttributeNode("id"),Be&&Be.value===be)return[ot]}return[]}}),W.find.TAG=V.getElementsByTagName?function(be,Ie){if(typeof Ie.getElementsByTagName!="undefined")return Ie.getElementsByTagName(be);if(V.qsa)return Ie.querySelectorAll(be)}:function(be,Ie){var Be,je=[],Xe=0,ot=Ie.getElementsByTagName(be);if(be==="*"){for(;Be=ot[Xe++];)Be.nodeType===1&&je.push(Be);return je}return ot},W.find.CLASS=V.getElementsByClassName&&function(be,Ie){if(typeof Ie.getElementsByClassName!="undefined"&&mt)return Ie.getElementsByClassName(be)},zt=[],nt=[],(V.qsa=Dr.test(De.querySelectorAll))&&(er(function(be){var Ie;tt.appendChild(be).innerHTML="<a id='"+Et+"'></a><select id='"+Et+"-\r\\' msallowcapture=''><option selected=''></option></select>",be.querySelectorAll("[msallowcapture^='']").length&&nt.push("[*^$]="+Mt+`*(?:''|"")`),be.querySelectorAll("[selected]").length||nt.push("\\["+Mt+"*(?:value|"+mn+")"),be.querySelectorAll("[id~="+Et+"-]").length||nt.push("~="),Ie=De.createElement("input"),Ie.setAttribute("name",""),be.appendChild(Ie),be.querySelectorAll("[name='']").length||nt.push("\\["+Mt+"*name"+Mt+"*="+Mt+`*(?:''|"")`),be.querySelectorAll(":checked").length||nt.push(":checked"),be.querySelectorAll("a#"+Et+"+*").length||nt.push(".#.+[+~]"),be.querySelectorAll("\\\f"),nt.push("[\\r\\n\\f]")}),er(function(be){be.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Ie=De.createElement("input");Ie.setAttribute("type","hidden"),be.appendChild(Ie).setAttribute("name","D"),be.querySelectorAll("[name=d]").length&&nt.push("name"+Mt+"*[*^$|!~]?="),be.querySelectorAll(":enabled").length!==2&&nt.push(":enabled",":disabled"),tt.appendChild(be).disabled=!0,be.querySelectorAll(":disabled").length!==2&&nt.push(":enabled",":disabled"),be.querySelectorAll("*,:x"),nt.push(",.*:")})),(V.matchesSelector=Dr.test(Bt=tt.matches||tt.webkitMatchesSelector||tt.mozMatchesSelector||tt.oMatchesSelector||tt.msMatchesSelector))&&er(function(be){V.disconnectedMatch=Bt.call(be,"*"),Bt.call(be,"[s!='']:x"),zt.push("!=",yn)}),nt=nt.length&&new RegExp(nt.join("|")),zt=zt.length&&new RegExp(zt.join("|")),ue=Dr.test(tt.compareDocumentPosition),Kt=ue||Dr.test(tt.contains)?function(be,Ie){var Be=be.nodeType===9?be.documentElement:be,je=Ie&&Ie.parentNode;return be===je||!!(je&&je.nodeType===1&&(Be.contains?Be.contains(je):be.compareDocumentPosition&&be.compareDocumentPosition(je)&16))}:function(be,Ie){if(Ie){for(;Ie=Ie.parentNode;)if(Ie===be)return!0}return!1},vr=ue?function(be,Ie){if(be===Ie)return Ne=!0,0;var Be=!be.compareDocumentPosition-!Ie.compareDocumentPosition;return Be||(Be=(be.ownerDocument||be)==(Ie.ownerDocument||Ie)?be.compareDocumentPosition(Ie):1,Be&1||!V.sortDetached&&Ie.compareDocumentPosition(be)===Be?be==De||be.ownerDocument==gt&&Kt(gt,be)?-1:Ie==De||Ie.ownerDocument==gt&&Kt(gt,Ie)?1:Ae?mr(Ae,be)-mr(Ae,Ie):0:Be&4?-1:1)}:function(be,Ie){if(be===Ie)return Ne=!0,0;var Be,je=0,Xe=be.parentNode,ot=Ie.parentNode,it=[be],ut=[Ie];if(!Xe||!ot)return be==De?-1:Ie==De?1:Xe?-1:ot?1:Ae?mr(Ae,be)-mr(Ae,Ie):0;if(Xe===ot)return Fn(be,Ie);for(Be=be;Be=Be.parentNode;)it.unshift(Be);for(Be=Ie;Be=Be.parentNode;)ut.unshift(Be);for(;it[je]===ut[je];)je++;return je?Fn(it[je],ut[je]):it[je]==gt?-1:ut[je]==gt?1:0}),De},It.matches=function(re,ue){return It(re,null,null,ue)},It.matchesSelector=function(re,ue){if(we(re),V.matchesSelector&&mt&&!Zt[ue+" "]&&(!zt||!zt.test(ue))&&(!nt||!nt.test(ue)))try{var he=Bt.call(re,ue);if(he||V.disconnectedMatch||re.document&&re.document.nodeType!==11)return he}catch{Zt(ue,!0)}return It(ue,De,null,[re]).length>0},It.contains=function(re,ue){return(re.ownerDocument||re)!=De&&we(re),Kt(re,ue)},It.attr=function(re,ue){(re.ownerDocument||re)!=De&&we(re);var he=W.attrHandle[ue.toLowerCase()],Pe=he&&gr.call(W.attrHandle,ue.toLowerCase())?he(re,ue,!mt):void 0;return Pe!==void 0?Pe:V.attributes||!mt?re.getAttribute(ue):(Pe=re.getAttributeNode(ue))&&Pe.specified?Pe.value:null},It.escape=function(re){return(re+"").replace(kn,Nn)},It.error=function(re){throw new Error("Syntax error, unrecognized expression: "+re)},It.uniqueSort=function(re){var ue,he=[],Pe=0,be=0;if(Ne=!V.detectDuplicates,Ae=!V.sortStable&&re.slice(0),re.sort(vr),Ne){for(;ue=re[be++];)ue===re[be]&&(Pe=he.push(be));for(;Pe--;)re.splice(he[Pe],1)}return Ae=null,re},q=It.getText=function(re){var ue,he="",Pe=0,be=re.nodeType;if(be){if(be===1||be===9||be===11){if(typeof re.textContent=="string")return re.textContent;for(re=re.firstChild;re;re=re.nextSibling)he+=q(re)}else if(be===3||be===4)return re.nodeValue}else for(;ue=re[Pe++];)he+=q(ue);return he},W=It.selectors={cacheLength:50,createPseudo:Qt,match:jr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(re){return re[1]=re[1].replace(or,sr),re[3]=(re[3]||re[4]||re[5]||"").replace(or,sr),re[2]==="~="&&(re[3]=" "+re[3]+" "),re.slice(0,4)},CHILD:function(re){return re[1]=re[1].toLowerCase(),re[1].slice(0,3)==="nth"?(re[3]||It.error(re[0]),re[4]=+(re[4]?re[5]+(re[6]||1):2*(re[3]==="even"||re[3]==="odd")),re[5]=+(re[7]+re[8]||re[3]==="odd")):re[3]&&It.error(re[0]),re},PSEUDO:function(re){var ue,he=!re[6]&&re[2];return jr.CHILD.test(re[0])?null:(re[3]?re[2]=re[4]||re[5]||"":he&&sa.test(he)&&(ue=ee(he,!0))&&(ue=he.indexOf(")",he.length-ue)-he.length)&&(re[0]=re[0].slice(0,ue),re[2]=he.slice(0,ue)),re.slice(0,3))}},filter:{TAG:function(re){var ue=re.replace(or,sr).toLowerCase();return re==="*"?function(){return!0}:function(he){return he.nodeName&&he.nodeName.toLowerCase()===ue}},CLASS:function(re){var ue=Ot[re+" "];return ue||(ue=new RegExp("(^|"+Mt+")"+re+"("+Mt+"|$)"))&&Ot(re,function(he){return ue.test(typeof he.className=="string"&&he.className||typeof he.getAttribute!="undefined"&&he.getAttribute("class")||"")})},ATTR:function(re,ue,he){return function(Pe){var be=It.attr(Pe,re);return be==null?ue==="!=":ue?(be+="",ue==="="?be===he:ue==="!="?be!==he:ue==="^="?he&&be.indexOf(he)===0:ue==="*="?he&&be.indexOf(he)>-1:ue==="$="?he&&be.slice(-he.length)===he:ue==="~="?(" "+be.replace(aa," ")+" ").indexOf(he)>-1:ue==="|="?be===he||be.slice(0,he.length+1)===he+"-":!1):!0}},CHILD:function(re,ue,he,Pe,be){var Ie=re.slice(0,3)!=="nth",Be=re.slice(-4)!=="last",je=ue==="of-type";return Pe===1&&be===0?function(Xe){return!!Xe.parentNode}:function(Xe,ot,it){var ut,Tt,Lt,st,Vt,Gt,qt=Ie!==Be?"nextSibling":"previousSibling",Rt=Xe.parentNode,Pr=je&&Xe.nodeName.toLowerCase(),Er=!it&&!je,Xt=!1;if(Rt){if(Ie){for(;qt;){for(st=Xe;st=st[qt];)if(je?st.nodeName.toLowerCase()===Pr:st.nodeType===1)return!1;Gt=qt=re==="only"&&!Gt&&"nextSibling"}return!0}if(Gt=[Be?Rt.firstChild:Rt.lastChild],Be&&Er){for(st=Rt,Lt=st[Et]||(st[Et]={}),Tt=Lt[st.uniqueID]||(Lt[st.uniqueID]={}),ut=Tt[re]||[],Vt=ut[0]===Ut&&ut[1],Xt=Vt&&ut[2],st=Vt&&Rt.childNodes[Vt];st=++Vt&&st&&st[qt]||(Xt=Vt=0)||Gt.pop();)if(st.nodeType===1&&++Xt&&st===Xe){Tt[re]=[Ut,Vt,Xt];break}}else if(Er&&(st=Xe,Lt=st[Et]||(st[Et]={}),Tt=Lt[st.uniqueID]||(Lt[st.uniqueID]={}),ut=Tt[re]||[],Vt=ut[0]===Ut&&ut[1],Xt=Vt),Xt===!1)for(;(st=++Vt&&st&&st[qt]||(Xt=Vt=0)||Gt.pop())&&!((je?st.nodeName.toLowerCase()===Pr:st.nodeType===1)&&++Xt&&(Er&&(Lt=st[Et]||(st[Et]={}),Tt=Lt[st.uniqueID]||(Lt[st.uniqueID]={}),Tt[re]=[Ut,Xt]),st===Xe)););return Xt-=be,Xt===Pe||Xt%Pe===0&&Xt/Pe>=0}}},PSEUDO:function(re,ue){var he,Pe=W.pseudos[re]||W.setFilters[re.toLowerCase()]||It.error("unsupported pseudo: "+re);return Pe[Et]?Pe(ue):Pe.length>1?(he=[re,re,"",ue],W.setFilters.hasOwnProperty(re.toLowerCase())?Qt(function(be,Ie){for(var Be,je=Pe(be,ue),Xe=je.length;Xe--;)Be=mr(be,je[Xe]),be[Be]=!(Ie[Be]=je[Xe])}):function(be){return Pe(be,0,he)}):Pe}},pseudos:{not:Qt(function(re){var ue=[],he=[],Pe=ce(re.replace(Yr,"$1"));return Pe[Et]?Qt(function(be,Ie,Be,je){for(var Xe,ot=Pe(be,null,je,[]),it=be.length;it--;)(Xe=ot[it])&&(be[it]=!(Ie[it]=Xe))}):function(be,Ie,Be){return ue[0]=be,Pe(ue,null,Be,he),ue[0]=null,!he.pop()}}),has:Qt(function(re){return function(ue){return It(re,ue).length>0}}),contains:Qt(function(re){return re=re.replace(or,sr),function(ue){return(ue.textContent||q(ue)).indexOf(re)>-1}}),lang:Qt(function(re){return la.test(re||"")||It.error("unsupported lang: "+re),re=re.replace(or,sr).toLowerCase(),function(ue){var he;do if(he=mt?ue.lang:ue.getAttribute("xml:lang")||ue.getAttribute("lang"))return he=he.toLowerCase(),he===re||he.indexOf(re+"-")===0;while((ue=ue.parentNode)&&ue.nodeType===1);return!1}}),target:function(re){var ue=P.location&&P.location.hash;return ue&&ue.slice(1)===re.id},root:function(re){return re===tt},focus:function(re){return re===De.activeElement&&(!De.hasFocus||De.hasFocus())&&!!(re.type||re.href||~re.tabIndex)},enabled:zn(!1),disabled:zn(!0),checked:function(re){var ue=re.nodeName.toLowerCase();return ue==="input"&&!!re.checked||ue==="option"&&!!re.selected},selected:function(re){return re.parentNode&&re.parentNode.selectedIndex,re.selected===!0},empty:function(re){for(re=re.firstChild;re;re=re.nextSibling)if(re.nodeType<6)return!1;return!0},parent:function(re){return!W.pseudos.empty(re)},header:function(re){return fa.test(re.nodeName)},input:function(re){return ca.test(re.nodeName)},button:function(re){var ue=re.nodeName.toLowerCase();return ue==="input"&&re.type==="button"||ue==="button"},text:function(re){var ue;return re.nodeName.toLowerCase()==="input"&&re.type==="text"&&((ue=re.getAttribute("type"))==null||ue.toLowerCase()==="text")},first:br(function(){return[0]}),last:br(function(re,ue){return[ue-1]}),eq:br(function(re,ue,he){return[he<0?he+ue:he]}),even:br(function(re,ue){for(var he=0;he<ue;he+=2)re.push(he);return re}),odd:br(function(re,ue){for(var he=1;he<ue;he+=2)re.push(he);return re}),lt:br(function(re,ue,he){for(var Pe=he<0?he+ue:he>ue?ue:he;--Pe>=0;)re.push(Pe);return re}),gt:br(function(re,ue,he){for(var Pe=he<0?he+ue:he;++Pe<ue;)re.push(Pe);return re})}},W.pseudos.nth=W.pseudos.eq;for(B in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})W.pseudos[B]=pa(B);for(B in{submit:!0,reset:!0})W.pseudos[B]=va(B);function Vn(){}Vn.prototype=W.filters=W.pseudos,W.setFilters=new Vn,ee=It.tokenize=function(re,ue){var he,Pe,be,Ie,Be,je,Xe,ot=Mr[re+" "];if(ot)return ue?0:ot.slice(0);for(Be=re,je=[],Xe=W.preFilter;Be;){(!he||(Pe=ia.exec(Be)))&&(Pe&&(Be=Be.slice(Pe[0].length)||Be),je.push(be=[])),he=!1,(Pe=On.exec(Be))&&(he=Pe.shift(),be.push({value:he,type:Pe[0].replace(Yr," ")}),Be=Be.slice(he.length));for(Ie in W.filter)(Pe=jr[Ie].exec(Be))&&(!Xe[Ie]||(Pe=Xe[Ie](Pe)))&&(he=Pe.shift(),be.push({value:he,type:Ie,matches:Pe}),Be=Be.slice(he.length));if(!he)break}return ue?Be.length:Be?It.error(re):Mr(re,je).slice(0)};function Zr(re){for(var ue=0,he=re.length,Pe="";ue<he;ue++)Pe+=re[ue].value;return Pe}function qr(re,ue,he){var Pe=ue.dir,be=ue.next,Ie=be||Pe,Be=he&&Ie==="parentNode",je=At++;return ue.first?function(Xe,ot,it){for(;Xe=Xe[Pe];)if(Xe.nodeType===1||Be)return re(Xe,ot,it);return!1}:function(Xe,ot,it){var ut,Tt,Lt,st=[Ut,je];if(it){for(;Xe=Xe[Pe];)if((Xe.nodeType===1||Be)&&re(Xe,ot,it))return!0}else for(;Xe=Xe[Pe];)if(Xe.nodeType===1||Be)if(Lt=Xe[Et]||(Xe[Et]={}),Tt=Lt[Xe.uniqueID]||(Lt[Xe.uniqueID]={}),be&&be===Xe.nodeName.toLowerCase())Xe=Xe[Pe]||Xe;else{if((ut=Tt[Ie])&&ut[0]===Ut&&ut[1]===je)return st[2]=ut[2];if(Tt[Ie]=st,st[2]=re(Xe,ot,it))return!0}return!1}}function _n(re){return re.length>1?function(ue,he,Pe){for(var be=re.length;be--;)if(!re[be](ue,he,Pe))return!1;return!0}:re[0]}function ga(re,ue,he){for(var Pe=0,be=ue.length;Pe<be;Pe++)It(re,ue[Pe],he);return he}function Xr(re,ue,he,Pe,be){for(var Ie,Be=[],je=0,Xe=re.length,ot=ue!=null;je<Xe;je++)(Ie=re[je])&&(!he||he(Ie,Pe,be))&&(Be.push(Ie),ot&&ue.push(je));return Be}function Cn(re,ue,he,Pe,be,Ie){return Pe&&!Pe[Et]&&(Pe=Cn(Pe)),be&&!be[Et]&&(be=Cn(be,Ie)),Qt(function(Be,je,Xe,ot){var it,ut,Tt,Lt=[],st=[],Vt=je.length,Gt=Be||ga(ue||"*",Xe.nodeType?[Xe]:Xe,[]),qt=re&&(Be||!ue)?Xr(Gt,Lt,re,Xe,ot):Gt,Rt=he?be||(Be?re:Vt||Pe)?[]:je:qt;if(he&&he(qt,Rt,Xe,ot),Pe)for(it=Xr(Rt,st),Pe(it,[],Xe,ot),ut=it.length;ut--;)(Tt=it[ut])&&(Rt[st[ut]]=!(qt[st[ut]]=Tt));if(Be){if(be||re){if(be){for(it=[],ut=Rt.length;ut--;)(Tt=Rt[ut])&&it.push(qt[ut]=Tt);be(null,Rt=[],it,ot)}for(ut=Rt.length;ut--;)(Tt=Rt[ut])&&(it=be?mr(Be,Tt):Lt[ut])>-1&&(Be[it]=!(je[it]=Tt))}}else Rt=Xr(Rt===je?Rt.splice(Vt,Rt.length):Rt),be?be(null,je,Rt,ot):dr.apply(je,Rt)})}function Tn(re){for(var ue,he,Pe,be=re.length,Ie=W.relative[re[0].type],Be=Ie||W.relative[" "],je=Ie?1:0,Xe=qr(function(ut){return ut===ue},Be,!0),ot=qr(function(ut){return mr(ue,ut)>-1},Be,!0),it=[function(ut,Tt,Lt){var st=!Ie&&(Lt||Tt!==me)||((ue=Tt).nodeType?Xe(ut,Tt,Lt):ot(ut,Tt,Lt));return ue=null,st}];je<be;je++)if(he=W.relative[re[je].type])it=[qr(_n(it),he)];else{if(he=W.filter[re[je].type].apply(null,re[je].matches),he[Et]){for(Pe=++je;Pe<be&&!W.relative[re[Pe].type];Pe++);return Cn(je>1&&_n(it),je>1&&Zr(re.slice(0,je-1).concat({value:re[je-2].type===" "?"*":""})).replace(Yr,"$1"),he,je<Pe&&Tn(re.slice(je,Pe)),Pe<be&&Tn(re=re.slice(Pe)),Pe<be&&Zr(re))}it.push(he)}return _n(it)}function ma(re,ue){var he=ue.length>0,Pe=re.length>0,be=function(Ie,Be,je,Xe,ot){var it,ut,Tt,Lt=0,st="0",Vt=Ie&&[],Gt=[],qt=me,Rt=Ie||Pe&&W.find.TAG("*",ot),Pr=Ut+=qt==null?1:Math.random()||.1,Er=Rt.length;for(ot&&(me=Be==De||Be||ot);st!==Er&&(it=Rt[st])!=null;st++){if(Pe&&it){for(ut=0,!Be&&it.ownerDocument!=De&&(we(it),je=!mt);Tt=re[ut++];)if(Tt(it,Be||De,je)){Xe.push(it);break}ot&&(Ut=Pr)}he&&((it=!Tt&&it)&&Lt--,Ie&&Vt.push(it))}if(Lt+=st,he&&st!==Lt){for(ut=0;Tt=ue[ut++];)Tt(Vt,Gt,Be,je);if(Ie){if(Lt>0)for(;st--;)Vt[st]||Gt[st]||(Gt[st]=fr.call(Xe));Gt=Xr(Gt)}dr.apply(Xe,Gt),ot&&!Ie&&Gt.length>0&&Lt+ue.length>1&&It.uniqueSort(Xe)}return ot&&(Ut=Pr,me=qt),Vt};return he?Qt(be):be}return ce=It.compile=function(re,ue){var he,Pe=[],be=[],Ie=Ur[re+" "];if(!Ie){for(ue||(ue=ee(re)),he=ue.length;he--;)Ie=Tn(ue[he]),Ie[Et]?Pe.push(Ie):be.push(Ie);Ie=Ur(re,ma(be,Pe)),Ie.selector=re}return Ie},fe=It.select=function(re,ue,he,Pe){var be,Ie,Be,je,Xe,ot=typeof re=="function"&&re,it=!Pe&&ee(re=ot.selector||re);if(he=he||[],it.length===1){if(Ie=it[0]=it[0].slice(0),Ie.length>2&&(Be=Ie[0]).type==="ID"&&ue.nodeType===9&&mt&&W.relative[Ie[1].type]){if(ue=(W.find.ID(Be.matches[0].replace(or,sr),ue)||[])[0],ue)ot&&(ue=ue.parentNode);else return he;re=re.slice(Ie.shift().value.length)}for(be=jr.needsContext.test(re)?0:Ie.length;be--&&(Be=Ie[be],!W.relative[je=Be.type]);)if((Xe=W.find[je])&&(Pe=Xe(Be.matches[0].replace(or,sr),bn.test(Ie[0].type)&&xn(ue.parentNode)||ue))){if(Ie.splice(be,1),re=Pe.length&&Zr(Ie),!re)return dr.apply(he,Pe),he;break}}return(ot||ce(re,it))(Pe,ue,!mt,he,!ue||bn.test(re)&&xn(ue.parentNode)||ue),he},V.sortStable=Et.split("").sort(vr).join("")===Et,V.detectDuplicates=!!Ne,we(),V.sortDetached=er(function(re){return re.compareDocumentPosition(De.createElement("fieldset"))&1}),er(function(re){return re.innerHTML="<a href='#'></a>",re.firstChild.getAttribute("href")==="#"})||Sn("type|href|height|width",function(re,ue,he){if(!he)return re.getAttribute(ue,ue.toLowerCase()==="type"?1:2)}),(!V.attributes||!er(function(re){return re.innerHTML="<input/>",re.firstChild.setAttribute("value",""),re.firstChild.getAttribute("value")===""}))&&Sn("value",function(re,ue,he){if(!he&&re.nodeName.toLowerCase()==="input")return re.defaultValue}),er(function(re){return re.getAttribute("disabled")==null})||Sn(mn,function(re,ue,he){var Pe;if(!he)return re[ue]===!0?ue.toLowerCase():(Pe=re.getAttributeNode(ue))&&Pe.specified?Pe.value:null}),It}(t);$.find=F,$.expr=F.selectors,$.expr[":"]=$.expr.pseudos,$.uniqueSort=$.unique=F.uniqueSort,$.text=F.getText,$.isXMLDoc=F.isXML,$.contains=F.contains,$.escapeSelector=F.escape;var H=function(P,B,V){for(var W=[],q=V!==void 0;(P=P[B])&&P.nodeType!==9;)if(P.nodeType===1){if(q&&$(P).is(V))break;W.push(P)}return W},Y=function(P,B){for(var V=[];P;P=P.nextSibling)P.nodeType===1&&P!==B&&V.push(P);return V},G=$.expr.match.needsContext;function K(P,B){return P.nodeName&&P.nodeName.toLowerCase()===B.toLowerCase()}var Z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(P,B,V){return C(B)?$.grep(P,function(W,q){return!!B.call(W,q,W)!==V}):B.nodeType?$.grep(P,function(W){return W===B!==V}):typeof B!="string"?$.grep(P,function(W){return f.call(B,W)>-1!==V}):$.filter(B,P,V)}$.filter=function(P,B,V){var W=B[0];return V&&(P=":not("+P+")"),B.length===1&&W.nodeType===1?$.find.matchesSelector(W,P)?[W]:[]:$.find.matches(P,$.grep(B,function(q){return q.nodeType===1}))},$.fn.extend({find:function(P){var B,V,W=this.length,q=this;if(typeof P!="string")return this.pushStack($(P).filter(function(){for(B=0;B<W;B++)if($.contains(q[B],this))return!0}));for(V=this.pushStack([]),B=0;B<W;B++)$.find(P,q[B],V);return W>1?$.uniqueSort(V):V},filter:function(P){return this.pushStack(J(this,P||[],!1))},not:function(P){return this.pushStack(J(this,P||[],!0))},is:function(P){return!!J(this,typeof P=="string"&&G.test(P)?$(P):P||[],!1).length}});var Q,te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ie=$.fn.init=function(P,B,V){var W,q;if(!P)return this;if(V=V||Q,typeof P=="string")if(P[0]==="<"&&P[P.length-1]===">"&&P.length>=3?W=[null,P,null]:W=te.exec(P),W&&(W[1]||!B))if(W[1]){if(B=B instanceof $?B[0]:B,$.merge(this,$.parseHTML(W[1],B&&B.nodeType?B.ownerDocument||B:w,!0)),Z.test(W[1])&&$.isPlainObject(B))for(W in B)C(this[W])?this[W](B[W]):this.attr(W,B[W]);return this}else return q=w.getElementById(W[2]),q&&(this[0]=q,this.length=1),this;else return!B||B.jquery?(B||V).find(P):this.constructor(B).find(P);else{if(P.nodeType)return this[0]=P,this.length=1,this;if(C(P))return V.ready!==void 0?V.ready(P):P($)}return $.makeArray(P,this)};ie.prototype=$.fn,Q=$(w);var ne=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({has:function(P){var B=$(P,this),V=B.length;return this.filter(function(){for(var W=0;W<V;W++)if($.contains(this,B[W]))return!0})},closest:function(P,B){var V,W=0,q=this.length,X=[],ee=typeof P!="string"&&$(P);if(!G.test(P)){for(;W<q;W++)for(V=this[W];V&&V!==B;V=V.parentNode)if(V.nodeType<11&&(ee?ee.index(V)>-1:V.nodeType===1&&$.find.matchesSelector(V,P))){X.push(V);break}}return this.pushStack(X.length>1?$.uniqueSort(X):X)},index:function(P){return P?typeof P=="string"?f.call($(P),this[0]):f.call(this,P.jquery?P[0]:P):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(P,B){return this.pushStack($.uniqueSort($.merge(this.get(),$(P,B))))},addBack:function(P){return this.add(P==null?this.prevObject:this.prevObject.filter(P))}});function ve(P,B){for(;(P=P[B])&&P.nodeType!==1;);return P}$.each({parent:function(P){var B=P.parentNode;return B&&B.nodeType!==11?B:null},parents:function(P){return H(P,"parentNode")},parentsUntil:function(P,B,V){return H(P,"parentNode",V)},next:function(P){return ve(P,"nextSibling")},prev:function(P){return ve(P,"previousSibling")},nextAll:function(P){return H(P,"nextSibling")},prevAll:function(P){return H(P,"previousSibling")},nextUntil:function(P,B,V){return H(P,"nextSibling",V)},prevUntil:function(P,B,V){return H(P,"previousSibling",V)},siblings:function(P){return Y((P.parentNode||{}).firstChild,P)},children:function(P){return Y(P.firstChild)},contents:function(P){return P.contentDocument!=null&&o(P.contentDocument)?P.contentDocument:(K(P,"template")&&(P=P.content||P),$.merge([],P.childNodes))}},function(P,B){$.fn[P]=function(V,W){var q=$.map(this,B,V);return P.slice(-5)!=="Until"&&(W=V),W&&typeof W=="string"&&(q=$.filter(W,q)),this.length>1&&(de[P]||$.uniqueSort(q),ne.test(P)&&q.reverse()),this.pushStack(q)}});var pe=/[^\x20\t\r\n\f]+/g;function $e(P){var B={};return $.each(P.match(pe)||[],function(V,W){B[W]=!0}),B}$.Callbacks=function(P){P=typeof P=="string"?$e(P):$.extend({},P);var B,V,W,q,X=[],ee=[],ce=-1,fe=function(){for(q=q||P.once,W=B=!0;ee.length;ce=-1)for(V=ee.shift();++ce<X.length;)X[ce].apply(V[0],V[1])===!1&&P.stopOnFalse&&(ce=X.length,V=!1);P.memory||(V=!1),B=!1,q&&(V?X=[]:X="")},me={add:function(){return X&&(V&&!B&&(ce=X.length-1,ee.push(V)),function Ae(Ne){$.each(Ne,function(we,De){C(De)?(!P.unique||!me.has(De))&&X.push(De):De&&De.length&&I(De)!=="string"&&Ae(De)})}(arguments),V&&!B&&fe()),this},remove:function(){return $.each(arguments,function(Ae,Ne){for(var we;(we=$.inArray(Ne,X,we))>-1;)X.splice(we,1),we<=ce&&ce--}),this},has:function(Ae){return Ae?$.inArray(Ae,X)>-1:X.length>0},empty:function(){return X&&(X=[]),this},disable:function(){return q=ee=[],X=V="",this},disabled:function(){return!X},lock:function(){return q=ee=[],!V&&!B&&(X=V=""),this},locked:function(){return!!q},fireWith:function(Ae,Ne){return q||(Ne=Ne||[],Ne=[Ae,Ne.slice?Ne.slice():Ne],ee.push(Ne),B||fe()),this},fire:function(){return me.fireWith(this,arguments),this},fired:function(){return!!W}};return me};function Re(P){return P}function Ge(P){throw P}function Qe(P,B,V,W){var q;try{P&&C(q=P.promise)?q.call(P).done(B).fail(V):P&&C(q=P.then)?q.call(P,B,V):B.apply(void 0,[P].slice(W))}catch(X){V.apply(void 0,[X])}}$.extend({Deferred:function(P){var B=[["notify","progress",$.Callbacks("memory"),$.Callbacks("memory"),2],["resolve","done",$.Callbacks("once memory"),$.Callbacks("once memory"),0,"resolved"],["reject","fail",$.Callbacks("once memory"),$.Callbacks("once memory"),1,"rejected"]],V="pending",W={state:function(){return V},always:function(){return q.done(arguments).fail(arguments),this},catch:function(X){return W.then(null,X)},pipe:function(){var X=arguments;return $.Deferred(function(ee){$.each(B,function(ce,fe){var me=C(X[fe[4]])&&X[fe[4]];q[fe[1]](function(){var Ae=me&&me.apply(this,arguments);Ae&&C(Ae.promise)?Ae.promise().progress(ee.notify).done(ee.resolve).fail(ee.reject):ee[fe[0]+"With"](this,me?[Ae]:arguments)})}),X=null}).promise()},then:function(X,ee,ce){var fe=0;function me(Ae,Ne,we,De){return function(){var tt=this,mt=arguments,nt=function(){var Bt,Kt;if(!(Ae<fe)){if(Bt=we.apply(tt,mt),Bt===Ne.promise())throw new TypeError("Thenable self-resolution");Kt=Bt&&(typeof Bt=="object"||typeof Bt=="function")&&Bt.then,C(Kt)?De?Kt.call(Bt,me(fe,Ne,Re,De),me(fe,Ne,Ge,De)):(fe++,Kt.call(Bt,me(fe,Ne,Re,De),me(fe,Ne,Ge,De),me(fe,Ne,Re,Ne.notifyWith))):(we!==Re&&(tt=void 0,mt=[Bt]),(De||Ne.resolveWith)(tt,mt))}},zt=De?nt:function(){try{nt()}catch(Bt){$.Deferred.exceptionHook&&$.Deferred.exceptionHook(Bt,zt.stackTrace),Ae+1>=fe&&(we!==Ge&&(tt=void 0,mt=[Bt]),Ne.rejectWith(tt,mt))}};Ae?zt():($.Deferred.getStackHook&&(zt.stackTrace=$.Deferred.getStackHook()),t.setTimeout(zt))}}return $.Deferred(function(Ae){B[0][3].add(me(0,Ae,C(ce)?ce:Re,Ae.notifyWith)),B[1][3].add(me(0,Ae,C(X)?X:Re)),B[2][3].add(me(0,Ae,C(ee)?ee:Ge))}).promise()},promise:function(X){return X!=null?$.extend(X,W):W}},q={};return $.each(B,function(X,ee){var ce=ee[2],fe=ee[5];W[ee[1]]=ce.add,fe&&ce.add(function(){V=fe},B[3-X][2].disable,B[3-X][3].disable,B[0][2].lock,B[0][3].lock),ce.add(ee[3].fire),q[ee[0]]=function(){return q[ee[0]+"With"](this===q?void 0:this,arguments),this},q[ee[0]+"With"]=ce.fireWith}),W.promise(q),P&&P.call(q,q),q},when:function(P){var B=arguments.length,V=B,W=Array(V),q=s.call(arguments),X=$.Deferred(),ee=function(ce){return function(fe){W[ce]=this,q[ce]=arguments.length>1?s.call(arguments):fe,--B||X.resolveWith(W,q)}};if(B<=1&&(Qe(P,X.done(ee(V)).resolve,X.reject,!B),X.state()==="pending"||C(q[V]&&q[V].then)))return X.then();for(;V--;)Qe(q[V],ee(V),X.reject);return X.promise()}});var Le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;$.Deferred.exceptionHook=function(P,B){t.console&&t.console.warn&&P&&Le.test(P.name)&&t.console.warn("jQuery.Deferred exception: "+P.message,P.stack,B)},$.readyException=function(P){t.setTimeout(function(){throw P})};var We=$.Deferred();$.fn.ready=function(P){return We.then(P).catch(function(B){$.readyException(B)}),this},$.extend({isReady:!1,readyWait:1,ready:function(P){(P===!0?--$.readyWait:$.isReady)||($.isReady=!0,!(P!==!0&&--$.readyWait>0)&&We.resolveWith(w,[$]))}}),$.ready.then=We.then;function Oe(){w.removeEventListener("DOMContentLoaded",Oe),t.removeEventListener("load",Oe),$.ready()}w.readyState==="complete"||w.readyState!=="loading"&&!w.documentElement.doScroll?t.setTimeout($.ready):(w.addEventListener("DOMContentLoaded",Oe),t.addEventListener("load",Oe));var ke=function(P,B,V,W,q,X,ee){var ce=0,fe=P.length,me=V==null;if(I(V)==="object"){q=!0;for(ce in V)ke(P,B,ce,V[ce],!0,X,ee)}else if(W!==void 0&&(q=!0,C(W)||(ee=!0),me&&(ee?(B.call(P,W),B=null):(me=B,B=function(Ae,Ne,we){return me.call($(Ae),we)})),B))for(;ce<fe;ce++)B(P[ce],V,ee?W:W.call(P[ce],ce,B(P[ce],V)));return q?P:me?B.call(P):fe?B(P[0],V):X},Ye=/^-ms-/,ze=/-([a-z])/g;function qe(P,B){return B.toUpperCase()}function ae(P){return P.replace(Ye,"ms-").replace(ze,qe)}var le=function(P){return P.nodeType===1||P.nodeType===9||!+P.nodeType};function ge(){this.expando=$.expando+ge.uid++}ge.uid=1,ge.prototype={cache:function(P){var B=P[this.expando];return B||(B={},le(P)&&(P.nodeType?P[this.expando]=B:Object.defineProperty(P,this.expando,{value:B,configurable:!0}))),B},set:function(P,B,V){var W,q=this.cache(P);if(typeof B=="string")q[ae(B)]=V;else for(W in B)q[ae(W)]=B[W];return q},get:function(P,B){return B===void 0?this.cache(P):P[this.expando]&&P[this.expando][ae(B)]},access:function(P,B,V){return B===void 0||B&&typeof B=="string"&&V===void 0?this.get(P,B):(this.set(P,B,V),V!==void 0?V:B)},remove:function(P,B){var V,W=P[this.expando];if(W!==void 0){if(B!==void 0)for(Array.isArray(B)?B=B.map(ae):(B=ae(B),B=B in W?[B]:B.match(pe)||[]),V=B.length;V--;)delete W[B[V]];(B===void 0||$.isEmptyObject(W))&&(P.nodeType?P[this.expando]=void 0:delete P[this.expando])}},hasData:function(P){var B=P[this.expando];return B!==void 0&&!$.isEmptyObject(B)}};var se=new ge,oe=new ge,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/[A-Z]/g;function _e(P){return P==="true"?!0:P==="false"?!1:P==="null"?null:P===+P+""?+P:Se.test(P)?JSON.parse(P):P}function Te(P,B,V){var W;if(V===void 0&&P.nodeType===1)if(W="data-"+B.replace(xe,"-$&").toLowerCase(),V=P.getAttribute(W),typeof V=="string"){try{V=_e(V)}catch{}oe.set(P,B,V)}else V=void 0;return V}$.extend({hasData:function(P){return oe.hasData(P)||se.hasData(P)},data:function(P,B,V){return oe.access(P,B,V)},removeData:function(P,B){oe.remove(P,B)},_data:function(P,B,V){return se.access(P,B,V)},_removeData:function(P,B){se.remove(P,B)}}),$.fn.extend({data:function(P,B){var V,W,q,X=this[0],ee=X&&X.attributes;if(P===void 0){if(this.length&&(q=oe.get(X),X.nodeType===1&&!se.get(X,"hasDataAttrs"))){for(V=ee.length;V--;)ee[V]&&(W=ee[V].name,W.indexOf("data-")===0&&(W=ae(W.slice(5)),Te(X,W,q[W])));se.set(X,"hasDataAttrs",!0)}return q}return typeof P=="object"?this.each(function(){oe.set(this,P)}):ke(this,function(ce){var fe;if(X&&ce===void 0)return fe=oe.get(X,P),fe!==void 0||(fe=Te(X,P),fe!==void 0)?fe:void 0;this.each(function(){oe.set(this,P,ce)})},null,B,arguments.length>1,null,!0)},removeData:function(P){return this.each(function(){oe.remove(this,P)})}}),$.extend({queue:function(P,B,V){var W;if(P)return B=(B||"fx")+"queue",W=se.get(P,B),V&&(!W||Array.isArray(V)?W=se.access(P,B,$.makeArray(V)):W.push(V)),W||[]},dequeue:function(P,B){B=B||"fx";var V=$.queue(P,B),W=V.length,q=V.shift(),X=$._queueHooks(P,B),ee=function(){$.dequeue(P,B)};q==="inprogress"&&(q=V.shift(),W--),q&&(B==="fx"&&V.unshift("inprogress"),delete X.stop,q.call(P,ee,X)),!W&&X&&X.empty.fire()},_queueHooks:function(P,B){var V=B+"queueHooks";return se.get(P,V)||se.access(P,V,{empty:$.Callbacks("once memory").add(function(){se.remove(P,[B+"queue",V])})})}}),$.fn.extend({queue:function(P,B){var V=2;return typeof P!="string"&&(B=P,P="fx",V--),arguments.length<V?$.queue(this[0],P):B===void 0?this:this.each(function(){var W=$.queue(this,P,B);$._queueHooks(this,P),P==="fx"&&W[0]!=="inprogress"&&$.dequeue(this,P)})},dequeue:function(P){return this.each(function(){$.dequeue(this,P)})},clearQueue:function(P){return this.queue(P||"fx",[])},promise:function(P,B){var V,W=1,q=$.Deferred(),X=this,ee=this.length,ce=function(){--W||q.resolveWith(X,[X])};for(typeof P!="string"&&(B=P,P=void 0),P=P||"fx";ee--;)V=se.get(X[ee],P+"queueHooks"),V&&V.empty&&(W++,V.empty.add(ce));return ce(),q.promise(B)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Ue=w.documentElement,Je=function(P){return $.contains(P.ownerDocument,P)},ht={composed:!0};Ue.getRootNode&&(Je=function(P){return $.contains(P.ownerDocument,P)||P.getRootNode(ht)===P.ownerDocument});var bt=function(P,B){return P=B||P,P.style.display==="none"||P.style.display===""&&Je(P)&&$.css(P,"display")==="none"};function yt(P,B,V,W){var q,X,ee=20,ce=W?function(){return W.cur()}:function(){return $.css(P,B,"")},fe=ce(),me=V&&V[3]||($.cssNumber[B]?"":"px"),Ae=P.nodeType&&($.cssNumber[B]||me!=="px"&&+fe)&&Ee.exec($.css(P,B));if(Ae&&Ae[3]!==me){for(fe=fe/2,me=me||Ae[3],Ae=+fe||1;ee--;)$.style(P,B,Ae+me),(1-X)*(1-(X=ce()/fe||.5))<=0&&(ee=0),Ae=Ae/X;Ae=Ae*2,$.style(P,B,Ae+me),V=V||[]}return V&&(Ae=+Ae||+fe||0,q=V[1]?Ae+(V[1]+1)*V[2]:+V[2],W&&(W.unit=me,W.start=Ae,W.end=q)),q}var $t={};function Ve(P){var B,V=P.ownerDocument,W=P.nodeName,q=$t[W];return q||(B=V.body.appendChild(V.createElement(W)),q=$.css(B,"display"),B.parentNode.removeChild(B),q==="none"&&(q="block"),$t[W]=q,q)}function Ke(P,B){for(var V,W,q=[],X=0,ee=P.length;X<ee;X++)W=P[X],W.style&&(V=W.style.display,B?(V==="none"&&(q[X]=se.get(W,"display")||null,q[X]||(W.style.display="")),W.style.display===""&&bt(W)&&(q[X]=Ve(W))):V!=="none"&&(q[X]="none",se.set(W,"display",V)));for(X=0;X<ee;X++)q[X]!=null&&(P[X].style.display=q[X]);return P}$.fn.extend({show:function(){return Ke(this,!0)},hide:function(){return Ke(this)},toggle:function(P){return typeof P=="boolean"?P?this.show():this.hide():this.each(function(){bt(this)?$(this).show():$(this).hide()})}});var et=/^(?:checkbox|radio)$/i,Ct=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Dt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var P=w.createDocumentFragment(),B=P.appendChild(w.createElement("div")),V=w.createElement("input");V.setAttribute("type","radio"),V.setAttribute("checked","checked"),V.setAttribute("name","t"),B.appendChild(V),_.checkClone=B.cloneNode(!0).cloneNode(!0).lastChild.checked,B.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!B.cloneNode(!0).lastChild.defaultValue,B.innerHTML="<option></option>",_.option=!!B.lastChild})();var vt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td,_.option||(vt.optgroup=vt.option=[1,"<select multiple='multiple'>","</select>"]);function St(P,B){var V;return typeof P.getElementsByTagName!="undefined"?V=P.getElementsByTagName(B||"*"):typeof P.querySelectorAll!="undefined"?V=P.querySelectorAll(B||"*"):V=[],B===void 0||B&&K(P,B)?$.merge([P],V):V}function _t(P,B){for(var V=0,W=P.length;V<W;V++)se.set(P[V],"globalEval",!B||se.get(B[V],"globalEval"))}var Me=/<|&#?\w+;/;function Ze(P,B,V,W,q){for(var X,ee,ce,fe,me,Ae,Ne=B.createDocumentFragment(),we=[],De=0,tt=P.length;De<tt;De++)if(X=P[De],X||X===0)if(I(X)==="object")$.merge(we,X.nodeType?[X]:X);else if(!Me.test(X))we.push(B.createTextNode(X));else{for(ee=ee||Ne.appendChild(B.createElement("div")),ce=(Ct.exec(X)||["",""])[1].toLowerCase(),fe=vt[ce]||vt._default,ee.innerHTML=fe[1]+$.htmlPrefilter(X)+fe[2],Ae=fe[0];Ae--;)ee=ee.lastChild;$.merge(we,ee.childNodes),ee=Ne.firstChild,ee.textContent=""}for(Ne.textContent="",De=0;X=we[De++];){if(W&&$.inArray(X,W)>-1){q&&q.push(X);continue}if(me=Je(X),ee=St(Ne.appendChild(X),"script"),me&&_t(ee),V)for(Ae=0;X=ee[Ae++];)Dt.test(X.type||"")&&V.push(X)}return Ne}var at=/^([^.]*)(?:\.(.+)|)/;function dt(){return!0}function ct(){return!1}function pt(P,B){return P===wt()==(B==="focus")}function wt(){try{return w.activeElement}catch{}}function Pt(P,B,V,W,q,X){var ee,ce;if(typeof B=="object"){typeof V!="string"&&(W=W||V,V=void 0);for(ce in B)Pt(P,ce,V,W,B[ce],X);return P}if(W==null&&q==null?(q=V,W=V=void 0):q==null&&(typeof V=="string"?(q=W,W=void 0):(q=W,W=V,V=void 0)),q===!1)q=ct;else if(!q)return P;return X===1&&(ee=q,q=function(fe){return $().off(fe),ee.apply(this,arguments)},q.guid=ee.guid||(ee.guid=$.guid++)),P.each(function(){$.event.add(this,B,q,W,V)})}$.event={global:{},add:function(P,B,V,W,q){var X,ee,ce,fe,me,Ae,Ne,we,De,tt,mt,nt=se.get(P);if(!!le(P))for(V.handler&&(X=V,V=X.handler,q=X.selector),q&&$.find.matchesSelector(Ue,q),V.guid||(V.guid=$.guid++),(fe=nt.events)||(fe=nt.events=Object.create(null)),(ee=nt.handle)||(ee=nt.handle=function(zt){return typeof $!="undefined"&&$.event.triggered!==zt.type?$.event.dispatch.apply(P,arguments):void 0}),B=(B||"").match(pe)||[""],me=B.length;me--;)ce=at.exec(B[me])||[],De=mt=ce[1],tt=(ce[2]||"").split(".").sort(),De&&(Ne=$.event.special[De]||{},De=(q?Ne.delegateType:Ne.bindType)||De,Ne=$.event.special[De]||{},Ae=$.extend({type:De,origType:mt,data:W,handler:V,guid:V.guid,selector:q,needsContext:q&&$.expr.match.needsContext.test(q),namespace:tt.join(".")},X),(we=fe[De])||(we=fe[De]=[],we.delegateCount=0,(!Ne.setup||Ne.setup.call(P,W,tt,ee)===!1)&&P.addEventListener&&P.addEventListener(De,ee)),Ne.add&&(Ne.add.call(P,Ae),Ae.handler.guid||(Ae.handler.guid=V.guid)),q?we.splice(we.delegateCount++,0,Ae):we.push(Ae),$.event.global[De]=!0)},remove:function(P,B,V,W,q){var X,ee,ce,fe,me,Ae,Ne,we,De,tt,mt,nt=se.hasData(P)&&se.get(P);if(!(!nt||!(fe=nt.events))){for(B=(B||"").match(pe)||[""],me=B.length;me--;){if(ce=at.exec(B[me])||[],De=mt=ce[1],tt=(ce[2]||"").split(".").sort(),!De){for(De in fe)$.event.remove(P,De+B[me],V,W,!0);continue}for(Ne=$.event.special[De]||{},De=(W?Ne.delegateType:Ne.bindType)||De,we=fe[De]||[],ce=ce[2]&&new RegExp("(^|\\.)"+tt.join("\\.(?:.*\\.|)")+"(\\.|$)"),ee=X=we.length;X--;)Ae=we[X],(q||mt===Ae.origType)&&(!V||V.guid===Ae.guid)&&(!ce||ce.test(Ae.namespace))&&(!W||W===Ae.selector||W==="**"&&Ae.selector)&&(we.splice(X,1),Ae.selector&&we.delegateCount--,Ne.remove&&Ne.remove.call(P,Ae));ee&&!we.length&&((!Ne.teardown||Ne.teardown.call(P,tt,nt.handle)===!1)&&$.removeEvent(P,De,nt.handle),delete fe[De])}$.isEmptyObject(fe)&&se.remove(P,"handle events")}},dispatch:function(P){var B,V,W,q,X,ee,ce=new Array(arguments.length),fe=$.event.fix(P),me=(se.get(this,"events")||Object.create(null))[fe.type]||[],Ae=$.event.special[fe.type]||{};for(ce[0]=fe,B=1;B<arguments.length;B++)ce[B]=arguments[B];if(fe.delegateTarget=this,!(Ae.preDispatch&&Ae.preDispatch.call(this,fe)===!1)){for(ee=$.event.handlers.call(this,fe,me),B=0;(q=ee[B++])&&!fe.isPropagationStopped();)for(fe.currentTarget=q.elem,V=0;(X=q.handlers[V++])&&!fe.isImmediatePropagationStopped();)(!fe.rnamespace||X.namespace===!1||fe.rnamespace.test(X.namespace))&&(fe.handleObj=X,fe.data=X.data,W=(($.event.special[X.origType]||{}).handle||X.handler).apply(q.elem,ce),W!==void 0&&(fe.result=W)===!1&&(fe.preventDefault(),fe.stopPropagation()));return Ae.postDispatch&&Ae.postDispatch.call(this,fe),fe.result}},handlers:function(P,B){var V,W,q,X,ee,ce=[],fe=B.delegateCount,me=P.target;if(fe&&me.nodeType&&!(P.type==="click"&&P.button>=1)){for(;me!==this;me=me.parentNode||this)if(me.nodeType===1&&!(P.type==="click"&&me.disabled===!0)){for(X=[],ee={},V=0;V<fe;V++)W=B[V],q=W.selector+" ",ee[q]===void 0&&(ee[q]=W.needsContext?$(q,this).index(me)>-1:$.find(q,this,null,[me]).length),ee[q]&&X.push(W);X.length&&ce.push({elem:me,handlers:X})}}return me=this,fe<B.length&&ce.push({elem:me,handlers:B.slice(fe)}),ce},addProp:function(P,B){Object.defineProperty($.Event.prototype,P,{enumerable:!0,configurable:!0,get:C(B)?function(){if(this.originalEvent)return B(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[P]},set:function(V){Object.defineProperty(this,P,{enumerable:!0,configurable:!0,writable:!0,value:V})}})},fix:function(P){return P[$.expando]?P:new $.Event(P)},special:{load:{noBubble:!0},click:{setup:function(P){var B=this||P;return et.test(B.type)&&B.click&&K(B,"input")&&xt(B,"click",dt),!1},trigger:function(P){var B=this||P;return et.test(B.type)&&B.click&&K(B,"input")&&xt(B,"click"),!0},_default:function(P){var B=P.target;return et.test(B.type)&&B.click&&K(B,"input")&&se.get(B,"click")||K(B,"a")}},beforeunload:{postDispatch:function(P){P.result!==void 0&&P.originalEvent&&(P.originalEvent.returnValue=P.result)}}}};function xt(P,B,V){if(!V){se.get(P,B)===void 0&&$.event.add(P,B,dt);return}se.set(P,B,!1),$.event.add(P,B,{namespace:!1,handler:function(W){var q,X,ee=se.get(this,B);if(W.isTrigger&1&&this[B]){if(ee.length)($.event.special[B]||{}).delegateType&&W.stopPropagation();else if(ee=s.call(arguments),se.set(this,B,ee),q=V(this,B),this[B](),X=se.get(this,B),ee!==X||q?se.set(this,B,!1):X={},ee!==X)return W.stopImmediatePropagation(),W.preventDefault(),X&&X.value}else ee.length&&(se.set(this,B,{value:$.event.trigger($.extend(ee[0],$.Event.prototype),ee.slice(1),this)}),W.stopImmediatePropagation())}})}$.removeEvent=function(P,B,V){P.removeEventListener&&P.removeEventListener(B,V)},$.Event=function(P,B){if(!(this instanceof $.Event))return new $.Event(P,B);P&&P.type?(this.originalEvent=P,this.type=P.type,this.isDefaultPrevented=P.defaultPrevented||P.defaultPrevented===void 0&&P.returnValue===!1?dt:ct,this.target=P.target&&P.target.nodeType===3?P.target.parentNode:P.target,this.currentTarget=P.currentTarget,this.relatedTarget=P.relatedTarget):this.type=P,B&&$.extend(this,B),this.timeStamp=P&&P.timeStamp||Date.now(),this[$.expando]=!0},$.Event.prototype={constructor:$.Event,isDefaultPrevented:ct,isPropagationStopped:ct,isImmediatePropagationStopped:ct,isSimulated:!1,preventDefault:function(){var P=this.originalEvent;this.isDefaultPrevented=dt,P&&!this.isSimulated&&P.preventDefault()},stopPropagation:function(){var P=this.originalEvent;this.isPropagationStopped=dt,P&&!this.isSimulated&&P.stopPropagation()},stopImmediatePropagation:function(){var P=this.originalEvent;this.isImmediatePropagationStopped=dt,P&&!this.isSimulated&&P.stopImmediatePropagation(),this.stopPropagation()}},$.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},$.event.addProp),$.each({focus:"focusin",blur:"focusout"},function(P,B){$.event.special[P]={setup:function(){return xt(this,P,pt),!1},trigger:function(){return xt(this,P),!0},_default:function(){return!0},delegateType:B}}),$.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(P,B){$.event.special[P]={delegateType:B,bindType:B,handle:function(V){var W,q=this,X=V.relatedTarget,ee=V.handleObj;return(!X||X!==q&&!$.contains(q,X))&&(V.type=ee.origType,W=ee.handler.apply(this,arguments),V.type=B),W}}}),$.fn.extend({on:function(P,B,V,W){return Pt(this,P,B,V,W)},one:function(P,B,V,W){return Pt(this,P,B,V,W,1)},off:function(P,B,V){var W,q;if(P&&P.preventDefault&&P.handleObj)return W=P.handleObj,$(P.delegateTarget).off(W.namespace?W.origType+"."+W.namespace:W.origType,W.selector,W.handler),this;if(typeof P=="object"){for(q in P)this.off(q,B,P[q]);return this}return(B===!1||typeof B=="function")&&(V=B,B=void 0),V===!1&&(V=ct),this.each(function(){$.event.remove(this,P,V,B)})}});var ye=/<script|<style|<link/i,He=/checked\s*(?:[^=]|=\s*.checked.)/i,ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function kt(P,B){return K(P,"table")&&K(B.nodeType!==11?B:B.firstChild,"tr")&&$(P).children("tbody")[0]||P}function Nt(P){return P.type=(P.getAttribute("type")!==null)+"/"+P.type,P}function Ft(P){return(P.type||"").slice(0,5)==="true/"?P.type=P.type.slice(5):P.removeAttribute("type"),P}function tr(P,B){var V,W,q,X,ee,ce,fe;if(B.nodeType===1){if(se.hasData(P)&&(X=se.get(P),fe=X.events,fe)){se.remove(B,"handle events");for(q in fe)for(V=0,W=fe[q].length;V<W;V++)$.event.add(B,q,fe[q][V])}oe.hasData(P)&&(ee=oe.access(P),ce=$.extend({},ee),oe.set(B,ce))}}function rr(P,B){var V=B.nodeName.toLowerCase();V==="input"&&et.test(P.type)?B.checked=P.checked:(V==="input"||V==="textarea")&&(B.defaultValue=P.defaultValue)}function Wt(P,B,V,W){B=l(B);var q,X,ee,ce,fe,me,Ae=0,Ne=P.length,we=Ne-1,De=B[0],tt=C(De);if(tt||Ne>1&&typeof De=="string"&&!_.checkClone&&He.test(De))return P.each(function(mt){var nt=P.eq(mt);tt&&(B[0]=De.call(this,mt,nt.html())),Wt(nt,B,V,W)});if(Ne&&(q=Ze(B,P[0].ownerDocument,!1,P,W),X=q.firstChild,q.childNodes.length===1&&(q=X),X||W)){for(ee=$.map(St(q,"script"),Nt),ce=ee.length;Ae<Ne;Ae++)fe=q,Ae!==we&&(fe=$.clone(fe,!0,!0),ce&&$.merge(ee,St(fe,"script"))),V.call(P[Ae],fe,Ae);if(ce)for(me=ee[ee.length-1].ownerDocument,$.map(ee,Ft),Ae=0;Ae<ce;Ae++)fe=ee[Ae],Dt.test(fe.type||"")&&!se.access(fe,"globalEval")&&$.contains(me,fe)&&(fe.src&&(fe.type||"").toLowerCase()!=="module"?$._evalUrl&&!fe.noModule&&$._evalUrl(fe.src,{nonce:fe.nonce||fe.getAttribute("nonce")},me):D(fe.textContent.replace(ft,""),fe,me))}return P}function lr(P,B,V){for(var W,q=B?$.filter(B,P):P,X=0;(W=q[X])!=null;X++)!V&&W.nodeType===1&&$.cleanData(St(W)),W.parentNode&&(V&&Je(W)&&_t(St(W,"script")),W.parentNode.removeChild(W));return P}$.extend({htmlPrefilter:function(P){return P},clone:function(P,B,V){var W,q,X,ee,ce=P.cloneNode(!0),fe=Je(P);if(!_.noCloneChecked&&(P.nodeType===1||P.nodeType===11)&&!$.isXMLDoc(P))for(ee=St(ce),X=St(P),W=0,q=X.length;W<q;W++)rr(X[W],ee[W]);if(B)if(V)for(X=X||St(P),ee=ee||St(ce),W=0,q=X.length;W<q;W++)tr(X[W],ee[W]);else tr(P,ce);return ee=St(ce,"script"),ee.length>0&&_t(ee,!fe&&St(P,"script")),ce},cleanData:function(P){for(var B,V,W,q=$.event.special,X=0;(V=P[X])!==void 0;X++)if(le(V)){if(B=V[se.expando]){if(B.events)for(W in B.events)q[W]?$.event.remove(V,W):$.removeEvent(V,W,B.handle);V[se.expando]=void 0}V[oe.expando]&&(V[oe.expando]=void 0)}}}),$.fn.extend({detach:function(P){return lr(this,P,!0)},remove:function(P){return lr(this,P)},text:function(P){return ke(this,function(B){return B===void 0?$.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=B)})},null,P,arguments.length)},append:function(){return Wt(this,arguments,function(P){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var B=kt(this,P);B.appendChild(P)}})},prepend:function(){return Wt(this,arguments,function(P){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var B=kt(this,P);B.insertBefore(P,B.firstChild)}})},before:function(){return Wt(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this)})},after:function(){return Wt(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this.nextSibling)})},empty:function(){for(var P,B=0;(P=this[B])!=null;B++)P.nodeType===1&&($.cleanData(St(P,!1)),P.textContent="");return this},clone:function(P,B){return P=P==null?!1:P,B=B==null?P:B,this.map(function(){return $.clone(this,P,B)})},html:function(P){return ke(this,function(B){var V=this[0]||{},W=0,q=this.length;if(B===void 0&&V.nodeType===1)return V.innerHTML;if(typeof B=="string"&&!ye.test(B)&&!vt[(Ct.exec(B)||["",""])[1].toLowerCase()]){B=$.htmlPrefilter(B);try{for(;W<q;W++)V=this[W]||{},V.nodeType===1&&($.cleanData(St(V,!1)),V.innerHTML=B);V=0}catch{}}V&&this.empty().append(B)},null,P,arguments.length)},replaceWith:function(){var P=[];return Wt(this,arguments,function(B){var V=this.parentNode;$.inArray(this,P)<0&&($.cleanData(St(this)),V&&V.replaceChild(B,this))},P)}}),$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(P,B){$.fn[P]=function(V){for(var W,q=[],X=$(V),ee=X.length-1,ce=0;ce<=ee;ce++)W=ce===ee?this:this.clone(!0),$(X[ce])[B](W),u.apply(q,W.get());return this.pushStack(q)}});var nr=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),ur=function(P){var B=P.ownerDocument.defaultView;return(!B||!B.opener)&&(B=t),B.getComputedStyle(P)},Ir=function(P,B,V){var W,q,X={};for(q in B)X[q]=P.style[q],P.style[q]=B[q];W=V.call(P);for(q in B)P.style[q]=X[q];return W},Jr=new RegExp(Fe.join("|"),"i");(function(){function P(){if(!!me){fe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",me.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ue.appendChild(fe).appendChild(me);var Ae=t.getComputedStyle(me);V=Ae.top!=="1%",ce=B(Ae.marginLeft)===12,me.style.right="60%",X=B(Ae.right)===36,W=B(Ae.width)===36,me.style.position="absolute",q=B(me.offsetWidth/3)===12,Ue.removeChild(fe),me=null}}function B(Ae){return Math.round(parseFloat(Ae))}var V,W,q,X,ee,ce,fe=w.createElement("div"),me=w.createElement("div");!me.style||(me.style.backgroundClip="content-box",me.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle=me.style.backgroundClip==="content-box",$.extend(_,{boxSizingReliable:function(){return P(),W},pixelBoxStyles:function(){return P(),X},pixelPosition:function(){return P(),V},reliableMarginLeft:function(){return P(),ce},scrollboxSize:function(){return P(),q},reliableTrDimensions:function(){var Ae,Ne,we,De;return ee==null&&(Ae=w.createElement("table"),Ne=w.createElement("tr"),we=w.createElement("div"),Ae.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ne.style.cssText="border:1px solid",Ne.style.height="1px",we.style.height="9px",we.style.display="block",Ue.appendChild(Ae).appendChild(Ne).appendChild(we),De=t.getComputedStyle(Ne),ee=parseInt(De.height,10)+parseInt(De.borderTopWidth,10)+parseInt(De.borderBottomWidth,10)===Ne.offsetHeight,Ue.removeChild(Ae)),ee}}))})();function hr(P,B,V){var W,q,X,ee,ce=P.style;return V=V||ur(P),V&&(ee=V.getPropertyValue(B)||V[B],ee===""&&!Je(P)&&(ee=$.style(P,B)),!_.pixelBoxStyles()&&nr.test(ee)&&Jr.test(B)&&(W=ce.width,q=ce.minWidth,X=ce.maxWidth,ce.minWidth=ce.maxWidth=ce.width=ee,ee=V.width,ce.width=W,ce.minWidth=q,ce.maxWidth=X)),ee!==void 0?ee+"":ee}function Lr(P,B){return{get:function(){if(P()){delete this.get;return}return(this.get=B).apply(this,arguments)}}}var Rr=["Webkit","Moz","ms"],Or=w.createElement("div").style,kr={};function Qr(P){for(var B=P[0].toUpperCase()+P.slice(1),V=Rr.length;V--;)if(P=Rr[V]+B,P in Or)return P}function _r(P){var B=$.cssProps[P]||kr[P];return B||(P in Or?P:kr[P]=Qr(P)||P)}var en=/^(none|table(?!-c[ea]).+)/,Nr=/^--/,tn={position:"absolute",visibility:"hidden",display:"block"},Br={letterSpacing:"0",fontWeight:"400"};function Fr(P,B,V){var W=Ee.exec(B);return W?Math.max(0,W[2]-(V||0))+(W[3]||"px"):B}function Cr(P,B,V,W,q,X){var ee=B==="width"?1:0,ce=0,fe=0;if(V===(W?"border":"content"))return 0;for(;ee<4;ee+=2)V==="margin"&&(fe+=$.css(P,V+Fe[ee],!0,q)),W?(V==="content"&&(fe-=$.css(P,"padding"+Fe[ee],!0,q)),V!=="margin"&&(fe-=$.css(P,"border"+Fe[ee]+"Width",!0,q))):(fe+=$.css(P,"padding"+Fe[ee],!0,q),V!=="padding"?fe+=$.css(P,"border"+Fe[ee]+"Width",!0,q):ce+=$.css(P,"border"+Fe[ee]+"Width",!0,q));return!W&&X>=0&&(fe+=Math.max(0,Math.ceil(P["offset"+B[0].toUpperCase()+B.slice(1)]-X-fe-ce-.5))||0),fe}function zr(P,B,V){var W=ur(P),q=!_.boxSizingReliable()||V,X=q&&$.css(P,"boxSizing",!1,W)==="border-box",ee=X,ce=hr(P,B,W),fe="offset"+B[0].toUpperCase()+B.slice(1);if(nr.test(ce)){if(!V)return ce;ce="auto"}return(!_.boxSizingReliable()&&X||!_.reliableTrDimensions()&&K(P,"tr")||ce==="auto"||!parseFloat(ce)&&$.css(P,"display",!1,W)==="inline")&&P.getClientRects().length&&(X=$.css(P,"boxSizing",!1,W)==="border-box",ee=fe in P,ee&&(ce=P[fe])),ce=parseFloat(ce)||0,ce+Cr(P,B,V||(X?"border":"content"),ee,W,ce)+"px"}$.extend({cssHooks:{opacity:{get:function(P,B){if(B){var V=hr(P,"opacity");return V===""?"1":V}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(P,B,V,W){if(!(!P||P.nodeType===3||P.nodeType===8||!P.style)){var q,X,ee,ce=ae(B),fe=Nr.test(B),me=P.style;if(fe||(B=_r(ce)),ee=$.cssHooks[B]||$.cssHooks[ce],V!==void 0){if(X=typeof V,X==="string"&&(q=Ee.exec(V))&&q[1]&&(V=yt(P,B,q),X="number"),V==null||V!==V)return;X==="number"&&!fe&&(V+=q&&q[3]||($.cssNumber[ce]?"":"px")),!_.clearCloneStyle&&V===""&&B.indexOf("background")===0&&(me[B]="inherit"),(!ee||!("set"in ee)||(V=ee.set(P,V,W))!==void 0)&&(fe?me.setProperty(B,V):me[B]=V)}else return ee&&"get"in ee&&(q=ee.get(P,!1,W))!==void 0?q:me[B]}},css:function(P,B,V,W){var q,X,ee,ce=ae(B),fe=Nr.test(B);return fe||(B=_r(ce)),ee=$.cssHooks[B]||$.cssHooks[ce],ee&&"get"in ee&&(q=ee.get(P,!0,V)),q===void 0&&(q=hr(P,B,W)),q==="normal"&&B in Br&&(q=Br[B]),V===""||V?(X=parseFloat(q),V===!0||isFinite(X)?X||0:q):q}}),$.each(["height","width"],function(P,B){$.cssHooks[B]={get:function(V,W,q){if(W)return en.test($.css(V,"display"))&&(!V.getClientRects().length||!V.getBoundingClientRect().width)?Ir(V,tn,function(){return zr(V,B,q)}):zr(V,B,q)},set:function(V,W,q){var X,ee=ur(V),ce=!_.scrollboxSize()&&ee.position==="absolute",fe=ce||q,me=fe&&$.css(V,"boxSizing",!1,ee)==="border-box",Ae=q?Cr(V,B,q,me,ee):0;return me&&ce&&(Ae-=Math.ceil(V["offset"+B[0].toUpperCase()+B.slice(1)]-parseFloat(ee[B])-Cr(V,B,"border",!1,ee)-.5)),Ae&&(X=Ee.exec(W))&&(X[3]||"px")!=="px"&&(V.style[B]=W,W=$.css(V,B)),Fr(V,W,Ae)}}}),$.cssHooks.marginLeft=Lr(_.reliableMarginLeft,function(P,B){if(B)return(parseFloat(hr(P,"marginLeft"))||P.getBoundingClientRect().left-Ir(P,{marginLeft:0},function(){return P.getBoundingClientRect().left}))+"px"}),$.each({margin:"",padding:"",border:"Width"},function(P,B){$.cssHooks[P+B]={expand:function(V){for(var W=0,q={},X=typeof V=="string"?V.split(" "):[V];W<4;W++)q[P+Fe[W]+B]=X[W]||X[W-2]||X[0];return q}},P!=="margin"&&($.cssHooks[P+B].set=Fr)}),$.fn.extend({css:function(P,B){return ke(this,function(V,W,q){var X,ee,ce={},fe=0;if(Array.isArray(W)){for(X=ur(V),ee=W.length;fe<ee;fe++)ce[W[fe]]=$.css(V,W[fe],!1,X);return ce}return q!==void 0?$.style(V,W,q):$.css(V,W)},P,B,arguments.length>1)}});function Ht(P,B,V,W,q){return new Ht.prototype.init(P,B,V,W,q)}$.Tween=Ht,Ht.prototype={constructor:Ht,init:function(P,B,V,W,q,X){this.elem=P,this.prop=V,this.easing=q||$.easing._default,this.options=B,this.start=this.now=this.cur(),this.end=W,this.unit=X||($.cssNumber[V]?"":"px")},cur:function(){var P=Ht.propHooks[this.prop];return P&&P.get?P.get(this):Ht.propHooks._default.get(this)},run:function(P){var B,V=Ht.propHooks[this.prop];return this.options.duration?this.pos=B=$.easing[this.easing](P,this.options.duration*P,0,1,this.options.duration):this.pos=B=P,this.now=(this.end-this.start)*B+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),V&&V.set?V.set(this):Ht.propHooks._default.set(this),this}},Ht.prototype.init.prototype=Ht.prototype,Ht.propHooks={_default:{get:function(P){var B;return P.elem.nodeType!==1||P.elem[P.prop]!=null&&P.elem.style[P.prop]==null?P.elem[P.prop]:(B=$.css(P.elem,P.prop,""),!B||B==="auto"?0:B)},set:function(P){$.fx.step[P.prop]?$.fx.step[P.prop](P):P.elem.nodeType===1&&($.cssHooks[P.prop]||P.elem.style[_r(P.prop)]!=null)?$.style(P.elem,P.prop,P.now+P.unit):P.elem[P.prop]=P.now}}},Ht.propHooks.scrollTop=Ht.propHooks.scrollLeft={set:function(P){P.elem.nodeType&&P.elem.parentNode&&(P.elem[P.prop]=P.now)}},$.easing={linear:function(P){return P},swing:function(P){return .5-Math.cos(P*Math.PI)/2},_default:"swing"},$.fx=Ht.prototype.init,$.fx.step={};var cr,Sr,rn=/^(?:toggle|show|hide)$/,nn=/queueHooks$/;function Tr(){Sr&&(w.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Tr):t.setTimeout(Tr,$.fx.interval),$.fx.tick())}function Vr(){return t.setTimeout(function(){cr=void 0}),cr=Date.now()}function xr(P,B){var V,W=0,q={height:P};for(B=B?1:0;W<4;W+=2-B)V=Fe[W],q["margin"+V]=q["padding"+V]=P;return B&&(q.opacity=q.width=P),q}function Hr(P,B,V){for(var W,q=(jt.tweeners[B]||[]).concat(jt.tweeners["*"]),X=0,ee=q.length;X<ee;X++)if(W=q[X].call(V,B,P))return W}function an(P,B,V){var W,q,X,ee,ce,fe,me,Ae,Ne="width"in B||"height"in B,we=this,De={},tt=P.style,mt=P.nodeType&&bt(P),nt=se.get(P,"fxshow");V.queue||(ee=$._queueHooks(P,"fx"),ee.unqueued==null&&(ee.unqueued=0,ce=ee.empty.fire,ee.empty.fire=function(){ee.unqueued||ce()}),ee.unqueued++,we.always(function(){we.always(function(){ee.unqueued--,$.queue(P,"fx").length||ee.empty.fire()})}));for(W in B)if(q=B[W],rn.test(q)){if(delete B[W],X=X||q==="toggle",q===(mt?"hide":"show"))if(q==="show"&&nt&&nt[W]!==void 0)mt=!0;else continue;De[W]=nt&&nt[W]||$.style(P,W)}if(fe=!$.isEmptyObject(B),!(!fe&&$.isEmptyObject(De))){Ne&&P.nodeType===1&&(V.overflow=[tt.overflow,tt.overflowX,tt.overflowY],me=nt&&nt.display,me==null&&(me=se.get(P,"display")),Ae=$.css(P,"display"),Ae==="none"&&(me?Ae=me:(Ke([P],!0),me=P.style.display||me,Ae=$.css(P,"display"),Ke([P]))),(Ae==="inline"||Ae==="inline-block"&&me!=null)&&$.css(P,"float")==="none"&&(fe||(we.done(function(){tt.display=me}),me==null&&(Ae=tt.display,me=Ae==="none"?"":Ae)),tt.display="inline-block")),V.overflow&&(tt.overflow="hidden",we.always(function(){tt.overflow=V.overflow[0],tt.overflowX=V.overflow[1],tt.overflowY=V.overflow[2]})),fe=!1;for(W in De)fe||(nt?"hidden"in nt&&(mt=nt.hidden):nt=se.access(P,"fxshow",{display:me}),X&&(nt.hidden=!mt),mt&&Ke([P],!0),we.done(function(){mt||Ke([P]),se.remove(P,"fxshow");for(W in De)$.style(P,W,De[W])})),fe=Hr(mt?nt[W]:0,W,we),W in nt||(nt[W]=fe.start,mt&&(fe.end=fe.start,fe.start=0))}}function sn(P,B){var V,W,q,X,ee;for(V in P)if(W=ae(V),q=B[W],X=P[V],Array.isArray(X)&&(q=X[1],X=P[V]=X[0]),V!==W&&(P[W]=X,delete P[V]),ee=$.cssHooks[W],ee&&"expand"in ee){X=ee.expand(X),delete P[W];for(V in X)V in P||(P[V]=X[V],B[V]=q)}else B[W]=q}function jt(P,B,V){var W,q,X=0,ee=jt.prefilters.length,ce=$.Deferred().always(function(){delete fe.elem}),fe=function(){if(q)return!1;for(var Ne=cr||Vr(),we=Math.max(0,me.startTime+me.duration-Ne),De=we/me.duration||0,tt=1-De,mt=0,nt=me.tweens.length;mt<nt;mt++)me.tweens[mt].run(tt);return ce.notifyWith(P,[me,tt,we]),tt<1&&nt?we:(nt||ce.notifyWith(P,[me,1,0]),ce.resolveWith(P,[me]),!1)},me=ce.promise({elem:P,props:$.extend({},B),opts:$.extend(!0,{specialEasing:{},easing:$.easing._default},V),originalProperties:B,originalOptions:V,startTime:cr||Vr(),duration:V.duration,tweens:[],createTween:function(Ne,we){var De=$.Tween(P,me.opts,Ne,we,me.opts.specialEasing[Ne]||me.opts.easing);return me.tweens.push(De),De},stop:function(Ne){var we=0,De=Ne?me.tweens.length:0;if(q)return this;for(q=!0;we<De;we++)me.tweens[we].run(1);return Ne?(ce.notifyWith(P,[me,1,0]),ce.resolveWith(P,[me,Ne])):ce.rejectWith(P,[me,Ne]),this}}),Ae=me.props;for(sn(Ae,me.opts.specialEasing);X<ee;X++)if(W=jt.prefilters[X].call(me,P,Ae,me.opts),W)return C(W.stop)&&($._queueHooks(me.elem,me.opts.queue).stop=W.stop.bind(W)),W;return $.map(Ae,Hr,me),C(me.opts.start)&&me.opts.start.call(P,me),me.progress(me.opts.progress).done(me.opts.done,me.opts.complete).fail(me.opts.fail).always(me.opts.always),$.fx.timer($.extend(fe,{elem:P,anim:me,queue:me.opts.queue})),me}$.Animation=$.extend(jt,{tweeners:{"*":[function(P,B){var V=this.createTween(P,B);return yt(V.elem,P,Ee.exec(B),V),V}]},tweener:function(P,B){C(P)?(B=P,P=["*"]):P=P.match(pe);for(var V,W=0,q=P.length;W<q;W++)V=P[W],jt.tweeners[V]=jt.tweeners[V]||[],jt.tweeners[V].unshift(B)},prefilters:[an],prefilter:function(P,B){B?jt.prefilters.unshift(P):jt.prefilters.push(P)}}),$.speed=function(P,B,V){var W=P&&typeof P=="object"?$.extend({},P):{complete:V||!V&&B||C(P)&&P,duration:P,easing:V&&B||B&&!C(B)&&B};return $.fx.off?W.duration=0:typeof W.duration!="number"&&(W.duration in $.fx.speeds?W.duration=$.fx.speeds[W.duration]:W.duration=$.fx.speeds._default),(W.queue==null||W.queue===!0)&&(W.queue="fx"),W.old=W.complete,W.complete=function(){C(W.old)&&W.old.call(this),W.queue&&$.dequeue(this,W.queue)},W},$.fn.extend({fadeTo:function(P,B,V,W){return this.filter(bt).css("opacity",0).show().end().animate({opacity:B},P,V,W)},animate:function(P,B,V,W){var q=$.isEmptyObject(P),X=$.speed(B,V,W),ee=function(){var ce=jt(this,$.extend({},P),X);(q||se.get(this,"finish"))&&ce.stop(!0)};return ee.finish=ee,q||X.queue===!1?this.each(ee):this.queue(X.queue,ee)},stop:function(P,B,V){var W=function(q){var X=q.stop;delete q.stop,X(V)};return typeof P!="string"&&(V=B,B=P,P=void 0),B&&this.queue(P||"fx",[]),this.each(function(){var q=!0,X=P!=null&&P+"queueHooks",ee=$.timers,ce=se.get(this);if(X)ce[X]&&ce[X].stop&&W(ce[X]);else for(X in ce)ce[X]&&ce[X].stop&&nn.test(X)&&W(ce[X]);for(X=ee.length;X--;)ee[X].elem===this&&(P==null||ee[X].queue===P)&&(ee[X].anim.stop(V),q=!1,ee.splice(X,1));(q||!V)&&$.dequeue(this,P)})},finish:function(P){return P!==!1&&(P=P||"fx"),this.each(function(){var B,V=se.get(this),W=V[P+"queue"],q=V[P+"queueHooks"],X=$.timers,ee=W?W.length:0;for(V.finish=!0,$.queue(this,P,[]),q&&q.stop&&q.stop.call(this,!0),B=X.length;B--;)X[B].elem===this&&X[B].queue===P&&(X[B].anim.stop(!0),X.splice(B,1));for(B=0;B<ee;B++)W[B]&&W[B].finish&&W[B].finish.call(this);delete V.finish})}}),$.each(["toggle","show","hide"],function(P,B){var V=$.fn[B];$.fn[B]=function(W,q,X){return W==null||typeof W=="boolean"?V.apply(this,arguments):this.animate(xr(B,!0),W,q,X)}}),$.each({slideDown:xr("show"),slideUp:xr("hide"),slideToggle:xr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(P,B){$.fn[P]=function(V,W,q){return this.animate(B,V,W,q)}}),$.timers=[],$.fx.tick=function(){var P,B=0,V=$.timers;for(cr=Date.now();B<V.length;B++)P=V[B],!P()&&V[B]===P&&V.splice(B--,1);V.length||$.fx.stop(),cr=void 0},$.fx.timer=function(P){$.timers.push(P),$.fx.start()},$.fx.interval=13,$.fx.start=function(){Sr||(Sr=!0,Tr())},$.fx.stop=function(){Sr=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fn.delay=function(P,B){return P=$.fx&&$.fx.speeds[P]||P,B=B||"fx",this.queue(B,function(V,W){var q=t.setTimeout(V,P);W.stop=function(){t.clearTimeout(q)}})},function(){var P=w.createElement("input"),B=w.createElement("select"),V=B.appendChild(w.createElement("option"));P.type="checkbox",_.checkOn=P.value!=="",_.optSelected=V.selected,P=w.createElement("input"),P.value="t",P.type="radio",_.radioValue=P.value==="t"}();var Gr,pr=$.expr.attrHandle;$.fn.extend({attr:function(P,B){return ke(this,$.attr,P,B,arguments.length>1)},removeAttr:function(P){return this.each(function(){$.removeAttr(this,P)})}}),$.extend({attr:function(P,B,V){var W,q,X=P.nodeType;if(!(X===3||X===8||X===2)){if(typeof P.getAttribute=="undefined")return $.prop(P,B,V);if((X!==1||!$.isXMLDoc(P))&&(q=$.attrHooks[B.toLowerCase()]||($.expr.match.bool.test(B)?Gr:void 0)),V!==void 0){if(V===null){$.removeAttr(P,B);return}return q&&"set"in q&&(W=q.set(P,V,B))!==void 0?W:(P.setAttribute(B,V+""),V)}return q&&"get"in q&&(W=q.get(P,B))!==null?W:(W=$.find.attr(P,B),W==null?void 0:W)}},attrHooks:{type:{set:function(P,B){if(!_.radioValue&&B==="radio"&&K(P,"input")){var V=P.value;return P.setAttribute("type",B),V&&(P.value=V),B}}}},removeAttr:function(P,B){var V,W=0,q=B&&B.match(pe);if(q&&P.nodeType===1)for(;V=q[W++];)P.removeAttribute(V)}}),Gr={set:function(P,B,V){return B===!1?$.removeAttr(P,V):P.setAttribute(V,V),V}},$.each($.expr.match.bool.source.match(/\w+/g),function(P,B){var V=pr[B]||$.find.attr;pr[B]=function(W,q,X){var ee,ce,fe=q.toLowerCase();return X||(ce=pr[fe],pr[fe]=ee,ee=V(W,q,X)!=null?fe:null,pr[fe]=ce),ee}});var ln=/^(?:input|select|textarea|button)$/i,un=/^(?:a|area)$/i;$.fn.extend({prop:function(P,B){return ke(this,$.prop,P,B,arguments.length>1)},removeProp:function(P){return this.each(function(){delete this[$.propFix[P]||P]})}}),$.extend({prop:function(P,B,V){var W,q,X=P.nodeType;if(!(X===3||X===8||X===2))return(X!==1||!$.isXMLDoc(P))&&(B=$.propFix[B]||B,q=$.propHooks[B]),V!==void 0?q&&"set"in q&&(W=q.set(P,V,B))!==void 0?W:P[B]=V:q&&"get"in q&&(W=q.get(P,B))!==null?W:P[B]},propHooks:{tabIndex:{get:function(P){var B=$.find.attr(P,"tabindex");return B?parseInt(B,10):ln.test(P.nodeName)||un.test(P.nodeName)&&P.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||($.propHooks.selected={get:function(P){var B=P.parentNode;return B&&B.parentNode&&B.parentNode.selectedIndex,null},set:function(P){var B=P.parentNode;B&&(B.selectedIndex,B.parentNode&&B.parentNode.selectedIndex)}}),$.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){$.propFix[this.toLowerCase()]=this});function ar(P){var B=P.match(pe)||[];return B.join(" ")}function ir(P){return P.getAttribute&&P.getAttribute("class")||""}function wr(P){return Array.isArray(P)?P:typeof P=="string"?P.match(pe)||[]:[]}$.fn.extend({addClass:function(P){var B,V,W,q,X,ee,ce,fe=0;if(C(P))return this.each(function(me){$(this).addClass(P.call(this,me,ir(this)))});if(B=wr(P),B.length){for(;V=this[fe++];)if(q=ir(V),W=V.nodeType===1&&" "+ar(q)+" ",W){for(ee=0;X=B[ee++];)W.indexOf(" "+X+" ")<0&&(W+=X+" ");ce=ar(W),q!==ce&&V.setAttribute("class",ce)}}return this},removeClass:function(P){var B,V,W,q,X,ee,ce,fe=0;if(C(P))return this.each(function(me){$(this).removeClass(P.call(this,me,ir(this)))});if(!arguments.length)return this.attr("class","");if(B=wr(P),B.length){for(;V=this[fe++];)if(q=ir(V),W=V.nodeType===1&&" "+ar(q)+" ",W){for(ee=0;X=B[ee++];)for(;W.indexOf(" "+X+" ")>-1;)W=W.replace(" "+X+" "," ");ce=ar(W),q!==ce&&V.setAttribute("class",ce)}}return this},toggleClass:function(P,B){var V=typeof P,W=V==="string"||Array.isArray(P);return typeof B=="boolean"&&W?B?this.addClass(P):this.removeClass(P):C(P)?this.each(function(q){$(this).toggleClass(P.call(this,q,ir(this),B),B)}):this.each(function(){var q,X,ee,ce;if(W)for(X=0,ee=$(this),ce=wr(P);q=ce[X++];)ee.hasClass(q)?ee.removeClass(q):ee.addClass(q);else(P===void 0||V==="boolean")&&(q=ir(this),q&&se.set(this,"__className__",q),this.setAttribute&&this.setAttribute("class",q||P===!1?"":se.get(this,"__className__")||""))})},hasClass:function(P){var B,V,W=0;for(B=" "+P+" ";V=this[W++];)if(V.nodeType===1&&(" "+ar(ir(V))+" ").indexOf(B)>-1)return!0;return!1}});var cn=/\r/g;$.fn.extend({val:function(P){var B,V,W,q=this[0];return arguments.length?(W=C(P),this.each(function(X){var ee;this.nodeType===1&&(W?ee=P.call(this,X,$(this).val()):ee=P,ee==null?ee="":typeof ee=="number"?ee+="":Array.isArray(ee)&&(ee=$.map(ee,function(ce){return ce==null?"":ce+""})),B=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],(!B||!("set"in B)||B.set(this,ee,"value")===void 0)&&(this.value=ee))})):q?(B=$.valHooks[q.type]||$.valHooks[q.nodeName.toLowerCase()],B&&"get"in B&&(V=B.get(q,"value"))!==void 0?V:(V=q.value,typeof V=="string"?V.replace(cn,""):V==null?"":V)):void 0}}),$.extend({valHooks:{option:{get:function(P){var B=$.find.attr(P,"value");return B!=null?B:ar($.text(P))}},select:{get:function(P){var B,V,W,q=P.options,X=P.selectedIndex,ee=P.type==="select-one",ce=ee?null:[],fe=ee?X+1:q.length;for(X<0?W=fe:W=ee?X:0;W<fe;W++)if(V=q[W],(V.selected||W===X)&&!V.disabled&&(!V.parentNode.disabled||!K(V.parentNode,"optgroup"))){if(B=$(V).val(),ee)return B;ce.push(B)}return ce},set:function(P,B){for(var V,W,q=P.options,X=$.makeArray(B),ee=q.length;ee--;)W=q[ee],(W.selected=$.inArray($.valHooks.option.get(W),X)>-1)&&(V=!0);return V||(P.selectedIndex=-1),X}}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]={set:function(P,B){if(Array.isArray(B))return P.checked=$.inArray($(P).val(),B)>-1}},_.checkOn||($.valHooks[this].get=function(P){return P.getAttribute("value")===null?"on":P.value})}),_.focusin="onfocusin"in t;var Wr=/^(?:focusinfocus|focusoutblur)$/,wn=function(P){P.stopPropagation()};$.extend($.event,{trigger:function(P,B,V,W){var q,X,ee,ce,fe,me,Ae,Ne,we=[V||w],De=g.call(P,"type")?P.type:P,tt=g.call(P,"namespace")?P.namespace.split("."):[];if(X=Ne=ee=V=V||w,!(V.nodeType===3||V.nodeType===8)&&!Wr.test(De+$.event.triggered)&&(De.indexOf(".")>-1&&(tt=De.split("."),De=tt.shift(),tt.sort()),fe=De.indexOf(":")<0&&"on"+De,P=P[$.expando]?P:new $.Event(De,typeof P=="object"&&P),P.isTrigger=W?2:3,P.namespace=tt.join("."),P.rnamespace=P.namespace?new RegExp("(^|\\.)"+tt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,P.result=void 0,P.target||(P.target=V),B=B==null?[P]:$.makeArray(B,[P]),Ae=$.event.special[De]||{},!(!W&&Ae.trigger&&Ae.trigger.apply(V,B)===!1))){if(!W&&!Ae.noBubble&&!T(V)){for(ce=Ae.delegateType||De,Wr.test(ce+De)||(X=X.parentNode);X;X=X.parentNode)we.push(X),ee=X;ee===(V.ownerDocument||w)&&we.push(ee.defaultView||ee.parentWindow||t)}for(q=0;(X=we[q++])&&!P.isPropagationStopped();)Ne=X,P.type=q>1?ce:Ae.bindType||De,me=(se.get(X,"events")||Object.create(null))[P.type]&&se.get(X,"handle"),me&&me.apply(X,B),me=fe&&X[fe],me&&me.apply&&le(X)&&(P.result=me.apply(X,B),P.result===!1&&P.preventDefault());return P.type=De,!W&&!P.isDefaultPrevented()&&(!Ae._default||Ae._default.apply(we.pop(),B)===!1)&&le(V)&&fe&&C(V[De])&&!T(V)&&(ee=V[fe],ee&&(V[fe]=null),$.event.triggered=De,P.isPropagationStopped()&&Ne.addEventListener(De,wn),V[De](),P.isPropagationStopped()&&Ne.removeEventListener(De,wn),$.event.triggered=void 0,ee&&(V[fe]=ee)),P.result}},simulate:function(P,B,V){var W=$.extend(new $.Event,V,{type:P,isSimulated:!0});$.event.trigger(W,null,B)}}),$.fn.extend({trigger:function(P,B){return this.each(function(){$.event.trigger(P,B,this)})},triggerHandler:function(P,B){var V=this[0];if(V)return $.event.trigger(P,B,V,!0)}}),_.focusin||$.each({focus:"focusin",blur:"focusout"},function(P,B){var V=function(W){$.event.simulate(B,W.target,$.event.fix(W))};$.event.special[B]={setup:function(){var W=this.ownerDocument||this.document||this,q=se.access(W,B);q||W.addEventListener(P,V,!0),se.access(W,B,(q||0)+1)},teardown:function(){var W=this.ownerDocument||this.document||this,q=se.access(W,B)-1;q?se.access(W,B,q):(W.removeEventListener(P,V,!0),se.remove(W,B))}}});var $r=t.location,$n={guid:Date.now()},fn=/\?/;$.parseXML=function(P){var B,V;if(!P||typeof P!="string")return null;try{B=new t.DOMParser().parseFromString(P,"text/xml")}catch{}return V=B&&B.getElementsByTagName("parsererror")[0],(!B||V)&&$.error("Invalid XML: "+(V?$.map(V.childNodes,function(W){return W.textContent}).join(`
`):P)),B};var Hn=/\[\]$/,An=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,Wn=/^(?:input|select|textarea|keygen)/i;function dn(P,B,V,W){var q;if(Array.isArray(B))$.each(B,function(X,ee){V||Hn.test(P)?W(P,ee):dn(P+"["+(typeof ee=="object"&&ee!=null?X:"")+"]",ee,V,W)});else if(!V&&I(B)==="object")for(q in B)dn(P+"["+q+"]",B[q],V,W);else W(P,B)}$.param=function(P,B){var V,W=[],q=function(X,ee){var ce=C(ee)?ee():ee;W[W.length]=encodeURIComponent(X)+"="+encodeURIComponent(ce==null?"":ce)};if(P==null)return"";if(Array.isArray(P)||P.jquery&&!$.isPlainObject(P))$.each(P,function(){q(this.name,this.value)});else for(V in P)dn(V,P[V],B,q);return W.join("&")},$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var P=$.prop(this,"elements");return P?$.makeArray(P):this}).filter(function(){var P=this.type;return this.name&&!$(this).is(":disabled")&&Wn.test(this.nodeName)&&!Gn.test(P)&&(this.checked||!et.test(P))}).map(function(P,B){var V=$(this).val();return V==null?null:Array.isArray(V)?$.map(V,function(W){return{name:B.name,value:W.replace(An,`\r
`)}}):{name:B.name,value:V.replace(An,`\r
`)}}).get()}});var Un=/%20/g,Yn=/#.*$/,jn=/([?&])_=[^&]*/,Kn=/^(.*?):[ \t]*([^\r\n]*)$/mg,Zn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qn=/^(?:GET|HEAD)$/,Xn=/^\/\//,Mn={},hn={},Dn="*/".concat("*"),pn=w.createElement("a");pn.href=$r.href;function Pn(P){return function(B,V){typeof B!="string"&&(V=B,B="*");var W,q=0,X=B.toLowerCase().match(pe)||[];if(C(V))for(;W=X[q++];)W[0]==="+"?(W=W.slice(1)||"*",(P[W]=P[W]||[]).unshift(V)):(P[W]=P[W]||[]).push(V)}}function En(P,B,V,W){var q={},X=P===hn;function ee(ce){var fe;return q[ce]=!0,$.each(P[ce]||[],function(me,Ae){var Ne=Ae(B,V,W);if(typeof Ne=="string"&&!X&&!q[Ne])return B.dataTypes.unshift(Ne),ee(Ne),!1;if(X)return!(fe=Ne)}),fe}return ee(B.dataTypes[0])||!q["*"]&&ee("*")}function vn(P,B){var V,W,q=$.ajaxSettings.flatOptions||{};for(V in B)B[V]!==void 0&&((q[V]?P:W||(W={}))[V]=B[V]);return W&&$.extend(!0,P,W),P}function Jn(P,B,V){for(var W,q,X,ee,ce=P.contents,fe=P.dataTypes;fe[0]==="*";)fe.shift(),W===void 0&&(W=P.mimeType||B.getResponseHeader("Content-Type"));if(W){for(q in ce)if(ce[q]&&ce[q].test(W)){fe.unshift(q);break}}if(fe[0]in V)X=fe[0];else{for(q in V){if(!fe[0]||P.converters[q+" "+fe[0]]){X=q;break}ee||(ee=q)}X=X||ee}if(X)return X!==fe[0]&&fe.unshift(X),V[X]}function Qn(P,B,V,W){var q,X,ee,ce,fe,me={},Ae=P.dataTypes.slice();if(Ae[1])for(ee in P.converters)me[ee.toLowerCase()]=P.converters[ee];for(X=Ae.shift();X;)if(P.responseFields[X]&&(V[P.responseFields[X]]=B),!fe&&W&&P.dataFilter&&(B=P.dataFilter(B,P.dataType)),fe=X,X=Ae.shift(),X){if(X==="*")X=fe;else if(fe!=="*"&&fe!==X){if(ee=me[fe+" "+X]||me["* "+X],!ee){for(q in me)if(ce=q.split(" "),ce[1]===X&&(ee=me[fe+" "+ce[0]]||me["* "+ce[0]],ee)){ee===!0?ee=me[q]:me[q]!==!0&&(X=ce[0],Ae.unshift(ce[1]));break}}if(ee!==!0)if(ee&&P.throws)B=ee(B);else try{B=ee(B)}catch(Ne){return{state:"parsererror",error:ee?Ne:"No conversion from "+fe+" to "+X}}}}return{state:"success",data:B}}$.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$r.href,type:"GET",isLocal:Zn.test($r.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":$.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(P,B){return B?vn(vn(P,$.ajaxSettings),B):vn($.ajaxSettings,P)},ajaxPrefilter:Pn(Mn),ajaxTransport:Pn(hn),ajax:function(P,B){typeof P=="object"&&(B=P,P=void 0),B=B||{};var V,W,q,X,ee,ce,fe,me,Ae,Ne,we=$.ajaxSetup({},B),De=we.context||we,tt=we.context&&(De.nodeType||De.jquery)?$(De):$.event,mt=$.Deferred(),nt=$.Callbacks("once memory"),zt=we.statusCode||{},Bt={},Kt={},Et="canceled",gt={readyState:0,getResponseHeader:function(At){var Ot;if(fe){if(!X)for(X={};Ot=Kn.exec(q);)X[Ot[1].toLowerCase()+" "]=(X[Ot[1].toLowerCase()+" "]||[]).concat(Ot[2]);Ot=X[At.toLowerCase()+" "]}return Ot==null?null:Ot.join(", ")},getAllResponseHeaders:function(){return fe?q:null},setRequestHeader:function(At,Ot){return fe==null&&(At=Kt[At.toLowerCase()]=Kt[At.toLowerCase()]||At,Bt[At]=Ot),this},overrideMimeType:function(At){return fe==null&&(we.mimeType=At),this},statusCode:function(At){var Ot;if(At)if(fe)gt.always(At[gt.status]);else for(Ot in At)zt[Ot]=[zt[Ot],At[Ot]];return this},abort:function(At){var Ot=At||Et;return V&&V.abort(Ot),Ut(0,Ot),this}};if(mt.promise(gt),we.url=((P||we.url||$r.href)+"").replace(Xn,$r.protocol+"//"),we.type=B.method||B.type||we.method||we.type,we.dataTypes=(we.dataType||"*").toLowerCase().match(pe)||[""],we.crossDomain==null){ce=w.createElement("a");try{ce.href=we.url,ce.href=ce.href,we.crossDomain=pn.protocol+"//"+pn.host!=ce.protocol+"//"+ce.host}catch{we.crossDomain=!0}}if(we.data&&we.processData&&typeof we.data!="string"&&(we.data=$.param(we.data,we.traditional)),En(Mn,we,B,gt),fe)return gt;me=$.event&&we.global,me&&$.active++===0&&$.event.trigger("ajaxStart"),we.type=we.type.toUpperCase(),we.hasContent=!qn.test(we.type),W=we.url.replace(Yn,""),we.hasContent?we.data&&we.processData&&(we.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(we.data=we.data.replace(Un,"+")):(Ne=we.url.slice(W.length),we.data&&(we.processData||typeof we.data=="string")&&(W+=(fn.test(W)?"&":"?")+we.data,delete we.data),we.cache===!1&&(W=W.replace(jn,"$1"),Ne=(fn.test(W)?"&":"?")+"_="+$n.guid+++Ne),we.url=W+Ne),we.ifModified&&($.lastModified[W]&&gt.setRequestHeader("If-Modified-Since",$.lastModified[W]),$.etag[W]&&gt.setRequestHeader("If-None-Match",$.etag[W])),(we.data&&we.hasContent&&we.contentType!==!1||B.contentType)&&gt.setRequestHeader("Content-Type",we.contentType),gt.setRequestHeader("Accept",we.dataTypes[0]&&we.accepts[we.dataTypes[0]]?we.accepts[we.dataTypes[0]]+(we.dataTypes[0]!=="*"?", "+Dn+"; q=0.01":""):we.accepts["*"]);for(Ae in we.headers)gt.setRequestHeader(Ae,we.headers[Ae]);if(we.beforeSend&&(we.beforeSend.call(De,gt,we)===!1||fe))return gt.abort();if(Et="abort",nt.add(we.complete),gt.done(we.success),gt.fail(we.error),V=En(hn,we,B,gt),!V)Ut(-1,"No Transport");else{if(gt.readyState=1,me&&tt.trigger("ajaxSend",[gt,we]),fe)return gt;we.async&&we.timeout>0&&(ee=t.setTimeout(function(){gt.abort("timeout")},we.timeout));try{fe=!1,V.send(Bt,Ut)}catch(At){if(fe)throw At;Ut(-1,At)}}function Ut(At,Ot,Mr,Ur){var Zt,vr,gr,Yt,fr,Jt=Ot;fe||(fe=!0,ee&&t.clearTimeout(ee),V=void 0,q=Ur||"",gt.readyState=At>0?4:0,Zt=At>=200&&At<300||At===304,Mr&&(Yt=Jn(we,gt,Mr)),!Zt&&$.inArray("script",we.dataTypes)>-1&&$.inArray("json",we.dataTypes)<0&&(we.converters["text script"]=function(){}),Yt=Qn(we,Yt,gt,Zt),Zt?(we.ifModified&&(fr=gt.getResponseHeader("Last-Modified"),fr&&($.lastModified[W]=fr),fr=gt.getResponseHeader("etag"),fr&&($.etag[W]=fr)),At===204||we.type==="HEAD"?Jt="nocontent":At===304?Jt="notmodified":(Jt=Yt.state,vr=Yt.data,gr=Yt.error,Zt=!gr)):(gr=Jt,(At||!Jt)&&(Jt="error",At<0&&(At=0))),gt.status=At,gt.statusText=(Ot||Jt)+"",Zt?mt.resolveWith(De,[vr,Jt,gt]):mt.rejectWith(De,[gt,Jt,gr]),gt.statusCode(zt),zt=void 0,me&&tt.trigger(Zt?"ajaxSuccess":"ajaxError",[gt,we,Zt?vr:gr]),nt.fireWith(De,[gt,Jt]),me&&(tt.trigger("ajaxComplete",[gt,we]),--$.active||$.event.trigger("ajaxStop")))}return gt},getJSON:function(P,B,V){return $.get(P,B,V,"json")},getScript:function(P,B){return $.get(P,void 0,B,"script")}}),$.each(["get","post"],function(P,B){$[B]=function(V,W,q,X){return C(W)&&(X=X||q,q=W,W=void 0),$.ajax($.extend({url:V,type:B,dataType:X,data:W,success:q},$.isPlainObject(V)&&V))}}),$.ajaxPrefilter(function(P){var B;for(B in P.headers)B.toLowerCase()==="content-type"&&(P.contentType=P.headers[B]||"")}),$._evalUrl=function(P,B,V){return $.ajax({url:P,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(W){$.globalEval(W,B,V)}})},$.fn.extend({wrapAll:function(P){var B;return this[0]&&(C(P)&&(P=P.call(this[0])),B=$(P,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&B.insertBefore(this[0]),B.map(function(){for(var V=this;V.firstElementChild;)V=V.firstElementChild;return V}).append(this)),this},wrapInner:function(P){return C(P)?this.each(function(B){$(this).wrapInner(P.call(this,B))}):this.each(function(){var B=$(this),V=B.contents();V.length?V.wrapAll(P):B.append(P)})},wrap:function(P){var B=C(P);return this.each(function(V){$(this).wrapAll(B?P.call(this,V):P)})},unwrap:function(P){return this.parent(P).not("body").each(function(){$(this).replaceWith(this.childNodes)}),this}}),$.expr.pseudos.hidden=function(P){return!$.expr.pseudos.visible(P)},$.expr.pseudos.visible=function(P){return!!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)},$.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var ea={0:200,1223:204},Ar=$.ajaxSettings.xhr();_.cors=!!Ar&&"withCredentials"in Ar,_.ajax=Ar=!!Ar,$.ajaxTransport(function(P){var B,V;if(_.cors||Ar&&!P.crossDomain)return{send:function(W,q){var X,ee=P.xhr();if(ee.open(P.type,P.url,P.async,P.username,P.password),P.xhrFields)for(X in P.xhrFields)ee[X]=P.xhrFields[X];P.mimeType&&ee.overrideMimeType&&ee.overrideMimeType(P.mimeType),!P.crossDomain&&!W["X-Requested-With"]&&(W["X-Requested-With"]="XMLHttpRequest");for(X in W)ee.setRequestHeader(X,W[X]);B=function(ce){return function(){B&&(B=V=ee.onload=ee.onerror=ee.onabort=ee.ontimeout=ee.onreadystatechange=null,ce==="abort"?ee.abort():ce==="error"?typeof ee.status!="number"?q(0,"error"):q(ee.status,ee.statusText):q(ea[ee.status]||ee.status,ee.statusText,(ee.responseType||"text")!=="text"||typeof ee.responseText!="string"?{binary:ee.response}:{text:ee.responseText},ee.getAllResponseHeaders()))}},ee.onload=B(),V=ee.onerror=ee.ontimeout=B("error"),ee.onabort!==void 0?ee.onabort=V:ee.onreadystatechange=function(){ee.readyState===4&&t.setTimeout(function(){B&&V()})},B=B("abort");try{ee.send(P.hasContent&&P.data||null)}catch(ce){if(B)throw ce}},abort:function(){B&&B()}}}),$.ajaxPrefilter(function(P){P.crossDomain&&(P.contents.script=!1)}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(P){return $.globalEval(P),P}}}),$.ajaxPrefilter("script",function(P){P.cache===void 0&&(P.cache=!1),P.crossDomain&&(P.type="GET")}),$.ajaxTransport("script",function(P){if(P.crossDomain||P.scriptAttrs){var B,V;return{send:function(W,q){B=$("<script>").attr(P.scriptAttrs||{}).prop({charset:P.scriptCharset,src:P.url}).on("load error",V=function(X){B.remove(),V=null,X&&q(X.type==="error"?404:200,X.type)}),w.head.appendChild(B[0])},abort:function(){V&&V()}}}});var In=[],gn=/(=)\?(?=&|$)|\?\?/;$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var P=In.pop()||$.expando+"_"+$n.guid++;return this[P]=!0,P}}),$.ajaxPrefilter("json jsonp",function(P,B,V){var W,q,X,ee=P.jsonp!==!1&&(gn.test(P.url)?"url":typeof P.data=="string"&&(P.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&gn.test(P.data)&&"data");if(ee||P.dataTypes[0]==="jsonp")return W=P.jsonpCallback=C(P.jsonpCallback)?P.jsonpCallback():P.jsonpCallback,ee?P[ee]=P[ee].replace(gn,"$1"+W):P.jsonp!==!1&&(P.url+=(fn.test(P.url)?"&":"?")+P.jsonp+"="+W),P.converters["script json"]=function(){return X||$.error(W+" was not called"),X[0]},P.dataTypes[0]="json",q=t[W],t[W]=function(){X=arguments},V.always(function(){q===void 0?$(t).removeProp(W):t[W]=q,P[W]&&(P.jsonpCallback=B.jsonpCallback,In.push(W)),X&&C(q)&&q(X[0]),X=q=void 0}),"script"}),_.createHTMLDocument=function(){var P=w.implementation.createHTMLDocument("").body;return P.innerHTML="<form></form><form></form>",P.childNodes.length===2}(),$.parseHTML=function(P,B,V){if(typeof P!="string")return[];typeof B=="boolean"&&(V=B,B=!1);var W,q,X;return B||(_.createHTMLDocument?(B=w.implementation.createHTMLDocument(""),W=B.createElement("base"),W.href=w.location.href,B.head.appendChild(W)):B=w),q=Z.exec(P),X=!V&&[],q?[B.createElement(q[1])]:(q=Ze([P],B,X),X&&X.length&&$(X).remove(),$.merge([],q.childNodes))},$.fn.load=function(P,B,V){var W,q,X,ee=this,ce=P.indexOf(" ");return ce>-1&&(W=ar(P.slice(ce)),P=P.slice(0,ce)),C(B)?(V=B,B=void 0):B&&typeof B=="object"&&(q="POST"),ee.length>0&&$.ajax({url:P,type:q||"GET",dataType:"html",data:B}).done(function(fe){X=arguments,ee.html(W?$("<div>").append($.parseHTML(fe)).find(W):fe)}).always(V&&function(fe,me){ee.each(function(){V.apply(this,X||[fe.responseText,me,fe])})}),this},$.expr.pseudos.animated=function(P){return $.grep($.timers,function(B){return P===B.elem}).length},$.offset={setOffset:function(P,B,V){var W,q,X,ee,ce,fe,me,Ae=$.css(P,"position"),Ne=$(P),we={};Ae==="static"&&(P.style.position="relative"),ce=Ne.offset(),X=$.css(P,"top"),fe=$.css(P,"left"),me=(Ae==="absolute"||Ae==="fixed")&&(X+fe).indexOf("auto")>-1,me?(W=Ne.position(),ee=W.top,q=W.left):(ee=parseFloat(X)||0,q=parseFloat(fe)||0),C(B)&&(B=B.call(P,V,$.extend({},ce))),B.top!=null&&(we.top=B.top-ce.top+ee),B.left!=null&&(we.left=B.left-ce.left+q),"using"in B?B.using.call(P,we):Ne.css(we)}},$.fn.extend({offset:function(P){if(arguments.length)return P===void 0?this:this.each(function(q){$.offset.setOffset(this,P,q)});var B,V,W=this[0];if(!!W)return W.getClientRects().length?(B=W.getBoundingClientRect(),V=W.ownerDocument.defaultView,{top:B.top+V.pageYOffset,left:B.left+V.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var P,B,V,W=this[0],q={top:0,left:0};if($.css(W,"position")==="fixed")B=W.getBoundingClientRect();else{for(B=this.offset(),V=W.ownerDocument,P=W.offsetParent||V.documentElement;P&&(P===V.body||P===V.documentElement)&&$.css(P,"position")==="static";)P=P.parentNode;P&&P!==W&&P.nodeType===1&&(q=$(P).offset(),q.top+=$.css(P,"borderTopWidth",!0),q.left+=$.css(P,"borderLeftWidth",!0))}return{top:B.top-q.top-$.css(W,"marginTop",!0),left:B.left-q.left-$.css(W,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var P=this.offsetParent;P&&$.css(P,"position")==="static";)P=P.offsetParent;return P||Ue})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(P,B){var V=B==="pageYOffset";$.fn[P]=function(W){return ke(this,function(q,X,ee){var ce;if(T(q)?ce=q:q.nodeType===9&&(ce=q.defaultView),ee===void 0)return ce?ce[B]:q[X];ce?ce.scrollTo(V?ce.pageXOffset:ee,V?ee:ce.pageYOffset):q[X]=ee},P,W,arguments.length)}}),$.each(["top","left"],function(P,B){$.cssHooks[B]=Lr(_.pixelPosition,function(V,W){if(W)return W=hr(V,B),nr.test(W)?$(V).position()[B]+"px":W})}),$.each({Height:"height",Width:"width"},function(P,B){$.each({padding:"inner"+P,content:B,"":"outer"+P},function(V,W){$.fn[W]=function(q,X){var ee=arguments.length&&(V||typeof q!="boolean"),ce=V||(q===!0||X===!0?"margin":"border");return ke(this,function(fe,me,Ae){var Ne;return T(fe)?W.indexOf("outer")===0?fe["inner"+P]:fe.document.documentElement["client"+P]:fe.nodeType===9?(Ne=fe.documentElement,Math.max(fe.body["scroll"+P],Ne["scroll"+P],fe.body["offset"+P],Ne["offset"+P],Ne["client"+P])):Ae===void 0?$.css(fe,me,ce):$.style(fe,me,Ae,ce)},B,ee?q:void 0,ee)}})}),$.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(P,B){$.fn[B]=function(V){return this.on(B,V)}}),$.fn.extend({bind:function(P,B,V){return this.on(P,null,B,V)},unbind:function(P,B){return this.off(P,null,B)},delegate:function(P,B,V,W){return this.on(B,P,V,W)},undelegate:function(P,B,V){return arguments.length===1?this.off(P,"**"):this.off(B,P||"**",V)},hover:function(P,B){return this.mouseenter(P).mouseleave(B||P)}}),$.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(P,B){$.fn[B]=function(V,W){return arguments.length>0?this.on(B,null,V,W):this.trigger(B)}});var ta=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;$.proxy=function(P,B){var V,W,q;if(typeof B=="string"&&(V=P[B],B=P,P=V),!!C(P))return W=s.call(arguments,2),q=function(){return P.apply(B||this,W.concat(s.call(arguments)))},q.guid=P.guid=P.guid||$.guid++,q},$.holdReady=function(P){P?$.readyWait++:$.ready(!0)},$.isArray=Array.isArray,$.parseJSON=JSON.parse,$.nodeName=K,$.isFunction=C,$.isWindow=T,$.camelCase=ae,$.type=I,$.now=Date.now,$.isNumeric=function(P){var B=$.type(P);return(B==="number"||B==="string")&&!isNaN(P-parseFloat(P))},$.trim=function(P){return P==null?"":(P+"").replace(ta,"")};var ra=t.jQuery,na=t.$;return $.noConflict=function(P){return t.$===$&&(t.$=na),P&&t.jQuery===$&&(t.jQuery=ra),$},typeof n=="undefined"&&(t.jQuery=t.$=$),$})})(jquery);var ecStat={exports:{}};(function(r,t){(function(a,o){r.exports=o()})(commonjsGlobal,function(){return function(n){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={exports:{},id:s,loaded:!1};return n[s].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}return o.m=n,o.c=a,o.p="",o(0)}([function(n,a,o){var s;s=function(l){return{clustering:o(1),regression:o(5),statistics:o(6),histogram:o(15),transform:{regression:o(18),histogram:o(21),clustering:o(22)}}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(2),f=u.dataPreprocess,d=u.normalizeDimensions,v=o(3),C=o(4),g=v.size,S=v.sumOfColumn,x=v.sum,_=v.zeros,C=o(4),T=C.isNumber,w=Math.pow,M={SINGLE:"single",MULTIPLE:"multiple"};function D(G,K,Z){for(var J=_(G.length,2),Q=N(K,Y(G,Z.dimensions)),te=!0,ie,ne,de,ve;te;){te=!1;for(var pe=0;pe<G.length;pe++){ie=1/0,ne=-1;for(var $e=0;$e<K;$e++)de=F(G[pe],Q[$e],Z),de<ie&&(ie=de,ne=$e);J[pe][0]!==ne&&(te=!0),J[pe][0]=ne,J[pe][1]=ie}for(var pe=0;pe<K;pe++){ve=[];for(var $e=0;$e<J.length;$e++)J[$e][0]===pe&&ve.push(G[$e]);Q[pe]=I(ve,Z)}}var Re={centroids:Q,clusterAssigned:J};return Re}function I(G,K){for(var Z=[],J,Q,te=0;te<K.dimensions.length;te++){var ie=K.dimensions[te];J=0;for(var ne=0;ne<G.length;ne++)J+=G[ne][ie];Q=J/G.length,Z.push(Q)}return Z}function R(G,K,Z){var J=(T(K)?{clusterCount:K,stepByStep:Z}:K)||{clusterCount:2},Q=J.clusterCount;if(Q<2)return;var te=H(G,J),ie=te.outputType===M.SINGLE,ne=f(G,{dimensions:te.dimensions}),de=_(ne.length,2),ve,pe,$e;function Re(xe,_e){de[xe][1]=_e}function Ge(xe){return de[xe][1]}if(ie){ve=[];var Qe=te.outputClusterIndexDimension;pe=function(xe,_e){ve[xe][Qe]=_e},$e=function(xe){return ve[xe][Qe]};for(var Le=0;Le<ne.length;Le++)ve.push(ne[Le].slice()),Re(Le,0),pe(Le,0)}else pe=function(xe,_e){de[xe][0]=_e},$e=function(xe){return de[xe][0]};for(var We=I(ne,te),Oe=[We],Le=0;Le<ne.length;Le++){var ke=F(ne[Le],We,te);Re(Le,ke)}var Ye,ze,qe,ae,le,ge,se=1,oe={data:ve,centroids:Oe,isEnd:!1};ie||(oe.clusterAssment=de);function Se(){if(se<Q){Ye=1/0;for(var xe,_e,Te,Ce=0;Ce<Oe.length;Ce++){ze=[],qe=[];for(var Ee=0;Ee<ne.length;Ee++)$e(Ee)===Ce?ze.push(ne[Ee]):qe.push(Ge(Ee));ae=D(ze,2,te),le=S(ae.clusterAssigned,1),ge=x(qe),le+ge<Ye&&(Ye=ge+le,xe=Ce,_e=ae.centroids,Te=ae.clusterAssigned)}for(var Ee=0;Ee<Te.length;Ee++)Te[Ee][0]===0?Te[Ee][0]=xe:Te[Ee][0]===1&&(Te[Ee][0]=Oe.length);Oe[xe]=_e[0],Oe.push(_e[1]);for(var Ee=0,Ce=0;Ee<ne.length&&Ce<Te.length;Ee++)$e(Ee)===xe&&(pe(Ee,Te[Ce][0]),Re(Ee,Te[Ce++][1]));var Fe=[];if(!ie){for(var Ee=0;Ee<Oe.length;Ee++){Fe[Ee]=[];for(var Ce=0;Ce<ne.length;Ce++)$e(Ce)===Ee&&Fe[Ee].push(ne[Ce])}oe.pointsInCluster=Fe}se++}else oe.isEnd=!0}if(J.stepByStep)oe.next=function(){return Se(),$(oe,te),oe};else for(;Se(),!oe.isEnd;);return $(oe,te),oe}function $(G,K){var Z=K.outputCentroidDimensions;if(!(K.outputType!==M.SINGLE||Z==null))for(var J=G.data,Q=G.centroids,te=0;te<J.length;te++)for(var ie=J[te],ne=ie[K.outputClusterIndexDimension],de=Q[ne],ve=Math.min(de.length,Z.length),pe=0;pe<ve;pe++)ie[Z[pe]]=de[pe]}function N(G,K){for(var Z=_(G,K.length),J=0;J<K.length;J++)for(var Q=K[J],te=0;te<G;te++)Z[te][J]=Q.min+Q.span*Math.random();return Z}function F(G,K,Z){for(var J=0,Q=Z.dimensions,te=Z.rawExtents,ie=0;ie<Q.length;ie++){var ne=te[ie].span;if(ne){var de=Q[ie],ve=(G[de]-K[ie])/ne;J+=w(ve,2)}}return J}function H(G,K){var Z=g(G);if(Z.length<1)throw new Error("The input data of clustering should be two-dimension array.");for(var J=Z[1],Q=[],te=0;te<J;te++)Q.push(te);var ie=d(K.dimensions,Q),ne=K.outputType||M.MULTIPLE,de=K.outputClusterIndexDimension;if(ne===M.SINGLE&&!C.isNumber(de))throw new Error("outputClusterIndexDimension is required as a number.");var ve=Y(G,ie);return{dimensions:ie,rawExtents:ve,outputType:ne,outputClusterIndexDimension:de,outputCentroidDimensions:K.outputCentroidDimensions}}function Y(G,K){for(var Z=[],J=K.length,Q=0;Q<J;Q++)Z.push({min:1/0,max:-1/0});for(var Q=0;Q<G.length;Q++)for(var te=G[Q],ie=0;ie<J;ie++){var ne=Z[ie],de=te[K[ie]];ne.min>de&&(ne.min=de),ne.max<de&&(ne.max=de)}for(var Q=0;Q<J;Q++)Z[Q].span=Z[Q].max-Z[Q].min;return Z}return{OutputType:M,hierarchicalKMeans:R}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(3),f=u.isArray,d=u.size,v=o(4),g=v.isNumber;function S(C,T){return typeof C=="number"?[C]:C==null?T:C}function x(C,T){T=T||{};var w=T.dimensions,M={};if(w!=null)for(var D=0;D<w.length;D++)M[w[D]]=!0;var I=T.toOneDimensionArray?w?w[0]:0:null;function R(G){return!w||M.hasOwnProperty(G)}if(!f(C))throw new Error("Invalid data type, you should input an array");var $=[],N=d(C);if(N.length===1)for(var D=0;D<N[0];D++){var F=C[D];g(F)&&$.push(F)}else if(N.length===2)for(var D=0;D<N[0];D++){for(var H=!0,F=C[D],Y=0;Y<N[1];Y++)R(Y)&&!g(F[Y])&&(H=!1);H&&$.push(I!=null?F[I]:F)}return $}function _(C){var T=C.toString(),w=T.indexOf(".");return w<0?0:T.length-1-w}return{normalizeDimensions:S,dataPreprocess:x,getPrecision:_}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=Object.prototype.toString,f=Array.prototype,d=f.map;function v(M){for(var D=[];g(M);)D.push(M.length),M=M[0];return D}function g(M){return u.call(M)==="[object Array]"}function S(M,D){for(var I=[],R=0;R<M;R++){I[R]=[];for(var $=0;$<D;$++)I[R][$]=0}return I}function x(M){for(var D=0,I=0;I<M.length;I++)D+=M[I];return D}function _(M,D){for(var I=0,R=0;R<M.length;R++)I+=M[R][D];return I}function C(M,D){return M>D?1:M<D?-1:M===D?0:NaN}function T(M,D,I,R){for(I==null&&(I=0),R==null&&(R=M.length);I<R;){var $=Math.floor((I+R)/2),N=C(M[$],D);if(N>0)R=$;else if(N<0)I=$+1;else return $+1}return I}function w(M,D,I){if(!!(M&&D)){if(M.map&&M.map===d)return M.map(D,I);for(var R=[],$=0,N=M.length;$<N;$++)R.push(D.call(I,M[$],$,M));return R}}return{size:v,isArray:g,zeros:S,sum:x,sumOfColumn:_,ascending:C,bisect:T,map:w}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){function u(v){return v=v===null?NaN:+v,typeof v=="number"&&!isNaN(v)}function f(v){return isFinite(v)&&v===Math.round(v)}function d(v){if(v===0)return 0;var g=Math.floor(Math.log(v)/Math.LN10);return v/Math.pow(10,g)>=10&&g++,g}return{isNumber:u,isInteger:f,quantityExponent:d}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(2),f=u.dataPreprocess,d=u.normalizeDimensions,v={linear:function(x,_){for(var C=_.dimensions[0],T=_.dimensions[1],w=0,M=0,D=0,I=0,R=x.length,$=0;$<R;$++){var N=x[$];w+=N[C],M+=N[T],D+=N[C]*N[T],I+=N[C]*N[C]}for(var F=(R*D-w*M)/(R*I-w*w),H=M/R-F*w/R,Y=[],G=0;G<x.length;G++){var N=x[G],K=N.slice();K[C]=N[C],K[T]=F*N[C]+H,Y.push(K)}var Z="y = "+Math.round(F*100)/100+"x + "+Math.round(H*100)/100;return{points:Y,parameter:{gradient:F,intercept:H},expression:Z}},linearThroughOrigin:function(x,_){for(var C=_.dimensions[0],T=_.dimensions[1],w=0,M=0,D=0;D<x.length;D++){var I=x[D];w+=I[C]*I[C],M+=I[C]*I[T]}for(var R=M/w,$=[],N=0;N<x.length;N++){var I=x[N],F=I.slice();F[C]=I[C],F[T]=I[C]*R,$.push(F)}var H="y = "+Math.round(R*100)/100+"x";return{points:$,parameter:{gradient:R},expression:H}},exponential:function(x,_){for(var C=_.dimensions[0],T=_.dimensions[1],w=0,M=0,D=0,I=0,R=0,$=0,N=0;N<x.length;N++){var F=x[N];w+=F[C],M+=F[T],$+=F[C]*F[T],D+=F[C]*F[C]*F[T],I+=F[T]*Math.log(F[T]),R+=F[C]*F[T]*Math.log(F[T])}for(var H=M*D-$*$,Y=Math.pow(Math.E,(D*I-$*R)/H),G=(M*R-$*I)/H,K=[],Z=0;Z<x.length;Z++){var F=x[Z],J=F.slice();J[C]=F[C],J[T]=Y*Math.pow(Math.E,G*F[C]),K.push(J)}var Q="y = "+Math.round(Y*100)/100+"e^("+Math.round(G*100)/100+"x)";return{points:K,parameter:{coefficient:Y,index:G},expression:Q}},logarithmic:function(x,_){for(var C=_.dimensions[0],T=_.dimensions[1],w=0,M=0,D=0,I=0,R=0;R<x.length;R++){var $=x[R];w+=Math.log($[C]),M+=$[T]*Math.log($[C]),D+=$[T],I+=Math.pow(Math.log($[C]),2)}for(var N=(R*M-D*w)/(R*I-w*w),F=(D-N*w)/R,H=[],Y=0;Y<x.length;Y++){var $=x[Y],G=$.slice();G[C]=$[C],G[T]=N*Math.log($[C])+F,H.push(G)}var K="y = "+Math.round(F*100)/100+" + "+Math.round(N*100)/100+"ln(x)";return{points:H,parameter:{gradient:N,intercept:F},expression:K}},polynomial:function(x,_){var C=_.dimensions[0],T=_.dimensions[1],w=_.order;w==null&&(w=2);for(var M=[],D=[],I=w+1,R=0;R<I;R++){for(var $=0,N=0;N<x.length;N++){var F=x[N];$+=F[T]*Math.pow(F[C],R)}D.push($);for(var H=[],Y=0;Y<I;Y++){for(var G=0,K=0;K<x.length;K++)G+=Math.pow(x[K][C],R+Y);H.push(G)}M.push(H)}M.push(D);for(var Z=g(M,I),J=[],R=0;R<x.length;R++){for(var Q=0,F=x[R],N=0;N<Z.length;N++)Q+=Z[N]*Math.pow(F[C],N);var te=F.slice();te[C]=F[C],te[T]=Q,J.push(te)}for(var ie="y = ",R=Z.length-1;R>=0;R--)R>1?ie+=Math.round(Z[R]*Math.pow(10,R+1))/Math.pow(10,R+1)+"x^"+R+" + ":R===1?ie+=Math.round(Z[R]*100)/100+"x + ":ie+=Math.round(Z[R]*100)/100;return{points:J,parameter:Z,expression:ie}}};function g(x,_){for(var C=0;C<x.length-1;C++){for(var T=C,w=C+1;w<x.length-1;w++)Math.abs(x[C][w])>Math.abs(x[C][T])&&(T=w);for(var M=C;M<x.length;M++){var D=x[M][C];x[M][C]=x[M][T],x[M][T]=D}for(var I=C+1;I<x.length-1;I++)for(var R=x.length-1;R>=C;R--)x[R][I]-=x[R][C]/x[C][C]*x[C][I]}for(var $=new Array(_),N=x.length-1,w=x.length-2;w>=0;w--){for(var D=0,C=w+1;C<x.length-1;C++)D+=x[C][w]*$[C];$[w]=(x[N][w]-D)/x[w][w]}return $}var S=function(x,_,C){var T=typeof C=="number"?{order:C}:C||{},w=d(T.dimensions,[0,1]),M=f(_,{dimensions:w}),D=v[x](M,{order:T.order,dimensions:w}),I=w[0];return D.points.sort(function(R,$){return R[I]-$[I]}),D};return S}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u={};return u.max=o(7),u.deviation=o(8),u.mean=o(10),u.median=o(12),u.min=o(14),u.quantile=o(13),u.sampleVariance=o(9),u.sum=o(11),u}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(4),f=u.isNumber;function d(v){for(var g=-1/0,S=0;S<v.length;S++)f(v[S])&&v[S]>g&&(g=v[S]);return g}return d}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(9);return function(f){var d=u(f);return d&&Math.sqrt(d)}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(4),f=u.isNumber,d=o(10);function v(g){var S=g.length;if(!S||S<2)return 0;if(g.length>=2){for(var x=d(g),_=0,C,T=0;T<g.length;T++)f(g[T])&&(C=g[T]-x,_+=C*C);return _/(g.length-1)}}return v}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(11);function f(d){var v=d.length;return v?u(d)/d.length:0}return f}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(4),f=u.isNumber;function d(v){var g=v.length;if(!g)return 0;for(var S=0,x=0;x<g;x++)f(v[x])&&(S+=v[x]);return S}return d}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(13);function f(d){return u(d,.5)}return f}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){return function(u,f){var d=u.length;if(!d)return 0;if(f<=0||d<2)return u[0];if(f>=1)return u[d-1];var v=(d-1)*f,g=Math.floor(v),S=u[g],x=u[g+1];return S+(x-S)*(v-g)}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(4),f=u.isNumber;function d(v){for(var g=1/0,S=0;S<v.length;S++)f(v[S])&&v[S]<g&&(g=v[S]);return g}return d}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(7),f=o(14),d=o(13),v=o(8),g=o(2),S=g.dataPreprocess,x=g.normalizeDimensions,_=o(3),C=_.ascending,T=_.map,w=o(16),M=_.bisect,D=o(17);function I($e,N){for(var F=typeof N=="string"?{method:N}:N||{},H=F.method==null?R.squareRoot:R[F.method],Y=x(F.dimensions),G=S($e,{dimensions:Y,toOneDimensionArray:!0}),K=u(G),Z=f(G),J=H(G,Z,K),Q=D(Z,K,J),te=Q.step,ie=Q.toFixedPrecision,ne=w(+(Math.ceil(Z/te)*te).toFixed(ie),+(Math.floor(K/te)*te).toFixed(ie),te,ie),de=ne.length,ve=new Array(de+1),pe=0;pe<=de;pe++)ve[pe]={},ve[pe].sample=[],ve[pe].x0=pe>0?ne[pe-1]:ne[pe]-Z===te?Z:ne[pe]-te,ve[pe].x1=pe<de?ne[pe]:K-ne[pe-1]===te?K:ne[pe-1]+te;for(var pe=0;pe<G.length;pe++)Z<=G[pe]&&G[pe]<=K&&ve[M(ne,G[pe],0,de)].sample.push(G[pe]);var $e=T(ve,function(Ge){return[+((Ge.x0+Ge.x1)/2).toFixed(ie),Ge.sample.length,Ge.x0,Ge.x1,Ge.x0+" - "+Ge.x1]}),Re=T(ve,function(Ge){return[Ge.x0,Ge.x1,Ge.sample.length]});return{bins:ve,data:$e,customData:Re}}var R={squareRoot:function($){var N=Math.ceil(Math.sqrt($.length));return N>50?50:N},scott:function($,N,F){return Math.ceil((F-N)/(3.5*v($)*Math.pow($.length,-1/3)))},freedmanDiaconis:function($,N,F){return $.sort(C),Math.ceil((F-N)/(2*(d($,.75)-d($,.25))*Math.pow($.length,-1/3)))},sturges:function($){return Math.ceil(Math.log($.length)/Math.LN2)+1}};return I}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(2),f=u.getPrecision;return function(d,v,g,S){var x=arguments.length;x<2?(v=d,d=0,g=1):x<3?g=1:x<4?(g=+g,S=f(g)):S=+S;for(var _=Math.ceil(((v-d)/g).toFixed(S)),C=new Array(_+1),T=0;T<_+1;T++)C[T]=+(d+T*g).toFixed(S);return C}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(4);return function(f,d,v){var g=Math.abs(d-f)/v,S=u.quantityExponent(g),x=Math.pow(10,S),_=g/x;_>=Math.sqrt(50)?x*=10:_>=Math.sqrt(10)?x*=5:_>=Math.sqrt(2)&&(x*=2);var C=S<0?-S:0,T=+(d>=f?x:-x).toFixed(C);return{step:T,toFixedPrecision:C}}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(5),f=o(19),d=2;return{type:"ecStat:regression",transform:function(g){var S=g.upstream,x=g.config||{},_=x.method||"linear",C=u(_,S.cloneRawData(),{order:x.order,dimensions:f.normalizeExistingDimensions(g,x.dimensions)}),T=C.points,w=x.formulaOn;w==null&&(w="end");var M;if(w!=="none"){for(var D=0;D<T.length;D++)T[D][d]=w==="start"&&D===0||w==="all"||w==="end"&&D===T.length-1?C.expression:"";M=S.cloneAllDimensionInfo(),M[d]={}}return[{dimensions:M,data:T}]}}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(3),f=o(4),d=o(20);function v(S,x){if(x==null)return;var _=S.upstream;if(u.isArray(x)){for(var C=[],T=0;T<x.length;T++){var w=_.getDimensionInfo(x[T]);M(w,x[T]),C[T]=w.index}return C}else{var w=_.getDimensionInfo(x);return M(w,x),w.index}function M(D,I){if(!D)throw new Error("Can not find dimension by "+I)}}function g(S){if(u.isArray(S)){for(var x=[],_=[],C=0;C<S.length;C++){var T=w(S[C]);x.push(T.name),_.push(T.index)}return{name:x,index:_}}else if(S!=null)return w(S);function w(M){if(f.isNumber(M))return{index:M};if(d.isObject(M)&&f.isNumber(M.index))return M;throw new Error("Illegle new dimensions config. Expect `{ name: string, index: number }`.")}}return{normalizeExistingDimensions:v,normalizeNewDimensions:g}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){function u(d,v){if(Object.assign)Object.assign(d,v);else for(var g in v)v.hasOwnProperty(g)&&(d[g]=v[g]);return d}function f(d){const v=typeof d;return v==="function"||!!d&&v==="object"}return{extend:u,isObject:f}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(15),f=o(19);return{type:"ecStat:histogram",transform:function(v){var g=v.upstream,S=v.config||{},x=u(g.cloneRawData(),{method:S.method,dimensions:f.normalizeExistingDimensions(v,S.dimensions)});return[{dimensions:["MeanOfV0V1","VCount","V0","V1","DisplayableName"],data:x.data},{data:x.customData}]}}}.call(a,o,a,n),s!==void 0&&(n.exports=s)},function(n,a,o){var s;s=function(l){var u=o(1),f=o(4),d=o(19),v=f.isNumber;return{type:"ecStat:clustering",transform:function(S){var x=S.upstream,_=S.config||{},C=_.clusterCount;if(!v(C)||C<=0)throw new Error('config param "clusterCount" need to be specified as an interger greater than 1.');if(C===1)return[{},{data:[]}];var T=d.normalizeNewDimensions(_.outputClusterIndexDimension),w=d.normalizeNewDimensions(_.outputCentroidDimensions);if(T==null)throw new Error("outputClusterIndexDimension is required as a number.");for(var M=u.hierarchicalKMeans(x.cloneRawData(),{clusterCount:C,stepByStep:!1,dimensions:d.normalizeExistingDimensions(S,_.dimensions),outputType:u.OutputType.SINGLE,outputClusterIndexDimension:T.index,outputCentroidDimensions:(w||{}).index}),D=x.cloneAllDimensionInfo(),I=[],R=0;R<D.length;R++){var $=D[R];I.push($.name)}if(I[T.index]=T.name,w)for(var R=0;R<w.index.length;R++)w.name[R]!=null&&(I[w.index[R]]=w.name[R]);return[{dimensions:I,data:M.data},{data:M.centroids}]}}}.call(a,o,a,n),s!==void 0&&(n.exports=s)}])})})(ecStat);const util={},ROOT_PATH="https://fastly.jsdelivr.net/gh/apache/echarts-website@asf-site/examples";function fetchExampleCode(name,instance){const fullPath=`${ROOT_PATH}/examples/js/${name}.js`;return new Promise((resolve,reject)=>{fetch(fullPath,{method:"GET"}).then(async res=>{var r,t,n;if(res.ok){const text=await res.text();var option=null;try{eval(text),(r=util.message)==null||r.success("Load succeed."),resolve(option)}catch(a){const o="Unsupported chart, try to use another chart.";(t=util.message)==null||t.error(o),reject(o)}}else{const a=`Invalid code or link: '${name}'.`;(n=util.message)==null||n.error(a),reject(new Error(a))}}).catch(r=>{var t;(t=util.message)==null||t.error("Unkown error, try again or contact us."),reject(r)})})}const config=ref({});function setConfig(r){config.value=r}const option=ref({});function setOption(r){option.value=r}function useOption(){return{option,setOption}}const _hoisted_1$3={class:"border-1px border-solid border-#6b72801c",style:{height:"calc(100vh - 1rem)"}},_sfc_main$4=defineComponent({props:{name:null},setup(r){const t=r,{setOption:n}=useOption(),a=ref(!1),o=ref(null),s=ref({}),l={silent:!1,notMerge:!0},{darkMode:u,color:f,backgroundColor:d}=useDarkMode();let v;watch(()=>t.name,S=>g(S));function g(S){if(S.startsWith("http")){const x="?c=";S=S.substring(S.indexOf(x)+x.length,S.length)}S!==""&&(clearTimeout(v),a.value=!1,v=setTimeout(()=>{a.value=!0,fetchExampleCode(S,o.value).then(x=>{x=defu(x,config.value),s.value=x,n(x),a.value=!1,clearTimeout(v)}).catch(()=>{a.value=!1,clearTimeout(v)})},1e3))}return(S,x)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode$1(unref(U),{ref_key:"chartRef",ref:o,option:s.value,autoresize:"","update-options":l,loading:a.value,"loading-options":{text:"Fetching...",color:unref(f),textColor:unref(f),maskColor:unref(d),fontSize:"1rem",lineWidth:2},theme:unref(u)?"dark":"light",style:{height:"100%"}},null,8,["option","loading","loading-options","theme"])]))}});var ConfigChart_vue_vue_type_style_index_0_scoped_true_lang="",_export_sfc=(r,t)=>{const n=r.__vccOpts||r;for(const[a,o]of t)n[a]=o;return n};const _hoisted_1$2={"mt-10px":"",style:{"border-left":"1px dotted gray"}},_sfc_main$3=defineComponent({props:{root:null},setup(r){const t=r;function n(l){return l!==null&&typeof l=="object"}const a=Object.keys(t.root).length,o=ref(Array(a).fill(!1));function s(l){return l?"":"icon-rotate"}return(l,u)=>{const f=resolveComponent("config-chart",!0);return openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(r.root),(d,v)=>(openBlock(),createElementBlock("div",{key:d,"p-1rem":""},[Object.is(Number(d),NaN)?(openBlock(),createBlock(unref(NButton),{key:0,secondary:"",strong:"",size:"small",type:"success",onClick:g=>o.value[v]=!o.value[v]},{default:withCtx(()=>[createTextVNode(toDisplayString(d)+" ",1),createBaseVNode("span",{class:normalizeClass([s(o.value[v]),"i-carbon-caret-down ml-0.3rem transition-transform duration-250ms"])},null,2)]),_:2},1032,["onClick"])):createCommentVNode("",!0),withDirectives(createBaseVNode("div",_hoisted_1$2,[Array.isArray(r.root[d])?(openBlock(),createElementBlock(Fragment,{key:0},[n(r.root[d][0])?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(r.root[d],(g,S)=>(openBlock(),createElementBlock(Fragment,{key:S},[createVNode$1(unref(NDivider),{dashed:"",class:"ml-0.5rem"},{default:withCtx(()=>[createTextVNode(toDisplayString(`${d}[${S}]`),1)]),_:2},1024),createVNode$1(f,{root:r.root[d][S]},null,8,["root"])],64))),128)):(openBlock(),createBlock(unref(NInputGroup),{key:0},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.root[d],(g,S)=>(openBlock(),createBlock(unref(NInput),{key:`${d}-${S}`,value:r.root[d][S],"onUpdate:value":x=>r.root[d][S]=x},null,8,["value","onUpdate:value"]))),128))]),_:2},1024))],64)):typeof r.root[d]=="object"?(openBlock(),createBlock(f,{key:1,root:r.root[d]},null,8,["root"])):(openBlock(),createElementBlock(Fragment,{key:2},[d.toLowerCase().includes("color")?(openBlock(),createBlock(unref(NColorPicker),{key:0,value:r.root[d],"onUpdate:value":g=>r.root[d]=g,modes:["hex"],"show-preview":"","w-15rem":""},null,8,["value","onUpdate:value"])):typeof r.root[d]=="boolean"?(openBlock(),createBlock(unref(NSwitch),{key:1,value:r.root[d]},null,8,["value"])):typeof r.root[d]=="string"?(openBlock(),createBlock(unref(NInput),{key:2,value:r.root[d],"onUpdate:value":g=>r.root[d]=g},null,8,["value","onUpdate:value"])):typeof r.root[d]=="number"?(openBlock(),createBlock(unref(NInputNumber),{key:3,value:r.root[d],"onUpdate:value":g=>r.root[d]=g},null,8,["value","onUpdate:value"])):(openBlock(),createBlock(unref(NInput),{key:4,value:r.root[d],"onUpdate:value":g=>r.root[d]=g},null,8,["value","onUpdate:value"]))],64))],512),[[vShow,o.value[v]]])]))),128)}}});var ConfigChart=_export_sfc(_sfc_main$3,[["__scopeId","data-v-534761f7"]]),index="";const helpContent=createVNode$1("div",{className:"help-content-root"},[createVNode$1(NCarousel,{showArrow:!0,draggable:!0,"show-dots":!0,spaceBetween:20},{default:()=>[createVNode$1("div",null,[createVNode$1("h3",null,[createTextVNode("Drag images into input(1/2)")]),createVNode$1("img",{src:"https://s1.ax1x.com/2022/05/22/Ozvx5F.jpg",className:"helpImage"},null)]),createVNode$1("div",null,[createVNode$1("h3",null,[createTextVNode("Type code is okay too(2/2)")]),createVNode$1("img",{src:"https://s1.ax1x.com/2022/05/22/OzxCvR.jpg",className:"helpImage"},null)])]})]),_hoisted_1$1={flex:"","w-5em":"","justify-evenly":""},_sfc_main$2=defineComponent({setup(r){const{darkMode:t,toggleDarkMode:n,color:a}=useDarkMode(),o=useDialog();function s(){o.info({title:"How to use?",content:()=>helpContent,style:{width:"60%",height:"60%"}})}return(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",{"icon-btn":"",class:normalizeClass(unref(t)?"i-carbon-moon":"i-carbon-sun"),onClick:u[0]||(u[0]=(...f)=>unref(n)&&unref(n)(...f))},null,2),createBaseVNode("a",{"icon-btn":"","i-carbon-logo-github":"",href:"https://github.com/Cheng-DX/vue-make-chart",style:normalizeStyle$1({color:unref(a)})},null,4),createBaseVNode("div",{"icon-btn":"","i-carbon-help":"",onClick:s})]))}});var Main_vue_vue_type_style_index_0_scoped_true_lang="";const _withScopeId=r=>(pushScopeId("data-v-31d0e952"),r=r(),popScopeId(),r),_hoisted_1={class:"flex min-h-100vh root"},_hoisted_2={flex:"","flex-col":"","max-h-100vh":"","wp-50":"",class:"panel"},_hoisted_3=_withScopeId(()=>createBaseVNode("div",{class:"title"},[createBaseVNode("span",null,"Code or link")],-1)),_hoisted_4=_withScopeId(()=>createBaseVNode("div",{class:"title"},[createBaseVNode("span",null,"Config")],-1)),_hoisted_5={class:"flex-1 overflow-y-auto p-0.3rem m-1rem border-1px border-solid border-#6b72801c"},_hoisted_6={flex:"","flex-col":"","max-h-100vh":"","wp-50":"",class:"panel"},_hoisted_7={"justify-between":"",class:"title"},_hoisted_8=_withScopeId(()=>createBaseVNode("span",null,"Preview",-1)),_sfc_main$1=defineComponent({setup(r){util.message=useMessage(),util.dialog=useDialog();const{color:t}=useDarkMode(),n=ref(""),{option:a}=useOption();function o(s){s instanceof InputEvent&&(s==null?void 0:s.data.length)>1&&(n.value="")}return(s,l)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[_hoisted_3,createVNode$1(unref(NInput),{value:n.value,"onUpdate:value":l[0]||(l[0]=u=>n.value=u),placeholder:"Type code or link...",style:normalizeStyle$1([{color:unref(t)},{width:"calc(100% - 2.3rem)"}]),class:"p-0.3rem m-1rem text-1rem",onBeforeinput:o},null,8,["value","style"]),_hoisted_4,createBaseVNode("div",_hoisted_5,[createVNode$1(ConfigChart,{root:unref(a)},null,8,["root"])])]),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[_hoisted_8,createVNode$1(_sfc_main$2)]),createVNode$1(_sfc_main$4,{name:n.value,class:"p-0.3rem m-1rem"},null,8,["name"])])]))}});var Main=_export_sfc(_sfc_main$1,[["__scopeId","data-v-31d0e952"]]);const _sfc_main=defineComponent({setup(r){const{darkMode:t,color:n,backgroundColor:a}=useDarkMode();return(o,s)=>(openBlock(),createBlock(unref(NConfigProvider),{theme:unref(t)?unref(darkTheme$1):null},{default:withCtx(()=>[createVNode$1(unref(NMessageProvider),{placement:"bottom-left"},{default:withCtx(()=>[createVNode$1(unref(NDialogProvider),null,{default:withCtx(()=>[createVNode$1(Main,{style:normalizeStyle$1({backgroundColor:unref(a),color:unref(n)})},null,8,["style"])]),_:1})]),_:1})]),_:1},8,["theme"]))}});var __uno="";setConfig({toolbox:{show:!0,feature:{restore:{show:!0},saveAsImage:{show:!0,type:"png",pixelRatio:5}}},backgroundColor:"transparent"});const app=createApp(_sfc_main);app.mount("#app")});export default ba();
